import {
  Buffer as Buffer2,
  INSPECT_MAX_BYTES,
  esm_default,
  esm_exports,
  init_buffer,
  init_esm,
  kMaxLength,
  require_crypto
} from "/build/_shared/chunk-7PSQEEMX.js";
import {
  ne,
  p,
  se,
  y
} from "/build/_shared/chunk-DMHNC7M5.js";
import {
  PROVIDER_ID,
  Recoil_index_5,
  WalletProvider,
  useInitializeProviders
} from "/build/_shared/chunk-V7MC4E7F.js";
import {
  getAlgodConfigFromEnvironment,
  getEnv
} from "/build/_shared/chunk-NIAAYOWA.js";
import {
  Links,
  LiveReload,
  Meta,
  Outlet,
  Scripts,
  ScrollRestoration,
  useLoaderData
} from "/build/_shared/chunk-BODZSRRX.js";
import "/build/_shared/chunk-ATRQC2ZO.js";
import {
  require_jsx_dev_runtime
} from "/build/_shared/chunk-FGAZNT4N.js";
import {
  createHotContext
} from "/build/_shared/chunk-WBJQR5K3.js";
import "/build/_shared/chunk-QJQJJ6FU.js";
import "/build/_shared/chunk-JM3EFX3L.js";
import {
  __commonJS,
  __esm,
  __export,
  __reExport,
  __require,
  __toCommonJS,
  __toESM
} from "/build/_shared/chunk-MYHRZK7S.js";

// node_modules/.pnpm/@walletconnect+window-getters@1.0.0/node_modules/@walletconnect/window-getters/dist/cjs/index.js
var require_cjs = __commonJS({
  "node_modules/.pnpm/@walletconnect+window-getters@1.0.0/node_modules/@walletconnect/window-getters/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.getLocalStorage = exports2.getLocalStorageOrThrow = exports2.getCrypto = exports2.getCryptoOrThrow = exports2.getLocation = exports2.getLocationOrThrow = exports2.getNavigator = exports2.getNavigatorOrThrow = exports2.getDocument = exports2.getDocumentOrThrow = exports2.getFromWindowOrThrow = exports2.getFromWindow = void 0;
    function getFromWindow2(name3) {
      let res = void 0;
      if (typeof window !== "undefined" && typeof window[name3] !== "undefined") {
        res = window[name3];
      }
      return res;
    }
    exports2.getFromWindow = getFromWindow2;
    function getFromWindowOrThrow2(name3) {
      const res = getFromWindow2(name3);
      if (!res) {
        throw new Error(`${name3} is not defined in Window`);
      }
      return res;
    }
    exports2.getFromWindowOrThrow = getFromWindowOrThrow2;
    function getDocumentOrThrow2() {
      return getFromWindowOrThrow2("document");
    }
    exports2.getDocumentOrThrow = getDocumentOrThrow2;
    function getDocument2() {
      return getFromWindow2("document");
    }
    exports2.getDocument = getDocument2;
    function getNavigatorOrThrow2() {
      return getFromWindowOrThrow2("navigator");
    }
    exports2.getNavigatorOrThrow = getNavigatorOrThrow2;
    function getNavigator3() {
      return getFromWindow2("navigator");
    }
    exports2.getNavigator = getNavigator3;
    function getLocationOrThrow2() {
      return getFromWindowOrThrow2("location");
    }
    exports2.getLocationOrThrow = getLocationOrThrow2;
    function getLocation3() {
      return getFromWindow2("location");
    }
    exports2.getLocation = getLocation3;
    function getCryptoOrThrow2() {
      return getFromWindowOrThrow2("crypto");
    }
    exports2.getCryptoOrThrow = getCryptoOrThrow2;
    function getCrypto2() {
      return getFromWindow2("crypto");
    }
    exports2.getCrypto = getCrypto2;
    function getLocalStorageOrThrow2() {
      return getFromWindowOrThrow2("localStorage");
    }
    exports2.getLocalStorageOrThrow = getLocalStorageOrThrow2;
    function getLocalStorage3() {
      return getFromWindow2("localStorage");
    }
    exports2.getLocalStorage = getLocalStorage3;
  }
});

// node_modules/.pnpm/@walletconnect+window-metadata@1.0.0/node_modules/@walletconnect/window-metadata/dist/cjs/index.js
var require_cjs2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+window-metadata@1.0.0/node_modules/@walletconnect/window-metadata/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.getWindowMetadata = void 0;
    var window_getters_1 = require_cjs();
    function getWindowMetadata2() {
      let doc;
      let loc;
      try {
        doc = window_getters_1.getDocumentOrThrow();
        loc = window_getters_1.getLocationOrThrow();
      } catch (e2) {
        return null;
      }
      function getIcons() {
        const links2 = doc.getElementsByTagName("link");
        const icons2 = [];
        for (let i3 = 0; i3 < links2.length; i3++) {
          const link = links2[i3];
          const rel = link.getAttribute("rel");
          if (rel) {
            if (rel.toLowerCase().indexOf("icon") > -1) {
              const href = link.getAttribute("href");
              if (href) {
                if (href.toLowerCase().indexOf("https:") === -1 && href.toLowerCase().indexOf("http:") === -1 && href.indexOf("//") !== 0) {
                  let absoluteHref = loc.protocol + "//" + loc.host;
                  if (href.indexOf("/") === 0) {
                    absoluteHref += href;
                  } else {
                    const path = loc.pathname.split("/");
                    path.pop();
                    const finalPath = path.join("/");
                    absoluteHref += finalPath + "/" + href;
                  }
                  icons2.push(absoluteHref);
                } else if (href.indexOf("//") === 0) {
                  const absoluteUrl = loc.protocol + href;
                  icons2.push(absoluteUrl);
                } else {
                  icons2.push(href);
                }
              }
            }
          }
        }
        return icons2;
      }
      function getWindowMetadataOfAny(...args) {
        const metaTags = doc.getElementsByTagName("meta");
        for (let i3 = 0; i3 < metaTags.length; i3++) {
          const tag = metaTags[i3];
          const attributes = ["itemprop", "property", "name"].map((target) => tag.getAttribute(target)).filter((attr) => {
            if (attr) {
              return args.includes(attr);
            }
            return false;
          });
          if (attributes.length && attributes) {
            const content2 = tag.getAttribute("content");
            if (content2) {
              return content2;
            }
          }
        }
        return "";
      }
      function getName() {
        let name4 = getWindowMetadataOfAny("name", "og:site_name", "og:title", "twitter:title");
        if (!name4) {
          name4 = doc.title;
        }
        return name4;
      }
      function getDescription() {
        const description2 = getWindowMetadataOfAny("description", "og:description", "twitter:description", "keywords");
        return description2;
      }
      const name3 = getName();
      const description = getDescription();
      const url = loc.origin;
      const icons = getIcons();
      const meta = {
        description,
        url,
        icons,
        name: name3
      };
      return meta;
    }
    exports2.getWindowMetadata = getWindowMetadata2;
  }
});

// node_modules/.pnpm/detect-browser@5.2.0/node_modules/detect-browser/es/index.js
function detect(userAgent) {
  if (!!userAgent) {
    return parseUserAgent(userAgent);
  }
  if (typeof document === "undefined" && typeof navigator !== "undefined" && navigator.product === "ReactNative") {
    return new ReactNativeInfo();
  }
  if (typeof navigator !== "undefined") {
    return parseUserAgent(navigator.userAgent);
  }
  return getNodeVersion();
}
function matchUserAgent(ua) {
  return ua !== "" && userAgentRules.reduce(function(matched, _a) {
    var browser = _a[0], regex = _a[1];
    if (matched) {
      return matched;
    }
    var uaMatch = regex.exec(ua);
    return !!uaMatch && [browser, uaMatch];
  }, false);
}
function parseUserAgent(ua) {
  var matchedRule = matchUserAgent(ua);
  if (!matchedRule) {
    return null;
  }
  var name3 = matchedRule[0], match = matchedRule[1];
  if (name3 === "searchbot") {
    return new BotInfo();
  }
  var versionParts = match[1] && match[1].split(/[._]/).slice(0, 3);
  if (versionParts) {
    if (versionParts.length < REQUIRED_VERSION_PARTS) {
      versionParts = __spreadArrays(versionParts, createVersionParts(REQUIRED_VERSION_PARTS - versionParts.length));
    }
  } else {
    versionParts = [];
  }
  var version2 = versionParts.join(".");
  var os3 = detectOS(ua);
  var searchBotMatch = SEARCHBOT_OS_REGEX.exec(ua);
  if (searchBotMatch && searchBotMatch[1]) {
    return new SearchBotDeviceInfo(name3, version2, os3, searchBotMatch[1]);
  }
  return new BrowserInfo(name3, version2, os3);
}
function detectOS(ua) {
  for (var ii = 0, count = operatingSystemRules.length; ii < count; ii++) {
    var _a = operatingSystemRules[ii], os3 = _a[0], regex = _a[1];
    var match = regex.exec(ua);
    if (match) {
      return os3;
    }
  }
  return null;
}
function getNodeVersion() {
  var isNode3 = typeof process !== "undefined" && process.version;
  return isNode3 ? new NodeInfo(process.version.slice(1)) : null;
}
function createVersionParts(count) {
  var output = [];
  for (var ii = 0; ii < count; ii++) {
    output.push("0");
  }
  return output;
}
var __spreadArrays, BrowserInfo, NodeInfo, SearchBotDeviceInfo, BotInfo, ReactNativeInfo, SEARCHBOX_UA_REGEX, SEARCHBOT_OS_REGEX, REQUIRED_VERSION_PARTS, userAgentRules, operatingSystemRules;
var init_es = __esm({
  "node_modules/.pnpm/detect-browser@5.2.0/node_modules/detect-browser/es/index.js"() {
    __spreadArrays = function() {
      for (var s2 = 0, i3 = 0, il = arguments.length; i3 < il; i3++)
        s2 += arguments[i3].length;
      for (var r3 = Array(s2), k3 = 0, i3 = 0; i3 < il; i3++)
        for (var a4 = arguments[i3], j4 = 0, jl = a4.length; j4 < jl; j4++, k3++)
          r3[k3] = a4[j4];
      return r3;
    };
    BrowserInfo = /** @class */
    function() {
      function BrowserInfo3(name3, version2, os3) {
        this.name = name3;
        this.version = version2;
        this.os = os3;
        this.type = "browser";
      }
      return BrowserInfo3;
    }();
    NodeInfo = /** @class */
    function() {
      function NodeInfo3(version2) {
        this.version = version2;
        this.type = "node";
        this.name = "node";
        this.os = process.platform;
      }
      return NodeInfo3;
    }();
    SearchBotDeviceInfo = /** @class */
    function() {
      function SearchBotDeviceInfo3(name3, version2, os3, bot) {
        this.name = name3;
        this.version = version2;
        this.os = os3;
        this.bot = bot;
        this.type = "bot-device";
      }
      return SearchBotDeviceInfo3;
    }();
    BotInfo = /** @class */
    function() {
      function BotInfo3() {
        this.type = "bot";
        this.bot = true;
        this.name = "bot";
        this.version = null;
        this.os = null;
      }
      return BotInfo3;
    }();
    ReactNativeInfo = /** @class */
    function() {
      function ReactNativeInfo3() {
        this.type = "react-native";
        this.name = "react-native";
        this.version = null;
        this.os = null;
      }
      return ReactNativeInfo3;
    }();
    SEARCHBOX_UA_REGEX = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;
    SEARCHBOT_OS_REGEX = /(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/;
    REQUIRED_VERSION_PARTS = 3;
    userAgentRules = [
      ["aol", /AOLShield\/([0-9\._]+)/],
      ["edge", /Edge\/([0-9\._]+)/],
      ["edge-ios", /EdgiOS\/([0-9\._]+)/],
      ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
      ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
      ["samsung", /SamsungBrowser\/([0-9\.]+)/],
      ["silk", /\bSilk\/([0-9._-]+)\b/],
      ["miui", /MiuiBrowser\/([0-9\.]+)$/],
      ["beaker", /BeakerBrowser\/([0-9\.]+)/],
      ["edge-chromium", /EdgA?\/([0-9\.]+)/],
      [
        "chromium-webview",
        /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/
      ],
      ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
      ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
      ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
      ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
      ["fxios", /FxiOS\/([0-9\.]+)/],
      ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
      ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
      ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
      ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
      ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
      ["ie", /MSIE\s(7\.0)/],
      ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
      ["android", /Android\s([0-9\.]+)/],
      ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
      ["safari", /Version\/([0-9\._]+).*Safari/],
      ["facebook", /FBAV\/([0-9\.]+)/],
      ["instagram", /Instagram\s([0-9\.]+)/],
      ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
      ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
      ["searchbot", SEARCHBOX_UA_REGEX]
    ];
    operatingSystemRules = [
      ["iOS", /iP(hone|od|ad)/],
      ["Android OS", /Android/],
      ["BlackBerry OS", /BlackBerry|BB10/],
      ["Windows Mobile", /IEMobile/],
      ["Amazon OS", /Kindle/],
      ["Windows 3.11", /Win16/],
      ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
      ["Windows 98", /(Windows 98)|(Win98)/],
      ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
      ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
      ["Windows Server 2003", /(Windows NT 5.2)/],
      ["Windows Vista", /(Windows NT 6.0)/],
      ["Windows 7", /(Windows NT 6.1)/],
      ["Windows 8", /(Windows NT 6.2)/],
      ["Windows 8.1", /(Windows NT 6.3)/],
      ["Windows 10", /(Windows NT 10.0)/],
      ["Windows ME", /Windows ME/],
      ["Open BSD", /OpenBSD/],
      ["Sun OS", /SunOS/],
      ["Chrome OS", /CrOS/],
      ["Linux", /(Linux)|(X11)/],
      ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
      ["QNX", /QNX/],
      ["BeOS", /BeOS/],
      ["OS/2", /OS\/2/]
    ];
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/browser.js
function detectEnv(userAgent) {
  return detect(userAgent);
}
function detectOS2() {
  const env3 = detectEnv();
  return env3 && env3.os ? env3.os : void 0;
}
function isAndroid() {
  const os3 = detectOS2();
  return os3 ? os3.toLowerCase().includes("android") : false;
}
function isIOS() {
  const os3 = detectOS2();
  return os3 ? os3.toLowerCase().includes("ios") || os3.toLowerCase().includes("mac") && navigator.maxTouchPoints > 1 : false;
}
function isMobile() {
  const os3 = detectOS2();
  return os3 ? isAndroid() || isIOS() : false;
}
function isNode() {
  const env3 = detectEnv();
  const result = env3 && env3.name ? env3.name.toLowerCase() === "node" : false;
  return result;
}
function isBrowser() {
  const result = !isNode() && !!getNavigator2();
  return result;
}
function getClientMeta() {
  return windowMetadata.getWindowMetadata();
}
var windowMetadata, windowGetters, getNavigator2, getLocation2, getLocalStorage2;
var init_browser = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/browser.js"() {
    windowMetadata = __toESM(require_cjs2());
    windowGetters = __toESM(require_cjs());
    init_es();
    getNavigator2 = windowGetters.getNavigator;
    getLocation2 = windowGetters.getLocation;
    getLocalStorage2 = windowGetters.getLocalStorage;
  }
});

// node_modules/.pnpm/@walletconnect+safe-json@1.0.0/node_modules/@walletconnect/safe-json/dist/esm/index.js
function safeJsonParse(value2) {
  if (typeof value2 !== "string") {
    throw new Error(`Cannot safe json parse value of type ${typeof value2}`);
  }
  try {
    return JSON.parse(value2);
  } catch (_a) {
    return value2;
  }
}
function safeJsonStringify(value2) {
  return typeof value2 === "string" ? value2 : JSON.stringify(value2);
}
var init_esm2 = __esm({
  "node_modules/.pnpm/@walletconnect+safe-json@1.0.0/node_modules/@walletconnect/safe-json/dist/esm/index.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/json.js
var safeJsonParse2, safeJsonStringify2;
var init_json = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/json.js"() {
    init_esm2();
    safeJsonParse2 = safeJsonParse;
    safeJsonStringify2 = safeJsonStringify;
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/local.js
function setLocal(key2, data2) {
  const raw = safeJsonStringify2(data2);
  const local = getLocalStorage2();
  if (local) {
    local.setItem(key2, raw);
  }
}
function getLocal(key2) {
  let data2 = null;
  let raw = null;
  const local = getLocalStorage2();
  if (local) {
    raw = local.getItem(key2);
  }
  data2 = raw ? safeJsonParse2(raw) : raw;
  return data2;
}
function removeLocal(key2) {
  const local = getLocalStorage2();
  if (local) {
    local.removeItem(key2);
  }
}
var init_local = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/local.js"() {
    init_json();
    init_browser();
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/mobile.js
var mobileLinkChoiceKey;
var init_mobile = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/mobile.js"() {
    init_local();
    mobileLinkChoiceKey = "WALLETCONNECT_DEEPLINK_CHOICE";
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/registry.js
var init_registry = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/registry.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/index.js
var init_esm3 = __esm({
  "node_modules/.pnpm/@walletconnect+browser-utils@1.8.0/node_modules/@walletconnect/browser-utils/dist/esm/index.js"() {
    init_browser();
    init_json();
    init_local();
    init_mobile();
    init_registry();
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/constants.js
var reservedEvents, signingMethods;
var init_constants = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/constants.js"() {
    reservedEvents = [
      "session_request",
      "session_update",
      "exchange_key",
      "connect",
      "disconnect",
      "display_uri",
      "modal_closed",
      "transport_open",
      "transport_close",
      "transport_error"
    ];
    signingMethods = [
      "eth_sendTransaction",
      "eth_signTransaction",
      "eth_sign",
      "eth_signTypedData",
      "eth_signTypedData_v1",
      "eth_signTypedData_v2",
      "eth_signTypedData_v3",
      "eth_signTypedData_v4",
      "personal_sign",
      "wallet_addEthereumChain",
      "wallet_switchEthereumChain",
      "wallet_getPermissions",
      "wallet_requestPermissions",
      "wallet_registerOnboarding",
      "wallet_watchAsset",
      "wallet_scanQRCode"
    ];
  }
});

// node-modules-polyfills-empty:buffer
var require_buffer = __commonJS({
  "node-modules-polyfills-empty:buffer"(exports2, module2) {
    module2.exports = {};
  }
});

// node_modules/.pnpm/bn.js@4.11.8/node_modules/bn.js/lib/bn.js
var require_bn = __commonJS({
  "node_modules/.pnpm/bn.js@4.11.8/node_modules/bn.js/lib/bn.js"(exports2, module2) {
    (function(module3, exports3) {
      "use strict";
      function assert2(val2, msg) {
        if (!val2)
          throw new Error(msg || "Assertion failed");
      }
      function inherits(ctor, superCtor) {
        ctor.super_ = superCtor;
        var TempCtor = function() {
        };
        TempCtor.prototype = superCtor.prototype;
        ctor.prototype = new TempCtor();
        ctor.prototype.constructor = ctor;
      }
      function BN2(number, base3, endian) {
        if (BN2.isBN(number)) {
          return number;
        }
        this.negative = 0;
        this.words = null;
        this.length = 0;
        this.red = null;
        if (number !== null) {
          if (base3 === "le" || base3 === "be") {
            endian = base3;
            base3 = 10;
          }
          this._init(number || 0, base3 || 10, endian || "be");
        }
      }
      if (typeof module3 === "object") {
        module3.exports = BN2;
      } else {
        exports3.BN = BN2;
      }
      BN2.BN = BN2;
      BN2.wordSize = 26;
      var Buffer3;
      try {
        Buffer3 = require_buffer().Buffer;
      } catch (e2) {
      }
      BN2.isBN = function isBN(num) {
        if (num instanceof BN2) {
          return true;
        }
        return num !== null && typeof num === "object" && num.constructor.wordSize === BN2.wordSize && Array.isArray(num.words);
      };
      BN2.max = function max(left, right) {
        if (left.cmp(right) > 0)
          return left;
        return right;
      };
      BN2.min = function min(left, right) {
        if (left.cmp(right) < 0)
          return left;
        return right;
      };
      BN2.prototype._init = function init2(number, base3, endian) {
        if (typeof number === "number") {
          return this._initNumber(number, base3, endian);
        }
        if (typeof number === "object") {
          return this._initArray(number, base3, endian);
        }
        if (base3 === "hex") {
          base3 = 16;
        }
        assert2(base3 === (base3 | 0) && base3 >= 2 && base3 <= 36);
        number = number.toString().replace(/\s+/g, "");
        var start = 0;
        if (number[0] === "-") {
          start++;
        }
        if (base3 === 16) {
          this._parseHex(number, start);
        } else {
          this._parseBase(number, base3, start);
        }
        if (number[0] === "-") {
          this.negative = 1;
        }
        this.strip();
        if (endian !== "le")
          return;
        this._initArray(this.toArray(), base3, endian);
      };
      BN2.prototype._initNumber = function _initNumber(number, base3, endian) {
        if (number < 0) {
          this.negative = 1;
          number = -number;
        }
        if (number < 67108864) {
          this.words = [number & 67108863];
          this.length = 1;
        } else if (number < 4503599627370496) {
          this.words = [
            number & 67108863,
            number / 67108864 & 67108863
          ];
          this.length = 2;
        } else {
          assert2(number < 9007199254740992);
          this.words = [
            number & 67108863,
            number / 67108864 & 67108863,
            1
          ];
          this.length = 3;
        }
        if (endian !== "le")
          return;
        this._initArray(this.toArray(), base3, endian);
      };
      BN2.prototype._initArray = function _initArray(number, base3, endian) {
        assert2(typeof number.length === "number");
        if (number.length <= 0) {
          this.words = [0];
          this.length = 1;
          return this;
        }
        this.length = Math.ceil(number.length / 3);
        this.words = new Array(this.length);
        for (var i3 = 0; i3 < this.length; i3++) {
          this.words[i3] = 0;
        }
        var j4, w4;
        var off = 0;
        if (endian === "be") {
          for (i3 = number.length - 1, j4 = 0; i3 >= 0; i3 -= 3) {
            w4 = number[i3] | number[i3 - 1] << 8 | number[i3 - 2] << 16;
            this.words[j4] |= w4 << off & 67108863;
            this.words[j4 + 1] = w4 >>> 26 - off & 67108863;
            off += 24;
            if (off >= 26) {
              off -= 26;
              j4++;
            }
          }
        } else if (endian === "le") {
          for (i3 = 0, j4 = 0; i3 < number.length; i3 += 3) {
            w4 = number[i3] | number[i3 + 1] << 8 | number[i3 + 2] << 16;
            this.words[j4] |= w4 << off & 67108863;
            this.words[j4 + 1] = w4 >>> 26 - off & 67108863;
            off += 24;
            if (off >= 26) {
              off -= 26;
              j4++;
            }
          }
        }
        return this.strip();
      };
      function parseHex(str, start, end) {
        var r3 = 0;
        var len = Math.min(str.length, end);
        for (var i3 = start; i3 < len; i3++) {
          var c3 = str.charCodeAt(i3) - 48;
          r3 <<= 4;
          if (c3 >= 49 && c3 <= 54) {
            r3 |= c3 - 49 + 10;
          } else if (c3 >= 17 && c3 <= 22) {
            r3 |= c3 - 17 + 10;
          } else {
            r3 |= c3 & 15;
          }
        }
        return r3;
      }
      BN2.prototype._parseHex = function _parseHex(number, start) {
        this.length = Math.ceil((number.length - start) / 6);
        this.words = new Array(this.length);
        for (var i3 = 0; i3 < this.length; i3++) {
          this.words[i3] = 0;
        }
        var j4, w4;
        var off = 0;
        for (i3 = number.length - 6, j4 = 0; i3 >= start; i3 -= 6) {
          w4 = parseHex(number, i3, i3 + 6);
          this.words[j4] |= w4 << off & 67108863;
          this.words[j4 + 1] |= w4 >>> 26 - off & 4194303;
          off += 24;
          if (off >= 26) {
            off -= 26;
            j4++;
          }
        }
        if (i3 + 6 !== start) {
          w4 = parseHex(number, start, i3 + 6);
          this.words[j4] |= w4 << off & 67108863;
          this.words[j4 + 1] |= w4 >>> 26 - off & 4194303;
        }
        this.strip();
      };
      function parseBase(str, start, end, mul2) {
        var r3 = 0;
        var len = Math.min(str.length, end);
        for (var i3 = start; i3 < len; i3++) {
          var c3 = str.charCodeAt(i3) - 48;
          r3 *= mul2;
          if (c3 >= 49) {
            r3 += c3 - 49 + 10;
          } else if (c3 >= 17) {
            r3 += c3 - 17 + 10;
          } else {
            r3 += c3;
          }
        }
        return r3;
      }
      BN2.prototype._parseBase = function _parseBase(number, base3, start) {
        this.words = [0];
        this.length = 1;
        for (var limbLen = 0, limbPow = 1; limbPow <= 67108863; limbPow *= base3) {
          limbLen++;
        }
        limbLen--;
        limbPow = limbPow / base3 | 0;
        var total = number.length - start;
        var mod2 = total % limbLen;
        var end = Math.min(total, total - mod2) + start;
        var word = 0;
        for (var i3 = start; i3 < end; i3 += limbLen) {
          word = parseBase(number, i3, i3 + limbLen, base3);
          this.imuln(limbPow);
          if (this.words[0] + word < 67108864) {
            this.words[0] += word;
          } else {
            this._iaddn(word);
          }
        }
        if (mod2 !== 0) {
          var pow = 1;
          word = parseBase(number, i3, number.length, base3);
          for (i3 = 0; i3 < mod2; i3++) {
            pow *= base3;
          }
          this.imuln(pow);
          if (this.words[0] + word < 67108864) {
            this.words[0] += word;
          } else {
            this._iaddn(word);
          }
        }
      };
      BN2.prototype.copy = function copy(dest) {
        dest.words = new Array(this.length);
        for (var i3 = 0; i3 < this.length; i3++) {
          dest.words[i3] = this.words[i3];
        }
        dest.length = this.length;
        dest.negative = this.negative;
        dest.red = this.red;
      };
      BN2.prototype.clone = function clone() {
        var r3 = new BN2(null);
        this.copy(r3);
        return r3;
      };
      BN2.prototype._expand = function _expand(size) {
        while (this.length < size) {
          this.words[this.length++] = 0;
        }
        return this;
      };
      BN2.prototype.strip = function strip() {
        while (this.length > 1 && this.words[this.length - 1] === 0) {
          this.length--;
        }
        return this._normSign();
      };
      BN2.prototype._normSign = function _normSign() {
        if (this.length === 1 && this.words[0] === 0) {
          this.negative = 0;
        }
        return this;
      };
      BN2.prototype.inspect = function inspect() {
        return (this.red ? "<BN-R: " : "<BN: ") + this.toString(16) + ">";
      };
      var zeros = [
        "",
        "0",
        "00",
        "000",
        "0000",
        "00000",
        "000000",
        "0000000",
        "00000000",
        "000000000",
        "0000000000",
        "00000000000",
        "000000000000",
        "0000000000000",
        "00000000000000",
        "000000000000000",
        "0000000000000000",
        "00000000000000000",
        "000000000000000000",
        "0000000000000000000",
        "00000000000000000000",
        "000000000000000000000",
        "0000000000000000000000",
        "00000000000000000000000",
        "000000000000000000000000",
        "0000000000000000000000000"
      ];
      var groupSizes = [
        0,
        0,
        25,
        16,
        12,
        11,
        10,
        9,
        8,
        8,
        7,
        7,
        7,
        7,
        6,
        6,
        6,
        6,
        6,
        6,
        6,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5,
        5
      ];
      var groupBases = [
        0,
        0,
        33554432,
        43046721,
        16777216,
        48828125,
        60466176,
        40353607,
        16777216,
        43046721,
        1e7,
        19487171,
        35831808,
        62748517,
        7529536,
        11390625,
        16777216,
        24137569,
        34012224,
        47045881,
        64e6,
        4084101,
        5153632,
        6436343,
        7962624,
        9765625,
        11881376,
        14348907,
        17210368,
        20511149,
        243e5,
        28629151,
        33554432,
        39135393,
        45435424,
        52521875,
        60466176
      ];
      BN2.prototype.toString = function toString3(base3, padding) {
        base3 = base3 || 10;
        padding = padding | 0 || 1;
        var out;
        if (base3 === 16 || base3 === "hex") {
          out = "";
          var off = 0;
          var carry = 0;
          for (var i3 = 0; i3 < this.length; i3++) {
            var w4 = this.words[i3];
            var word = ((w4 << off | carry) & 16777215).toString(16);
            carry = w4 >>> 24 - off & 16777215;
            if (carry !== 0 || i3 !== this.length - 1) {
              out = zeros[6 - word.length] + word + out;
            } else {
              out = word + out;
            }
            off += 2;
            if (off >= 26) {
              off -= 26;
              i3--;
            }
          }
          if (carry !== 0) {
            out = carry.toString(16) + out;
          }
          while (out.length % padding !== 0) {
            out = "0" + out;
          }
          if (this.negative !== 0) {
            out = "-" + out;
          }
          return out;
        }
        if (base3 === (base3 | 0) && base3 >= 2 && base3 <= 36) {
          var groupSize = groupSizes[base3];
          var groupBase = groupBases[base3];
          out = "";
          var c3 = this.clone();
          c3.negative = 0;
          while (!c3.isZero()) {
            var r3 = c3.modn(groupBase).toString(base3);
            c3 = c3.idivn(groupBase);
            if (!c3.isZero()) {
              out = zeros[groupSize - r3.length] + r3 + out;
            } else {
              out = r3 + out;
            }
          }
          if (this.isZero()) {
            out = "0" + out;
          }
          while (out.length % padding !== 0) {
            out = "0" + out;
          }
          if (this.negative !== 0) {
            out = "-" + out;
          }
          return out;
        }
        assert2(false, "Base should be between 2 and 36");
      };
      BN2.prototype.toNumber = function toNumber() {
        var ret = this.words[0];
        if (this.length === 2) {
          ret += this.words[1] * 67108864;
        } else if (this.length === 3 && this.words[2] === 1) {
          ret += 4503599627370496 + this.words[1] * 67108864;
        } else if (this.length > 2) {
          assert2(false, "Number can only safely store up to 53 bits");
        }
        return this.negative !== 0 ? -ret : ret;
      };
      BN2.prototype.toJSON = function toJSON() {
        return this.toString(16);
      };
      BN2.prototype.toBuffer = function toBuffer(endian, length3) {
        assert2(typeof Buffer3 !== "undefined");
        return this.toArrayLike(Buffer3, endian, length3);
      };
      BN2.prototype.toArray = function toArray(endian, length3) {
        return this.toArrayLike(Array, endian, length3);
      };
      BN2.prototype.toArrayLike = function toArrayLike(ArrayType, endian, length3) {
        var byteLength = this.byteLength();
        var reqLength = length3 || Math.max(1, byteLength);
        assert2(byteLength <= reqLength, "byte array longer than desired length");
        assert2(reqLength > 0, "Requested array length <= 0");
        this.strip();
        var littleEndian = endian === "le";
        var res = new ArrayType(reqLength);
        var b3, i3;
        var q4 = this.clone();
        if (!littleEndian) {
          for (i3 = 0; i3 < reqLength - byteLength; i3++) {
            res[i3] = 0;
          }
          for (i3 = 0; !q4.isZero(); i3++) {
            b3 = q4.andln(255);
            q4.iushrn(8);
            res[reqLength - i3 - 1] = b3;
          }
        } else {
          for (i3 = 0; !q4.isZero(); i3++) {
            b3 = q4.andln(255);
            q4.iushrn(8);
            res[i3] = b3;
          }
          for (; i3 < reqLength; i3++) {
            res[i3] = 0;
          }
        }
        return res;
      };
      if (Math.clz32) {
        BN2.prototype._countBits = function _countBits(w4) {
          return 32 - Math.clz32(w4);
        };
      } else {
        BN2.prototype._countBits = function _countBits(w4) {
          var t2 = w4;
          var r3 = 0;
          if (t2 >= 4096) {
            r3 += 13;
            t2 >>>= 13;
          }
          if (t2 >= 64) {
            r3 += 7;
            t2 >>>= 7;
          }
          if (t2 >= 8) {
            r3 += 4;
            t2 >>>= 4;
          }
          if (t2 >= 2) {
            r3 += 2;
            t2 >>>= 2;
          }
          return r3 + t2;
        };
      }
      BN2.prototype._zeroBits = function _zeroBits(w4) {
        if (w4 === 0)
          return 26;
        var t2 = w4;
        var r3 = 0;
        if ((t2 & 8191) === 0) {
          r3 += 13;
          t2 >>>= 13;
        }
        if ((t2 & 127) === 0) {
          r3 += 7;
          t2 >>>= 7;
        }
        if ((t2 & 15) === 0) {
          r3 += 4;
          t2 >>>= 4;
        }
        if ((t2 & 3) === 0) {
          r3 += 2;
          t2 >>>= 2;
        }
        if ((t2 & 1) === 0) {
          r3++;
        }
        return r3;
      };
      BN2.prototype.bitLength = function bitLength() {
        var w4 = this.words[this.length - 1];
        var hi = this._countBits(w4);
        return (this.length - 1) * 26 + hi;
      };
      function toBitArray(num) {
        var w4 = new Array(num.bitLength());
        for (var bit = 0; bit < w4.length; bit++) {
          var off = bit / 26 | 0;
          var wbit = bit % 26;
          w4[bit] = (num.words[off] & 1 << wbit) >>> wbit;
        }
        return w4;
      }
      BN2.prototype.zeroBits = function zeroBits() {
        if (this.isZero())
          return 0;
        var r3 = 0;
        for (var i3 = 0; i3 < this.length; i3++) {
          var b3 = this._zeroBits(this.words[i3]);
          r3 += b3;
          if (b3 !== 26)
            break;
        }
        return r3;
      };
      BN2.prototype.byteLength = function byteLength() {
        return Math.ceil(this.bitLength() / 8);
      };
      BN2.prototype.toTwos = function toTwos(width2) {
        if (this.negative !== 0) {
          return this.abs().inotn(width2).iaddn(1);
        }
        return this.clone();
      };
      BN2.prototype.fromTwos = function fromTwos(width2) {
        if (this.testn(width2 - 1)) {
          return this.notn(width2).iaddn(1).ineg();
        }
        return this.clone();
      };
      BN2.prototype.isNeg = function isNeg() {
        return this.negative !== 0;
      };
      BN2.prototype.neg = function neg() {
        return this.clone().ineg();
      };
      BN2.prototype.ineg = function ineg() {
        if (!this.isZero()) {
          this.negative ^= 1;
        }
        return this;
      };
      BN2.prototype.iuor = function iuor(num) {
        while (this.length < num.length) {
          this.words[this.length++] = 0;
        }
        for (var i3 = 0; i3 < num.length; i3++) {
          this.words[i3] = this.words[i3] | num.words[i3];
        }
        return this.strip();
      };
      BN2.prototype.ior = function ior(num) {
        assert2((this.negative | num.negative) === 0);
        return this.iuor(num);
      };
      BN2.prototype.or = function or3(num) {
        if (this.length > num.length)
          return this.clone().ior(num);
        return num.clone().ior(this);
      };
      BN2.prototype.uor = function uor(num) {
        if (this.length > num.length)
          return this.clone().iuor(num);
        return num.clone().iuor(this);
      };
      BN2.prototype.iuand = function iuand(num) {
        var b3;
        if (this.length > num.length) {
          b3 = num;
        } else {
          b3 = this;
        }
        for (var i3 = 0; i3 < b3.length; i3++) {
          this.words[i3] = this.words[i3] & num.words[i3];
        }
        this.length = b3.length;
        return this.strip();
      };
      BN2.prototype.iand = function iand(num) {
        assert2((this.negative | num.negative) === 0);
        return this.iuand(num);
      };
      BN2.prototype.and = function and(num) {
        if (this.length > num.length)
          return this.clone().iand(num);
        return num.clone().iand(this);
      };
      BN2.prototype.uand = function uand(num) {
        if (this.length > num.length)
          return this.clone().iuand(num);
        return num.clone().iuand(this);
      };
      BN2.prototype.iuxor = function iuxor(num) {
        var a4;
        var b3;
        if (this.length > num.length) {
          a4 = this;
          b3 = num;
        } else {
          a4 = num;
          b3 = this;
        }
        for (var i3 = 0; i3 < b3.length; i3++) {
          this.words[i3] = a4.words[i3] ^ b3.words[i3];
        }
        if (this !== a4) {
          for (; i3 < a4.length; i3++) {
            this.words[i3] = a4.words[i3];
          }
        }
        this.length = a4.length;
        return this.strip();
      };
      BN2.prototype.ixor = function ixor(num) {
        assert2((this.negative | num.negative) === 0);
        return this.iuxor(num);
      };
      BN2.prototype.xor = function xor2(num) {
        if (this.length > num.length)
          return this.clone().ixor(num);
        return num.clone().ixor(this);
      };
      BN2.prototype.uxor = function uxor(num) {
        if (this.length > num.length)
          return this.clone().iuxor(num);
        return num.clone().iuxor(this);
      };
      BN2.prototype.inotn = function inotn(width2) {
        assert2(typeof width2 === "number" && width2 >= 0);
        var bytesNeeded = Math.ceil(width2 / 26) | 0;
        var bitsLeft = width2 % 26;
        this._expand(bytesNeeded);
        if (bitsLeft > 0) {
          bytesNeeded--;
        }
        for (var i3 = 0; i3 < bytesNeeded; i3++) {
          this.words[i3] = ~this.words[i3] & 67108863;
        }
        if (bitsLeft > 0) {
          this.words[i3] = ~this.words[i3] & 67108863 >> 26 - bitsLeft;
        }
        return this.strip();
      };
      BN2.prototype.notn = function notn(width2) {
        return this.clone().inotn(width2);
      };
      BN2.prototype.setn = function setn(bit, val2) {
        assert2(typeof bit === "number" && bit >= 0);
        var off = bit / 26 | 0;
        var wbit = bit % 26;
        this._expand(off + 1);
        if (val2) {
          this.words[off] = this.words[off] | 1 << wbit;
        } else {
          this.words[off] = this.words[off] & ~(1 << wbit);
        }
        return this.strip();
      };
      BN2.prototype.iadd = function iadd(num) {
        var r3;
        if (this.negative !== 0 && num.negative === 0) {
          this.negative = 0;
          r3 = this.isub(num);
          this.negative ^= 1;
          return this._normSign();
        } else if (this.negative === 0 && num.negative !== 0) {
          num.negative = 0;
          r3 = this.isub(num);
          num.negative = 1;
          return r3._normSign();
        }
        var a4, b3;
        if (this.length > num.length) {
          a4 = this;
          b3 = num;
        } else {
          a4 = num;
          b3 = this;
        }
        var carry = 0;
        for (var i3 = 0; i3 < b3.length; i3++) {
          r3 = (a4.words[i3] | 0) + (b3.words[i3] | 0) + carry;
          this.words[i3] = r3 & 67108863;
          carry = r3 >>> 26;
        }
        for (; carry !== 0 && i3 < a4.length; i3++) {
          r3 = (a4.words[i3] | 0) + carry;
          this.words[i3] = r3 & 67108863;
          carry = r3 >>> 26;
        }
        this.length = a4.length;
        if (carry !== 0) {
          this.words[this.length] = carry;
          this.length++;
        } else if (a4 !== this) {
          for (; i3 < a4.length; i3++) {
            this.words[i3] = a4.words[i3];
          }
        }
        return this;
      };
      BN2.prototype.add = function add2(num) {
        var res;
        if (num.negative !== 0 && this.negative === 0) {
          num.negative = 0;
          res = this.sub(num);
          num.negative ^= 1;
          return res;
        } else if (num.negative === 0 && this.negative !== 0) {
          this.negative = 0;
          res = num.sub(this);
          this.negative = 1;
          return res;
        }
        if (this.length > num.length)
          return this.clone().iadd(num);
        return num.clone().iadd(this);
      };
      BN2.prototype.isub = function isub(num) {
        if (num.negative !== 0) {
          num.negative = 0;
          var r3 = this.iadd(num);
          num.negative = 1;
          return r3._normSign();
        } else if (this.negative !== 0) {
          this.negative = 0;
          this.iadd(num);
          this.negative = 1;
          return this._normSign();
        }
        var cmp = this.cmp(num);
        if (cmp === 0) {
          this.negative = 0;
          this.length = 1;
          this.words[0] = 0;
          return this;
        }
        var a4, b3;
        if (cmp > 0) {
          a4 = this;
          b3 = num;
        } else {
          a4 = num;
          b3 = this;
        }
        var carry = 0;
        for (var i3 = 0; i3 < b3.length; i3++) {
          r3 = (a4.words[i3] | 0) - (b3.words[i3] | 0) + carry;
          carry = r3 >> 26;
          this.words[i3] = r3 & 67108863;
        }
        for (; carry !== 0 && i3 < a4.length; i3++) {
          r3 = (a4.words[i3] | 0) + carry;
          carry = r3 >> 26;
          this.words[i3] = r3 & 67108863;
        }
        if (carry === 0 && i3 < a4.length && a4 !== this) {
          for (; i3 < a4.length; i3++) {
            this.words[i3] = a4.words[i3];
          }
        }
        this.length = Math.max(this.length, i3);
        if (a4 !== this) {
          this.negative = 1;
        }
        return this.strip();
      };
      BN2.prototype.sub = function sub2(num) {
        return this.clone().isub(num);
      };
      function smallMulTo(self2, num, out) {
        out.negative = num.negative ^ self2.negative;
        var len = self2.length + num.length | 0;
        out.length = len;
        len = len - 1 | 0;
        var a4 = self2.words[0] | 0;
        var b3 = num.words[0] | 0;
        var r3 = a4 * b3;
        var lo = r3 & 67108863;
        var carry = r3 / 67108864 | 0;
        out.words[0] = lo;
        for (var k3 = 1; k3 < len; k3++) {
          var ncarry = carry >>> 26;
          var rword = carry & 67108863;
          var maxJ = Math.min(k3, num.length - 1);
          for (var j4 = Math.max(0, k3 - self2.length + 1); j4 <= maxJ; j4++) {
            var i3 = k3 - j4 | 0;
            a4 = self2.words[i3] | 0;
            b3 = num.words[j4] | 0;
            r3 = a4 * b3 + rword;
            ncarry += r3 / 67108864 | 0;
            rword = r3 & 67108863;
          }
          out.words[k3] = rword | 0;
          carry = ncarry | 0;
        }
        if (carry !== 0) {
          out.words[k3] = carry | 0;
        } else {
          out.length--;
        }
        return out.strip();
      }
      var comb10MulTo = function comb10MulTo2(self2, num, out) {
        var a4 = self2.words;
        var b3 = num.words;
        var o3 = out.words;
        var c3 = 0;
        var lo;
        var mid;
        var hi;
        var a0 = a4[0] | 0;
        var al0 = a0 & 8191;
        var ah0 = a0 >>> 13;
        var a1 = a4[1] | 0;
        var al1 = a1 & 8191;
        var ah1 = a1 >>> 13;
        var a22 = a4[2] | 0;
        var al2 = a22 & 8191;
        var ah2 = a22 >>> 13;
        var a32 = a4[3] | 0;
        var al3 = a32 & 8191;
        var ah3 = a32 >>> 13;
        var a42 = a4[4] | 0;
        var al4 = a42 & 8191;
        var ah4 = a42 >>> 13;
        var a5 = a4[5] | 0;
        var al5 = a5 & 8191;
        var ah5 = a5 >>> 13;
        var a6 = a4[6] | 0;
        var al6 = a6 & 8191;
        var ah6 = a6 >>> 13;
        var a7 = a4[7] | 0;
        var al7 = a7 & 8191;
        var ah7 = a7 >>> 13;
        var a8 = a4[8] | 0;
        var al8 = a8 & 8191;
        var ah8 = a8 >>> 13;
        var a9 = a4[9] | 0;
        var al9 = a9 & 8191;
        var ah9 = a9 >>> 13;
        var b0 = b3[0] | 0;
        var bl0 = b0 & 8191;
        var bh0 = b0 >>> 13;
        var b1 = b3[1] | 0;
        var bl1 = b1 & 8191;
        var bh1 = b1 >>> 13;
        var b22 = b3[2] | 0;
        var bl2 = b22 & 8191;
        var bh2 = b22 >>> 13;
        var b32 = b3[3] | 0;
        var bl3 = b32 & 8191;
        var bh3 = b32 >>> 13;
        var b4 = b3[4] | 0;
        var bl4 = b4 & 8191;
        var bh4 = b4 >>> 13;
        var b5 = b3[5] | 0;
        var bl5 = b5 & 8191;
        var bh5 = b5 >>> 13;
        var b6 = b3[6] | 0;
        var bl6 = b6 & 8191;
        var bh6 = b6 >>> 13;
        var b7 = b3[7] | 0;
        var bl7 = b7 & 8191;
        var bh7 = b7 >>> 13;
        var b8 = b3[8] | 0;
        var bl8 = b8 & 8191;
        var bh8 = b8 >>> 13;
        var b9 = b3[9] | 0;
        var bl9 = b9 & 8191;
        var bh9 = b9 >>> 13;
        out.negative = self2.negative ^ num.negative;
        out.length = 19;
        lo = Math.imul(al0, bl0);
        mid = Math.imul(al0, bh0);
        mid = mid + Math.imul(ah0, bl0) | 0;
        hi = Math.imul(ah0, bh0);
        var w0 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w0 >>> 26) | 0;
        w0 &= 67108863;
        lo = Math.imul(al1, bl0);
        mid = Math.imul(al1, bh0);
        mid = mid + Math.imul(ah1, bl0) | 0;
        hi = Math.imul(ah1, bh0);
        lo = lo + Math.imul(al0, bl1) | 0;
        mid = mid + Math.imul(al0, bh1) | 0;
        mid = mid + Math.imul(ah0, bl1) | 0;
        hi = hi + Math.imul(ah0, bh1) | 0;
        var w1 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w1 >>> 26) | 0;
        w1 &= 67108863;
        lo = Math.imul(al2, bl0);
        mid = Math.imul(al2, bh0);
        mid = mid + Math.imul(ah2, bl0) | 0;
        hi = Math.imul(ah2, bh0);
        lo = lo + Math.imul(al1, bl1) | 0;
        mid = mid + Math.imul(al1, bh1) | 0;
        mid = mid + Math.imul(ah1, bl1) | 0;
        hi = hi + Math.imul(ah1, bh1) | 0;
        lo = lo + Math.imul(al0, bl2) | 0;
        mid = mid + Math.imul(al0, bh2) | 0;
        mid = mid + Math.imul(ah0, bl2) | 0;
        hi = hi + Math.imul(ah0, bh2) | 0;
        var w22 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w22 >>> 26) | 0;
        w22 &= 67108863;
        lo = Math.imul(al3, bl0);
        mid = Math.imul(al3, bh0);
        mid = mid + Math.imul(ah3, bl0) | 0;
        hi = Math.imul(ah3, bh0);
        lo = lo + Math.imul(al2, bl1) | 0;
        mid = mid + Math.imul(al2, bh1) | 0;
        mid = mid + Math.imul(ah2, bl1) | 0;
        hi = hi + Math.imul(ah2, bh1) | 0;
        lo = lo + Math.imul(al1, bl2) | 0;
        mid = mid + Math.imul(al1, bh2) | 0;
        mid = mid + Math.imul(ah1, bl2) | 0;
        hi = hi + Math.imul(ah1, bh2) | 0;
        lo = lo + Math.imul(al0, bl3) | 0;
        mid = mid + Math.imul(al0, bh3) | 0;
        mid = mid + Math.imul(ah0, bl3) | 0;
        hi = hi + Math.imul(ah0, bh3) | 0;
        var w32 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w32 >>> 26) | 0;
        w32 &= 67108863;
        lo = Math.imul(al4, bl0);
        mid = Math.imul(al4, bh0);
        mid = mid + Math.imul(ah4, bl0) | 0;
        hi = Math.imul(ah4, bh0);
        lo = lo + Math.imul(al3, bl1) | 0;
        mid = mid + Math.imul(al3, bh1) | 0;
        mid = mid + Math.imul(ah3, bl1) | 0;
        hi = hi + Math.imul(ah3, bh1) | 0;
        lo = lo + Math.imul(al2, bl2) | 0;
        mid = mid + Math.imul(al2, bh2) | 0;
        mid = mid + Math.imul(ah2, bl2) | 0;
        hi = hi + Math.imul(ah2, bh2) | 0;
        lo = lo + Math.imul(al1, bl3) | 0;
        mid = mid + Math.imul(al1, bh3) | 0;
        mid = mid + Math.imul(ah1, bl3) | 0;
        hi = hi + Math.imul(ah1, bh3) | 0;
        lo = lo + Math.imul(al0, bl4) | 0;
        mid = mid + Math.imul(al0, bh4) | 0;
        mid = mid + Math.imul(ah0, bl4) | 0;
        hi = hi + Math.imul(ah0, bh4) | 0;
        var w4 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w4 >>> 26) | 0;
        w4 &= 67108863;
        lo = Math.imul(al5, bl0);
        mid = Math.imul(al5, bh0);
        mid = mid + Math.imul(ah5, bl0) | 0;
        hi = Math.imul(ah5, bh0);
        lo = lo + Math.imul(al4, bl1) | 0;
        mid = mid + Math.imul(al4, bh1) | 0;
        mid = mid + Math.imul(ah4, bl1) | 0;
        hi = hi + Math.imul(ah4, bh1) | 0;
        lo = lo + Math.imul(al3, bl2) | 0;
        mid = mid + Math.imul(al3, bh2) | 0;
        mid = mid + Math.imul(ah3, bl2) | 0;
        hi = hi + Math.imul(ah3, bh2) | 0;
        lo = lo + Math.imul(al2, bl3) | 0;
        mid = mid + Math.imul(al2, bh3) | 0;
        mid = mid + Math.imul(ah2, bl3) | 0;
        hi = hi + Math.imul(ah2, bh3) | 0;
        lo = lo + Math.imul(al1, bl4) | 0;
        mid = mid + Math.imul(al1, bh4) | 0;
        mid = mid + Math.imul(ah1, bl4) | 0;
        hi = hi + Math.imul(ah1, bh4) | 0;
        lo = lo + Math.imul(al0, bl5) | 0;
        mid = mid + Math.imul(al0, bh5) | 0;
        mid = mid + Math.imul(ah0, bl5) | 0;
        hi = hi + Math.imul(ah0, bh5) | 0;
        var w5 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w5 >>> 26) | 0;
        w5 &= 67108863;
        lo = Math.imul(al6, bl0);
        mid = Math.imul(al6, bh0);
        mid = mid + Math.imul(ah6, bl0) | 0;
        hi = Math.imul(ah6, bh0);
        lo = lo + Math.imul(al5, bl1) | 0;
        mid = mid + Math.imul(al5, bh1) | 0;
        mid = mid + Math.imul(ah5, bl1) | 0;
        hi = hi + Math.imul(ah5, bh1) | 0;
        lo = lo + Math.imul(al4, bl2) | 0;
        mid = mid + Math.imul(al4, bh2) | 0;
        mid = mid + Math.imul(ah4, bl2) | 0;
        hi = hi + Math.imul(ah4, bh2) | 0;
        lo = lo + Math.imul(al3, bl3) | 0;
        mid = mid + Math.imul(al3, bh3) | 0;
        mid = mid + Math.imul(ah3, bl3) | 0;
        hi = hi + Math.imul(ah3, bh3) | 0;
        lo = lo + Math.imul(al2, bl4) | 0;
        mid = mid + Math.imul(al2, bh4) | 0;
        mid = mid + Math.imul(ah2, bl4) | 0;
        hi = hi + Math.imul(ah2, bh4) | 0;
        lo = lo + Math.imul(al1, bl5) | 0;
        mid = mid + Math.imul(al1, bh5) | 0;
        mid = mid + Math.imul(ah1, bl5) | 0;
        hi = hi + Math.imul(ah1, bh5) | 0;
        lo = lo + Math.imul(al0, bl6) | 0;
        mid = mid + Math.imul(al0, bh6) | 0;
        mid = mid + Math.imul(ah0, bl6) | 0;
        hi = hi + Math.imul(ah0, bh6) | 0;
        var w6 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w6 >>> 26) | 0;
        w6 &= 67108863;
        lo = Math.imul(al7, bl0);
        mid = Math.imul(al7, bh0);
        mid = mid + Math.imul(ah7, bl0) | 0;
        hi = Math.imul(ah7, bh0);
        lo = lo + Math.imul(al6, bl1) | 0;
        mid = mid + Math.imul(al6, bh1) | 0;
        mid = mid + Math.imul(ah6, bl1) | 0;
        hi = hi + Math.imul(ah6, bh1) | 0;
        lo = lo + Math.imul(al5, bl2) | 0;
        mid = mid + Math.imul(al5, bh2) | 0;
        mid = mid + Math.imul(ah5, bl2) | 0;
        hi = hi + Math.imul(ah5, bh2) | 0;
        lo = lo + Math.imul(al4, bl3) | 0;
        mid = mid + Math.imul(al4, bh3) | 0;
        mid = mid + Math.imul(ah4, bl3) | 0;
        hi = hi + Math.imul(ah4, bh3) | 0;
        lo = lo + Math.imul(al3, bl4) | 0;
        mid = mid + Math.imul(al3, bh4) | 0;
        mid = mid + Math.imul(ah3, bl4) | 0;
        hi = hi + Math.imul(ah3, bh4) | 0;
        lo = lo + Math.imul(al2, bl5) | 0;
        mid = mid + Math.imul(al2, bh5) | 0;
        mid = mid + Math.imul(ah2, bl5) | 0;
        hi = hi + Math.imul(ah2, bh5) | 0;
        lo = lo + Math.imul(al1, bl6) | 0;
        mid = mid + Math.imul(al1, bh6) | 0;
        mid = mid + Math.imul(ah1, bl6) | 0;
        hi = hi + Math.imul(ah1, bh6) | 0;
        lo = lo + Math.imul(al0, bl7) | 0;
        mid = mid + Math.imul(al0, bh7) | 0;
        mid = mid + Math.imul(ah0, bl7) | 0;
        hi = hi + Math.imul(ah0, bh7) | 0;
        var w7 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w7 >>> 26) | 0;
        w7 &= 67108863;
        lo = Math.imul(al8, bl0);
        mid = Math.imul(al8, bh0);
        mid = mid + Math.imul(ah8, bl0) | 0;
        hi = Math.imul(ah8, bh0);
        lo = lo + Math.imul(al7, bl1) | 0;
        mid = mid + Math.imul(al7, bh1) | 0;
        mid = mid + Math.imul(ah7, bl1) | 0;
        hi = hi + Math.imul(ah7, bh1) | 0;
        lo = lo + Math.imul(al6, bl2) | 0;
        mid = mid + Math.imul(al6, bh2) | 0;
        mid = mid + Math.imul(ah6, bl2) | 0;
        hi = hi + Math.imul(ah6, bh2) | 0;
        lo = lo + Math.imul(al5, bl3) | 0;
        mid = mid + Math.imul(al5, bh3) | 0;
        mid = mid + Math.imul(ah5, bl3) | 0;
        hi = hi + Math.imul(ah5, bh3) | 0;
        lo = lo + Math.imul(al4, bl4) | 0;
        mid = mid + Math.imul(al4, bh4) | 0;
        mid = mid + Math.imul(ah4, bl4) | 0;
        hi = hi + Math.imul(ah4, bh4) | 0;
        lo = lo + Math.imul(al3, bl5) | 0;
        mid = mid + Math.imul(al3, bh5) | 0;
        mid = mid + Math.imul(ah3, bl5) | 0;
        hi = hi + Math.imul(ah3, bh5) | 0;
        lo = lo + Math.imul(al2, bl6) | 0;
        mid = mid + Math.imul(al2, bh6) | 0;
        mid = mid + Math.imul(ah2, bl6) | 0;
        hi = hi + Math.imul(ah2, bh6) | 0;
        lo = lo + Math.imul(al1, bl7) | 0;
        mid = mid + Math.imul(al1, bh7) | 0;
        mid = mid + Math.imul(ah1, bl7) | 0;
        hi = hi + Math.imul(ah1, bh7) | 0;
        lo = lo + Math.imul(al0, bl8) | 0;
        mid = mid + Math.imul(al0, bh8) | 0;
        mid = mid + Math.imul(ah0, bl8) | 0;
        hi = hi + Math.imul(ah0, bh8) | 0;
        var w8 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w8 >>> 26) | 0;
        w8 &= 67108863;
        lo = Math.imul(al9, bl0);
        mid = Math.imul(al9, bh0);
        mid = mid + Math.imul(ah9, bl0) | 0;
        hi = Math.imul(ah9, bh0);
        lo = lo + Math.imul(al8, bl1) | 0;
        mid = mid + Math.imul(al8, bh1) | 0;
        mid = mid + Math.imul(ah8, bl1) | 0;
        hi = hi + Math.imul(ah8, bh1) | 0;
        lo = lo + Math.imul(al7, bl2) | 0;
        mid = mid + Math.imul(al7, bh2) | 0;
        mid = mid + Math.imul(ah7, bl2) | 0;
        hi = hi + Math.imul(ah7, bh2) | 0;
        lo = lo + Math.imul(al6, bl3) | 0;
        mid = mid + Math.imul(al6, bh3) | 0;
        mid = mid + Math.imul(ah6, bl3) | 0;
        hi = hi + Math.imul(ah6, bh3) | 0;
        lo = lo + Math.imul(al5, bl4) | 0;
        mid = mid + Math.imul(al5, bh4) | 0;
        mid = mid + Math.imul(ah5, bl4) | 0;
        hi = hi + Math.imul(ah5, bh4) | 0;
        lo = lo + Math.imul(al4, bl5) | 0;
        mid = mid + Math.imul(al4, bh5) | 0;
        mid = mid + Math.imul(ah4, bl5) | 0;
        hi = hi + Math.imul(ah4, bh5) | 0;
        lo = lo + Math.imul(al3, bl6) | 0;
        mid = mid + Math.imul(al3, bh6) | 0;
        mid = mid + Math.imul(ah3, bl6) | 0;
        hi = hi + Math.imul(ah3, bh6) | 0;
        lo = lo + Math.imul(al2, bl7) | 0;
        mid = mid + Math.imul(al2, bh7) | 0;
        mid = mid + Math.imul(ah2, bl7) | 0;
        hi = hi + Math.imul(ah2, bh7) | 0;
        lo = lo + Math.imul(al1, bl8) | 0;
        mid = mid + Math.imul(al1, bh8) | 0;
        mid = mid + Math.imul(ah1, bl8) | 0;
        hi = hi + Math.imul(ah1, bh8) | 0;
        lo = lo + Math.imul(al0, bl9) | 0;
        mid = mid + Math.imul(al0, bh9) | 0;
        mid = mid + Math.imul(ah0, bl9) | 0;
        hi = hi + Math.imul(ah0, bh9) | 0;
        var w9 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w9 >>> 26) | 0;
        w9 &= 67108863;
        lo = Math.imul(al9, bl1);
        mid = Math.imul(al9, bh1);
        mid = mid + Math.imul(ah9, bl1) | 0;
        hi = Math.imul(ah9, bh1);
        lo = lo + Math.imul(al8, bl2) | 0;
        mid = mid + Math.imul(al8, bh2) | 0;
        mid = mid + Math.imul(ah8, bl2) | 0;
        hi = hi + Math.imul(ah8, bh2) | 0;
        lo = lo + Math.imul(al7, bl3) | 0;
        mid = mid + Math.imul(al7, bh3) | 0;
        mid = mid + Math.imul(ah7, bl3) | 0;
        hi = hi + Math.imul(ah7, bh3) | 0;
        lo = lo + Math.imul(al6, bl4) | 0;
        mid = mid + Math.imul(al6, bh4) | 0;
        mid = mid + Math.imul(ah6, bl4) | 0;
        hi = hi + Math.imul(ah6, bh4) | 0;
        lo = lo + Math.imul(al5, bl5) | 0;
        mid = mid + Math.imul(al5, bh5) | 0;
        mid = mid + Math.imul(ah5, bl5) | 0;
        hi = hi + Math.imul(ah5, bh5) | 0;
        lo = lo + Math.imul(al4, bl6) | 0;
        mid = mid + Math.imul(al4, bh6) | 0;
        mid = mid + Math.imul(ah4, bl6) | 0;
        hi = hi + Math.imul(ah4, bh6) | 0;
        lo = lo + Math.imul(al3, bl7) | 0;
        mid = mid + Math.imul(al3, bh7) | 0;
        mid = mid + Math.imul(ah3, bl7) | 0;
        hi = hi + Math.imul(ah3, bh7) | 0;
        lo = lo + Math.imul(al2, bl8) | 0;
        mid = mid + Math.imul(al2, bh8) | 0;
        mid = mid + Math.imul(ah2, bl8) | 0;
        hi = hi + Math.imul(ah2, bh8) | 0;
        lo = lo + Math.imul(al1, bl9) | 0;
        mid = mid + Math.imul(al1, bh9) | 0;
        mid = mid + Math.imul(ah1, bl9) | 0;
        hi = hi + Math.imul(ah1, bh9) | 0;
        var w10 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w10 >>> 26) | 0;
        w10 &= 67108863;
        lo = Math.imul(al9, bl2);
        mid = Math.imul(al9, bh2);
        mid = mid + Math.imul(ah9, bl2) | 0;
        hi = Math.imul(ah9, bh2);
        lo = lo + Math.imul(al8, bl3) | 0;
        mid = mid + Math.imul(al8, bh3) | 0;
        mid = mid + Math.imul(ah8, bl3) | 0;
        hi = hi + Math.imul(ah8, bh3) | 0;
        lo = lo + Math.imul(al7, bl4) | 0;
        mid = mid + Math.imul(al7, bh4) | 0;
        mid = mid + Math.imul(ah7, bl4) | 0;
        hi = hi + Math.imul(ah7, bh4) | 0;
        lo = lo + Math.imul(al6, bl5) | 0;
        mid = mid + Math.imul(al6, bh5) | 0;
        mid = mid + Math.imul(ah6, bl5) | 0;
        hi = hi + Math.imul(ah6, bh5) | 0;
        lo = lo + Math.imul(al5, bl6) | 0;
        mid = mid + Math.imul(al5, bh6) | 0;
        mid = mid + Math.imul(ah5, bl6) | 0;
        hi = hi + Math.imul(ah5, bh6) | 0;
        lo = lo + Math.imul(al4, bl7) | 0;
        mid = mid + Math.imul(al4, bh7) | 0;
        mid = mid + Math.imul(ah4, bl7) | 0;
        hi = hi + Math.imul(ah4, bh7) | 0;
        lo = lo + Math.imul(al3, bl8) | 0;
        mid = mid + Math.imul(al3, bh8) | 0;
        mid = mid + Math.imul(ah3, bl8) | 0;
        hi = hi + Math.imul(ah3, bh8) | 0;
        lo = lo + Math.imul(al2, bl9) | 0;
        mid = mid + Math.imul(al2, bh9) | 0;
        mid = mid + Math.imul(ah2, bl9) | 0;
        hi = hi + Math.imul(ah2, bh9) | 0;
        var w11 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w11 >>> 26) | 0;
        w11 &= 67108863;
        lo = Math.imul(al9, bl3);
        mid = Math.imul(al9, bh3);
        mid = mid + Math.imul(ah9, bl3) | 0;
        hi = Math.imul(ah9, bh3);
        lo = lo + Math.imul(al8, bl4) | 0;
        mid = mid + Math.imul(al8, bh4) | 0;
        mid = mid + Math.imul(ah8, bl4) | 0;
        hi = hi + Math.imul(ah8, bh4) | 0;
        lo = lo + Math.imul(al7, bl5) | 0;
        mid = mid + Math.imul(al7, bh5) | 0;
        mid = mid + Math.imul(ah7, bl5) | 0;
        hi = hi + Math.imul(ah7, bh5) | 0;
        lo = lo + Math.imul(al6, bl6) | 0;
        mid = mid + Math.imul(al6, bh6) | 0;
        mid = mid + Math.imul(ah6, bl6) | 0;
        hi = hi + Math.imul(ah6, bh6) | 0;
        lo = lo + Math.imul(al5, bl7) | 0;
        mid = mid + Math.imul(al5, bh7) | 0;
        mid = mid + Math.imul(ah5, bl7) | 0;
        hi = hi + Math.imul(ah5, bh7) | 0;
        lo = lo + Math.imul(al4, bl8) | 0;
        mid = mid + Math.imul(al4, bh8) | 0;
        mid = mid + Math.imul(ah4, bl8) | 0;
        hi = hi + Math.imul(ah4, bh8) | 0;
        lo = lo + Math.imul(al3, bl9) | 0;
        mid = mid + Math.imul(al3, bh9) | 0;
        mid = mid + Math.imul(ah3, bl9) | 0;
        hi = hi + Math.imul(ah3, bh9) | 0;
        var w12 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w12 >>> 26) | 0;
        w12 &= 67108863;
        lo = Math.imul(al9, bl4);
        mid = Math.imul(al9, bh4);
        mid = mid + Math.imul(ah9, bl4) | 0;
        hi = Math.imul(ah9, bh4);
        lo = lo + Math.imul(al8, bl5) | 0;
        mid = mid + Math.imul(al8, bh5) | 0;
        mid = mid + Math.imul(ah8, bl5) | 0;
        hi = hi + Math.imul(ah8, bh5) | 0;
        lo = lo + Math.imul(al7, bl6) | 0;
        mid = mid + Math.imul(al7, bh6) | 0;
        mid = mid + Math.imul(ah7, bl6) | 0;
        hi = hi + Math.imul(ah7, bh6) | 0;
        lo = lo + Math.imul(al6, bl7) | 0;
        mid = mid + Math.imul(al6, bh7) | 0;
        mid = mid + Math.imul(ah6, bl7) | 0;
        hi = hi + Math.imul(ah6, bh7) | 0;
        lo = lo + Math.imul(al5, bl8) | 0;
        mid = mid + Math.imul(al5, bh8) | 0;
        mid = mid + Math.imul(ah5, bl8) | 0;
        hi = hi + Math.imul(ah5, bh8) | 0;
        lo = lo + Math.imul(al4, bl9) | 0;
        mid = mid + Math.imul(al4, bh9) | 0;
        mid = mid + Math.imul(ah4, bl9) | 0;
        hi = hi + Math.imul(ah4, bh9) | 0;
        var w13 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w13 >>> 26) | 0;
        w13 &= 67108863;
        lo = Math.imul(al9, bl5);
        mid = Math.imul(al9, bh5);
        mid = mid + Math.imul(ah9, bl5) | 0;
        hi = Math.imul(ah9, bh5);
        lo = lo + Math.imul(al8, bl6) | 0;
        mid = mid + Math.imul(al8, bh6) | 0;
        mid = mid + Math.imul(ah8, bl6) | 0;
        hi = hi + Math.imul(ah8, bh6) | 0;
        lo = lo + Math.imul(al7, bl7) | 0;
        mid = mid + Math.imul(al7, bh7) | 0;
        mid = mid + Math.imul(ah7, bl7) | 0;
        hi = hi + Math.imul(ah7, bh7) | 0;
        lo = lo + Math.imul(al6, bl8) | 0;
        mid = mid + Math.imul(al6, bh8) | 0;
        mid = mid + Math.imul(ah6, bl8) | 0;
        hi = hi + Math.imul(ah6, bh8) | 0;
        lo = lo + Math.imul(al5, bl9) | 0;
        mid = mid + Math.imul(al5, bh9) | 0;
        mid = mid + Math.imul(ah5, bl9) | 0;
        hi = hi + Math.imul(ah5, bh9) | 0;
        var w14 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w14 >>> 26) | 0;
        w14 &= 67108863;
        lo = Math.imul(al9, bl6);
        mid = Math.imul(al9, bh6);
        mid = mid + Math.imul(ah9, bl6) | 0;
        hi = Math.imul(ah9, bh6);
        lo = lo + Math.imul(al8, bl7) | 0;
        mid = mid + Math.imul(al8, bh7) | 0;
        mid = mid + Math.imul(ah8, bl7) | 0;
        hi = hi + Math.imul(ah8, bh7) | 0;
        lo = lo + Math.imul(al7, bl8) | 0;
        mid = mid + Math.imul(al7, bh8) | 0;
        mid = mid + Math.imul(ah7, bl8) | 0;
        hi = hi + Math.imul(ah7, bh8) | 0;
        lo = lo + Math.imul(al6, bl9) | 0;
        mid = mid + Math.imul(al6, bh9) | 0;
        mid = mid + Math.imul(ah6, bl9) | 0;
        hi = hi + Math.imul(ah6, bh9) | 0;
        var w15 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w15 >>> 26) | 0;
        w15 &= 67108863;
        lo = Math.imul(al9, bl7);
        mid = Math.imul(al9, bh7);
        mid = mid + Math.imul(ah9, bl7) | 0;
        hi = Math.imul(ah9, bh7);
        lo = lo + Math.imul(al8, bl8) | 0;
        mid = mid + Math.imul(al8, bh8) | 0;
        mid = mid + Math.imul(ah8, bl8) | 0;
        hi = hi + Math.imul(ah8, bh8) | 0;
        lo = lo + Math.imul(al7, bl9) | 0;
        mid = mid + Math.imul(al7, bh9) | 0;
        mid = mid + Math.imul(ah7, bl9) | 0;
        hi = hi + Math.imul(ah7, bh9) | 0;
        var w16 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w16 >>> 26) | 0;
        w16 &= 67108863;
        lo = Math.imul(al9, bl8);
        mid = Math.imul(al9, bh8);
        mid = mid + Math.imul(ah9, bl8) | 0;
        hi = Math.imul(ah9, bh8);
        lo = lo + Math.imul(al8, bl9) | 0;
        mid = mid + Math.imul(al8, bh9) | 0;
        mid = mid + Math.imul(ah8, bl9) | 0;
        hi = hi + Math.imul(ah8, bh9) | 0;
        var w17 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w17 >>> 26) | 0;
        w17 &= 67108863;
        lo = Math.imul(al9, bl9);
        mid = Math.imul(al9, bh9);
        mid = mid + Math.imul(ah9, bl9) | 0;
        hi = Math.imul(ah9, bh9);
        var w18 = (c3 + lo | 0) + ((mid & 8191) << 13) | 0;
        c3 = (hi + (mid >>> 13) | 0) + (w18 >>> 26) | 0;
        w18 &= 67108863;
        o3[0] = w0;
        o3[1] = w1;
        o3[2] = w22;
        o3[3] = w32;
        o3[4] = w4;
        o3[5] = w5;
        o3[6] = w6;
        o3[7] = w7;
        o3[8] = w8;
        o3[9] = w9;
        o3[10] = w10;
        o3[11] = w11;
        o3[12] = w12;
        o3[13] = w13;
        o3[14] = w14;
        o3[15] = w15;
        o3[16] = w16;
        o3[17] = w17;
        o3[18] = w18;
        if (c3 !== 0) {
          o3[19] = c3;
          out.length++;
        }
        return out;
      };
      if (!Math.imul) {
        comb10MulTo = smallMulTo;
      }
      function bigMulTo(self2, num, out) {
        out.negative = num.negative ^ self2.negative;
        out.length = self2.length + num.length;
        var carry = 0;
        var hncarry = 0;
        for (var k3 = 0; k3 < out.length - 1; k3++) {
          var ncarry = hncarry;
          hncarry = 0;
          var rword = carry & 67108863;
          var maxJ = Math.min(k3, num.length - 1);
          for (var j4 = Math.max(0, k3 - self2.length + 1); j4 <= maxJ; j4++) {
            var i3 = k3 - j4;
            var a4 = self2.words[i3] | 0;
            var b3 = num.words[j4] | 0;
            var r3 = a4 * b3;
            var lo = r3 & 67108863;
            ncarry = ncarry + (r3 / 67108864 | 0) | 0;
            lo = lo + rword | 0;
            rword = lo & 67108863;
            ncarry = ncarry + (lo >>> 26) | 0;
            hncarry += ncarry >>> 26;
            ncarry &= 67108863;
          }
          out.words[k3] = rword;
          carry = ncarry;
          ncarry = hncarry;
        }
        if (carry !== 0) {
          out.words[k3] = carry;
        } else {
          out.length--;
        }
        return out.strip();
      }
      function jumboMulTo(self2, num, out) {
        var fftm = new FFTM();
        return fftm.mulp(self2, num, out);
      }
      BN2.prototype.mulTo = function mulTo(num, out) {
        var res;
        var len = this.length + num.length;
        if (this.length === 10 && num.length === 10) {
          res = comb10MulTo(this, num, out);
        } else if (len < 63) {
          res = smallMulTo(this, num, out);
        } else if (len < 1024) {
          res = bigMulTo(this, num, out);
        } else {
          res = jumboMulTo(this, num, out);
        }
        return res;
      };
      function FFTM(x5, y7) {
        this.x = x5;
        this.y = y7;
      }
      FFTM.prototype.makeRBT = function makeRBT(N12) {
        var t2 = new Array(N12);
        var l4 = BN2.prototype._countBits(N12) - 1;
        for (var i3 = 0; i3 < N12; i3++) {
          t2[i3] = this.revBin(i3, l4, N12);
        }
        return t2;
      };
      FFTM.prototype.revBin = function revBin(x5, l4, N12) {
        if (x5 === 0 || x5 === N12 - 1)
          return x5;
        var rb = 0;
        for (var i3 = 0; i3 < l4; i3++) {
          rb |= (x5 & 1) << l4 - i3 - 1;
          x5 >>= 1;
        }
        return rb;
      };
      FFTM.prototype.permute = function permute(rbt, rws, iws, rtws, itws, N12) {
        for (var i3 = 0; i3 < N12; i3++) {
          rtws[i3] = rws[rbt[i3]];
          itws[i3] = iws[rbt[i3]];
        }
      };
      FFTM.prototype.transform = function transform2(rws, iws, rtws, itws, N12, rbt) {
        this.permute(rbt, rws, iws, rtws, itws, N12);
        for (var s2 = 1; s2 < N12; s2 <<= 1) {
          var l4 = s2 << 1;
          var rtwdf = Math.cos(2 * Math.PI / l4);
          var itwdf = Math.sin(2 * Math.PI / l4);
          for (var p6 = 0; p6 < N12; p6 += l4) {
            var rtwdf_ = rtwdf;
            var itwdf_ = itwdf;
            for (var j4 = 0; j4 < s2; j4++) {
              var re2 = rtws[p6 + j4];
              var ie3 = itws[p6 + j4];
              var ro = rtws[p6 + j4 + s2];
              var io = itws[p6 + j4 + s2];
              var rx = rtwdf_ * ro - itwdf_ * io;
              io = rtwdf_ * io + itwdf_ * ro;
              ro = rx;
              rtws[p6 + j4] = re2 + ro;
              itws[p6 + j4] = ie3 + io;
              rtws[p6 + j4 + s2] = re2 - ro;
              itws[p6 + j4 + s2] = ie3 - io;
              if (j4 !== l4) {
                rx = rtwdf * rtwdf_ - itwdf * itwdf_;
                itwdf_ = rtwdf * itwdf_ + itwdf * rtwdf_;
                rtwdf_ = rx;
              }
            }
          }
        }
      };
      FFTM.prototype.guessLen13b = function guessLen13b(n4, m3) {
        var N12 = Math.max(m3, n4) | 1;
        var odd = N12 & 1;
        var i3 = 0;
        for (N12 = N12 / 2 | 0; N12; N12 = N12 >>> 1) {
          i3++;
        }
        return 1 << i3 + 1 + odd;
      };
      FFTM.prototype.conjugate = function conjugate(rws, iws, N12) {
        if (N12 <= 1)
          return;
        for (var i3 = 0; i3 < N12 / 2; i3++) {
          var t2 = rws[i3];
          rws[i3] = rws[N12 - i3 - 1];
          rws[N12 - i3 - 1] = t2;
          t2 = iws[i3];
          iws[i3] = -iws[N12 - i3 - 1];
          iws[N12 - i3 - 1] = -t2;
        }
      };
      FFTM.prototype.normalize13b = function normalize13b(ws2, N12) {
        var carry = 0;
        for (var i3 = 0; i3 < N12 / 2; i3++) {
          var w4 = Math.round(ws2[2 * i3 + 1] / N12) * 8192 + Math.round(ws2[2 * i3] / N12) + carry;
          ws2[i3] = w4 & 67108863;
          if (w4 < 67108864) {
            carry = 0;
          } else {
            carry = w4 / 67108864 | 0;
          }
        }
        return ws2;
      };
      FFTM.prototype.convert13b = function convert13b(ws2, len, rws, N12) {
        var carry = 0;
        for (var i3 = 0; i3 < len; i3++) {
          carry = carry + (ws2[i3] | 0);
          rws[2 * i3] = carry & 8191;
          carry = carry >>> 13;
          rws[2 * i3 + 1] = carry & 8191;
          carry = carry >>> 13;
        }
        for (i3 = 2 * len; i3 < N12; ++i3) {
          rws[i3] = 0;
        }
        assert2(carry === 0);
        assert2((carry & ~8191) === 0);
      };
      FFTM.prototype.stub = function stub(N12) {
        var ph = new Array(N12);
        for (var i3 = 0; i3 < N12; i3++) {
          ph[i3] = 0;
        }
        return ph;
      };
      FFTM.prototype.mulp = function mulp(x5, y7, out) {
        var N12 = 2 * this.guessLen13b(x5.length, y7.length);
        var rbt = this.makeRBT(N12);
        var _4 = this.stub(N12);
        var rws = new Array(N12);
        var rwst = new Array(N12);
        var iwst = new Array(N12);
        var nrws = new Array(N12);
        var nrwst = new Array(N12);
        var niwst = new Array(N12);
        var rmws = out.words;
        rmws.length = N12;
        this.convert13b(x5.words, x5.length, rws, N12);
        this.convert13b(y7.words, y7.length, nrws, N12);
        this.transform(rws, _4, rwst, iwst, N12, rbt);
        this.transform(nrws, _4, nrwst, niwst, N12, rbt);
        for (var i3 = 0; i3 < N12; i3++) {
          var rx = rwst[i3] * nrwst[i3] - iwst[i3] * niwst[i3];
          iwst[i3] = rwst[i3] * niwst[i3] + iwst[i3] * nrwst[i3];
          rwst[i3] = rx;
        }
        this.conjugate(rwst, iwst, N12);
        this.transform(rwst, iwst, rmws, _4, N12, rbt);
        this.conjugate(rmws, _4, N12);
        this.normalize13b(rmws, N12);
        out.negative = x5.negative ^ y7.negative;
        out.length = x5.length + y7.length;
        return out.strip();
      };
      BN2.prototype.mul = function mul2(num) {
        var out = new BN2(null);
        out.words = new Array(this.length + num.length);
        return this.mulTo(num, out);
      };
      BN2.prototype.mulf = function mulf(num) {
        var out = new BN2(null);
        out.words = new Array(this.length + num.length);
        return jumboMulTo(this, num, out);
      };
      BN2.prototype.imul = function imul(num) {
        return this.clone().mulTo(num, this);
      };
      BN2.prototype.imuln = function imuln(num) {
        assert2(typeof num === "number");
        assert2(num < 67108864);
        var carry = 0;
        for (var i3 = 0; i3 < this.length; i3++) {
          var w4 = (this.words[i3] | 0) * num;
          var lo = (w4 & 67108863) + (carry & 67108863);
          carry >>= 26;
          carry += w4 / 67108864 | 0;
          carry += lo >>> 26;
          this.words[i3] = lo & 67108863;
        }
        if (carry !== 0) {
          this.words[i3] = carry;
          this.length++;
        }
        return this;
      };
      BN2.prototype.muln = function muln(num) {
        return this.clone().imuln(num);
      };
      BN2.prototype.sqr = function sqr() {
        return this.mul(this);
      };
      BN2.prototype.isqr = function isqr() {
        return this.imul(this.clone());
      };
      BN2.prototype.pow = function pow(num) {
        var w4 = toBitArray(num);
        if (w4.length === 0)
          return new BN2(1);
        var res = this;
        for (var i3 = 0; i3 < w4.length; i3++, res = res.sqr()) {
          if (w4[i3] !== 0)
            break;
        }
        if (++i3 < w4.length) {
          for (var q4 = res.sqr(); i3 < w4.length; i3++, q4 = q4.sqr()) {
            if (w4[i3] === 0)
              continue;
            res = res.mul(q4);
          }
        }
        return res;
      };
      BN2.prototype.iushln = function iushln(bits) {
        assert2(typeof bits === "number" && bits >= 0);
        var r3 = bits % 26;
        var s2 = (bits - r3) / 26;
        var carryMask = 67108863 >>> 26 - r3 << 26 - r3;
        var i3;
        if (r3 !== 0) {
          var carry = 0;
          for (i3 = 0; i3 < this.length; i3++) {
            var newCarry = this.words[i3] & carryMask;
            var c3 = (this.words[i3] | 0) - newCarry << r3;
            this.words[i3] = c3 | carry;
            carry = newCarry >>> 26 - r3;
          }
          if (carry) {
            this.words[i3] = carry;
            this.length++;
          }
        }
        if (s2 !== 0) {
          for (i3 = this.length - 1; i3 >= 0; i3--) {
            this.words[i3 + s2] = this.words[i3];
          }
          for (i3 = 0; i3 < s2; i3++) {
            this.words[i3] = 0;
          }
          this.length += s2;
        }
        return this.strip();
      };
      BN2.prototype.ishln = function ishln(bits) {
        assert2(this.negative === 0);
        return this.iushln(bits);
      };
      BN2.prototype.iushrn = function iushrn(bits, hint, extended) {
        assert2(typeof bits === "number" && bits >= 0);
        var h6;
        if (hint) {
          h6 = (hint - hint % 26) / 26;
        } else {
          h6 = 0;
        }
        var r3 = bits % 26;
        var s2 = Math.min((bits - r3) / 26, this.length);
        var mask2 = 67108863 ^ 67108863 >>> r3 << r3;
        var maskedWords = extended;
        h6 -= s2;
        h6 = Math.max(0, h6);
        if (maskedWords) {
          for (var i3 = 0; i3 < s2; i3++) {
            maskedWords.words[i3] = this.words[i3];
          }
          maskedWords.length = s2;
        }
        if (s2 === 0) {
        } else if (this.length > s2) {
          this.length -= s2;
          for (i3 = 0; i3 < this.length; i3++) {
            this.words[i3] = this.words[i3 + s2];
          }
        } else {
          this.words[0] = 0;
          this.length = 1;
        }
        var carry = 0;
        for (i3 = this.length - 1; i3 >= 0 && (carry !== 0 || i3 >= h6); i3--) {
          var word = this.words[i3] | 0;
          this.words[i3] = carry << 26 - r3 | word >>> r3;
          carry = word & mask2;
        }
        if (maskedWords && carry !== 0) {
          maskedWords.words[maskedWords.length++] = carry;
        }
        if (this.length === 0) {
          this.words[0] = 0;
          this.length = 1;
        }
        return this.strip();
      };
      BN2.prototype.ishrn = function ishrn(bits, hint, extended) {
        assert2(this.negative === 0);
        return this.iushrn(bits, hint, extended);
      };
      BN2.prototype.shln = function shln(bits) {
        return this.clone().ishln(bits);
      };
      BN2.prototype.ushln = function ushln(bits) {
        return this.clone().iushln(bits);
      };
      BN2.prototype.shrn = function shrn(bits) {
        return this.clone().ishrn(bits);
      };
      BN2.prototype.ushrn = function ushrn(bits) {
        return this.clone().iushrn(bits);
      };
      BN2.prototype.testn = function testn(bit) {
        assert2(typeof bit === "number" && bit >= 0);
        var r3 = bit % 26;
        var s2 = (bit - r3) / 26;
        var q4 = 1 << r3;
        if (this.length <= s2)
          return false;
        var w4 = this.words[s2];
        return !!(w4 & q4);
      };
      BN2.prototype.imaskn = function imaskn(bits) {
        assert2(typeof bits === "number" && bits >= 0);
        var r3 = bits % 26;
        var s2 = (bits - r3) / 26;
        assert2(this.negative === 0, "imaskn works only with positive numbers");
        if (this.length <= s2) {
          return this;
        }
        if (r3 !== 0) {
          s2++;
        }
        this.length = Math.min(s2, this.length);
        if (r3 !== 0) {
          var mask2 = 67108863 ^ 67108863 >>> r3 << r3;
          this.words[this.length - 1] &= mask2;
        }
        return this.strip();
      };
      BN2.prototype.maskn = function maskn(bits) {
        return this.clone().imaskn(bits);
      };
      BN2.prototype.iaddn = function iaddn(num) {
        assert2(typeof num === "number");
        assert2(num < 67108864);
        if (num < 0)
          return this.isubn(-num);
        if (this.negative !== 0) {
          if (this.length === 1 && (this.words[0] | 0) < num) {
            this.words[0] = num - (this.words[0] | 0);
            this.negative = 0;
            return this;
          }
          this.negative = 0;
          this.isubn(num);
          this.negative = 1;
          return this;
        }
        return this._iaddn(num);
      };
      BN2.prototype._iaddn = function _iaddn(num) {
        this.words[0] += num;
        for (var i3 = 0; i3 < this.length && this.words[i3] >= 67108864; i3++) {
          this.words[i3] -= 67108864;
          if (i3 === this.length - 1) {
            this.words[i3 + 1] = 1;
          } else {
            this.words[i3 + 1]++;
          }
        }
        this.length = Math.max(this.length, i3 + 1);
        return this;
      };
      BN2.prototype.isubn = function isubn(num) {
        assert2(typeof num === "number");
        assert2(num < 67108864);
        if (num < 0)
          return this.iaddn(-num);
        if (this.negative !== 0) {
          this.negative = 0;
          this.iaddn(num);
          this.negative = 1;
          return this;
        }
        this.words[0] -= num;
        if (this.length === 1 && this.words[0] < 0) {
          this.words[0] = -this.words[0];
          this.negative = 1;
        } else {
          for (var i3 = 0; i3 < this.length && this.words[i3] < 0; i3++) {
            this.words[i3] += 67108864;
            this.words[i3 + 1] -= 1;
          }
        }
        return this.strip();
      };
      BN2.prototype.addn = function addn(num) {
        return this.clone().iaddn(num);
      };
      BN2.prototype.subn = function subn(num) {
        return this.clone().isubn(num);
      };
      BN2.prototype.iabs = function iabs() {
        this.negative = 0;
        return this;
      };
      BN2.prototype.abs = function abs() {
        return this.clone().iabs();
      };
      BN2.prototype._ishlnsubmul = function _ishlnsubmul(num, mul2, shift) {
        var len = num.length + shift;
        var i3;
        this._expand(len);
        var w4;
        var carry = 0;
        for (i3 = 0; i3 < num.length; i3++) {
          w4 = (this.words[i3 + shift] | 0) + carry;
          var right = (num.words[i3] | 0) * mul2;
          w4 -= right & 67108863;
          carry = (w4 >> 26) - (right / 67108864 | 0);
          this.words[i3 + shift] = w4 & 67108863;
        }
        for (; i3 < this.length - shift; i3++) {
          w4 = (this.words[i3 + shift] | 0) + carry;
          carry = w4 >> 26;
          this.words[i3 + shift] = w4 & 67108863;
        }
        if (carry === 0)
          return this.strip();
        assert2(carry === -1);
        carry = 0;
        for (i3 = 0; i3 < this.length; i3++) {
          w4 = -(this.words[i3] | 0) + carry;
          carry = w4 >> 26;
          this.words[i3] = w4 & 67108863;
        }
        this.negative = 1;
        return this.strip();
      };
      BN2.prototype._wordDiv = function _wordDiv(num, mode) {
        var shift = this.length - num.length;
        var a4 = this.clone();
        var b3 = num;
        var bhi = b3.words[b3.length - 1] | 0;
        var bhiBits = this._countBits(bhi);
        shift = 26 - bhiBits;
        if (shift !== 0) {
          b3 = b3.ushln(shift);
          a4.iushln(shift);
          bhi = b3.words[b3.length - 1] | 0;
        }
        var m3 = a4.length - b3.length;
        var q4;
        if (mode !== "mod") {
          q4 = new BN2(null);
          q4.length = m3 + 1;
          q4.words = new Array(q4.length);
          for (var i3 = 0; i3 < q4.length; i3++) {
            q4.words[i3] = 0;
          }
        }
        var diff = a4.clone()._ishlnsubmul(b3, 1, m3);
        if (diff.negative === 0) {
          a4 = diff;
          if (q4) {
            q4.words[m3] = 1;
          }
        }
        for (var j4 = m3 - 1; j4 >= 0; j4--) {
          var qj = (a4.words[b3.length + j4] | 0) * 67108864 + (a4.words[b3.length + j4 - 1] | 0);
          qj = Math.min(qj / bhi | 0, 67108863);
          a4._ishlnsubmul(b3, qj, j4);
          while (a4.negative !== 0) {
            qj--;
            a4.negative = 0;
            a4._ishlnsubmul(b3, 1, j4);
            if (!a4.isZero()) {
              a4.negative ^= 1;
            }
          }
          if (q4) {
            q4.words[j4] = qj;
          }
        }
        if (q4) {
          q4.strip();
        }
        a4.strip();
        if (mode !== "div" && shift !== 0) {
          a4.iushrn(shift);
        }
        return {
          div: q4 || null,
          mod: a4
        };
      };
      BN2.prototype.divmod = function divmod(num, mode, positive) {
        assert2(!num.isZero());
        if (this.isZero()) {
          return {
            div: new BN2(0),
            mod: new BN2(0)
          };
        }
        var div2, mod2, res;
        if (this.negative !== 0 && num.negative === 0) {
          res = this.neg().divmod(num, mode);
          if (mode !== "mod") {
            div2 = res.div.neg();
          }
          if (mode !== "div") {
            mod2 = res.mod.neg();
            if (positive && mod2.negative !== 0) {
              mod2.iadd(num);
            }
          }
          return {
            div: div2,
            mod: mod2
          };
        }
        if (this.negative === 0 && num.negative !== 0) {
          res = this.divmod(num.neg(), mode);
          if (mode !== "mod") {
            div2 = res.div.neg();
          }
          return {
            div: div2,
            mod: res.mod
          };
        }
        if ((this.negative & num.negative) !== 0) {
          res = this.neg().divmod(num.neg(), mode);
          if (mode !== "div") {
            mod2 = res.mod.neg();
            if (positive && mod2.negative !== 0) {
              mod2.isub(num);
            }
          }
          return {
            div: res.div,
            mod: mod2
          };
        }
        if (num.length > this.length || this.cmp(num) < 0) {
          return {
            div: new BN2(0),
            mod: this
          };
        }
        if (num.length === 1) {
          if (mode === "div") {
            return {
              div: this.divn(num.words[0]),
              mod: null
            };
          }
          if (mode === "mod") {
            return {
              div: null,
              mod: new BN2(this.modn(num.words[0]))
            };
          }
          return {
            div: this.divn(num.words[0]),
            mod: new BN2(this.modn(num.words[0]))
          };
        }
        return this._wordDiv(num, mode);
      };
      BN2.prototype.div = function div2(num) {
        return this.divmod(num, "div", false).div;
      };
      BN2.prototype.mod = function mod2(num) {
        return this.divmod(num, "mod", false).mod;
      };
      BN2.prototype.umod = function umod(num) {
        return this.divmod(num, "mod", true).mod;
      };
      BN2.prototype.divRound = function divRound(num) {
        var dm = this.divmod(num);
        if (dm.mod.isZero())
          return dm.div;
        var mod2 = dm.div.negative !== 0 ? dm.mod.isub(num) : dm.mod;
        var half = num.ushrn(1);
        var r22 = num.andln(1);
        var cmp = mod2.cmp(half);
        if (cmp < 0 || r22 === 1 && cmp === 0)
          return dm.div;
        return dm.div.negative !== 0 ? dm.div.isubn(1) : dm.div.iaddn(1);
      };
      BN2.prototype.modn = function modn(num) {
        assert2(num <= 67108863);
        var p6 = (1 << 26) % num;
        var acc = 0;
        for (var i3 = this.length - 1; i3 >= 0; i3--) {
          acc = (p6 * acc + (this.words[i3] | 0)) % num;
        }
        return acc;
      };
      BN2.prototype.idivn = function idivn(num) {
        assert2(num <= 67108863);
        var carry = 0;
        for (var i3 = this.length - 1; i3 >= 0; i3--) {
          var w4 = (this.words[i3] | 0) + carry * 67108864;
          this.words[i3] = w4 / num | 0;
          carry = w4 % num;
        }
        return this.strip();
      };
      BN2.prototype.divn = function divn(num) {
        return this.clone().idivn(num);
      };
      BN2.prototype.egcd = function egcd(p6) {
        assert2(p6.negative === 0);
        assert2(!p6.isZero());
        var x5 = this;
        var y7 = p6.clone();
        if (x5.negative !== 0) {
          x5 = x5.umod(p6);
        } else {
          x5 = x5.clone();
        }
        var A3 = new BN2(1);
        var B3 = new BN2(0);
        var C3 = new BN2(0);
        var D4 = new BN2(1);
        var g5 = 0;
        while (x5.isEven() && y7.isEven()) {
          x5.iushrn(1);
          y7.iushrn(1);
          ++g5;
        }
        var yp = y7.clone();
        var xp = x5.clone();
        while (!x5.isZero()) {
          for (var i3 = 0, im = 1; (x5.words[0] & im) === 0 && i3 < 26; ++i3, im <<= 1)
            ;
          if (i3 > 0) {
            x5.iushrn(i3);
            while (i3-- > 0) {
              if (A3.isOdd() || B3.isOdd()) {
                A3.iadd(yp);
                B3.isub(xp);
              }
              A3.iushrn(1);
              B3.iushrn(1);
            }
          }
          for (var j4 = 0, jm = 1; (y7.words[0] & jm) === 0 && j4 < 26; ++j4, jm <<= 1)
            ;
          if (j4 > 0) {
            y7.iushrn(j4);
            while (j4-- > 0) {
              if (C3.isOdd() || D4.isOdd()) {
                C3.iadd(yp);
                D4.isub(xp);
              }
              C3.iushrn(1);
              D4.iushrn(1);
            }
          }
          if (x5.cmp(y7) >= 0) {
            x5.isub(y7);
            A3.isub(C3);
            B3.isub(D4);
          } else {
            y7.isub(x5);
            C3.isub(A3);
            D4.isub(B3);
          }
        }
        return {
          a: C3,
          b: D4,
          gcd: y7.iushln(g5)
        };
      };
      BN2.prototype._invmp = function _invmp(p6) {
        assert2(p6.negative === 0);
        assert2(!p6.isZero());
        var a4 = this;
        var b3 = p6.clone();
        if (a4.negative !== 0) {
          a4 = a4.umod(p6);
        } else {
          a4 = a4.clone();
        }
        var x1 = new BN2(1);
        var x22 = new BN2(0);
        var delta = b3.clone();
        while (a4.cmpn(1) > 0 && b3.cmpn(1) > 0) {
          for (var i3 = 0, im = 1; (a4.words[0] & im) === 0 && i3 < 26; ++i3, im <<= 1)
            ;
          if (i3 > 0) {
            a4.iushrn(i3);
            while (i3-- > 0) {
              if (x1.isOdd()) {
                x1.iadd(delta);
              }
              x1.iushrn(1);
            }
          }
          for (var j4 = 0, jm = 1; (b3.words[0] & jm) === 0 && j4 < 26; ++j4, jm <<= 1)
            ;
          if (j4 > 0) {
            b3.iushrn(j4);
            while (j4-- > 0) {
              if (x22.isOdd()) {
                x22.iadd(delta);
              }
              x22.iushrn(1);
            }
          }
          if (a4.cmp(b3) >= 0) {
            a4.isub(b3);
            x1.isub(x22);
          } else {
            b3.isub(a4);
            x22.isub(x1);
          }
        }
        var res;
        if (a4.cmpn(1) === 0) {
          res = x1;
        } else {
          res = x22;
        }
        if (res.cmpn(0) < 0) {
          res.iadd(p6);
        }
        return res;
      };
      BN2.prototype.gcd = function gcd(num) {
        if (this.isZero())
          return num.abs();
        if (num.isZero())
          return this.abs();
        var a4 = this.clone();
        var b3 = num.clone();
        a4.negative = 0;
        b3.negative = 0;
        for (var shift = 0; a4.isEven() && b3.isEven(); shift++) {
          a4.iushrn(1);
          b3.iushrn(1);
        }
        do {
          while (a4.isEven()) {
            a4.iushrn(1);
          }
          while (b3.isEven()) {
            b3.iushrn(1);
          }
          var r3 = a4.cmp(b3);
          if (r3 < 0) {
            var t2 = a4;
            a4 = b3;
            b3 = t2;
          } else if (r3 === 0 || b3.cmpn(1) === 0) {
            break;
          }
          a4.isub(b3);
        } while (true);
        return b3.iushln(shift);
      };
      BN2.prototype.invm = function invm(num) {
        return this.egcd(num).a.umod(num);
      };
      BN2.prototype.isEven = function isEven() {
        return (this.words[0] & 1) === 0;
      };
      BN2.prototype.isOdd = function isOdd() {
        return (this.words[0] & 1) === 1;
      };
      BN2.prototype.andln = function andln(num) {
        return this.words[0] & num;
      };
      BN2.prototype.bincn = function bincn(bit) {
        assert2(typeof bit === "number");
        var r3 = bit % 26;
        var s2 = (bit - r3) / 26;
        var q4 = 1 << r3;
        if (this.length <= s2) {
          this._expand(s2 + 1);
          this.words[s2] |= q4;
          return this;
        }
        var carry = q4;
        for (var i3 = s2; carry !== 0 && i3 < this.length; i3++) {
          var w4 = this.words[i3] | 0;
          w4 += carry;
          carry = w4 >>> 26;
          w4 &= 67108863;
          this.words[i3] = w4;
        }
        if (carry !== 0) {
          this.words[i3] = carry;
          this.length++;
        }
        return this;
      };
      BN2.prototype.isZero = function isZero() {
        return this.length === 1 && this.words[0] === 0;
      };
      BN2.prototype.cmpn = function cmpn(num) {
        var negative = num < 0;
        if (this.negative !== 0 && !negative)
          return -1;
        if (this.negative === 0 && negative)
          return 1;
        this.strip();
        var res;
        if (this.length > 1) {
          res = 1;
        } else {
          if (negative) {
            num = -num;
          }
          assert2(num <= 67108863, "Number is too big");
          var w4 = this.words[0] | 0;
          res = w4 === num ? 0 : w4 < num ? -1 : 1;
        }
        if (this.negative !== 0)
          return -res | 0;
        return res;
      };
      BN2.prototype.cmp = function cmp(num) {
        if (this.negative !== 0 && num.negative === 0)
          return -1;
        if (this.negative === 0 && num.negative !== 0)
          return 1;
        var res = this.ucmp(num);
        if (this.negative !== 0)
          return -res | 0;
        return res;
      };
      BN2.prototype.ucmp = function ucmp(num) {
        if (this.length > num.length)
          return 1;
        if (this.length < num.length)
          return -1;
        var res = 0;
        for (var i3 = this.length - 1; i3 >= 0; i3--) {
          var a4 = this.words[i3] | 0;
          var b3 = num.words[i3] | 0;
          if (a4 === b3)
            continue;
          if (a4 < b3) {
            res = -1;
          } else if (a4 > b3) {
            res = 1;
          }
          break;
        }
        return res;
      };
      BN2.prototype.gtn = function gtn(num) {
        return this.cmpn(num) === 1;
      };
      BN2.prototype.gt = function gt3(num) {
        return this.cmp(num) === 1;
      };
      BN2.prototype.gten = function gten(num) {
        return this.cmpn(num) >= 0;
      };
      BN2.prototype.gte = function gte(num) {
        return this.cmp(num) >= 0;
      };
      BN2.prototype.ltn = function ltn(num) {
        return this.cmpn(num) === -1;
      };
      BN2.prototype.lt = function lt3(num) {
        return this.cmp(num) === -1;
      };
      BN2.prototype.lten = function lten(num) {
        return this.cmpn(num) <= 0;
      };
      BN2.prototype.lte = function lte(num) {
        return this.cmp(num) <= 0;
      };
      BN2.prototype.eqn = function eqn(num) {
        return this.cmpn(num) === 0;
      };
      BN2.prototype.eq = function eq(num) {
        return this.cmp(num) === 0;
      };
      BN2.red = function red(num) {
        return new Red(num);
      };
      BN2.prototype.toRed = function toRed(ctx) {
        assert2(!this.red, "Already a number in reduction context");
        assert2(this.negative === 0, "red works only with positives");
        return ctx.convertTo(this)._forceRed(ctx);
      };
      BN2.prototype.fromRed = function fromRed() {
        assert2(this.red, "fromRed works only with numbers in reduction context");
        return this.red.convertFrom(this);
      };
      BN2.prototype._forceRed = function _forceRed(ctx) {
        this.red = ctx;
        return this;
      };
      BN2.prototype.forceRed = function forceRed(ctx) {
        assert2(!this.red, "Already a number in reduction context");
        return this._forceRed(ctx);
      };
      BN2.prototype.redAdd = function redAdd(num) {
        assert2(this.red, "redAdd works only with red numbers");
        return this.red.add(this, num);
      };
      BN2.prototype.redIAdd = function redIAdd(num) {
        assert2(this.red, "redIAdd works only with red numbers");
        return this.red.iadd(this, num);
      };
      BN2.prototype.redSub = function redSub(num) {
        assert2(this.red, "redSub works only with red numbers");
        return this.red.sub(this, num);
      };
      BN2.prototype.redISub = function redISub(num) {
        assert2(this.red, "redISub works only with red numbers");
        return this.red.isub(this, num);
      };
      BN2.prototype.redShl = function redShl(num) {
        assert2(this.red, "redShl works only with red numbers");
        return this.red.shl(this, num);
      };
      BN2.prototype.redMul = function redMul(num) {
        assert2(this.red, "redMul works only with red numbers");
        this.red._verify2(this, num);
        return this.red.mul(this, num);
      };
      BN2.prototype.redIMul = function redIMul(num) {
        assert2(this.red, "redMul works only with red numbers");
        this.red._verify2(this, num);
        return this.red.imul(this, num);
      };
      BN2.prototype.redSqr = function redSqr() {
        assert2(this.red, "redSqr works only with red numbers");
        this.red._verify1(this);
        return this.red.sqr(this);
      };
      BN2.prototype.redISqr = function redISqr() {
        assert2(this.red, "redISqr works only with red numbers");
        this.red._verify1(this);
        return this.red.isqr(this);
      };
      BN2.prototype.redSqrt = function redSqrt() {
        assert2(this.red, "redSqrt works only with red numbers");
        this.red._verify1(this);
        return this.red.sqrt(this);
      };
      BN2.prototype.redInvm = function redInvm() {
        assert2(this.red, "redInvm works only with red numbers");
        this.red._verify1(this);
        return this.red.invm(this);
      };
      BN2.prototype.redNeg = function redNeg() {
        assert2(this.red, "redNeg works only with red numbers");
        this.red._verify1(this);
        return this.red.neg(this);
      };
      BN2.prototype.redPow = function redPow(num) {
        assert2(this.red && !num.red, "redPow(normalNum)");
        this.red._verify1(this);
        return this.red.pow(this, num);
      };
      var primes = {
        k256: null,
        p224: null,
        p192: null,
        p25519: null
      };
      function MPrime(name3, p6) {
        this.name = name3;
        this.p = new BN2(p6, 16);
        this.n = this.p.bitLength();
        this.k = new BN2(1).iushln(this.n).isub(this.p);
        this.tmp = this._tmp();
      }
      MPrime.prototype._tmp = function _tmp() {
        var tmp = new BN2(null);
        tmp.words = new Array(Math.ceil(this.n / 13));
        return tmp;
      };
      MPrime.prototype.ireduce = function ireduce(num) {
        var r3 = num;
        var rlen;
        do {
          this.split(r3, this.tmp);
          r3 = this.imulK(r3);
          r3 = r3.iadd(this.tmp);
          rlen = r3.bitLength();
        } while (rlen > this.n);
        var cmp = rlen < this.n ? -1 : r3.ucmp(this.p);
        if (cmp === 0) {
          r3.words[0] = 0;
          r3.length = 1;
        } else if (cmp > 0) {
          r3.isub(this.p);
        } else {
          r3.strip();
        }
        return r3;
      };
      MPrime.prototype.split = function split(input, out) {
        input.iushrn(this.n, 0, out);
      };
      MPrime.prototype.imulK = function imulK(num) {
        return num.imul(this.k);
      };
      function K256() {
        MPrime.call(
          this,
          "k256",
          "ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f"
        );
      }
      inherits(K256, MPrime);
      K256.prototype.split = function split(input, output) {
        var mask2 = 4194303;
        var outLen = Math.min(input.length, 9);
        for (var i3 = 0; i3 < outLen; i3++) {
          output.words[i3] = input.words[i3];
        }
        output.length = outLen;
        if (input.length <= 9) {
          input.words[0] = 0;
          input.length = 1;
          return;
        }
        var prev = input.words[9];
        output.words[output.length++] = prev & mask2;
        for (i3 = 10; i3 < input.length; i3++) {
          var next = input.words[i3] | 0;
          input.words[i3 - 10] = (next & mask2) << 4 | prev >>> 22;
          prev = next;
        }
        prev >>>= 22;
        input.words[i3 - 10] = prev;
        if (prev === 0 && input.length > 10) {
          input.length -= 10;
        } else {
          input.length -= 9;
        }
      };
      K256.prototype.imulK = function imulK(num) {
        num.words[num.length] = 0;
        num.words[num.length + 1] = 0;
        num.length += 2;
        var lo = 0;
        for (var i3 = 0; i3 < num.length; i3++) {
          var w4 = num.words[i3] | 0;
          lo += w4 * 977;
          num.words[i3] = lo & 67108863;
          lo = w4 * 64 + (lo / 67108864 | 0);
        }
        if (num.words[num.length - 1] === 0) {
          num.length--;
          if (num.words[num.length - 1] === 0) {
            num.length--;
          }
        }
        return num;
      };
      function P224() {
        MPrime.call(
          this,
          "p224",
          "ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001"
        );
      }
      inherits(P224, MPrime);
      function P192() {
        MPrime.call(
          this,
          "p192",
          "ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff"
        );
      }
      inherits(P192, MPrime);
      function P25519() {
        MPrime.call(
          this,
          "25519",
          "7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed"
        );
      }
      inherits(P25519, MPrime);
      P25519.prototype.imulK = function imulK(num) {
        var carry = 0;
        for (var i3 = 0; i3 < num.length; i3++) {
          var hi = (num.words[i3] | 0) * 19 + carry;
          var lo = hi & 67108863;
          hi >>>= 26;
          num.words[i3] = lo;
          carry = hi;
        }
        if (carry !== 0) {
          num.words[num.length++] = carry;
        }
        return num;
      };
      BN2._prime = function prime(name3) {
        if (primes[name3])
          return primes[name3];
        var prime2;
        if (name3 === "k256") {
          prime2 = new K256();
        } else if (name3 === "p224") {
          prime2 = new P224();
        } else if (name3 === "p192") {
          prime2 = new P192();
        } else if (name3 === "p25519") {
          prime2 = new P25519();
        } else {
          throw new Error("Unknown prime " + name3);
        }
        primes[name3] = prime2;
        return prime2;
      };
      function Red(m3) {
        if (typeof m3 === "string") {
          var prime = BN2._prime(m3);
          this.m = prime.p;
          this.prime = prime;
        } else {
          assert2(m3.gtn(1), "modulus must be greater than 1");
          this.m = m3;
          this.prime = null;
        }
      }
      Red.prototype._verify1 = function _verify1(a4) {
        assert2(a4.negative === 0, "red works only with positives");
        assert2(a4.red, "red works only with red numbers");
      };
      Red.prototype._verify2 = function _verify2(a4, b3) {
        assert2((a4.negative | b3.negative) === 0, "red works only with positives");
        assert2(
          a4.red && a4.red === b3.red,
          "red works only with red numbers"
        );
      };
      Red.prototype.imod = function imod(a4) {
        if (this.prime)
          return this.prime.ireduce(a4)._forceRed(this);
        return a4.umod(this.m)._forceRed(this);
      };
      Red.prototype.neg = function neg(a4) {
        if (a4.isZero()) {
          return a4.clone();
        }
        return this.m.sub(a4)._forceRed(this);
      };
      Red.prototype.add = function add2(a4, b3) {
        this._verify2(a4, b3);
        var res = a4.add(b3);
        if (res.cmp(this.m) >= 0) {
          res.isub(this.m);
        }
        return res._forceRed(this);
      };
      Red.prototype.iadd = function iadd(a4, b3) {
        this._verify2(a4, b3);
        var res = a4.iadd(b3);
        if (res.cmp(this.m) >= 0) {
          res.isub(this.m);
        }
        return res;
      };
      Red.prototype.sub = function sub2(a4, b3) {
        this._verify2(a4, b3);
        var res = a4.sub(b3);
        if (res.cmpn(0) < 0) {
          res.iadd(this.m);
        }
        return res._forceRed(this);
      };
      Red.prototype.isub = function isub(a4, b3) {
        this._verify2(a4, b3);
        var res = a4.isub(b3);
        if (res.cmpn(0) < 0) {
          res.iadd(this.m);
        }
        return res;
      };
      Red.prototype.shl = function shl(a4, num) {
        this._verify1(a4);
        return this.imod(a4.ushln(num));
      };
      Red.prototype.imul = function imul(a4, b3) {
        this._verify2(a4, b3);
        return this.imod(a4.imul(b3));
      };
      Red.prototype.mul = function mul2(a4, b3) {
        this._verify2(a4, b3);
        return this.imod(a4.mul(b3));
      };
      Red.prototype.isqr = function isqr(a4) {
        return this.imul(a4, a4.clone());
      };
      Red.prototype.sqr = function sqr(a4) {
        return this.mul(a4, a4);
      };
      Red.prototype.sqrt = function sqrt(a4) {
        if (a4.isZero())
          return a4.clone();
        var mod3 = this.m.andln(3);
        assert2(mod3 % 2 === 1);
        if (mod3 === 3) {
          var pow = this.m.add(new BN2(1)).iushrn(2);
          return this.pow(a4, pow);
        }
        var q4 = this.m.subn(1);
        var s2 = 0;
        while (!q4.isZero() && q4.andln(1) === 0) {
          s2++;
          q4.iushrn(1);
        }
        assert2(!q4.isZero());
        var one = new BN2(1).toRed(this);
        var nOne = one.redNeg();
        var lpow = this.m.subn(1).iushrn(1);
        var z3 = this.m.bitLength();
        z3 = new BN2(2 * z3 * z3).toRed(this);
        while (this.pow(z3, lpow).cmp(nOne) !== 0) {
          z3.redIAdd(nOne);
        }
        var c3 = this.pow(z3, q4);
        var r3 = this.pow(a4, q4.addn(1).iushrn(1));
        var t2 = this.pow(a4, q4);
        var m3 = s2;
        while (t2.cmp(one) !== 0) {
          var tmp = t2;
          for (var i3 = 0; tmp.cmp(one) !== 0; i3++) {
            tmp = tmp.redSqr();
          }
          assert2(i3 < m3);
          var b3 = this.pow(c3, new BN2(1).iushln(m3 - i3 - 1));
          r3 = r3.redMul(b3);
          c3 = b3.redSqr();
          t2 = t2.redMul(c3);
          m3 = i3;
        }
        return r3;
      };
      Red.prototype.invm = function invm(a4) {
        var inv = a4._invmp(this.m);
        if (inv.negative !== 0) {
          inv.negative = 0;
          return this.imod(inv).redNeg();
        } else {
          return this.imod(inv);
        }
      };
      Red.prototype.pow = function pow(a4, num) {
        if (num.isZero())
          return new BN2(1).toRed(this);
        if (num.cmpn(1) === 0)
          return a4.clone();
        var windowSize = 4;
        var wnd = new Array(1 << windowSize);
        wnd[0] = new BN2(1).toRed(this);
        wnd[1] = a4;
        for (var i3 = 2; i3 < wnd.length; i3++) {
          wnd[i3] = this.mul(wnd[i3 - 1], a4);
        }
        var res = wnd[0];
        var current = 0;
        var currentLen = 0;
        var start = num.bitLength() % 26;
        if (start === 0) {
          start = 26;
        }
        for (i3 = num.length - 1; i3 >= 0; i3--) {
          var word = num.words[i3];
          for (var j4 = start - 1; j4 >= 0; j4--) {
            var bit = word >> j4 & 1;
            if (res !== wnd[0]) {
              res = this.sqr(res);
            }
            if (bit === 0 && current === 0) {
              currentLen = 0;
              continue;
            }
            current <<= 1;
            current |= bit;
            currentLen++;
            if (currentLen !== windowSize && (i3 !== 0 || j4 !== 0))
              continue;
            res = this.mul(res, wnd[current]);
            currentLen = 0;
            current = 0;
          }
          start = 26;
        }
        return res;
      };
      Red.prototype.convertTo = function convertTo(num) {
        var r3 = num.umod(this.m);
        return r3 === num ? r3.clone() : r3;
      };
      Red.prototype.convertFrom = function convertFrom(num) {
        var res = num.clone();
        res.red = null;
        return res;
      };
      BN2.mont = function mont(num) {
        return new Mont(num);
      };
      function Mont(m3) {
        Red.call(this, m3);
        this.shift = this.m.bitLength();
        if (this.shift % 26 !== 0) {
          this.shift += 26 - this.shift % 26;
        }
        this.r = new BN2(1).iushln(this.shift);
        this.r2 = this.imod(this.r.sqr());
        this.rinv = this.r._invmp(this.m);
        this.minv = this.rinv.mul(this.r).isubn(1).div(this.m);
        this.minv = this.minv.umod(this.r);
        this.minv = this.r.sub(this.minv);
      }
      inherits(Mont, Red);
      Mont.prototype.convertTo = function convertTo(num) {
        return this.imod(num.ushln(this.shift));
      };
      Mont.prototype.convertFrom = function convertFrom(num) {
        var r3 = this.imod(num.mul(this.rinv));
        r3.red = null;
        return r3;
      };
      Mont.prototype.imul = function imul(a4, b3) {
        if (a4.isZero() || b3.isZero()) {
          a4.words[0] = 0;
          a4.length = 1;
          return a4;
        }
        var t2 = a4.imul(b3);
        var c3 = t2.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
        var u4 = t2.isub(c3).iushrn(this.shift);
        var res = u4;
        if (u4.cmp(this.m) >= 0) {
          res = u4.isub(this.m);
        } else if (u4.cmpn(0) < 0) {
          res = u4.iadd(this.m);
        }
        return res._forceRed(this);
      };
      Mont.prototype.mul = function mul2(a4, b3) {
        if (a4.isZero() || b3.isZero())
          return new BN2(0)._forceRed(this);
        var t2 = a4.mul(b3);
        var c3 = t2.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m);
        var u4 = t2.isub(c3).iushrn(this.shift);
        var res = u4;
        if (u4.cmp(this.m) >= 0) {
          res = u4.isub(this.m);
        } else if (u4.cmpn(0) < 0) {
          res = u4.iadd(this.m);
        }
        return res._forceRed(this);
      };
      Mont.prototype.invm = function invm(a4) {
        var res = this.imod(a4._invmp(this.m).mul(this.r2));
        return res._forceRed(this);
      };
    })(typeof module2 === "undefined" || module2, exports2);
  }
});

// node_modules/.pnpm/is-typedarray@1.0.0/node_modules/is-typedarray/index.js
var require_is_typedarray = __commonJS({
  "node_modules/.pnpm/is-typedarray@1.0.0/node_modules/is-typedarray/index.js"(exports2, module2) {
    module2.exports = isTypedArray2;
    isTypedArray2.strict = isStrictTypedArray;
    isTypedArray2.loose = isLooseTypedArray;
    var toString3 = Object.prototype.toString;
    var names = {
      "[object Int8Array]": true,
      "[object Int16Array]": true,
      "[object Int32Array]": true,
      "[object Uint8Array]": true,
      "[object Uint8ClampedArray]": true,
      "[object Uint16Array]": true,
      "[object Uint32Array]": true,
      "[object Float32Array]": true,
      "[object Float64Array]": true
    };
    function isTypedArray2(arr) {
      return isStrictTypedArray(arr) || isLooseTypedArray(arr);
    }
    function isStrictTypedArray(arr) {
      return arr instanceof Int8Array || arr instanceof Int16Array || arr instanceof Int32Array || arr instanceof Uint8Array || arr instanceof Uint8ClampedArray || arr instanceof Uint16Array || arr instanceof Uint32Array || arr instanceof Float32Array || arr instanceof Float64Array;
    }
    function isLooseTypedArray(arr) {
      return names[toString3.call(arr)];
    }
  }
});

// node_modules/.pnpm/typedarray-to-buffer@3.1.5/node_modules/typedarray-to-buffer/index.js
var require_typedarray_to_buffer = __commonJS({
  "node_modules/.pnpm/typedarray-to-buffer@3.1.5/node_modules/typedarray-to-buffer/index.js"(exports2, module2) {
    var isTypedArray2 = require_is_typedarray().strict;
    module2.exports = function typedarrayToBuffer(arr) {
      if (isTypedArray2(arr)) {
        var buf = Buffer.from(arr.buffer);
        if (arr.byteLength !== arr.buffer.byteLength) {
          buf = buf.slice(arr.byteOffset, arr.byteOffset + arr.byteLength);
        }
        return buf;
      } else {
        return Buffer.from(arr);
      }
    };
  }
});

// node_modules/.pnpm/@walletconnect+encoding@1.0.2/node_modules/@walletconnect/encoding/dist/esm/index.js
function bufferToArray(buf) {
  return new Uint8Array(buf);
}
function bufferToHex(buf, prefixed = false) {
  const hex = buf.toString(ENC_HEX);
  return prefixed ? addHexPrefix(hex) : hex;
}
function bufferToUtf8(buf) {
  return buf.toString(ENC_UTF8);
}
function arrayToBuffer(arr) {
  return (0, import_typedarray_to_buffer.default)(arr);
}
function arrayToHex(arr, prefixed = false) {
  return bufferToHex(arrayToBuffer(arr), prefixed);
}
function arrayToUtf8(arr) {
  return bufferToUtf8(arrayToBuffer(arr));
}
function hexToBuffer(hex) {
  return Buffer.from(removeHexPrefix(hex), ENC_HEX);
}
function hexToArray(hex) {
  return bufferToArray(hexToBuffer(hex));
}
function utf8ToBuffer(utf8) {
  return Buffer.from(utf8, ENC_UTF8);
}
function utf8ToArray(utf8) {
  return bufferToArray(utf8ToBuffer(utf8));
}
function utf8ToHex(utf8, prefixed = false) {
  return bufferToHex(utf8ToBuffer(utf8), prefixed);
}
function isHexString(str, length3) {
  if (typeof str !== "string" || !str.match(/^0x[0-9A-Fa-f]*$/)) {
    return false;
  }
  if (length3 && str.length !== 2 + 2 * length3) {
    return false;
  }
  return true;
}
function concatArrays(...args) {
  let result = [];
  args.forEach((arg) => result = result.concat(Array.from(arg)));
  return new Uint8Array([...result]);
}
function calcByteLength(length3, byteSize = 8) {
  const remainder = length3 % byteSize;
  return remainder ? (length3 - remainder) / byteSize * byteSize + byteSize : length3;
}
function sanitizeBytes(str, byteSize = 8, padding = STRING_ZERO) {
  return padLeft(str, calcByteLength(str.length, byteSize), padding);
}
function padLeft(str, length3, padding = STRING_ZERO) {
  return padString(str, length3, true, padding);
}
function removeHexPrefix(hex) {
  return hex.replace(/^0x/, "");
}
function addHexPrefix(hex) {
  return hex.startsWith("0x") ? hex : `0x${hex}`;
}
function sanitizeHex(hex) {
  hex = removeHexPrefix(hex);
  hex = sanitizeBytes(hex, 2);
  if (hex) {
    hex = addHexPrefix(hex);
  }
  return hex;
}
function removeHexLeadingZeros(hex) {
  const prefixed = hex.startsWith("0x");
  hex = removeHexPrefix(hex);
  hex = hex.startsWith(STRING_ZERO) ? hex.substring(1) : hex;
  return prefixed ? addHexPrefix(hex) : hex;
}
function padString(str, length3, left, padding = STRING_ZERO) {
  const diff = length3 - str.length;
  let result = str;
  if (diff > 0) {
    const pad = padding.repeat(diff);
    result = left ? pad + str : str + pad;
  }
  return result;
}
var import_is_typedarray, import_typedarray_to_buffer, ENC_HEX, ENC_UTF8, STRING_ZERO;
var init_esm4 = __esm({
  "node_modules/.pnpm/@walletconnect+encoding@1.0.2/node_modules/@walletconnect/encoding/dist/esm/index.js"() {
    import_is_typedarray = __toESM(require_is_typedarray());
    import_typedarray_to_buffer = __toESM(require_typedarray_to_buffer());
    ENC_HEX = "hex";
    ENC_UTF8 = "utf8";
    STRING_ZERO = "0";
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/encoding.js
function convertArrayBufferToBuffer(arrBuf) {
  return arrayToBuffer(new Uint8Array(arrBuf));
}
function convertArrayBufferToHex(arrBuf, noPrefix) {
  return arrayToHex(new Uint8Array(arrBuf), !noPrefix);
}
function convertBufferToArrayBuffer(buf) {
  return bufferToArray(buf).buffer;
}
function convertUtf8ToBuffer(utf8) {
  return utf8ToBuffer(utf8);
}
function convertUtf8ToHex(utf8, noPrefix) {
  return utf8ToHex(utf8, !noPrefix);
}
function convertHexToArrayBuffer(hex) {
  return hexToArray(hex).buffer;
}
function convertNumberToHex(num, noPrefix) {
  const hex = removeHexPrefix(sanitizeHex(new import_bn.default(num).toString(16)));
  return noPrefix ? hex : addHexPrefix(hex);
}
var import_bn;
var init_encoding = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/encoding.js"() {
    import_bn = __toESM(require_bn());
    init_esm4();
  }
});

// node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js
var require_sha3 = __commonJS({
  "node_modules/.pnpm/js-sha3@0.8.0/node_modules/js-sha3/src/sha3.js"(exports2, module2) {
    (function() {
      "use strict";
      var INPUT_ERROR = "input is invalid type";
      var FINALIZE_ERROR = "finalize already called";
      var WINDOW = typeof window === "object";
      var root = WINDOW ? window : {};
      if (root.JS_SHA3_NO_WINDOW) {
        WINDOW = false;
      }
      var WEB_WORKER = !WINDOW && typeof self === "object";
      var NODE_JS = !root.JS_SHA3_NO_NODE_JS && typeof process === "object" && process.versions && process.versions.node;
      if (NODE_JS) {
        root = globalThis;
      } else if (WEB_WORKER) {
        root = self;
      }
      var COMMON_JS = !root.JS_SHA3_NO_COMMON_JS && typeof module2 === "object" && module2.exports;
      var AMD = typeof define === "function" && define.amd;
      var ARRAY_BUFFER = !root.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer !== "undefined";
      var HEX_CHARS = "0123456789abcdef".split("");
      var SHAKE_PADDING = [31, 7936, 2031616, 520093696];
      var CSHAKE_PADDING = [4, 1024, 262144, 67108864];
      var KECCAK_PADDING = [1, 256, 65536, 16777216];
      var PADDING2 = [6, 1536, 393216, 100663296];
      var SHIFT = [0, 8, 16, 24];
      var RC = [
        1,
        0,
        32898,
        0,
        32906,
        2147483648,
        2147516416,
        2147483648,
        32907,
        0,
        2147483649,
        0,
        2147516545,
        2147483648,
        32777,
        2147483648,
        138,
        0,
        136,
        0,
        2147516425,
        0,
        2147483658,
        0,
        2147516555,
        0,
        139,
        2147483648,
        32905,
        2147483648,
        32771,
        2147483648,
        32770,
        2147483648,
        128,
        2147483648,
        32778,
        0,
        2147483658,
        2147483648,
        2147516545,
        2147483648,
        32896,
        2147483648,
        2147483649,
        0,
        2147516424,
        2147483648
      ];
      var BITS = [224, 256, 384, 512];
      var SHAKE_BITS = [128, 256];
      var OUTPUT_TYPES = ["hex", "buffer", "arrayBuffer", "array", "digest"];
      var CSHAKE_BYTEPAD = {
        "128": 168,
        "256": 136
      };
      if (root.JS_SHA3_NO_NODE_JS || !Array.isArray) {
        Array.isArray = function(obj) {
          return Object.prototype.toString.call(obj) === "[object Array]";
        };
      }
      if (ARRAY_BUFFER && (root.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView)) {
        ArrayBuffer.isView = function(obj) {
          return typeof obj === "object" && obj.buffer && obj.buffer.constructor === ArrayBuffer;
        };
      }
      var createOutputMethod = function(bits2, padding, outputType) {
        return function(message) {
          return new Keccak(bits2, padding, bits2).update(message)[outputType]();
        };
      };
      var createShakeOutputMethod = function(bits2, padding, outputType) {
        return function(message, outputBits) {
          return new Keccak(bits2, padding, outputBits).update(message)[outputType]();
        };
      };
      var createCshakeOutputMethod = function(bits2, padding, outputType) {
        return function(message, outputBits, n4, s2) {
          return methods["cshake" + bits2].update(message, outputBits, n4, s2)[outputType]();
        };
      };
      var createKmacOutputMethod = function(bits2, padding, outputType) {
        return function(key2, message, outputBits, s2) {
          return methods["kmac" + bits2].update(key2, message, outputBits, s2)[outputType]();
        };
      };
      var createOutputMethods = function(method, createMethod2, bits2, padding) {
        for (var i4 = 0; i4 < OUTPUT_TYPES.length; ++i4) {
          var type = OUTPUT_TYPES[i4];
          method[type] = createMethod2(bits2, padding, type);
        }
        return method;
      };
      var createMethod = function(bits2, padding) {
        var method = createOutputMethod(bits2, padding, "hex");
        method.create = function() {
          return new Keccak(bits2, padding, bits2);
        };
        method.update = function(message) {
          return method.create().update(message);
        };
        return createOutputMethods(method, createOutputMethod, bits2, padding);
      };
      var createShakeMethod = function(bits2, padding) {
        var method = createShakeOutputMethod(bits2, padding, "hex");
        method.create = function(outputBits) {
          return new Keccak(bits2, padding, outputBits);
        };
        method.update = function(message, outputBits) {
          return method.create(outputBits).update(message);
        };
        return createOutputMethods(method, createShakeOutputMethod, bits2, padding);
      };
      var createCshakeMethod = function(bits2, padding) {
        var w4 = CSHAKE_BYTEPAD[bits2];
        var method = createCshakeOutputMethod(bits2, padding, "hex");
        method.create = function(outputBits, n4, s2) {
          if (!n4 && !s2) {
            return methods["shake" + bits2].create(outputBits);
          } else {
            return new Keccak(bits2, padding, outputBits).bytepad([n4, s2], w4);
          }
        };
        method.update = function(message, outputBits, n4, s2) {
          return method.create(outputBits, n4, s2).update(message);
        };
        return createOutputMethods(method, createCshakeOutputMethod, bits2, padding);
      };
      var createKmacMethod = function(bits2, padding) {
        var w4 = CSHAKE_BYTEPAD[bits2];
        var method = createKmacOutputMethod(bits2, padding, "hex");
        method.create = function(key2, outputBits, s2) {
          return new Kmac(bits2, padding, outputBits).bytepad(["KMAC", s2], w4).bytepad([key2], w4);
        };
        method.update = function(key2, message, outputBits, s2) {
          return method.create(key2, outputBits, s2).update(message);
        };
        return createOutputMethods(method, createKmacOutputMethod, bits2, padding);
      };
      var algorithms = [
        { name: "keccak", padding: KECCAK_PADDING, bits: BITS, createMethod },
        { name: "sha3", padding: PADDING2, bits: BITS, createMethod },
        { name: "shake", padding: SHAKE_PADDING, bits: SHAKE_BITS, createMethod: createShakeMethod },
        { name: "cshake", padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createCshakeMethod },
        { name: "kmac", padding: CSHAKE_PADDING, bits: SHAKE_BITS, createMethod: createKmacMethod }
      ];
      var methods = {}, methodNames = [];
      for (var i3 = 0; i3 < algorithms.length; ++i3) {
        var algorithm = algorithms[i3];
        var bits = algorithm.bits;
        for (var j4 = 0; j4 < bits.length; ++j4) {
          var methodName = algorithm.name + "_" + bits[j4];
          methodNames.push(methodName);
          methods[methodName] = algorithm.createMethod(bits[j4], algorithm.padding);
          if (algorithm.name !== "sha3") {
            var newMethodName = algorithm.name + bits[j4];
            methodNames.push(newMethodName);
            methods[newMethodName] = methods[methodName];
          }
        }
      }
      function Keccak(bits2, padding, outputBits) {
        this.blocks = [];
        this.s = [];
        this.padding = padding;
        this.outputBits = outputBits;
        this.reset = true;
        this.finalized = false;
        this.block = 0;
        this.start = 0;
        this.blockCount = 1600 - (bits2 << 1) >> 5;
        this.byteCount = this.blockCount << 2;
        this.outputBlocks = outputBits >> 5;
        this.extraBytes = (outputBits & 31) >> 3;
        for (var i4 = 0; i4 < 50; ++i4) {
          this.s[i4] = 0;
        }
      }
      Keccak.prototype.update = function(message) {
        if (this.finalized) {
          throw new Error(FINALIZE_ERROR);
        }
        var notString, type = typeof message;
        if (type !== "string") {
          if (type === "object") {
            if (message === null) {
              throw new Error(INPUT_ERROR);
            } else if (ARRAY_BUFFER && message.constructor === ArrayBuffer) {
              message = new Uint8Array(message);
            } else if (!Array.isArray(message)) {
              if (!ARRAY_BUFFER || !ArrayBuffer.isView(message)) {
                throw new Error(INPUT_ERROR);
              }
            }
          } else {
            throw new Error(INPUT_ERROR);
          }
          notString = true;
        }
        var blocks = this.blocks, byteCount = this.byteCount, length3 = message.length, blockCount = this.blockCount, index2 = 0, s2 = this.s, i4, code2;
        while (index2 < length3) {
          if (this.reset) {
            this.reset = false;
            blocks[0] = this.block;
            for (i4 = 1; i4 < blockCount + 1; ++i4) {
              blocks[i4] = 0;
            }
          }
          if (notString) {
            for (i4 = this.start; index2 < length3 && i4 < byteCount; ++index2) {
              blocks[i4 >> 2] |= message[index2] << SHIFT[i4++ & 3];
            }
          } else {
            for (i4 = this.start; index2 < length3 && i4 < byteCount; ++index2) {
              code2 = message.charCodeAt(index2);
              if (code2 < 128) {
                blocks[i4 >> 2] |= code2 << SHIFT[i4++ & 3];
              } else if (code2 < 2048) {
                blocks[i4 >> 2] |= (192 | code2 >> 6) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 & 63) << SHIFT[i4++ & 3];
              } else if (code2 < 55296 || code2 >= 57344) {
                blocks[i4 >> 2] |= (224 | code2 >> 12) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 >> 6 & 63) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 & 63) << SHIFT[i4++ & 3];
              } else {
                code2 = 65536 + ((code2 & 1023) << 10 | message.charCodeAt(++index2) & 1023);
                blocks[i4 >> 2] |= (240 | code2 >> 18) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 >> 12 & 63) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 >> 6 & 63) << SHIFT[i4++ & 3];
                blocks[i4 >> 2] |= (128 | code2 & 63) << SHIFT[i4++ & 3];
              }
            }
          }
          this.lastByteIndex = i4;
          if (i4 >= byteCount) {
            this.start = i4 - byteCount;
            this.block = blocks[blockCount];
            for (i4 = 0; i4 < blockCount; ++i4) {
              s2[i4] ^= blocks[i4];
            }
            f3(s2);
            this.reset = true;
          } else {
            this.start = i4;
          }
        }
        return this;
      };
      Keccak.prototype.encode = function(x5, right) {
        var o3 = x5 & 255, n4 = 1;
        var bytes = [o3];
        x5 = x5 >> 8;
        o3 = x5 & 255;
        while (o3 > 0) {
          bytes.unshift(o3);
          x5 = x5 >> 8;
          o3 = x5 & 255;
          ++n4;
        }
        if (right) {
          bytes.push(n4);
        } else {
          bytes.unshift(n4);
        }
        this.update(bytes);
        return bytes.length;
      };
      Keccak.prototype.encodeString = function(str) {
        var notString, type = typeof str;
        if (type !== "string") {
          if (type === "object") {
            if (str === null) {
              throw new Error(INPUT_ERROR);
            } else if (ARRAY_BUFFER && str.constructor === ArrayBuffer) {
              str = new Uint8Array(str);
            } else if (!Array.isArray(str)) {
              if (!ARRAY_BUFFER || !ArrayBuffer.isView(str)) {
                throw new Error(INPUT_ERROR);
              }
            }
          } else {
            throw new Error(INPUT_ERROR);
          }
          notString = true;
        }
        var bytes = 0, length3 = str.length;
        if (notString) {
          bytes = length3;
        } else {
          for (var i4 = 0; i4 < str.length; ++i4) {
            var code2 = str.charCodeAt(i4);
            if (code2 < 128) {
              bytes += 1;
            } else if (code2 < 2048) {
              bytes += 2;
            } else if (code2 < 55296 || code2 >= 57344) {
              bytes += 3;
            } else {
              code2 = 65536 + ((code2 & 1023) << 10 | str.charCodeAt(++i4) & 1023);
              bytes += 4;
            }
          }
        }
        bytes += this.encode(bytes * 8);
        this.update(str);
        return bytes;
      };
      Keccak.prototype.bytepad = function(strs, w4) {
        var bytes = this.encode(w4);
        for (var i4 = 0; i4 < strs.length; ++i4) {
          bytes += this.encodeString(strs[i4]);
        }
        var paddingBytes = w4 - bytes % w4;
        var zeros = [];
        zeros.length = paddingBytes;
        this.update(zeros);
        return this;
      };
      Keccak.prototype.finalize = function() {
        if (this.finalized) {
          return;
        }
        this.finalized = true;
        var blocks = this.blocks, i4 = this.lastByteIndex, blockCount = this.blockCount, s2 = this.s;
        blocks[i4 >> 2] |= this.padding[i4 & 3];
        if (this.lastByteIndex === this.byteCount) {
          blocks[0] = blocks[blockCount];
          for (i4 = 1; i4 < blockCount + 1; ++i4) {
            blocks[i4] = 0;
          }
        }
        blocks[blockCount - 1] |= 2147483648;
        for (i4 = 0; i4 < blockCount; ++i4) {
          s2[i4] ^= blocks[i4];
        }
        f3(s2);
      };
      Keccak.prototype.toString = Keccak.prototype.hex = function() {
        this.finalize();
        var blockCount = this.blockCount, s2 = this.s, outputBlocks = this.outputBlocks, extraBytes = this.extraBytes, i4 = 0, j5 = 0;
        var hex = "", block;
        while (j5 < outputBlocks) {
          for (i4 = 0; i4 < blockCount && j5 < outputBlocks; ++i4, ++j5) {
            block = s2[i4];
            hex += HEX_CHARS[block >> 4 & 15] + HEX_CHARS[block & 15] + HEX_CHARS[block >> 12 & 15] + HEX_CHARS[block >> 8 & 15] + HEX_CHARS[block >> 20 & 15] + HEX_CHARS[block >> 16 & 15] + HEX_CHARS[block >> 28 & 15] + HEX_CHARS[block >> 24 & 15];
          }
          if (j5 % blockCount === 0) {
            f3(s2);
            i4 = 0;
          }
        }
        if (extraBytes) {
          block = s2[i4];
          hex += HEX_CHARS[block >> 4 & 15] + HEX_CHARS[block & 15];
          if (extraBytes > 1) {
            hex += HEX_CHARS[block >> 12 & 15] + HEX_CHARS[block >> 8 & 15];
          }
          if (extraBytes > 2) {
            hex += HEX_CHARS[block >> 20 & 15] + HEX_CHARS[block >> 16 & 15];
          }
        }
        return hex;
      };
      Keccak.prototype.arrayBuffer = function() {
        this.finalize();
        var blockCount = this.blockCount, s2 = this.s, outputBlocks = this.outputBlocks, extraBytes = this.extraBytes, i4 = 0, j5 = 0;
        var bytes = this.outputBits >> 3;
        var buffer;
        if (extraBytes) {
          buffer = new ArrayBuffer(outputBlocks + 1 << 2);
        } else {
          buffer = new ArrayBuffer(bytes);
        }
        var array = new Uint32Array(buffer);
        while (j5 < outputBlocks) {
          for (i4 = 0; i4 < blockCount && j5 < outputBlocks; ++i4, ++j5) {
            array[j5] = s2[i4];
          }
          if (j5 % blockCount === 0) {
            f3(s2);
          }
        }
        if (extraBytes) {
          array[i4] = s2[i4];
          buffer = buffer.slice(0, bytes);
        }
        return buffer;
      };
      Keccak.prototype.buffer = Keccak.prototype.arrayBuffer;
      Keccak.prototype.digest = Keccak.prototype.array = function() {
        this.finalize();
        var blockCount = this.blockCount, s2 = this.s, outputBlocks = this.outputBlocks, extraBytes = this.extraBytes, i4 = 0, j5 = 0;
        var array = [], offset, block;
        while (j5 < outputBlocks) {
          for (i4 = 0; i4 < blockCount && j5 < outputBlocks; ++i4, ++j5) {
            offset = j5 << 2;
            block = s2[i4];
            array[offset] = block & 255;
            array[offset + 1] = block >> 8 & 255;
            array[offset + 2] = block >> 16 & 255;
            array[offset + 3] = block >> 24 & 255;
          }
          if (j5 % blockCount === 0) {
            f3(s2);
          }
        }
        if (extraBytes) {
          offset = j5 << 2;
          block = s2[i4];
          array[offset] = block & 255;
          if (extraBytes > 1) {
            array[offset + 1] = block >> 8 & 255;
          }
          if (extraBytes > 2) {
            array[offset + 2] = block >> 16 & 255;
          }
        }
        return array;
      };
      function Kmac(bits2, padding, outputBits) {
        Keccak.call(this, bits2, padding, outputBits);
      }
      Kmac.prototype = new Keccak();
      Kmac.prototype.finalize = function() {
        this.encode(this.outputBits, true);
        return Keccak.prototype.finalize.call(this);
      };
      var f3 = function(s2) {
        var h6, l4, n4, c0, c1, c22, c3, c4, c5, c6, c7, c8, c9, b0, b1, b22, b3, b4, b5, b6, b7, b8, b9, b10, b11, b12, b13, b14, b15, b16, b17, b18, b19, b20, b21, b222, b23, b24, b25, b26, b27, b28, b29, b30, b31, b32, b33, b34, b35, b36, b37, b38, b39, b40, b41, b42, b43, b44, b45, b46, b47, b48, b49;
        for (n4 = 0; n4 < 48; n4 += 2) {
          c0 = s2[0] ^ s2[10] ^ s2[20] ^ s2[30] ^ s2[40];
          c1 = s2[1] ^ s2[11] ^ s2[21] ^ s2[31] ^ s2[41];
          c22 = s2[2] ^ s2[12] ^ s2[22] ^ s2[32] ^ s2[42];
          c3 = s2[3] ^ s2[13] ^ s2[23] ^ s2[33] ^ s2[43];
          c4 = s2[4] ^ s2[14] ^ s2[24] ^ s2[34] ^ s2[44];
          c5 = s2[5] ^ s2[15] ^ s2[25] ^ s2[35] ^ s2[45];
          c6 = s2[6] ^ s2[16] ^ s2[26] ^ s2[36] ^ s2[46];
          c7 = s2[7] ^ s2[17] ^ s2[27] ^ s2[37] ^ s2[47];
          c8 = s2[8] ^ s2[18] ^ s2[28] ^ s2[38] ^ s2[48];
          c9 = s2[9] ^ s2[19] ^ s2[29] ^ s2[39] ^ s2[49];
          h6 = c8 ^ (c22 << 1 | c3 >>> 31);
          l4 = c9 ^ (c3 << 1 | c22 >>> 31);
          s2[0] ^= h6;
          s2[1] ^= l4;
          s2[10] ^= h6;
          s2[11] ^= l4;
          s2[20] ^= h6;
          s2[21] ^= l4;
          s2[30] ^= h6;
          s2[31] ^= l4;
          s2[40] ^= h6;
          s2[41] ^= l4;
          h6 = c0 ^ (c4 << 1 | c5 >>> 31);
          l4 = c1 ^ (c5 << 1 | c4 >>> 31);
          s2[2] ^= h6;
          s2[3] ^= l4;
          s2[12] ^= h6;
          s2[13] ^= l4;
          s2[22] ^= h6;
          s2[23] ^= l4;
          s2[32] ^= h6;
          s2[33] ^= l4;
          s2[42] ^= h6;
          s2[43] ^= l4;
          h6 = c22 ^ (c6 << 1 | c7 >>> 31);
          l4 = c3 ^ (c7 << 1 | c6 >>> 31);
          s2[4] ^= h6;
          s2[5] ^= l4;
          s2[14] ^= h6;
          s2[15] ^= l4;
          s2[24] ^= h6;
          s2[25] ^= l4;
          s2[34] ^= h6;
          s2[35] ^= l4;
          s2[44] ^= h6;
          s2[45] ^= l4;
          h6 = c4 ^ (c8 << 1 | c9 >>> 31);
          l4 = c5 ^ (c9 << 1 | c8 >>> 31);
          s2[6] ^= h6;
          s2[7] ^= l4;
          s2[16] ^= h6;
          s2[17] ^= l4;
          s2[26] ^= h6;
          s2[27] ^= l4;
          s2[36] ^= h6;
          s2[37] ^= l4;
          s2[46] ^= h6;
          s2[47] ^= l4;
          h6 = c6 ^ (c0 << 1 | c1 >>> 31);
          l4 = c7 ^ (c1 << 1 | c0 >>> 31);
          s2[8] ^= h6;
          s2[9] ^= l4;
          s2[18] ^= h6;
          s2[19] ^= l4;
          s2[28] ^= h6;
          s2[29] ^= l4;
          s2[38] ^= h6;
          s2[39] ^= l4;
          s2[48] ^= h6;
          s2[49] ^= l4;
          b0 = s2[0];
          b1 = s2[1];
          b32 = s2[11] << 4 | s2[10] >>> 28;
          b33 = s2[10] << 4 | s2[11] >>> 28;
          b14 = s2[20] << 3 | s2[21] >>> 29;
          b15 = s2[21] << 3 | s2[20] >>> 29;
          b46 = s2[31] << 9 | s2[30] >>> 23;
          b47 = s2[30] << 9 | s2[31] >>> 23;
          b28 = s2[40] << 18 | s2[41] >>> 14;
          b29 = s2[41] << 18 | s2[40] >>> 14;
          b20 = s2[2] << 1 | s2[3] >>> 31;
          b21 = s2[3] << 1 | s2[2] >>> 31;
          b22 = s2[13] << 12 | s2[12] >>> 20;
          b3 = s2[12] << 12 | s2[13] >>> 20;
          b34 = s2[22] << 10 | s2[23] >>> 22;
          b35 = s2[23] << 10 | s2[22] >>> 22;
          b16 = s2[33] << 13 | s2[32] >>> 19;
          b17 = s2[32] << 13 | s2[33] >>> 19;
          b48 = s2[42] << 2 | s2[43] >>> 30;
          b49 = s2[43] << 2 | s2[42] >>> 30;
          b40 = s2[5] << 30 | s2[4] >>> 2;
          b41 = s2[4] << 30 | s2[5] >>> 2;
          b222 = s2[14] << 6 | s2[15] >>> 26;
          b23 = s2[15] << 6 | s2[14] >>> 26;
          b4 = s2[25] << 11 | s2[24] >>> 21;
          b5 = s2[24] << 11 | s2[25] >>> 21;
          b36 = s2[34] << 15 | s2[35] >>> 17;
          b37 = s2[35] << 15 | s2[34] >>> 17;
          b18 = s2[45] << 29 | s2[44] >>> 3;
          b19 = s2[44] << 29 | s2[45] >>> 3;
          b10 = s2[6] << 28 | s2[7] >>> 4;
          b11 = s2[7] << 28 | s2[6] >>> 4;
          b42 = s2[17] << 23 | s2[16] >>> 9;
          b43 = s2[16] << 23 | s2[17] >>> 9;
          b24 = s2[26] << 25 | s2[27] >>> 7;
          b25 = s2[27] << 25 | s2[26] >>> 7;
          b6 = s2[36] << 21 | s2[37] >>> 11;
          b7 = s2[37] << 21 | s2[36] >>> 11;
          b38 = s2[47] << 24 | s2[46] >>> 8;
          b39 = s2[46] << 24 | s2[47] >>> 8;
          b30 = s2[8] << 27 | s2[9] >>> 5;
          b31 = s2[9] << 27 | s2[8] >>> 5;
          b12 = s2[18] << 20 | s2[19] >>> 12;
          b13 = s2[19] << 20 | s2[18] >>> 12;
          b44 = s2[29] << 7 | s2[28] >>> 25;
          b45 = s2[28] << 7 | s2[29] >>> 25;
          b26 = s2[38] << 8 | s2[39] >>> 24;
          b27 = s2[39] << 8 | s2[38] >>> 24;
          b8 = s2[48] << 14 | s2[49] >>> 18;
          b9 = s2[49] << 14 | s2[48] >>> 18;
          s2[0] = b0 ^ ~b22 & b4;
          s2[1] = b1 ^ ~b3 & b5;
          s2[10] = b10 ^ ~b12 & b14;
          s2[11] = b11 ^ ~b13 & b15;
          s2[20] = b20 ^ ~b222 & b24;
          s2[21] = b21 ^ ~b23 & b25;
          s2[30] = b30 ^ ~b32 & b34;
          s2[31] = b31 ^ ~b33 & b35;
          s2[40] = b40 ^ ~b42 & b44;
          s2[41] = b41 ^ ~b43 & b45;
          s2[2] = b22 ^ ~b4 & b6;
          s2[3] = b3 ^ ~b5 & b7;
          s2[12] = b12 ^ ~b14 & b16;
          s2[13] = b13 ^ ~b15 & b17;
          s2[22] = b222 ^ ~b24 & b26;
          s2[23] = b23 ^ ~b25 & b27;
          s2[32] = b32 ^ ~b34 & b36;
          s2[33] = b33 ^ ~b35 & b37;
          s2[42] = b42 ^ ~b44 & b46;
          s2[43] = b43 ^ ~b45 & b47;
          s2[4] = b4 ^ ~b6 & b8;
          s2[5] = b5 ^ ~b7 & b9;
          s2[14] = b14 ^ ~b16 & b18;
          s2[15] = b15 ^ ~b17 & b19;
          s2[24] = b24 ^ ~b26 & b28;
          s2[25] = b25 ^ ~b27 & b29;
          s2[34] = b34 ^ ~b36 & b38;
          s2[35] = b35 ^ ~b37 & b39;
          s2[44] = b44 ^ ~b46 & b48;
          s2[45] = b45 ^ ~b47 & b49;
          s2[6] = b6 ^ ~b8 & b0;
          s2[7] = b7 ^ ~b9 & b1;
          s2[16] = b16 ^ ~b18 & b10;
          s2[17] = b17 ^ ~b19 & b11;
          s2[26] = b26 ^ ~b28 & b20;
          s2[27] = b27 ^ ~b29 & b21;
          s2[36] = b36 ^ ~b38 & b30;
          s2[37] = b37 ^ ~b39 & b31;
          s2[46] = b46 ^ ~b48 & b40;
          s2[47] = b47 ^ ~b49 & b41;
          s2[8] = b8 ^ ~b0 & b22;
          s2[9] = b9 ^ ~b1 & b3;
          s2[18] = b18 ^ ~b10 & b12;
          s2[19] = b19 ^ ~b11 & b13;
          s2[28] = b28 ^ ~b20 & b222;
          s2[29] = b29 ^ ~b21 & b23;
          s2[38] = b38 ^ ~b30 & b32;
          s2[39] = b39 ^ ~b31 & b33;
          s2[48] = b48 ^ ~b40 & b42;
          s2[49] = b49 ^ ~b41 & b43;
          s2[0] ^= RC[n4];
          s2[1] ^= RC[n4 + 1];
        }
      };
      if (COMMON_JS) {
        module2.exports = methods;
      } else {
        for (i3 = 0; i3 < methodNames.length; ++i3) {
          root[methodNames[i3]] = methods[methodNames[i3]];
        }
        if (AMD) {
          define(function() {
            return methods;
          });
        }
      }
    })();
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js
var PARSE_ERROR, INVALID_REQUEST, METHOD_NOT_FOUND, INVALID_PARAMS, INTERNAL_ERROR, SERVER_ERROR, RESERVED_ERROR_CODES, SERVER_ERROR_CODE_RANGE, STANDARD_ERROR_MAP, DEFAULT_ERROR;
var init_constants2 = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/constants.js"() {
    PARSE_ERROR = "PARSE_ERROR";
    INVALID_REQUEST = "INVALID_REQUEST";
    METHOD_NOT_FOUND = "METHOD_NOT_FOUND";
    INVALID_PARAMS = "INVALID_PARAMS";
    INTERNAL_ERROR = "INTERNAL_ERROR";
    SERVER_ERROR = "SERVER_ERROR";
    RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];
    SERVER_ERROR_CODE_RANGE = [-32e3, -32099];
    STANDARD_ERROR_MAP = {
      [PARSE_ERROR]: { code: -32700, message: "Parse error" },
      [INVALID_REQUEST]: { code: -32600, message: "Invalid Request" },
      [METHOD_NOT_FOUND]: { code: -32601, message: "Method not found" },
      [INVALID_PARAMS]: { code: -32602, message: "Invalid params" },
      [INTERNAL_ERROR]: { code: -32603, message: "Internal error" },
      [SERVER_ERROR]: { code: -32e3, message: "Server error" }
    };
    DEFAULT_ERROR = SERVER_ERROR;
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js
function isServerErrorCode(code2) {
  return code2 <= SERVER_ERROR_CODE_RANGE[0] && code2 >= SERVER_ERROR_CODE_RANGE[1];
}
function isReservedErrorCode(code2) {
  return RESERVED_ERROR_CODES.includes(code2);
}
function isValidErrorCode(code2) {
  return typeof code2 === "number";
}
function getError(type) {
  if (!Object.keys(STANDARD_ERROR_MAP).includes(type)) {
    return STANDARD_ERROR_MAP[DEFAULT_ERROR];
  }
  return STANDARD_ERROR_MAP[type];
}
function getErrorByCode(code2) {
  const match = Object.values(STANDARD_ERROR_MAP).find((e2) => e2.code === code2);
  if (!match) {
    return STANDARD_ERROR_MAP[DEFAULT_ERROR];
  }
  return match;
}
function validateJsonRpcError(response) {
  if (typeof response.error.code === "undefined") {
    return { valid: false, error: "Missing code for JSON-RPC error" };
  }
  if (typeof response.error.message === "undefined") {
    return { valid: false, error: "Missing message for JSON-RPC error" };
  }
  if (!isValidErrorCode(response.error.code)) {
    return {
      valid: false,
      error: `Invalid error code type for JSON-RPC: ${response.error.code}`
    };
  }
  if (isReservedErrorCode(response.error.code)) {
    const error = getErrorByCode(response.error.code);
    if (error.message !== STANDARD_ERROR_MAP[DEFAULT_ERROR].message && response.error.message === error.message) {
      return {
        valid: false,
        error: `Invalid error code message for JSON-RPC: ${response.error.code}`
      };
    }
  }
  return { valid: true };
}
function parseConnectionError(e2, url, type) {
  return e2.message.includes("getaddrinfo ENOTFOUND") || e2.message.includes("connect ECONNREFUSED") ? new Error(`Unavailable ${type} RPC url at ${url}`) : e2;
}
var init_error = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/error.js"() {
    init_constants2();
  }
});

// node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/tslib.es6.js
var tslib_es6_exports = {};
__export(tslib_es6_exports, {
  __assign: () => __assign,
  __asyncDelegator: () => __asyncDelegator,
  __asyncGenerator: () => __asyncGenerator,
  __asyncValues: () => __asyncValues,
  __await: () => __await,
  __awaiter: () => __awaiter,
  __classPrivateFieldGet: () => __classPrivateFieldGet,
  __classPrivateFieldSet: () => __classPrivateFieldSet,
  __createBinding: () => __createBinding,
  __decorate: () => __decorate,
  __exportStar: () => __exportStar,
  __extends: () => __extends,
  __generator: () => __generator,
  __importDefault: () => __importDefault,
  __importStar: () => __importStar,
  __makeTemplateObject: () => __makeTemplateObject,
  __metadata: () => __metadata,
  __param: () => __param,
  __read: () => __read,
  __rest: () => __rest,
  __spread: () => __spread,
  __spreadArrays: () => __spreadArrays2,
  __values: () => __values
});
function __extends(d3, b3) {
  extendStatics(d3, b3);
  function __() {
    this.constructor = d3;
  }
  d3.prototype = b3 === null ? Object.create(b3) : (__.prototype = b3.prototype, new __());
}
function __rest(s2, e2) {
  var t2 = {};
  for (var p6 in s2)
    if (Object.prototype.hasOwnProperty.call(s2, p6) && e2.indexOf(p6) < 0)
      t2[p6] = s2[p6];
  if (s2 != null && typeof Object.getOwnPropertySymbols === "function")
    for (var i3 = 0, p6 = Object.getOwnPropertySymbols(s2); i3 < p6.length; i3++) {
      if (e2.indexOf(p6[i3]) < 0 && Object.prototype.propertyIsEnumerable.call(s2, p6[i3]))
        t2[p6[i3]] = s2[p6[i3]];
    }
  return t2;
}
function __decorate(decorators, target, key2, desc) {
  var c3 = arguments.length, r3 = c3 < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key2) : desc, d3;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
    r3 = Reflect.decorate(decorators, target, key2, desc);
  else
    for (var i3 = decorators.length - 1; i3 >= 0; i3--)
      if (d3 = decorators[i3])
        r3 = (c3 < 3 ? d3(r3) : c3 > 3 ? d3(target, key2, r3) : d3(target, key2)) || r3;
  return c3 > 3 && r3 && Object.defineProperty(target, key2, r3), r3;
}
function __param(paramIndex, decorator) {
  return function(target, key2) {
    decorator(target, key2, paramIndex);
  };
}
function __metadata(metadataKey, metadataValue) {
  if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
    return Reflect.metadata(metadataKey, metadataValue);
}
function __awaiter(thisArg, _arguments, P3, generator) {
  function adopt(value2) {
    return value2 instanceof P3 ? value2 : new P3(function(resolve) {
      resolve(value2);
    });
  }
  return new (P3 || (P3 = Promise))(function(resolve, reject) {
    function fulfilled(value2) {
      try {
        step(generator.next(value2));
      } catch (e2) {
        reject(e2);
      }
    }
    function rejected(value2) {
      try {
        step(generator["throw"](value2));
      } catch (e2) {
        reject(e2);
      }
    }
    function step(result) {
      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);
    }
    step((generator = generator.apply(thisArg, _arguments || [])).next());
  });
}
function __generator(thisArg, body) {
  var _4 = { label: 0, sent: function() {
    if (t2[0] & 1)
      throw t2[1];
    return t2[1];
  }, trys: [], ops: [] }, f3, y7, t2, g5;
  return g5 = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g5[Symbol.iterator] = function() {
    return this;
  }), g5;
  function verb(n4) {
    return function(v2) {
      return step([n4, v2]);
    };
  }
  function step(op) {
    if (f3)
      throw new TypeError("Generator is already executing.");
    while (_4)
      try {
        if (f3 = 1, y7 && (t2 = op[0] & 2 ? y7["return"] : op[0] ? y7["throw"] || ((t2 = y7["return"]) && t2.call(y7), 0) : y7.next) && !(t2 = t2.call(y7, op[1])).done)
          return t2;
        if (y7 = 0, t2)
          op = [op[0] & 2, t2.value];
        switch (op[0]) {
          case 0:
          case 1:
            t2 = op;
            break;
          case 4:
            _4.label++;
            return { value: op[1], done: false };
          case 5:
            _4.label++;
            y7 = op[1];
            op = [0];
            continue;
          case 7:
            op = _4.ops.pop();
            _4.trys.pop();
            continue;
          default:
            if (!(t2 = _4.trys, t2 = t2.length > 0 && t2[t2.length - 1]) && (op[0] === 6 || op[0] === 2)) {
              _4 = 0;
              continue;
            }
            if (op[0] === 3 && (!t2 || op[1] > t2[0] && op[1] < t2[3])) {
              _4.label = op[1];
              break;
            }
            if (op[0] === 6 && _4.label < t2[1]) {
              _4.label = t2[1];
              t2 = op;
              break;
            }
            if (t2 && _4.label < t2[2]) {
              _4.label = t2[2];
              _4.ops.push(op);
              break;
            }
            if (t2[2])
              _4.ops.pop();
            _4.trys.pop();
            continue;
        }
        op = body.call(thisArg, _4);
      } catch (e2) {
        op = [6, e2];
        y7 = 0;
      } finally {
        f3 = t2 = 0;
      }
    if (op[0] & 5)
      throw op[1];
    return { value: op[0] ? op[1] : void 0, done: true };
  }
}
function __createBinding(o3, m3, k3, k22) {
  if (k22 === void 0)
    k22 = k3;
  o3[k22] = m3[k3];
}
function __exportStar(m3, exports2) {
  for (var p6 in m3)
    if (p6 !== "default" && !exports2.hasOwnProperty(p6))
      exports2[p6] = m3[p6];
}
function __values(o3) {
  var s2 = typeof Symbol === "function" && Symbol.iterator, m3 = s2 && o3[s2], i3 = 0;
  if (m3)
    return m3.call(o3);
  if (o3 && typeof o3.length === "number")
    return {
      next: function() {
        if (o3 && i3 >= o3.length)
          o3 = void 0;
        return { value: o3 && o3[i3++], done: !o3 };
      }
    };
  throw new TypeError(s2 ? "Object is not iterable." : "Symbol.iterator is not defined.");
}
function __read(o3, n4) {
  var m3 = typeof Symbol === "function" && o3[Symbol.iterator];
  if (!m3)
    return o3;
  var i3 = m3.call(o3), r3, ar2 = [], e2;
  try {
    while ((n4 === void 0 || n4-- > 0) && !(r3 = i3.next()).done)
      ar2.push(r3.value);
  } catch (error) {
    e2 = { error };
  } finally {
    try {
      if (r3 && !r3.done && (m3 = i3["return"]))
        m3.call(i3);
    } finally {
      if (e2)
        throw e2.error;
    }
  }
  return ar2;
}
function __spread() {
  for (var ar2 = [], i3 = 0; i3 < arguments.length; i3++)
    ar2 = ar2.concat(__read(arguments[i3]));
  return ar2;
}
function __spreadArrays2() {
  for (var s2 = 0, i3 = 0, il = arguments.length; i3 < il; i3++)
    s2 += arguments[i3].length;
  for (var r3 = Array(s2), k3 = 0, i3 = 0; i3 < il; i3++)
    for (var a4 = arguments[i3], j4 = 0, jl = a4.length; j4 < jl; j4++, k3++)
      r3[k3] = a4[j4];
  return r3;
}
function __await(v2) {
  return this instanceof __await ? (this.v = v2, this) : new __await(v2);
}
function __asyncGenerator(thisArg, _arguments, generator) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var g5 = generator.apply(thisArg, _arguments || []), i3, q4 = [];
  return i3 = {}, verb("next"), verb("throw"), verb("return"), i3[Symbol.asyncIterator] = function() {
    return this;
  }, i3;
  function verb(n4) {
    if (g5[n4])
      i3[n4] = function(v2) {
        return new Promise(function(a4, b3) {
          q4.push([n4, v2, a4, b3]) > 1 || resume(n4, v2);
        });
      };
  }
  function resume(n4, v2) {
    try {
      step(g5[n4](v2));
    } catch (e2) {
      settle(q4[0][3], e2);
    }
  }
  function step(r3) {
    r3.value instanceof __await ? Promise.resolve(r3.value.v).then(fulfill, reject) : settle(q4[0][2], r3);
  }
  function fulfill(value2) {
    resume("next", value2);
  }
  function reject(value2) {
    resume("throw", value2);
  }
  function settle(f3, v2) {
    if (f3(v2), q4.shift(), q4.length)
      resume(q4[0][0], q4[0][1]);
  }
}
function __asyncDelegator(o3) {
  var i3, p6;
  return i3 = {}, verb("next"), verb("throw", function(e2) {
    throw e2;
  }), verb("return"), i3[Symbol.iterator] = function() {
    return this;
  }, i3;
  function verb(n4, f3) {
    i3[n4] = o3[n4] ? function(v2) {
      return (p6 = !p6) ? { value: __await(o3[n4](v2)), done: n4 === "return" } : f3 ? f3(v2) : v2;
    } : f3;
  }
}
function __asyncValues(o3) {
  if (!Symbol.asyncIterator)
    throw new TypeError("Symbol.asyncIterator is not defined.");
  var m3 = o3[Symbol.asyncIterator], i3;
  return m3 ? m3.call(o3) : (o3 = typeof __values === "function" ? __values(o3) : o3[Symbol.iterator](), i3 = {}, verb("next"), verb("throw"), verb("return"), i3[Symbol.asyncIterator] = function() {
    return this;
  }, i3);
  function verb(n4) {
    i3[n4] = o3[n4] && function(v2) {
      return new Promise(function(resolve, reject) {
        v2 = o3[n4](v2), settle(resolve, reject, v2.done, v2.value);
      });
    };
  }
  function settle(resolve, reject, d3, v2) {
    Promise.resolve(v2).then(function(v3) {
      resolve({ value: v3, done: d3 });
    }, reject);
  }
}
function __makeTemplateObject(cooked, raw) {
  if (Object.defineProperty) {
    Object.defineProperty(cooked, "raw", { value: raw });
  } else {
    cooked.raw = raw;
  }
  return cooked;
}
function __importStar(mod2) {
  if (mod2 && mod2.__esModule)
    return mod2;
  var result = {};
  if (mod2 != null) {
    for (var k3 in mod2)
      if (Object.hasOwnProperty.call(mod2, k3))
        result[k3] = mod2[k3];
  }
  result.default = mod2;
  return result;
}
function __importDefault(mod2) {
  return mod2 && mod2.__esModule ? mod2 : { default: mod2 };
}
function __classPrivateFieldGet(receiver, privateMap) {
  if (!privateMap.has(receiver)) {
    throw new TypeError("attempted to get private field on non-instance");
  }
  return privateMap.get(receiver);
}
function __classPrivateFieldSet(receiver, privateMap, value2) {
  if (!privateMap.has(receiver)) {
    throw new TypeError("attempted to set private field on non-instance");
  }
  privateMap.set(receiver, value2);
  return value2;
}
var extendStatics, __assign;
var init_tslib_es6 = __esm({
  "node_modules/.pnpm/tslib@1.14.1/node_modules/tslib/tslib.es6.js"() {
    extendStatics = function(d3, b3) {
      extendStatics = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(d4, b4) {
        d4.__proto__ = b4;
      } || function(d4, b4) {
        for (var p6 in b4)
          if (b4.hasOwnProperty(p6))
            d4[p6] = b4[p6];
      };
      return extendStatics(d3, b3);
    };
    __assign = function() {
      __assign = Object.assign || function __assign2(t2) {
        for (var s2, i3 = 1, n4 = arguments.length; i3 < n4; i3++) {
          s2 = arguments[i3];
          for (var p6 in s2)
            if (Object.prototype.hasOwnProperty.call(s2, p6))
              t2[p6] = s2[p6];
        }
        return t2;
      };
      return __assign.apply(this, arguments);
    };
  }
});

// node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/crypto.js
var require_crypto2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/crypto.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.isBrowserCryptoAvailable = exports2.getSubtleCrypto = exports2.getBrowerCrypto = void 0;
    function getBrowerCrypto2() {
      return (globalThis === null || globalThis === void 0 ? void 0 : globalThis.crypto) || (globalThis === null || globalThis === void 0 ? void 0 : globalThis.msCrypto) || {};
    }
    exports2.getBrowerCrypto = getBrowerCrypto2;
    function getSubtleCrypto2() {
      const browserCrypto = getBrowerCrypto2();
      return browserCrypto.subtle || browserCrypto.webkitSubtle;
    }
    exports2.getSubtleCrypto = getSubtleCrypto2;
    function isBrowserCryptoAvailable() {
      return !!getBrowerCrypto2() && !!getSubtleCrypto2();
    }
    exports2.isBrowserCryptoAvailable = isBrowserCryptoAvailable;
  }
});

// node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/env.js
var require_env = __commonJS({
  "node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/env.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.isBrowser = exports2.isNode = exports2.isReactNative = void 0;
    function isReactNative2() {
      return typeof document === "undefined" && typeof navigator !== "undefined" && navigator.product === "ReactNative";
    }
    exports2.isReactNative = isReactNative2;
    function isNode3() {
      return typeof process !== "undefined" && typeof process.versions !== "undefined" && typeof process.versions.node !== "undefined";
    }
    exports2.isNode = isNode3;
    function isBrowser2() {
      return !isReactNative2() && !isNode3();
    }
    exports2.isBrowser = isBrowser2;
  }
});

// node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/index.js
var require_cjs3 = __commonJS({
  "node_modules/.pnpm/@walletconnect+environment@1.0.1/node_modules/@walletconnect/environment/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_crypto2(), exports2);
    tslib_1.__exportStar(require_env(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js
var env_exports = {};
__export(env_exports, {
  isNodeJs: () => isNodeJs
});
var import_environment, isNodeJs;
var init_env = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/env.js"() {
    import_environment = __toESM(require_cjs3());
    __reExport(env_exports, __toESM(require_cjs3()));
    isNodeJs = import_environment.isNode;
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js
function payloadId(entropy = 3) {
  const date = Date.now() * Math.pow(10, entropy);
  const extra = Math.floor(Math.random() * Math.pow(10, entropy));
  return date + extra;
}
function getBigIntRpcId(entropy = 6) {
  return BigInt(payloadId(entropy));
}
function formatJsonRpcRequest(method, params, id) {
  return {
    id: id || payloadId(),
    jsonrpc: "2.0",
    method,
    params
  };
}
function formatJsonRpcResult(id, result) {
  return {
    id,
    jsonrpc: "2.0",
    result
  };
}
function formatJsonRpcError(id, error, data2) {
  return {
    id,
    jsonrpc: "2.0",
    error: formatErrorMessage(error, data2)
  };
}
function formatErrorMessage(error, data2) {
  if (typeof error === "undefined") {
    return getError(INTERNAL_ERROR);
  }
  if (typeof error === "string") {
    error = Object.assign(Object.assign({}, getError(SERVER_ERROR)), { message: error });
  }
  if (typeof data2 !== "undefined") {
    error.data = data2;
  }
  if (isReservedErrorCode(error.code)) {
    error = getErrorByCode(error.code);
  }
  return error;
}
var init_format = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/format.js"() {
    init_error();
    init_constants2();
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js
function isValidRoute(route) {
  if (route.includes("*")) {
    return isValidWildcardRoute(route);
  }
  if (/\W/g.test(route)) {
    return false;
  }
  return true;
}
function isValidDefaultRoute(route) {
  return route === "*";
}
function isValidWildcardRoute(route) {
  if (isValidDefaultRoute(route)) {
    return true;
  }
  if (!route.includes("*")) {
    return false;
  }
  if (route.split("*").length !== 2) {
    return false;
  }
  if (route.split("*").filter((x5) => x5.trim() === "").length !== 1) {
    return false;
  }
  return true;
}
function isValidLeadingWildcardRoute(route) {
  return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split("*")[0].trim();
}
function isValidTrailingWildcardRoute(route) {
  return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split("*")[1].trim();
}
var init_routing = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/routing.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/jsonrpc.js
var init_jsonrpc = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/jsonrpc.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/misc.js
var IEvents;
var init_misc = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/misc.js"() {
    IEvents = class {
    };
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/provider.js
var IJsonRpcConnection, IBaseJsonRpcProvider, IJsonRpcProvider;
var init_provider = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/provider.js"() {
    init_misc();
    IJsonRpcConnection = class extends IEvents {
      constructor(opts) {
        super();
      }
    };
    IBaseJsonRpcProvider = class extends IEvents {
      constructor() {
        super();
      }
    };
    IJsonRpcProvider = class extends IBaseJsonRpcProvider {
      constructor(connection) {
        super();
      }
    };
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/validator.js
var init_validator = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/validator.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/index.js
var init_esm5 = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-types@1.0.3/node_modules/@walletconnect/jsonrpc-types/dist/esm/index.js"() {
    init_jsonrpc();
    init_misc();
    init_provider();
    init_validator();
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js
var init_types = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/types.js"() {
    init_esm5();
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js
function getUrlProtocol(url) {
  const matches = url.match(new RegExp(/^\w+:/, "gi"));
  if (!matches || !matches.length)
    return;
  return matches[0];
}
function matchRegexProtocol(url, regex) {
  const protocol = getUrlProtocol(url);
  if (typeof protocol === "undefined")
    return false;
  return new RegExp(regex).test(protocol);
}
function isHttpUrl(url) {
  return matchRegexProtocol(url, HTTP_REGEX);
}
function isWsUrl(url) {
  return matchRegexProtocol(url, WS_REGEX);
}
function isLocalhostUrl(url) {
  return new RegExp("wss?://localhost(:d{2,5})?").test(url);
}
var HTTP_REGEX, WS_REGEX;
var init_url = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/url.js"() {
    HTTP_REGEX = "^https?:";
    WS_REGEX = "^wss?:";
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js
function isJsonRpcPayload(payload) {
  return typeof payload === "object" && "id" in payload && "jsonrpc" in payload && payload.jsonrpc === "2.0";
}
function isJsonRpcRequest(payload) {
  return isJsonRpcPayload(payload) && "method" in payload;
}
function isJsonRpcResponse(payload) {
  return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));
}
function isJsonRpcResult(payload) {
  return "result" in payload;
}
function isJsonRpcError(payload) {
  return "error" in payload;
}
function isJsonRpcValidationInvalid(validation) {
  return "error" in validation && validation.valid === false;
}
var init_validators = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/validators.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js
var esm_exports4 = {};
__export(esm_exports4, {
  DEFAULT_ERROR: () => DEFAULT_ERROR,
  IBaseJsonRpcProvider: () => IBaseJsonRpcProvider,
  IEvents: () => IEvents,
  IJsonRpcConnection: () => IJsonRpcConnection,
  IJsonRpcProvider: () => IJsonRpcProvider,
  INTERNAL_ERROR: () => INTERNAL_ERROR,
  INVALID_PARAMS: () => INVALID_PARAMS,
  INVALID_REQUEST: () => INVALID_REQUEST,
  METHOD_NOT_FOUND: () => METHOD_NOT_FOUND,
  PARSE_ERROR: () => PARSE_ERROR,
  RESERVED_ERROR_CODES: () => RESERVED_ERROR_CODES,
  SERVER_ERROR: () => SERVER_ERROR,
  SERVER_ERROR_CODE_RANGE: () => SERVER_ERROR_CODE_RANGE,
  STANDARD_ERROR_MAP: () => STANDARD_ERROR_MAP,
  formatErrorMessage: () => formatErrorMessage,
  formatJsonRpcError: () => formatJsonRpcError,
  formatJsonRpcRequest: () => formatJsonRpcRequest,
  formatJsonRpcResult: () => formatJsonRpcResult,
  getBigIntRpcId: () => getBigIntRpcId,
  getError: () => getError,
  getErrorByCode: () => getErrorByCode,
  isHttpUrl: () => isHttpUrl,
  isJsonRpcError: () => isJsonRpcError,
  isJsonRpcPayload: () => isJsonRpcPayload,
  isJsonRpcRequest: () => isJsonRpcRequest,
  isJsonRpcResponse: () => isJsonRpcResponse,
  isJsonRpcResult: () => isJsonRpcResult,
  isJsonRpcValidationInvalid: () => isJsonRpcValidationInvalid,
  isLocalhostUrl: () => isLocalhostUrl,
  isNodeJs: () => isNodeJs,
  isReservedErrorCode: () => isReservedErrorCode,
  isServerErrorCode: () => isServerErrorCode,
  isValidDefaultRoute: () => isValidDefaultRoute,
  isValidErrorCode: () => isValidErrorCode,
  isValidLeadingWildcardRoute: () => isValidLeadingWildcardRoute,
  isValidRoute: () => isValidRoute,
  isValidTrailingWildcardRoute: () => isValidTrailingWildcardRoute,
  isValidWildcardRoute: () => isValidWildcardRoute,
  isWsUrl: () => isWsUrl,
  parseConnectionError: () => parseConnectionError,
  payloadId: () => payloadId,
  validateJsonRpcError: () => validateJsonRpcError
});
var init_esm6 = __esm({
  "node_modules/.pnpm/@walletconnect+jsonrpc-utils@1.0.8/node_modules/@walletconnect/jsonrpc-utils/dist/esm/index.js"() {
    init_constants2();
    init_error();
    init_env();
    __reExport(esm_exports4, env_exports);
    init_format();
    init_routing();
    init_types();
    init_url();
    init_validators();
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/misc.js
function sanitizeHex2(hex) {
  return sanitizeHex(hex);
}
function removeHexLeadingZeros2(hex) {
  return removeHexLeadingZeros(addHexPrefix(hex));
}
function uuid() {
  const result = ((a4, b3) => {
    for (b3 = a4 = ""; a4++ < 36; b3 += a4 * 51 & 52 ? (a4 ^ 15 ? 8 ^ Math.random() * (a4 ^ 20 ? 16 : 4) : 4).toString(16) : "-") {
    }
    return b3;
  })();
  return result;
}
var payloadId2;
var init_misc2 = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/misc.js"() {
    init_esm4();
    init_esm6();
    init_constants();
    payloadId2 = payloadId;
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/validators.js
function isEmptyString(value2) {
  return value2 === "" || typeof value2 === "string" && value2.trim() === "";
}
function isEmptyArray(array) {
  return !(array && array.length);
}
function isHexString2(value2, length3) {
  return isHexString(value2, length3);
}
function isJsonRpcRequest2(object) {
  return typeof object.method !== "undefined";
}
function isJsonRpcResponseSuccess(object) {
  return typeof object.result !== "undefined";
}
function isJsonRpcResponseError(object) {
  return typeof object.error !== "undefined";
}
function isInternalEvent(object) {
  return typeof object.event !== "undefined";
}
function isReservedEvent(event) {
  return reservedEvents.includes(event) || event.startsWith("wc_");
}
function isSilentPayload(request) {
  if (request.method.startsWith("wc_")) {
    return true;
  }
  if (signingMethods.includes(request.method)) {
    return false;
  }
  return true;
}
var init_validators2 = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/validators.js"() {
    init_esm4();
    init_constants();
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/ethereum.js
function toChecksumAddress(address) {
  address = removeHexPrefix(address.toLowerCase());
  const hash = removeHexPrefix((0, import_js_sha3.keccak_256)(convertUtf8ToBuffer(address)));
  let checksum = "";
  for (let i3 = 0; i3 < address.length; i3++) {
    if (parseInt(hash[i3], 16) > 7) {
      checksum += address[i3].toUpperCase();
    } else {
      checksum += address[i3];
    }
  }
  return addHexPrefix(checksum);
}
function parsePersonalSign(params) {
  if (!isEmptyArray(params) && !isHexString2(params[0])) {
    params[0] = convertUtf8ToHex(params[0]);
  }
  return params;
}
function parseTransactionData(txData) {
  if (typeof txData.type !== "undefined" && txData.type !== "0")
    return txData;
  if (typeof txData.from === "undefined" || !isValidAddress(txData.from)) {
    throw new Error(`Transaction object must include a valid 'from' value.`);
  }
  function parseHexValues(value2) {
    let result = value2;
    if (typeof value2 === "number" || typeof value2 === "string" && !isEmptyString(value2)) {
      if (!isHexString2(value2)) {
        result = convertNumberToHex(value2);
      } else if (typeof value2 === "string") {
        result = sanitizeHex2(value2);
      }
    }
    if (typeof result === "string") {
      result = removeHexLeadingZeros2(result);
    }
    return result;
  }
  const txDataRPC = {
    from: sanitizeHex2(txData.from),
    to: typeof txData.to === "undefined" ? void 0 : sanitizeHex2(txData.to),
    gasPrice: typeof txData.gasPrice === "undefined" ? "" : parseHexValues(txData.gasPrice),
    gas: typeof txData.gas === "undefined" ? typeof txData.gasLimit === "undefined" ? "" : parseHexValues(txData.gasLimit) : parseHexValues(txData.gas),
    value: typeof txData.value === "undefined" ? "" : parseHexValues(txData.value),
    nonce: typeof txData.nonce === "undefined" ? "" : parseHexValues(txData.nonce),
    data: typeof txData.data === "undefined" ? "" : sanitizeHex2(txData.data) || "0x"
  };
  const prunable = ["gasPrice", "gas", "value", "nonce"];
  Object.keys(txDataRPC).forEach((key2) => {
    if ((typeof txDataRPC[key2] === "undefined" || typeof txDataRPC[key2] === "string" && !txDataRPC[key2].trim().length) && prunable.includes(key2)) {
      delete txDataRPC[key2];
    }
  });
  return txDataRPC;
}
var import_js_sha3, isValidAddress;
var init_ethereum = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/ethereum.js"() {
    import_js_sha3 = __toESM(require_sha3());
    init_esm4();
    init_encoding();
    init_misc2();
    init_validators2();
    isValidAddress = (address) => {
      if (!address) {
        return false;
      } else if (address.toLowerCase().substring(0, 2) !== "0x") {
        return false;
      } else if (!/^(0x)?[0-9a-f]{40}$/i.test(address)) {
        return false;
      } else if (/^(0x)?[0-9a-f]{40}$/.test(address) || /^(0x)?[0-9A-F]{40}$/.test(address)) {
        return true;
      } else {
        return address === toChecksumAddress(address);
      }
    };
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/payload.js
function formatRpcError(error) {
  const message = error.message || "Failed or Rejected Request";
  let code2 = -32e3;
  if (error && !error.code) {
    switch (message) {
      case "Parse error":
        code2 = -32700;
        break;
      case "Invalid request":
        code2 = -32600;
        break;
      case "Method not found":
        code2 = -32601;
        break;
      case "Invalid params":
        code2 = -32602;
        break;
      case "Internal error":
        code2 = -32603;
        break;
      default:
        code2 = -32e3;
        break;
    }
  }
  const result = {
    code: code2,
    message
  };
  if (error.data) {
    result.data = error.data;
  }
  return result;
}
var init_payload = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/payload.js"() {
  }
});

// node_modules/.pnpm/strict-uri-encode@2.0.0/node_modules/strict-uri-encode/index.js
var require_strict_uri_encode = __commonJS({
  "node_modules/.pnpm/strict-uri-encode@2.0.0/node_modules/strict-uri-encode/index.js"(exports2, module2) {
    "use strict";
    module2.exports = (str) => encodeURIComponent(str).replace(/[!'()*]/g, (x5) => `%${x5.charCodeAt(0).toString(16).toUpperCase()}`);
  }
});

// node_modules/.pnpm/decode-uri-component@0.2.2/node_modules/decode-uri-component/index.js
var require_decode_uri_component = __commonJS({
  "node_modules/.pnpm/decode-uri-component@0.2.2/node_modules/decode-uri-component/index.js"(exports2, module2) {
    "use strict";
    var token = "%[a-f0-9]{2}";
    var singleMatcher = new RegExp("(" + token + ")|([^%]+?)", "gi");
    var multiMatcher = new RegExp("(" + token + ")+", "gi");
    function decodeComponents(components, split) {
      try {
        return [decodeURIComponent(components.join(""))];
      } catch (err) {
      }
      if (components.length === 1) {
        return components;
      }
      split = split || 1;
      var left = components.slice(0, split);
      var right = components.slice(split);
      return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));
    }
    function decode6(input) {
      try {
        return decodeURIComponent(input);
      } catch (err) {
        var tokens = input.match(singleMatcher) || [];
        for (var i3 = 1; i3 < tokens.length; i3++) {
          input = decodeComponents(tokens, i3).join("");
          tokens = input.match(singleMatcher) || [];
        }
        return input;
      }
    }
    function customDecodeURIComponent(input) {
      var replaceMap = {
        "%FE%FF": "\uFFFD\uFFFD",
        "%FF%FE": "\uFFFD\uFFFD"
      };
      var match = multiMatcher.exec(input);
      while (match) {
        try {
          replaceMap[match[0]] = decodeURIComponent(match[0]);
        } catch (err) {
          var result = decode6(match[0]);
          if (result !== match[0]) {
            replaceMap[match[0]] = result;
          }
        }
        match = multiMatcher.exec(input);
      }
      replaceMap["%C2"] = "\uFFFD";
      var entries = Object.keys(replaceMap);
      for (var i3 = 0; i3 < entries.length; i3++) {
        var key2 = entries[i3];
        input = input.replace(new RegExp(key2, "g"), replaceMap[key2]);
      }
      return input;
    }
    module2.exports = function(encodedURI) {
      if (typeof encodedURI !== "string") {
        throw new TypeError("Expected `encodedURI` to be of type `string`, got `" + typeof encodedURI + "`");
      }
      try {
        encodedURI = encodedURI.replace(/\+/g, " ");
        return decodeURIComponent(encodedURI);
      } catch (err) {
        return customDecodeURIComponent(encodedURI);
      }
    };
  }
});

// node_modules/.pnpm/split-on-first@1.1.0/node_modules/split-on-first/index.js
var require_split_on_first = __commonJS({
  "node_modules/.pnpm/split-on-first@1.1.0/node_modules/split-on-first/index.js"(exports2, module2) {
    "use strict";
    module2.exports = (string2, separator) => {
      if (!(typeof string2 === "string" && typeof separator === "string")) {
        throw new TypeError("Expected the arguments to be of type `string`");
      }
      if (separator === "") {
        return [string2];
      }
      const separatorIndex = string2.indexOf(separator);
      if (separatorIndex === -1) {
        return [string2];
      }
      return [
        string2.slice(0, separatorIndex),
        string2.slice(separatorIndex + separator.length)
      ];
    };
  }
});

// node_modules/.pnpm/query-string@6.13.5/node_modules/query-string/index.js
var require_query_string = __commonJS({
  "node_modules/.pnpm/query-string@6.13.5/node_modules/query-string/index.js"(exports2) {
    "use strict";
    var strictUriEncode = require_strict_uri_encode();
    var decodeComponent = require_decode_uri_component();
    var splitOnFirst = require_split_on_first();
    var isNullOrUndefined = (value2) => value2 === null || value2 === void 0;
    function encoderForArrayFormat(options) {
      switch (options.arrayFormat) {
        case "index":
          return (key2) => (result, value2) => {
            const index2 = result.length;
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, [encode5(key2, options), "[", index2, "]"].join("")];
            }
            return [
              ...result,
              [encode5(key2, options), "[", encode5(index2, options), "]=", encode5(value2, options)].join("")
            ];
          };
        case "bracket":
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, [encode5(key2, options), "[]"].join("")];
            }
            return [...result, [encode5(key2, options), "[]=", encode5(value2, options)].join("")];
          };
        case "comma":
        case "separator":
          return (key2) => (result, value2) => {
            if (value2 === null || value2 === void 0 || value2.length === 0) {
              return result;
            }
            if (result.length === 0) {
              return [[encode5(key2, options), "=", encode5(value2, options)].join("")];
            }
            return [[result, encode5(value2, options)].join(options.arrayFormatSeparator)];
          };
        default:
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, encode5(key2, options)];
            }
            return [...result, [encode5(key2, options), "=", encode5(value2, options)].join("")];
          };
      }
    }
    function parserForArrayFormat(options) {
      let result;
      switch (options.arrayFormat) {
        case "index":
          return (key2, value2, accumulator) => {
            result = /\[(\d*)\]$/.exec(key2);
            key2 = key2.replace(/\[\d*\]$/, "");
            if (!result) {
              accumulator[key2] = value2;
              return;
            }
            if (accumulator[key2] === void 0) {
              accumulator[key2] = {};
            }
            accumulator[key2][result[1]] = value2;
          };
        case "bracket":
          return (key2, value2, accumulator) => {
            result = /(\[\])$/.exec(key2);
            key2 = key2.replace(/\[\]$/, "");
            if (!result) {
              accumulator[key2] = value2;
              return;
            }
            if (accumulator[key2] === void 0) {
              accumulator[key2] = [value2];
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], value2);
          };
        case "comma":
        case "separator":
          return (key2, value2, accumulator) => {
            const isArray = typeof value2 === "string" && value2.split("").indexOf(options.arrayFormatSeparator) > -1;
            const newValue = isArray ? value2.split(options.arrayFormatSeparator).map((item) => decode6(item, options)) : value2 === null ? value2 : decode6(value2, options);
            accumulator[key2] = newValue;
          };
        default:
          return (key2, value2, accumulator) => {
            if (accumulator[key2] === void 0) {
              accumulator[key2] = value2;
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], value2);
          };
      }
    }
    function validateArrayFormatSeparator(value2) {
      if (typeof value2 !== "string" || value2.length !== 1) {
        throw new TypeError("arrayFormatSeparator must be single character string");
      }
    }
    function encode5(value2, options) {
      if (options.encode) {
        return options.strict ? strictUriEncode(value2) : encodeURIComponent(value2);
      }
      return value2;
    }
    function decode6(value2, options) {
      if (options.decode) {
        return decodeComponent(value2);
      }
      return value2;
    }
    function keysSorter(input) {
      if (Array.isArray(input)) {
        return input.sort();
      }
      if (typeof input === "object") {
        return keysSorter(Object.keys(input)).sort((a4, b3) => Number(a4) - Number(b3)).map((key2) => input[key2]);
      }
      return input;
    }
    function removeHash(input) {
      const hashStart = input.indexOf("#");
      if (hashStart !== -1) {
        input = input.slice(0, hashStart);
      }
      return input;
    }
    function getHash(url) {
      let hash = "";
      const hashStart = url.indexOf("#");
      if (hashStart !== -1) {
        hash = url.slice(hashStart);
      }
      return hash;
    }
    function extract(input) {
      input = removeHash(input);
      const queryStart = input.indexOf("?");
      if (queryStart === -1) {
        return "";
      }
      return input.slice(queryStart + 1);
    }
    function parseValue(value2, options) {
      if (options.parseNumbers && !Number.isNaN(Number(value2)) && (typeof value2 === "string" && value2.trim() !== "")) {
        value2 = Number(value2);
      } else if (options.parseBooleans && value2 !== null && (value2.toLowerCase() === "true" || value2.toLowerCase() === "false")) {
        value2 = value2.toLowerCase() === "true";
      }
      return value2;
    }
    function parse3(input, options) {
      options = Object.assign({
        decode: true,
        sort: true,
        arrayFormat: "none",
        arrayFormatSeparator: ",",
        parseNumbers: false,
        parseBooleans: false
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const formatter = parserForArrayFormat(options);
      const ret = /* @__PURE__ */ Object.create(null);
      if (typeof input !== "string") {
        return ret;
      }
      input = input.trim().replace(/^[?#&]/, "");
      if (!input) {
        return ret;
      }
      for (const param of input.split("&")) {
        let [key2, value2] = splitOnFirst(options.decode ? param.replace(/\+/g, " ") : param, "=");
        value2 = value2 === void 0 ? null : ["comma", "separator"].includes(options.arrayFormat) ? value2 : decode6(value2, options);
        formatter(decode6(key2, options), value2, ret);
      }
      for (const key2 of Object.keys(ret)) {
        const value2 = ret[key2];
        if (typeof value2 === "object" && value2 !== null) {
          for (const k3 of Object.keys(value2)) {
            value2[k3] = parseValue(value2[k3], options);
          }
        } else {
          ret[key2] = parseValue(value2, options);
        }
      }
      if (options.sort === false) {
        return ret;
      }
      return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key2) => {
        const value2 = ret[key2];
        if (Boolean(value2) && typeof value2 === "object" && !Array.isArray(value2)) {
          result[key2] = keysSorter(value2);
        } else {
          result[key2] = value2;
        }
        return result;
      }, /* @__PURE__ */ Object.create(null));
    }
    exports2.extract = extract;
    exports2.parse = parse3;
    exports2.stringify = (object, options) => {
      if (!object) {
        return "";
      }
      options = Object.assign({
        encode: true,
        strict: true,
        arrayFormat: "none",
        arrayFormatSeparator: ","
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const shouldFilter = (key2) => options.skipNull && isNullOrUndefined(object[key2]) || options.skipEmptyString && object[key2] === "";
      const formatter = encoderForArrayFormat(options);
      const objectCopy = {};
      for (const key2 of Object.keys(object)) {
        if (!shouldFilter(key2)) {
          objectCopy[key2] = object[key2];
        }
      }
      const keys2 = Object.keys(objectCopy);
      if (options.sort !== false) {
        keys2.sort(options.sort);
      }
      return keys2.map((key2) => {
        const value2 = object[key2];
        if (value2 === void 0) {
          return "";
        }
        if (value2 === null) {
          return encode5(key2, options);
        }
        if (Array.isArray(value2)) {
          return value2.reduce(formatter(key2), []).join("&");
        }
        return encode5(key2, options) + "=" + encode5(value2, options);
      }).filter((x5) => x5.length > 0).join("&");
    };
    exports2.parseUrl = (input, options) => {
      options = Object.assign({
        decode: true
      }, options);
      const [url, hash] = splitOnFirst(input, "#");
      return Object.assign(
        {
          url: url.split("?")[0] || "",
          query: parse3(extract(input), options)
        },
        options && options.parseFragmentIdentifier && hash ? { fragmentIdentifier: decode6(hash, options) } : {}
      );
    };
    exports2.stringifyUrl = (input, options) => {
      options = Object.assign({
        encode: true,
        strict: true
      }, options);
      const url = removeHash(input.url).split("?")[0] || "";
      const queryFromUrl = exports2.extract(input.url);
      const parsedQueryFromUrl = exports2.parse(queryFromUrl, { sort: false });
      const query = Object.assign(parsedQueryFromUrl, input.query);
      let queryString2 = exports2.stringify(query, options);
      if (queryString2) {
        queryString2 = `?${queryString2}`;
      }
      let hash = getHash(input.url);
      if (input.fragmentIdentifier) {
        hash = `#${encode5(input.fragmentIdentifier, options)}`;
      }
      return `${url}${queryString2}${hash}`;
    };
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/url.js
function getQueryString(url) {
  const pathEnd = url.indexOf("?") !== -1 ? url.indexOf("?") : void 0;
  const queryString2 = typeof pathEnd !== "undefined" ? url.substr(pathEnd) : "";
  return queryString2;
}
function appendToQueryString(queryString2, newQueryParams) {
  let queryParams = parseQueryString(queryString2);
  queryParams = Object.assign(Object.assign({}, queryParams), newQueryParams);
  queryString2 = formatQueryString(queryParams);
  return queryString2;
}
function parseQueryString(queryString2) {
  return queryStringUtils.parse(queryString2);
}
function formatQueryString(queryParams) {
  return queryStringUtils.stringify(queryParams);
}
var queryStringUtils;
var init_url2 = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/url.js"() {
    queryStringUtils = __toESM(require_query_string());
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/session.js
function isWalletConnectSession(object) {
  return typeof object.bridge !== "undefined";
}
function parseWalletConnectUri(str) {
  const pathStart = str.indexOf(":");
  const pathEnd = str.indexOf("?") !== -1 ? str.indexOf("?") : void 0;
  const protocol = str.substring(0, pathStart);
  const path = str.substring(pathStart + 1, pathEnd);
  function parseRequiredParams(path2) {
    const separator = "@";
    const values = path2.split(separator);
    const requiredParams2 = {
      handshakeTopic: values[0],
      version: parseInt(values[1], 10)
    };
    return requiredParams2;
  }
  const requiredParams = parseRequiredParams(path);
  const queryString2 = typeof pathEnd !== "undefined" ? str.substr(pathEnd) : "";
  function parseQueryParams(queryString3) {
    const result2 = parseQueryString(queryString3);
    const parameters = {
      key: result2.key || "",
      bridge: result2.bridge || ""
    };
    return parameters;
  }
  const queryParams = parseQueryParams(queryString2);
  const result = Object.assign(Object.assign({ protocol }, requiredParams), queryParams);
  return result;
}
var init_session = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/session.js"() {
    init_url2();
  }
});

// node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/index.js
var init_esm7 = __esm({
  "node_modules/.pnpm/@walletconnect+utils@1.8.0/node_modules/@walletconnect/utils/dist/esm/index.js"() {
    init_esm3();
    init_constants();
    init_encoding();
    init_ethereum();
    init_misc2();
    init_payload();
    init_session();
    init_url2();
    init_validators2();
  }
});

// node_modules/.pnpm/@walletconnect+socket-transport@1.8.0/node_modules/@walletconnect/socket-transport/dist/esm/network.js
var NetworkMonitor, network_default;
var init_network = __esm({
  "node_modules/.pnpm/@walletconnect+socket-transport@1.8.0/node_modules/@walletconnect/socket-transport/dist/esm/network.js"() {
    NetworkMonitor = class {
      constructor() {
        this._eventEmitters = [];
        if (typeof window !== "undefined" && typeof window.addEventListener !== "undefined") {
          window.addEventListener("online", () => this.trigger("online"));
          window.addEventListener("offline", () => this.trigger("offline"));
        }
      }
      on(event, callback) {
        this._eventEmitters.push({
          event,
          callback
        });
      }
      trigger(event) {
        let eventEmitters = [];
        if (event) {
          eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === event);
        }
        eventEmitters.forEach((eventEmitter) => {
          eventEmitter.callback();
        });
      }
    };
    network_default = NetworkMonitor;
  }
});

// node_modules/.pnpm/ws@7.5.3/node_modules/ws/browser.js
var require_browser = __commonJS({
  "node_modules/.pnpm/ws@7.5.3/node_modules/ws/browser.js"(exports2, module2) {
    "use strict";
    module2.exports = function() {
      throw new Error(
        "ws does not work in the browser. Browser clients must use the native WebSocket object"
      );
    };
  }
});

// node_modules/.pnpm/@walletconnect+socket-transport@1.8.0/node_modules/@walletconnect/socket-transport/dist/esm/index.js
function getWebSocketUrl(_url, protocol, version2) {
  var _a, _b;
  const url = _url.startsWith("https") ? _url.replace("https", "wss") : _url.startsWith("http") ? _url.replace("http", "ws") : _url;
  const splitUrl = url.split("?");
  const params = isBrowser() ? {
    protocol,
    version: version2,
    env: "browser",
    host: ((_a = getLocation2()) === null || _a === void 0 ? void 0 : _a.host) || ""
  } : {
    protocol,
    version: version2,
    env: ((_b = detectEnv()) === null || _b === void 0 ? void 0 : _b.name) || ""
  };
  const queryString2 = appendToQueryString(getQueryString(splitUrl[1] || ""), params);
  return splitUrl[0] + "?" + queryString2;
}
var WS, SocketTransport, esm_default2;
var init_esm8 = __esm({
  "node_modules/.pnpm/@walletconnect+socket-transport@1.8.0/node_modules/@walletconnect/socket-transport/dist/esm/index.js"() {
    init_esm7();
    init_network();
    WS = typeof globalThis.WebSocket !== "undefined" ? globalThis.WebSocket : require_browser();
    SocketTransport = class {
      constructor(opts) {
        this.opts = opts;
        this._queue = [];
        this._events = [];
        this._subscriptions = [];
        this._protocol = opts.protocol;
        this._version = opts.version;
        this._url = "";
        this._netMonitor = null;
        this._socket = null;
        this._nextSocket = null;
        this._subscriptions = opts.subscriptions || [];
        this._netMonitor = opts.netMonitor || new network_default();
        if (!opts.url || typeof opts.url !== "string") {
          throw new Error("Missing or invalid WebSocket url");
        }
        this._url = opts.url;
        this._netMonitor.on("online", () => this._socketCreate());
      }
      set readyState(value2) {
      }
      get readyState() {
        return this._socket ? this._socket.readyState : -1;
      }
      set connecting(value2) {
      }
      get connecting() {
        return this.readyState === 0;
      }
      set connected(value2) {
      }
      get connected() {
        return this.readyState === 1;
      }
      set closing(value2) {
      }
      get closing() {
        return this.readyState === 2;
      }
      set closed(value2) {
      }
      get closed() {
        return this.readyState === 3;
      }
      open() {
        this._socketCreate();
      }
      close() {
        this._socketClose();
      }
      send(message, topic, silent) {
        if (!topic || typeof topic !== "string") {
          throw new Error("Missing or invalid topic field");
        }
        this._socketSend({
          topic,
          type: "pub",
          payload: message,
          silent: !!silent
        });
      }
      subscribe(topic) {
        this._socketSend({
          topic,
          type: "sub",
          payload: "",
          silent: true
        });
      }
      on(event, callback) {
        this._events.push({ event, callback });
      }
      _socketCreate() {
        if (this._nextSocket) {
          return;
        }
        const url = getWebSocketUrl(this._url, this._protocol, this._version);
        this._nextSocket = new WS(url);
        if (!this._nextSocket) {
          throw new Error("Failed to create socket");
        }
        this._nextSocket.onmessage = (event) => this._socketReceive(event);
        this._nextSocket.onopen = () => this._socketOpen();
        this._nextSocket.onerror = (event) => this._socketError(event);
        this._nextSocket.onclose = () => {
          setTimeout(() => {
            this._nextSocket = null;
            this._socketCreate();
          }, 1e3);
        };
      }
      _socketOpen() {
        this._socketClose();
        this._socket = this._nextSocket;
        this._nextSocket = null;
        this._queueSubscriptions();
        this._pushQueue();
      }
      _socketClose() {
        if (this._socket) {
          this._socket.onclose = () => {
          };
          this._socket.close();
        }
      }
      _socketSend(socketMessage) {
        const message = JSON.stringify(socketMessage);
        if (this._socket && this._socket.readyState === 1) {
          this._socket.send(message);
        } else {
          this._setToQueue(socketMessage);
          this._socketCreate();
        }
      }
      async _socketReceive(event) {
        let socketMessage;
        try {
          socketMessage = JSON.parse(event.data);
        } catch (error) {
          return;
        }
        this._socketSend({
          topic: socketMessage.topic,
          type: "ack",
          payload: "",
          silent: true
        });
        if (this._socket && this._socket.readyState === 1) {
          const events = this._events.filter((event2) => event2.event === "message");
          if (events && events.length) {
            events.forEach((event2) => event2.callback(socketMessage));
          }
        }
      }
      _socketError(e2) {
        const events = this._events.filter((event) => event.event === "error");
        if (events && events.length) {
          events.forEach((event) => event.callback(e2));
        }
      }
      _queueSubscriptions() {
        const subscriptions = this._subscriptions;
        subscriptions.forEach((topic) => this._queue.push({
          topic,
          type: "sub",
          payload: "",
          silent: true
        }));
        this._subscriptions = this.opts.subscriptions || [];
      }
      _setToQueue(socketMessage) {
        this._queue.push(socketMessage);
      }
      _pushQueue() {
        const queue = this._queue;
        queue.forEach((socketMessage) => this._socketSend(socketMessage));
        this._queue = [];
      }
    };
    esm_default2 = SocketTransport;
  }
});

// node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/errors.js
var ERROR_SESSION_CONNECTED, ERROR_SESSION_DISCONNECTED, ERROR_SESSION_REJECTED, ERROR_MISSING_JSON_RPC, ERROR_MISSING_RESULT, ERROR_MISSING_ERROR, ERROR_MISSING_METHOD, ERROR_MISSING_ID, ERROR_MISSING_REQUIRED, ERROR_INVALID_RESPONSE, ERROR_INVALID_URI, ERROR_QRCODE_MODAL_NOT_PROVIDED, ERROR_QRCODE_MODAL_USER_CLOSED;
var init_errors = __esm({
  "node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/errors.js"() {
    ERROR_SESSION_CONNECTED = "Session currently connected";
    ERROR_SESSION_DISCONNECTED = "Session currently disconnected";
    ERROR_SESSION_REJECTED = "Session Rejected";
    ERROR_MISSING_JSON_RPC = "Missing JSON RPC response";
    ERROR_MISSING_RESULT = `JSON-RPC success response must include "result" field`;
    ERROR_MISSING_ERROR = `JSON-RPC error response must include "error" field`;
    ERROR_MISSING_METHOD = `JSON RPC request must have valid "method" value`;
    ERROR_MISSING_ID = `JSON RPC request must have valid "id" value`;
    ERROR_MISSING_REQUIRED = "Missing one of the required parameters: bridge / uri / session";
    ERROR_INVALID_RESPONSE = "JSON RPC response format is invalid";
    ERROR_INVALID_URI = "URI format is invalid";
    ERROR_QRCODE_MODAL_NOT_PROVIDED = "QRCode Modal not provided";
    ERROR_QRCODE_MODAL_USER_CLOSED = "User close QRCode Modal";
  }
});

// node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/events.js
var EventManager, events_default;
var init_events = __esm({
  "node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/events.js"() {
    init_esm7();
    EventManager = class {
      constructor() {
        this._eventEmitters = [];
      }
      subscribe(eventEmitter) {
        this._eventEmitters.push(eventEmitter);
      }
      unsubscribe(event) {
        this._eventEmitters = this._eventEmitters.filter((x5) => x5.event !== event);
      }
      trigger(payload) {
        let eventEmitters = [];
        let event;
        if (isJsonRpcRequest2(payload)) {
          event = payload.method;
        } else if (isJsonRpcResponseSuccess(payload) || isJsonRpcResponseError(payload)) {
          event = `response:${payload.id}`;
        } else if (isInternalEvent(payload)) {
          event = payload.event;
        } else {
          event = "";
        }
        if (event) {
          eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === event);
        }
        if ((!eventEmitters || !eventEmitters.length) && !isReservedEvent(event) && !isInternalEvent(event)) {
          eventEmitters = this._eventEmitters.filter((eventEmitter) => eventEmitter.event === "call_request");
        }
        eventEmitters.forEach((eventEmitter) => {
          if (isJsonRpcResponseError(payload)) {
            const error = new Error(payload.error.message);
            eventEmitter.callback(error, null);
          } else {
            eventEmitter.callback(null, payload);
          }
        });
      }
    };
    events_default = EventManager;
  }
});

// node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/storage.js
var SessionStorage, storage_default;
var init_storage = __esm({
  "node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/storage.js"() {
    init_esm7();
    SessionStorage = class {
      constructor(storageId = "walletconnect") {
        this.storageId = storageId;
      }
      getSession() {
        let session = null;
        const json2 = getLocal(this.storageId);
        if (json2 && isWalletConnectSession(json2)) {
          session = json2;
        }
        return session;
      }
      setSession(session) {
        setLocal(this.storageId, session);
        return session;
      }
      removeSession() {
        removeLocal(this.storageId);
      }
    };
    storage_default = SessionStorage;
  }
});

// node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/url.js
function extractHostname(url) {
  let hostname = url.indexOf("//") > -1 ? url.split("/")[2] : url.split("/")[0];
  hostname = hostname.split(":")[0];
  hostname = hostname.split("?")[0];
  return hostname;
}
function extractRootDomain(url) {
  return extractHostname(url).split(".").slice(-2).join(".");
}
function randomBridgeIndex() {
  return Math.floor(Math.random() * bridges.length);
}
function selectRandomBridgeUrl() {
  return bridges[randomBridgeIndex()];
}
function shouldSelectRandomly(url) {
  return extractRootDomain(url) === domain;
}
function getBridgeUrl(url) {
  if (shouldSelectRandomly(url)) {
    return selectRandomBridgeUrl();
  }
  return url;
}
var domain, alphanumerical, bridges;
var init_url3 = __esm({
  "node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/url.js"() {
    domain = "walletconnect.org";
    alphanumerical = "abcdefghijklmnopqrstuvwxyz0123456789";
    bridges = alphanumerical.split("").map((char) => `https://${char}.bridge.walletconnect.org`);
  }
});

// node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/index.js
var Connector, esm_default3;
var init_esm9 = __esm({
  "node_modules/.pnpm/@walletconnect+core@1.8.0/node_modules/@walletconnect/core/dist/esm/index.js"() {
    init_esm7();
    init_esm8();
    init_errors();
    init_events();
    init_storage();
    init_url3();
    Connector = class {
      constructor(opts) {
        this.protocol = "wc";
        this.version = 1;
        this._bridge = "";
        this._key = null;
        this._clientId = "";
        this._clientMeta = null;
        this._peerId = "";
        this._peerMeta = null;
        this._handshakeId = 0;
        this._handshakeTopic = "";
        this._connected = false;
        this._accounts = [];
        this._chainId = 0;
        this._networkId = 0;
        this._rpcUrl = "";
        this._eventManager = new events_default();
        this._clientMeta = getClientMeta() || opts.connectorOpts.clientMeta || null;
        this._cryptoLib = opts.cryptoLib;
        this._sessionStorage = opts.sessionStorage || new storage_default(opts.connectorOpts.storageId);
        this._qrcodeModal = opts.connectorOpts.qrcodeModal;
        this._qrcodeModalOptions = opts.connectorOpts.qrcodeModalOptions;
        this._signingMethods = [...signingMethods, ...opts.connectorOpts.signingMethods || []];
        if (!opts.connectorOpts.bridge && !opts.connectorOpts.uri && !opts.connectorOpts.session) {
          throw new Error(ERROR_MISSING_REQUIRED);
        }
        if (opts.connectorOpts.bridge) {
          this.bridge = getBridgeUrl(opts.connectorOpts.bridge);
        }
        if (opts.connectorOpts.uri) {
          this.uri = opts.connectorOpts.uri;
        }
        const session = opts.connectorOpts.session || this._getStorageSession();
        if (session) {
          this.session = session;
        }
        if (this.handshakeId) {
          this._subscribeToSessionResponse(this.handshakeId, "Session request rejected");
        }
        this._transport = opts.transport || new esm_default2({
          protocol: this.protocol,
          version: this.version,
          url: this.bridge,
          subscriptions: [this.clientId]
        });
        this._subscribeToInternalEvents();
        this._initTransport();
        if (opts.connectorOpts.uri) {
          this._subscribeToSessionRequest();
        }
        if (opts.pushServerOpts) {
          this._registerPushServer(opts.pushServerOpts);
        }
      }
      set bridge(value2) {
        if (!value2) {
          return;
        }
        this._bridge = value2;
      }
      get bridge() {
        return this._bridge;
      }
      set key(value2) {
        if (!value2) {
          return;
        }
        const key2 = convertHexToArrayBuffer(value2);
        this._key = key2;
      }
      get key() {
        if (this._key) {
          const key2 = convertArrayBufferToHex(this._key, true);
          return key2;
        }
        return "";
      }
      set clientId(value2) {
        if (!value2) {
          return;
        }
        this._clientId = value2;
      }
      get clientId() {
        let clientId = this._clientId;
        if (!clientId) {
          clientId = this._clientId = uuid();
        }
        return this._clientId;
      }
      set peerId(value2) {
        if (!value2) {
          return;
        }
        this._peerId = value2;
      }
      get peerId() {
        return this._peerId;
      }
      set clientMeta(value2) {
      }
      get clientMeta() {
        let clientMeta = this._clientMeta;
        if (!clientMeta) {
          clientMeta = this._clientMeta = getClientMeta();
        }
        return clientMeta;
      }
      set peerMeta(value2) {
        this._peerMeta = value2;
      }
      get peerMeta() {
        const peerMeta = this._peerMeta;
        return peerMeta;
      }
      set handshakeTopic(value2) {
        if (!value2) {
          return;
        }
        this._handshakeTopic = value2;
      }
      get handshakeTopic() {
        return this._handshakeTopic;
      }
      set handshakeId(value2) {
        if (!value2) {
          return;
        }
        this._handshakeId = value2;
      }
      get handshakeId() {
        return this._handshakeId;
      }
      get uri() {
        const _uri = this._formatUri();
        return _uri;
      }
      set uri(value2) {
        if (!value2) {
          return;
        }
        const { handshakeTopic, bridge, key: key2 } = this._parseUri(value2);
        this.handshakeTopic = handshakeTopic;
        this.bridge = bridge;
        this.key = key2;
      }
      set chainId(value2) {
        this._chainId = value2;
      }
      get chainId() {
        const chainId = this._chainId;
        return chainId;
      }
      set networkId(value2) {
        this._networkId = value2;
      }
      get networkId() {
        const networkId = this._networkId;
        return networkId;
      }
      set accounts(value2) {
        this._accounts = value2;
      }
      get accounts() {
        const accounts = this._accounts;
        return accounts;
      }
      set rpcUrl(value2) {
        this._rpcUrl = value2;
      }
      get rpcUrl() {
        const rpcUrl = this._rpcUrl;
        return rpcUrl;
      }
      set connected(value2) {
      }
      get connected() {
        return this._connected;
      }
      set pending(value2) {
      }
      get pending() {
        return !!this._handshakeTopic;
      }
      get session() {
        return {
          connected: this.connected,
          accounts: this.accounts,
          chainId: this.chainId,
          bridge: this.bridge,
          key: this.key,
          clientId: this.clientId,
          clientMeta: this.clientMeta,
          peerId: this.peerId,
          peerMeta: this.peerMeta,
          handshakeId: this.handshakeId,
          handshakeTopic: this.handshakeTopic
        };
      }
      set session(value2) {
        if (!value2) {
          return;
        }
        this._connected = value2.connected;
        this.accounts = value2.accounts;
        this.chainId = value2.chainId;
        this.bridge = value2.bridge;
        this.key = value2.key;
        this.clientId = value2.clientId;
        this.clientMeta = value2.clientMeta;
        this.peerId = value2.peerId;
        this.peerMeta = value2.peerMeta;
        this.handshakeId = value2.handshakeId;
        this.handshakeTopic = value2.handshakeTopic;
      }
      on(event, callback) {
        const eventEmitter = {
          event,
          callback
        };
        this._eventManager.subscribe(eventEmitter);
      }
      off(event) {
        this._eventManager.unsubscribe(event);
      }
      async createInstantRequest(instantRequest) {
        this._key = await this._generateKey();
        const request = this._formatRequest({
          method: "wc_instantRequest",
          params: [
            {
              peerId: this.clientId,
              peerMeta: this.clientMeta,
              request: this._formatRequest(instantRequest)
            }
          ]
        });
        this.handshakeId = request.id;
        this.handshakeTopic = uuid();
        this._eventManager.trigger({
          event: "display_uri",
          params: [this.uri]
        });
        this.on("modal_closed", () => {
          throw new Error(ERROR_QRCODE_MODAL_USER_CLOSED);
        });
        const endInstantRequest = () => {
          this.killSession();
        };
        try {
          const result = await this._sendCallRequest(request);
          if (result) {
            endInstantRequest();
          }
          return result;
        } catch (error) {
          endInstantRequest();
          throw error;
        }
      }
      async connect(opts) {
        if (!this._qrcodeModal) {
          throw new Error(ERROR_QRCODE_MODAL_NOT_PROVIDED);
        }
        if (this.connected) {
          return {
            chainId: this.chainId,
            accounts: this.accounts
          };
        }
        await this.createSession(opts);
        return new Promise(async (resolve, reject) => {
          this.on("modal_closed", () => reject(new Error(ERROR_QRCODE_MODAL_USER_CLOSED)));
          this.on("connect", (error, payload) => {
            if (error) {
              return reject(error);
            }
            resolve(payload.params[0]);
          });
        });
      }
      async createSession(opts) {
        if (this._connected) {
          throw new Error(ERROR_SESSION_CONNECTED);
        }
        if (this.pending) {
          return;
        }
        this._key = await this._generateKey();
        const request = this._formatRequest({
          method: "wc_sessionRequest",
          params: [
            {
              peerId: this.clientId,
              peerMeta: this.clientMeta,
              chainId: opts && opts.chainId ? opts.chainId : null
            }
          ]
        });
        this.handshakeId = request.id;
        this.handshakeTopic = uuid();
        this._sendSessionRequest(request, "Session update rejected", {
          topic: this.handshakeTopic
        });
        this._eventManager.trigger({
          event: "display_uri",
          params: [this.uri]
        });
      }
      approveSession(sessionStatus) {
        if (this._connected) {
          throw new Error(ERROR_SESSION_CONNECTED);
        }
        this.chainId = sessionStatus.chainId;
        this.accounts = sessionStatus.accounts;
        this.networkId = sessionStatus.networkId || 0;
        this.rpcUrl = sessionStatus.rpcUrl || "";
        const sessionParams = {
          approved: true,
          chainId: this.chainId,
          networkId: this.networkId,
          accounts: this.accounts,
          rpcUrl: this.rpcUrl,
          peerId: this.clientId,
          peerMeta: this.clientMeta
        };
        const response = {
          id: this.handshakeId,
          jsonrpc: "2.0",
          result: sessionParams
        };
        this._sendResponse(response);
        this._connected = true;
        this._setStorageSession();
        this._eventManager.trigger({
          event: "connect",
          params: [
            {
              peerId: this.peerId,
              peerMeta: this.peerMeta,
              chainId: this.chainId,
              accounts: this.accounts
            }
          ]
        });
      }
      rejectSession(sessionError) {
        if (this._connected) {
          throw new Error(ERROR_SESSION_CONNECTED);
        }
        const message = sessionError && sessionError.message ? sessionError.message : ERROR_SESSION_REJECTED;
        const response = this._formatResponse({
          id: this.handshakeId,
          error: { message }
        });
        this._sendResponse(response);
        this._connected = false;
        this._eventManager.trigger({
          event: "disconnect",
          params: [{ message }]
        });
        this._removeStorageSession();
      }
      updateSession(sessionStatus) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        this.chainId = sessionStatus.chainId;
        this.accounts = sessionStatus.accounts;
        this.networkId = sessionStatus.networkId || 0;
        this.rpcUrl = sessionStatus.rpcUrl || "";
        const sessionParams = {
          approved: true,
          chainId: this.chainId,
          networkId: this.networkId,
          accounts: this.accounts,
          rpcUrl: this.rpcUrl
        };
        const request = this._formatRequest({
          method: "wc_sessionUpdate",
          params: [sessionParams]
        });
        this._sendSessionRequest(request, "Session update rejected");
        this._eventManager.trigger({
          event: "session_update",
          params: [
            {
              chainId: this.chainId,
              accounts: this.accounts
            }
          ]
        });
        this._manageStorageSession();
      }
      async killSession(sessionError) {
        const message = sessionError ? sessionError.message : "Session Disconnected";
        const sessionParams = {
          approved: false,
          chainId: null,
          networkId: null,
          accounts: null
        };
        const request = this._formatRequest({
          method: "wc_sessionUpdate",
          params: [sessionParams]
        });
        await this._sendRequest(request);
        this._handleSessionDisconnect(message);
      }
      async sendTransaction(tx) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        const parsedTx = parseTransactionData(tx);
        const request = this._formatRequest({
          method: "eth_sendTransaction",
          params: [parsedTx]
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      async signTransaction(tx) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        const parsedTx = parseTransactionData(tx);
        const request = this._formatRequest({
          method: "eth_signTransaction",
          params: [parsedTx]
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      async signMessage(params) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        const request = this._formatRequest({
          method: "eth_sign",
          params
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      async signPersonalMessage(params) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        params = parsePersonalSign(params);
        const request = this._formatRequest({
          method: "personal_sign",
          params
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      async signTypedData(params) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        const request = this._formatRequest({
          method: "eth_signTypedData",
          params
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      async updateChain(chainParams) {
        if (!this._connected) {
          throw new Error("Session currently disconnected");
        }
        const request = this._formatRequest({
          method: "wallet_updateChain",
          params: [chainParams]
        });
        const result = await this._sendCallRequest(request);
        return result;
      }
      unsafeSend(request, options) {
        this._sendRequest(request, options);
        this._eventManager.trigger({
          event: "call_request_sent",
          params: [{ request, options }]
        });
        return new Promise((resolve, reject) => {
          this._subscribeToResponse(request.id, (error, payload) => {
            if (error) {
              reject(error);
              return;
            }
            if (!payload) {
              throw new Error(ERROR_MISSING_JSON_RPC);
            }
            resolve(payload);
          });
        });
      }
      async sendCustomRequest(request, options) {
        if (!this._connected) {
          throw new Error(ERROR_SESSION_DISCONNECTED);
        }
        switch (request.method) {
          case "eth_accounts":
            return this.accounts;
          case "eth_chainId":
            return convertNumberToHex(this.chainId);
          case "eth_sendTransaction":
          case "eth_signTransaction":
            if (request.params) {
              request.params[0] = parseTransactionData(request.params[0]);
            }
            break;
          case "personal_sign":
            if (request.params) {
              request.params = parsePersonalSign(request.params);
            }
            break;
          default:
            break;
        }
        const formattedRequest = this._formatRequest(request);
        const result = await this._sendCallRequest(formattedRequest, options);
        return result;
      }
      approveRequest(response) {
        if (isJsonRpcResponseSuccess(response)) {
          const formattedResponse = this._formatResponse(response);
          this._sendResponse(formattedResponse);
        } else {
          throw new Error(ERROR_MISSING_RESULT);
        }
      }
      rejectRequest(response) {
        if (isJsonRpcResponseError(response)) {
          const formattedResponse = this._formatResponse(response);
          this._sendResponse(formattedResponse);
        } else {
          throw new Error(ERROR_MISSING_ERROR);
        }
      }
      transportClose() {
        this._transport.close();
      }
      async _sendRequest(request, options) {
        const callRequest = this._formatRequest(request);
        const encryptionPayload = await this._encrypt(callRequest);
        const topic = typeof (options === null || options === void 0 ? void 0 : options.topic) !== "undefined" ? options.topic : this.peerId;
        const payload = JSON.stringify(encryptionPayload);
        const silent = typeof (options === null || options === void 0 ? void 0 : options.forcePushNotification) !== "undefined" ? !options.forcePushNotification : isSilentPayload(callRequest);
        this._transport.send(payload, topic, silent);
      }
      async _sendResponse(response) {
        const encryptionPayload = await this._encrypt(response);
        const topic = this.peerId;
        const payload = JSON.stringify(encryptionPayload);
        const silent = true;
        this._transport.send(payload, topic, silent);
      }
      async _sendSessionRequest(request, errorMsg, options) {
        this._sendRequest(request, options);
        this._subscribeToSessionResponse(request.id, errorMsg);
      }
      _sendCallRequest(request, options) {
        this._sendRequest(request, options);
        this._eventManager.trigger({
          event: "call_request_sent",
          params: [{ request, options }]
        });
        return this._subscribeToCallResponse(request.id);
      }
      _formatRequest(request) {
        if (typeof request.method === "undefined") {
          throw new Error(ERROR_MISSING_METHOD);
        }
        const formattedRequest = {
          id: typeof request.id === "undefined" ? payloadId2() : request.id,
          jsonrpc: "2.0",
          method: request.method,
          params: typeof request.params === "undefined" ? [] : request.params
        };
        return formattedRequest;
      }
      _formatResponse(response) {
        if (typeof response.id === "undefined") {
          throw new Error(ERROR_MISSING_ID);
        }
        const baseResponse = { id: response.id, jsonrpc: "2.0" };
        if (isJsonRpcResponseError(response)) {
          const error = formatRpcError(response.error);
          const errorResponse = Object.assign(Object.assign(Object.assign({}, baseResponse), response), { error });
          return errorResponse;
        } else if (isJsonRpcResponseSuccess(response)) {
          const successResponse = Object.assign(Object.assign({}, baseResponse), response);
          return successResponse;
        }
        throw new Error(ERROR_INVALID_RESPONSE);
      }
      _handleSessionDisconnect(errorMsg) {
        const message = errorMsg || "Session Disconnected";
        if (!this._connected) {
          if (this._qrcodeModal) {
            this._qrcodeModal.close();
          }
          removeLocal(mobileLinkChoiceKey);
        }
        if (this._connected) {
          this._connected = false;
        }
        if (this._handshakeId) {
          this._handshakeId = 0;
        }
        if (this._handshakeTopic) {
          this._handshakeTopic = "";
        }
        if (this._peerId) {
          this._peerId = "";
        }
        this._eventManager.trigger({
          event: "disconnect",
          params: [{ message }]
        });
        this._removeStorageSession();
        this.transportClose();
      }
      _handleSessionResponse(errorMsg, sessionParams) {
        if (sessionParams) {
          if (sessionParams.approved) {
            if (!this._connected) {
              this._connected = true;
              if (sessionParams.chainId) {
                this.chainId = sessionParams.chainId;
              }
              if (sessionParams.accounts) {
                this.accounts = sessionParams.accounts;
              }
              if (sessionParams.peerId && !this.peerId) {
                this.peerId = sessionParams.peerId;
              }
              if (sessionParams.peerMeta && !this.peerMeta) {
                this.peerMeta = sessionParams.peerMeta;
              }
              this._eventManager.trigger({
                event: "connect",
                params: [
                  {
                    peerId: this.peerId,
                    peerMeta: this.peerMeta,
                    chainId: this.chainId,
                    accounts: this.accounts
                  }
                ]
              });
            } else {
              if (sessionParams.chainId) {
                this.chainId = sessionParams.chainId;
              }
              if (sessionParams.accounts) {
                this.accounts = sessionParams.accounts;
              }
              this._eventManager.trigger({
                event: "session_update",
                params: [
                  {
                    chainId: this.chainId,
                    accounts: this.accounts
                  }
                ]
              });
            }
            this._manageStorageSession();
          } else {
            this._handleSessionDisconnect(errorMsg);
          }
        } else {
          this._handleSessionDisconnect(errorMsg);
        }
      }
      async _handleIncomingMessages(socketMessage) {
        const activeTopics = [this.clientId, this.handshakeTopic];
        if (!activeTopics.includes(socketMessage.topic)) {
          return;
        }
        let encryptionPayload;
        try {
          encryptionPayload = JSON.parse(socketMessage.payload);
        } catch (error) {
          return;
        }
        const payload = await this._decrypt(encryptionPayload);
        if (payload) {
          this._eventManager.trigger(payload);
        }
      }
      _subscribeToSessionRequest() {
        this._transport.subscribe(this.handshakeTopic);
      }
      _subscribeToResponse(id, callback) {
        this.on(`response:${id}`, callback);
      }
      _subscribeToSessionResponse(id, errorMsg) {
        this._subscribeToResponse(id, (error, payload) => {
          if (error) {
            this._handleSessionResponse(error.message);
            return;
          }
          if (isJsonRpcResponseSuccess(payload)) {
            this._handleSessionResponse(errorMsg, payload.result);
          } else if (payload.error && payload.error.message) {
            this._handleSessionResponse(payload.error.message);
          } else {
            this._handleSessionResponse(errorMsg);
          }
        });
      }
      _subscribeToCallResponse(id) {
        return new Promise((resolve, reject) => {
          this._subscribeToResponse(id, (error, payload) => {
            if (error) {
              reject(error);
              return;
            }
            if (isJsonRpcResponseSuccess(payload)) {
              resolve(payload.result);
            } else if (payload.error && payload.error.message) {
              reject(payload.error);
            } else {
              reject(new Error(ERROR_INVALID_RESPONSE));
            }
          });
        });
      }
      _subscribeToInternalEvents() {
        this.on("display_uri", () => {
          if (this._qrcodeModal) {
            this._qrcodeModal.open(this.uri, () => {
              this._eventManager.trigger({
                event: "modal_closed",
                params: []
              });
            }, this._qrcodeModalOptions);
          }
        });
        this.on("connect", () => {
          if (this._qrcodeModal) {
            this._qrcodeModal.close();
          }
        });
        this.on("call_request_sent", (error, payload) => {
          const { request } = payload.params[0];
          if (isMobile() && this._signingMethods.includes(request.method)) {
            const mobileLinkUrl = getLocal(mobileLinkChoiceKey);
            if (mobileLinkUrl) {
              window.location.href = mobileLinkUrl.href;
            }
          }
        });
        this.on("wc_sessionRequest", (error, payload) => {
          if (error) {
            this._eventManager.trigger({
              event: "error",
              params: [
                {
                  code: "SESSION_REQUEST_ERROR",
                  message: error.toString()
                }
              ]
            });
          }
          this.handshakeId = payload.id;
          this.peerId = payload.params[0].peerId;
          this.peerMeta = payload.params[0].peerMeta;
          const internalPayload = Object.assign(Object.assign({}, payload), { method: "session_request" });
          this._eventManager.trigger(internalPayload);
        });
        this.on("wc_sessionUpdate", (error, payload) => {
          if (error) {
            this._handleSessionResponse(error.message);
          }
          this._handleSessionResponse("Session disconnected", payload.params[0]);
        });
      }
      _initTransport() {
        this._transport.on("message", (socketMessage) => this._handleIncomingMessages(socketMessage));
        this._transport.on("open", () => this._eventManager.trigger({ event: "transport_open", params: [] }));
        this._transport.on("close", () => this._eventManager.trigger({ event: "transport_close", params: [] }));
        this._transport.on("error", () => this._eventManager.trigger({
          event: "transport_error",
          params: ["Websocket connection failed"]
        }));
        this._transport.open();
      }
      _formatUri() {
        const protocol = this.protocol;
        const handshakeTopic = this.handshakeTopic;
        const version2 = this.version;
        const bridge = encodeURIComponent(this.bridge);
        const key2 = this.key;
        const uri = `${protocol}:${handshakeTopic}@${version2}?bridge=${bridge}&key=${key2}`;
        return uri;
      }
      _parseUri(uri) {
        const result = parseWalletConnectUri(uri);
        if (result.protocol === this.protocol) {
          if (!result.handshakeTopic) {
            throw Error("Invalid or missing handshakeTopic parameter value");
          }
          const handshakeTopic = result.handshakeTopic;
          if (!result.bridge) {
            throw Error("Invalid or missing bridge url parameter value");
          }
          const bridge = decodeURIComponent(result.bridge);
          if (!result.key) {
            throw Error("Invalid or missing key parameter value");
          }
          const key2 = result.key;
          return { handshakeTopic, bridge, key: key2 };
        } else {
          throw new Error(ERROR_INVALID_URI);
        }
      }
      async _generateKey() {
        if (this._cryptoLib) {
          const result = await this._cryptoLib.generateKey();
          return result;
        }
        return null;
      }
      async _encrypt(data2) {
        const key2 = this._key;
        if (this._cryptoLib && key2) {
          const result = await this._cryptoLib.encrypt(data2, key2);
          return result;
        }
        return null;
      }
      async _decrypt(payload) {
        const key2 = this._key;
        if (this._cryptoLib && key2) {
          const result = await this._cryptoLib.decrypt(payload, key2);
          return result;
        }
        return null;
      }
      _getStorageSession() {
        let result = null;
        if (this._sessionStorage) {
          result = this._sessionStorage.getSession();
        }
        return result;
      }
      _setStorageSession() {
        if (this._sessionStorage) {
          this._sessionStorage.setSession(this.session);
        }
      }
      _removeStorageSession() {
        if (this._sessionStorage) {
          this._sessionStorage.removeSession();
        }
      }
      _manageStorageSession() {
        if (this._connected) {
          this._setStorageSession();
        } else {
          this._removeStorageSession();
        }
      }
      _registerPushServer(pushServerOpts) {
        if (!pushServerOpts.url || typeof pushServerOpts.url !== "string") {
          throw Error("Invalid or missing pushServerOpts.url parameter value");
        }
        if (!pushServerOpts.type || typeof pushServerOpts.type !== "string") {
          throw Error("Invalid or missing pushServerOpts.type parameter value");
        }
        if (!pushServerOpts.token || typeof pushServerOpts.token !== "string") {
          throw Error("Invalid or missing pushServerOpts.token parameter value");
        }
        const pushSubscription = {
          bridge: this.bridge,
          topic: this.clientId,
          type: pushServerOpts.type,
          token: pushServerOpts.token,
          peerName: "",
          language: pushServerOpts.language || ""
        };
        this.on("connect", async (error, payload) => {
          if (error) {
            throw error;
          }
          if (pushServerOpts.peerMeta) {
            const peerName = payload.params[0].peerMeta.name;
            pushSubscription.peerName = peerName;
          }
          try {
            const response = await fetch(`${pushServerOpts.url}/new`, {
              method: "POST",
              headers: {
                Accept: "application/json",
                "Content-Type": "application/json"
              },
              body: JSON.stringify(pushSubscription)
            });
            const json2 = await response.json();
            if (!json2.success) {
              throw Error("Failed to register in Push Server");
            }
          } catch (error2) {
            throw Error("Failed to register in Push Server");
          }
        });
      }
    };
    esm_default3 = Connector;
  }
});

// node_modules/.pnpm/@walletconnect+randombytes@1.0.3/node_modules/@walletconnect/randombytes/dist/esm/browser/index.js
function randomBytes(length3) {
  const browserCrypto = env.getBrowerCrypto();
  return browserCrypto.getRandomValues(new Uint8Array(length3));
}
var env;
var init_browser2 = __esm({
  "node_modules/.pnpm/@walletconnect+randombytes@1.0.3/node_modules/@walletconnect/randombytes/dist/esm/browser/index.js"() {
    env = __toESM(require_cjs3());
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/length.js
var LENGTH_0, LENGTH_1, LENGTH_16, LENGTH_32, LENGTH_64, LENGTH_128, LENGTH_256, LENGTH_512, LENGTH_1024;
var init_length = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/length.js"() {
    LENGTH_0 = 0;
    LENGTH_1 = 1;
    LENGTH_16 = 16;
    LENGTH_32 = 32;
    LENGTH_64 = 64;
    LENGTH_128 = 128;
    LENGTH_256 = 256;
    LENGTH_512 = 512;
    LENGTH_1024 = 1024;
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/default.js
var AES_LENGTH, HMAC_LENGTH, AES_BROWSER_ALGO, HMAC_BROWSER_ALGO, HMAC_BROWSER, SHA256_BROWSER_ALGO, SHA512_BROWSER_ALGO, AES_NODE_ALGO, HMAC_NODE_ALGO, SHA256_NODE_ALGO, SHA512_NODE_ALGO, RIPEMD160_NODE_ALGO, PREFIX_LENGTH, KEY_LENGTH, IV_LENGTH, MAC_LENGTH;
var init_default = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/default.js"() {
    init_length();
    AES_LENGTH = LENGTH_256;
    HMAC_LENGTH = LENGTH_256;
    AES_BROWSER_ALGO = "AES-CBC";
    HMAC_BROWSER_ALGO = `SHA-${AES_LENGTH}`;
    HMAC_BROWSER = "HMAC";
    SHA256_BROWSER_ALGO = "SHA-256";
    SHA512_BROWSER_ALGO = "SHA-512";
    AES_NODE_ALGO = `aes-${AES_LENGTH}-cbc`;
    HMAC_NODE_ALGO = `sha${HMAC_LENGTH}`;
    SHA256_NODE_ALGO = "sha256";
    SHA512_NODE_ALGO = "sha512";
    RIPEMD160_NODE_ALGO = "ripemd160";
    PREFIX_LENGTH = LENGTH_1;
    KEY_LENGTH = LENGTH_32;
    IV_LENGTH = LENGTH_16;
    MAC_LENGTH = LENGTH_32;
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/encoding.js
var HEX_ENC, UTF8_ENC;
var init_encoding2 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/encoding.js"() {
    HEX_ENC = "hex";
    UTF8_ENC = "utf8";
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/error.js
var ERROR_BAD_MAC;
var init_error2 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/error.js"() {
    ERROR_BAD_MAC = "Bad MAC";
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/operations.js
var ENCRYPT_OP, DECRYPT_OP, SIGN_OP, VERIFY_OP;
var init_operations = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/operations.js"() {
    ENCRYPT_OP = "encrypt";
    DECRYPT_OP = "decrypt";
    SIGN_OP = "sign";
    VERIFY_OP = "verify";
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/index.js
var init_constants3 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/constants/index.js"() {
    init_default();
    init_encoding2();
    init_error2();
    init_length();
    init_operations();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/lib/browser.js
function getAlgo(type) {
  return type === AES_BROWSER_ALGO ? { length: AES_LENGTH, name: AES_BROWSER_ALGO } : {
    hash: { name: HMAC_BROWSER_ALGO },
    name: HMAC_BROWSER
  };
}
function getOps(type) {
  return type === AES_BROWSER_ALGO ? [ENCRYPT_OP, DECRYPT_OP] : [SIGN_OP, VERIFY_OP];
}
async function browserImportKey(buffer, type = AES_BROWSER_ALGO) {
  return env2.getSubtleCrypto().importKey("raw", buffer, getAlgo(type), true, getOps(type));
}
async function browserAesEncrypt(iv, key2, data2) {
  const subtle = env2.getSubtleCrypto();
  const cryptoKey = await browserImportKey(key2, AES_BROWSER_ALGO);
  const result = await subtle.encrypt({
    iv,
    name: AES_BROWSER_ALGO
  }, cryptoKey, data2);
  return new Uint8Array(result);
}
async function browserAesDecrypt(iv, key2, data2) {
  const subtle = env2.getSubtleCrypto();
  const cryptoKey = await browserImportKey(key2, AES_BROWSER_ALGO);
  const result = await subtle.decrypt({
    iv,
    name: AES_BROWSER_ALGO
  }, cryptoKey, data2);
  return new Uint8Array(result);
}
async function browserHmacSha256Sign(key2, data2) {
  const subtle = env2.getSubtleCrypto();
  const cryptoKey = await browserImportKey(key2, HMAC_BROWSER);
  const signature = await subtle.sign({
    length: HMAC_LENGTH,
    name: HMAC_BROWSER
  }, cryptoKey, data2);
  return new Uint8Array(signature);
}
async function browserHmacSha512Sign(key2, data2) {
  const subtle = env2.getSubtleCrypto();
  const cryptoKey = await browserImportKey(key2, HMAC_BROWSER);
  const signature = await subtle.sign({
    length: LENGTH_512,
    name: HMAC_BROWSER
  }, cryptoKey, data2);
  return new Uint8Array(signature);
}
async function browserSha256(data2) {
  const subtle = env2.getSubtleCrypto();
  const result = await subtle.digest({
    name: SHA256_BROWSER_ALGO
  }, data2);
  return new Uint8Array(result);
}
async function browserSha512(data2) {
  const subtle = env2.getSubtleCrypto();
  const result = await subtle.digest({
    name: SHA512_BROWSER_ALGO
  }, data2);
  return new Uint8Array(result);
}
var env2;
var init_browser3 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/lib/browser.js"() {
    env2 = __toESM(require_cjs3());
    init_constants3();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/aes.js
function aesCbcEncrypt(iv, key2, data2) {
  return browserAesEncrypt(iv, key2, data2);
}
function aesCbcDecrypt(iv, key2, data2) {
  return browserAesDecrypt(iv, key2, data2);
}
var init_aes = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/aes.js"() {
    init_browser3();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/env.js
var env_exports2 = {};
var init_env2 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/env.js"() {
    __reExport(env_exports2, __toESM(require_cjs3()));
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/pkcs7.js
var PADDING, pkcs7;
var init_pkcs7 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/pkcs7.js"() {
    PADDING = [
      [16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16],
      [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],
      [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14],
      [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13],
      [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],
      [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11],
      [10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
      [9, 9, 9, 9, 9, 9, 9, 9, 9],
      [8, 8, 8, 8, 8, 8, 8, 8],
      [7, 7, 7, 7, 7, 7, 7],
      [6, 6, 6, 6, 6, 6],
      [5, 5, 5, 5, 5],
      [4, 4, 4, 4],
      [3, 3, 3],
      [2, 2],
      [1]
    ];
    pkcs7 = {
      pad(plaintext) {
        const padding = PADDING[plaintext.byteLength % 16 || 0];
        const result = new Uint8Array(plaintext.byteLength + padding.length);
        result.set(plaintext);
        result.set(padding, plaintext.byteLength);
        return result;
      },
      unpad(padded) {
        return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);
      }
    };
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/types.js
var init_types2 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/types.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/validators.js
function assert(condition, message) {
  if (!condition) {
    throw new Error(message || "Assertion failed");
  }
}
function isConstantTime(arr1, arr2) {
  if (arr1.length !== arr2.length) {
    return false;
  }
  let res = 0;
  for (let i3 = 0; i3 < arr1.length; i3++) {
    res |= arr1[i3] ^ arr2[i3];
  }
  return res === 0;
}
var init_validators3 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/validators.js"() {
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/index.js
var helpers_exports = {};
__export(helpers_exports, {
  assert: () => assert,
  isConstantTime: () => isConstantTime,
  pkcs7: () => pkcs7
});
var init_helpers = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/helpers/index.js"() {
    init_env2();
    __reExport(helpers_exports, env_exports2);
    init_pkcs7();
    init_types2();
    init_validators3();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/hmac.js
async function hmacSha256Sign(key2, msg) {
  const result = await browserHmacSha256Sign(key2, msg);
  return result;
}
async function hmacSha256Verify(key2, msg, sig) {
  const expectedSig = await browserHmacSha256Sign(key2, msg);
  const result = isConstantTime(expectedSig, sig);
  return result;
}
async function hmacSha512Sign(key2, msg) {
  const result = await browserHmacSha512Sign(key2, msg);
  return result;
}
async function hmacSha512Verify(key2, msg, sig) {
  const expectedSig = await browserHmacSha512Sign(key2, msg);
  const result = isConstantTime(expectedSig, sig);
  return result;
}
var init_hmac = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/hmac.js"() {
    init_browser3();
    init_helpers();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/sha2.js
async function sha256(msg) {
  const result = await browserSha256(msg);
  return result;
}
async function sha512(msg) {
  const result = await browserSha512(msg);
  return result;
}
async function ripemd160(msg) {
  throw new Error("Not supported for Browser async methods, use sync instead!");
}
var init_sha2 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/sha2.js"() {
    init_browser3();
  }
});

// node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/index.js
var browser_exports = {};
__export(browser_exports, {
  AES_BROWSER_ALGO: () => AES_BROWSER_ALGO,
  AES_LENGTH: () => AES_LENGTH,
  AES_NODE_ALGO: () => AES_NODE_ALGO,
  DECRYPT_OP: () => DECRYPT_OP,
  ENCRYPT_OP: () => ENCRYPT_OP,
  ERROR_BAD_MAC: () => ERROR_BAD_MAC,
  HEX_ENC: () => HEX_ENC,
  HMAC_BROWSER: () => HMAC_BROWSER,
  HMAC_BROWSER_ALGO: () => HMAC_BROWSER_ALGO,
  HMAC_LENGTH: () => HMAC_LENGTH,
  HMAC_NODE_ALGO: () => HMAC_NODE_ALGO,
  IV_LENGTH: () => IV_LENGTH,
  KEY_LENGTH: () => KEY_LENGTH,
  LENGTH_0: () => LENGTH_0,
  LENGTH_1: () => LENGTH_1,
  LENGTH_1024: () => LENGTH_1024,
  LENGTH_128: () => LENGTH_128,
  LENGTH_16: () => LENGTH_16,
  LENGTH_256: () => LENGTH_256,
  LENGTH_32: () => LENGTH_32,
  LENGTH_512: () => LENGTH_512,
  LENGTH_64: () => LENGTH_64,
  MAC_LENGTH: () => MAC_LENGTH,
  PREFIX_LENGTH: () => PREFIX_LENGTH,
  RIPEMD160_NODE_ALGO: () => RIPEMD160_NODE_ALGO,
  SHA256_BROWSER_ALGO: () => SHA256_BROWSER_ALGO,
  SHA256_NODE_ALGO: () => SHA256_NODE_ALGO,
  SHA512_BROWSER_ALGO: () => SHA512_BROWSER_ALGO,
  SHA512_NODE_ALGO: () => SHA512_NODE_ALGO,
  SIGN_OP: () => SIGN_OP,
  UTF8_ENC: () => UTF8_ENC,
  VERIFY_OP: () => VERIFY_OP,
  aesCbcDecrypt: () => aesCbcDecrypt,
  aesCbcEncrypt: () => aesCbcEncrypt,
  assert: () => assert,
  hmacSha256Sign: () => hmacSha256Sign,
  hmacSha256Verify: () => hmacSha256Verify,
  hmacSha512Sign: () => hmacSha512Sign,
  hmacSha512Verify: () => hmacSha512Verify,
  isConstantTime: () => isConstantTime,
  pkcs7: () => pkcs7,
  randomBytes: () => randomBytes,
  ripemd160: () => ripemd160,
  sha256: () => sha256,
  sha512: () => sha512
});
var init_browser4 = __esm({
  "node_modules/.pnpm/@walletconnect+crypto@1.0.3/node_modules/@walletconnect/crypto/dist/esm/browser/index.js"() {
    init_browser2();
    init_aes();
    init_hmac();
    init_sha2();
    init_helpers();
    __reExport(browser_exports, helpers_exports);
    init_constants3();
  }
});

// node_modules/.pnpm/@walletconnect+iso-crypto@1.8.0/node_modules/@walletconnect/iso-crypto/dist/esm/index.js
var esm_exports5 = {};
__export(esm_exports5, {
  decrypt: () => decrypt,
  encrypt: () => encrypt,
  generateKey: () => generateKey,
  verifyHmac: () => verifyHmac
});
async function generateKey(length3) {
  const _length = (length3 || 256) / 8;
  const bytes = randomBytes(_length);
  const result = convertBufferToArrayBuffer(arrayToBuffer(bytes));
  return result;
}
async function verifyHmac(payload, key2) {
  const cipherText = hexToArray(payload.data);
  const iv = hexToArray(payload.iv);
  const hmac = hexToArray(payload.hmac);
  const hmacHex = arrayToHex(hmac, false);
  const unsigned = concatArrays(cipherText, iv);
  const chmac = await hmacSha256Sign(key2, unsigned);
  const chmacHex = arrayToHex(chmac, false);
  if (removeHexPrefix(hmacHex) === removeHexPrefix(chmacHex)) {
    return true;
  }
  return false;
}
async function encrypt(data2, key2, providedIv) {
  const _key = bufferToArray(convertArrayBufferToBuffer(key2));
  const ivArrayBuffer = providedIv || await generateKey(128);
  const iv = bufferToArray(convertArrayBufferToBuffer(ivArrayBuffer));
  const ivHex = arrayToHex(iv, false);
  const contentString = JSON.stringify(data2);
  const content2 = utf8ToArray(contentString);
  const cipherText = await aesCbcEncrypt(iv, _key, content2);
  const cipherTextHex = arrayToHex(cipherText, false);
  const unsigned = concatArrays(cipherText, iv);
  const hmac = await hmacSha256Sign(_key, unsigned);
  const hmacHex = arrayToHex(hmac, false);
  return {
    data: cipherTextHex,
    hmac: hmacHex,
    iv: ivHex
  };
}
async function decrypt(payload, key2) {
  const _key = bufferToArray(convertArrayBufferToBuffer(key2));
  if (!_key) {
    throw new Error("Missing key: required for decryption");
  }
  const verified = await verifyHmac(payload, _key);
  if (!verified) {
    return null;
  }
  const cipherText = hexToArray(payload.data);
  const iv = hexToArray(payload.iv);
  const buffer = await aesCbcDecrypt(iv, _key, cipherText);
  const utf8 = arrayToUtf8(buffer);
  let data2;
  try {
    data2 = JSON.parse(utf8);
  } catch (error) {
    return null;
  }
  return data2;
}
var init_esm10 = __esm({
  "node_modules/.pnpm/@walletconnect+iso-crypto@1.8.0/node_modules/@walletconnect/iso-crypto/dist/esm/index.js"() {
    init_browser4();
    init_esm4();
    init_esm7();
  }
});

// node_modules/.pnpm/@walletconnect+client@1.8.0/node_modules/@walletconnect/client/dist/esm/index.js
var esm_exports6 = {};
__export(esm_exports6, {
  default: () => esm_default4
});
var WalletConnect, esm_default4;
var init_esm11 = __esm({
  "node_modules/.pnpm/@walletconnect+client@1.8.0/node_modules/@walletconnect/client/dist/esm/index.js"() {
    init_esm9();
    init_esm10();
    WalletConnect = class extends esm_default3 {
      constructor(connectorOpts, pushServerOpts) {
        super({
          cryptoLib: esm_exports5,
          connectorOpts,
          pushServerOpts
        });
      }
    };
    esm_default4 = WalletConnect;
  }
});

// node_modules/.pnpm/bowser@2.11.0/node_modules/bowser/es5.js
var require_es5 = __commonJS({
  "node_modules/.pnpm/bowser@2.11.0/node_modules/bowser/es5.js"(exports2, module2) {
    !function(e2, t2) {
      "object" == typeof exports2 && "object" == typeof module2 ? module2.exports = t2() : "function" == typeof define && define.amd ? define([], t2) : "object" == typeof exports2 ? exports2.bowser = t2() : e2.bowser = t2();
    }(exports2, function() {
      return function(e2) {
        var t2 = {};
        function r3(n4) {
          if (t2[n4])
            return t2[n4].exports;
          var i3 = t2[n4] = { i: n4, l: false, exports: {} };
          return e2[n4].call(i3.exports, i3, i3.exports, r3), i3.l = true, i3.exports;
        }
        return r3.m = e2, r3.c = t2, r3.d = function(e3, t3, n4) {
          r3.o(e3, t3) || Object.defineProperty(e3, t3, { enumerable: true, get: n4 });
        }, r3.r = function(e3) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e3, "__esModule", { value: true });
        }, r3.t = function(e3, t3) {
          if (1 & t3 && (e3 = r3(e3)), 8 & t3)
            return e3;
          if (4 & t3 && "object" == typeof e3 && e3 && e3.__esModule)
            return e3;
          var n4 = /* @__PURE__ */ Object.create(null);
          if (r3.r(n4), Object.defineProperty(n4, "default", { enumerable: true, value: e3 }), 2 & t3 && "string" != typeof e3)
            for (var i3 in e3)
              r3.d(n4, i3, function(t4) {
                return e3[t4];
              }.bind(null, i3));
          return n4;
        }, r3.n = function(e3) {
          var t3 = e3 && e3.__esModule ? function() {
            return e3.default;
          } : function() {
            return e3;
          };
          return r3.d(t3, "a", t3), t3;
        }, r3.o = function(e3, t3) {
          return Object.prototype.hasOwnProperty.call(e3, t3);
        }, r3.p = "", r3(r3.s = 90);
      }({ 17: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4 = r3(18), i3 = function() {
          function e3() {
          }
          return e3.getFirstMatch = function(e4, t3) {
            var r4 = t3.match(e4);
            return r4 && r4.length > 0 && r4[1] || "";
          }, e3.getSecondMatch = function(e4, t3) {
            var r4 = t3.match(e4);
            return r4 && r4.length > 1 && r4[2] || "";
          }, e3.matchAndReturnConst = function(e4, t3, r4) {
            if (e4.test(t3))
              return r4;
          }, e3.getWindowsVersionName = function(e4) {
            switch (e4) {
              case "NT":
                return "NT";
              case "XP":
                return "XP";
              case "NT 5.0":
                return "2000";
              case "NT 5.1":
                return "XP";
              case "NT 5.2":
                return "2003";
              case "NT 6.0":
                return "Vista";
              case "NT 6.1":
                return "7";
              case "NT 6.2":
                return "8";
              case "NT 6.3":
                return "8.1";
              case "NT 10.0":
                return "10";
              default:
                return;
            }
          }, e3.getMacOSVersionName = function(e4) {
            var t3 = e4.split(".").splice(0, 2).map(function(e5) {
              return parseInt(e5, 10) || 0;
            });
            if (t3.push(0), 10 === t3[0])
              switch (t3[1]) {
                case 5:
                  return "Leopard";
                case 6:
                  return "Snow Leopard";
                case 7:
                  return "Lion";
                case 8:
                  return "Mountain Lion";
                case 9:
                  return "Mavericks";
                case 10:
                  return "Yosemite";
                case 11:
                  return "El Capitan";
                case 12:
                  return "Sierra";
                case 13:
                  return "High Sierra";
                case 14:
                  return "Mojave";
                case 15:
                  return "Catalina";
                default:
                  return;
              }
          }, e3.getAndroidVersionName = function(e4) {
            var t3 = e4.split(".").splice(0, 2).map(function(e5) {
              return parseInt(e5, 10) || 0;
            });
            if (t3.push(0), !(1 === t3[0] && t3[1] < 5))
              return 1 === t3[0] && t3[1] < 6 ? "Cupcake" : 1 === t3[0] && t3[1] >= 6 ? "Donut" : 2 === t3[0] && t3[1] < 2 ? "Eclair" : 2 === t3[0] && 2 === t3[1] ? "Froyo" : 2 === t3[0] && t3[1] > 2 ? "Gingerbread" : 3 === t3[0] ? "Honeycomb" : 4 === t3[0] && t3[1] < 1 ? "Ice Cream Sandwich" : 4 === t3[0] && t3[1] < 4 ? "Jelly Bean" : 4 === t3[0] && t3[1] >= 4 ? "KitKat" : 5 === t3[0] ? "Lollipop" : 6 === t3[0] ? "Marshmallow" : 7 === t3[0] ? "Nougat" : 8 === t3[0] ? "Oreo" : 9 === t3[0] ? "Pie" : void 0;
          }, e3.getVersionPrecision = function(e4) {
            return e4.split(".").length;
          }, e3.compareVersions = function(t3, r4, n5) {
            void 0 === n5 && (n5 = false);
            var i4 = e3.getVersionPrecision(t3), s2 = e3.getVersionPrecision(r4), a4 = Math.max(i4, s2), o3 = 0, u4 = e3.map([t3, r4], function(t4) {
              var r5 = a4 - e3.getVersionPrecision(t4), n6 = t4 + new Array(r5 + 1).join(".0");
              return e3.map(n6.split("."), function(e4) {
                return new Array(20 - e4.length).join("0") + e4;
              }).reverse();
            });
            for (n5 && (o3 = a4 - Math.min(i4, s2)), a4 -= 1; a4 >= o3; ) {
              if (u4[0][a4] > u4[1][a4])
                return 1;
              if (u4[0][a4] === u4[1][a4]) {
                if (a4 === o3)
                  return 0;
                a4 -= 1;
              } else if (u4[0][a4] < u4[1][a4])
                return -1;
            }
          }, e3.map = function(e4, t3) {
            var r4, n5 = [];
            if (Array.prototype.map)
              return Array.prototype.map.call(e4, t3);
            for (r4 = 0; r4 < e4.length; r4 += 1)
              n5.push(t3(e4[r4]));
            return n5;
          }, e3.find = function(e4, t3) {
            var r4, n5;
            if (Array.prototype.find)
              return Array.prototype.find.call(e4, t3);
            for (r4 = 0, n5 = e4.length; r4 < n5; r4 += 1) {
              var i4 = e4[r4];
              if (t3(i4, r4))
                return i4;
            }
          }, e3.assign = function(e4) {
            for (var t3, r4, n5 = e4, i4 = arguments.length, s2 = new Array(i4 > 1 ? i4 - 1 : 0), a4 = 1; a4 < i4; a4++)
              s2[a4 - 1] = arguments[a4];
            if (Object.assign)
              return Object.assign.apply(Object, [e4].concat(s2));
            var o3 = function() {
              var e5 = s2[t3];
              "object" == typeof e5 && null !== e5 && Object.keys(e5).forEach(function(t4) {
                n5[t4] = e5[t4];
              });
            };
            for (t3 = 0, r4 = s2.length; t3 < r4; t3 += 1)
              o3();
            return e4;
          }, e3.getBrowserAlias = function(e4) {
            return n4.BROWSER_ALIASES_MAP[e4];
          }, e3.getBrowserTypeByAlias = function(e4) {
            return n4.BROWSER_MAP[e4] || "";
          }, e3;
        }();
        t2.default = i3, e2.exports = t2.default;
      }, 18: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.ENGINE_MAP = t2.OS_MAP = t2.PLATFORMS_MAP = t2.BROWSER_MAP = t2.BROWSER_ALIASES_MAP = void 0;
        t2.BROWSER_ALIASES_MAP = { "Amazon Silk": "amazon_silk", "Android Browser": "android", Bada: "bada", BlackBerry: "blackberry", Chrome: "chrome", Chromium: "chromium", Electron: "electron", Epiphany: "epiphany", Firefox: "firefox", Focus: "focus", Generic: "generic", "Google Search": "google_search", Googlebot: "googlebot", "Internet Explorer": "ie", "K-Meleon": "k_meleon", Maxthon: "maxthon", "Microsoft Edge": "edge", "MZ Browser": "mz", "NAVER Whale Browser": "naver", Opera: "opera", "Opera Coast": "opera_coast", PhantomJS: "phantomjs", Puffin: "puffin", QupZilla: "qupzilla", QQ: "qq", QQLite: "qqlite", Safari: "safari", Sailfish: "sailfish", "Samsung Internet for Android": "samsung_internet", SeaMonkey: "seamonkey", Sleipnir: "sleipnir", Swing: "swing", Tizen: "tizen", "UC Browser": "uc", Vivaldi: "vivaldi", "WebOS Browser": "webos", WeChat: "wechat", "Yandex Browser": "yandex", Roku: "roku" };
        t2.BROWSER_MAP = { amazon_silk: "Amazon Silk", android: "Android Browser", bada: "Bada", blackberry: "BlackBerry", chrome: "Chrome", chromium: "Chromium", electron: "Electron", epiphany: "Epiphany", firefox: "Firefox", focus: "Focus", generic: "Generic", googlebot: "Googlebot", google_search: "Google Search", ie: "Internet Explorer", k_meleon: "K-Meleon", maxthon: "Maxthon", edge: "Microsoft Edge", mz: "MZ Browser", naver: "NAVER Whale Browser", opera: "Opera", opera_coast: "Opera Coast", phantomjs: "PhantomJS", puffin: "Puffin", qupzilla: "QupZilla", qq: "QQ Browser", qqlite: "QQ Browser Lite", safari: "Safari", sailfish: "Sailfish", samsung_internet: "Samsung Internet for Android", seamonkey: "SeaMonkey", sleipnir: "Sleipnir", swing: "Swing", tizen: "Tizen", uc: "UC Browser", vivaldi: "Vivaldi", webos: "WebOS Browser", wechat: "WeChat", yandex: "Yandex Browser" };
        t2.PLATFORMS_MAP = { tablet: "tablet", mobile: "mobile", desktop: "desktop", tv: "tv" };
        t2.OS_MAP = { WindowsPhone: "Windows Phone", Windows: "Windows", MacOS: "macOS", iOS: "iOS", Android: "Android", WebOS: "WebOS", BlackBerry: "BlackBerry", Bada: "Bada", Tizen: "Tizen", Linux: "Linux", ChromeOS: "Chrome OS", PlayStation4: "PlayStation 4", Roku: "Roku" };
        t2.ENGINE_MAP = { EdgeHTML: "EdgeHTML", Blink: "Blink", Trident: "Trident", Presto: "Presto", Gecko: "Gecko", WebKit: "WebKit" };
      }, 90: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4, i3 = (n4 = r3(91)) && n4.__esModule ? n4 : { default: n4 }, s2 = r3(18);
        function a4(e3, t3) {
          for (var r4 = 0; r4 < t3.length; r4++) {
            var n5 = t3[r4];
            n5.enumerable = n5.enumerable || false, n5.configurable = true, "value" in n5 && (n5.writable = true), Object.defineProperty(e3, n5.key, n5);
          }
        }
        var o3 = function() {
          function e3() {
          }
          var t3, r4, n5;
          return e3.getParser = function(e4, t4) {
            if (void 0 === t4 && (t4 = false), "string" != typeof e4)
              throw new Error("UserAgent should be a string");
            return new i3.default(e4, t4);
          }, e3.parse = function(e4) {
            return new i3.default(e4).getResult();
          }, t3 = e3, n5 = [{ key: "BROWSER_MAP", get: function() {
            return s2.BROWSER_MAP;
          } }, { key: "ENGINE_MAP", get: function() {
            return s2.ENGINE_MAP;
          } }, { key: "OS_MAP", get: function() {
            return s2.OS_MAP;
          } }, { key: "PLATFORMS_MAP", get: function() {
            return s2.PLATFORMS_MAP;
          } }], (r4 = null) && a4(t3.prototype, r4), n5 && a4(t3, n5), e3;
        }();
        t2.default = o3, e2.exports = t2.default;
      }, 91: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4 = u4(r3(92)), i3 = u4(r3(93)), s2 = u4(r3(94)), a4 = u4(r3(95)), o3 = u4(r3(17));
        function u4(e3) {
          return e3 && e3.__esModule ? e3 : { default: e3 };
        }
        var d3 = function() {
          function e3(e4, t4) {
            if (void 0 === t4 && (t4 = false), null == e4 || "" === e4)
              throw new Error("UserAgent parameter can't be empty");
            this._ua = e4, this.parsedResult = {}, true !== t4 && this.parse();
          }
          var t3 = e3.prototype;
          return t3.getUA = function() {
            return this._ua;
          }, t3.test = function(e4) {
            return e4.test(this._ua);
          }, t3.parseBrowser = function() {
            var e4 = this;
            this.parsedResult.browser = {};
            var t4 = o3.default.find(n4.default, function(t5) {
              if ("function" == typeof t5.test)
                return t5.test(e4);
              if (t5.test instanceof Array)
                return t5.test.some(function(t6) {
                  return e4.test(t6);
                });
              throw new Error("Browser's test function is not valid");
            });
            return t4 && (this.parsedResult.browser = t4.describe(this.getUA())), this.parsedResult.browser;
          }, t3.getBrowser = function() {
            return this.parsedResult.browser ? this.parsedResult.browser : this.parseBrowser();
          }, t3.getBrowserName = function(e4) {
            return e4 ? String(this.getBrowser().name).toLowerCase() || "" : this.getBrowser().name || "";
          }, t3.getBrowserVersion = function() {
            return this.getBrowser().version;
          }, t3.getOS = function() {
            return this.parsedResult.os ? this.parsedResult.os : this.parseOS();
          }, t3.parseOS = function() {
            var e4 = this;
            this.parsedResult.os = {};
            var t4 = o3.default.find(i3.default, function(t5) {
              if ("function" == typeof t5.test)
                return t5.test(e4);
              if (t5.test instanceof Array)
                return t5.test.some(function(t6) {
                  return e4.test(t6);
                });
              throw new Error("Browser's test function is not valid");
            });
            return t4 && (this.parsedResult.os = t4.describe(this.getUA())), this.parsedResult.os;
          }, t3.getOSName = function(e4) {
            var t4 = this.getOS().name;
            return e4 ? String(t4).toLowerCase() || "" : t4 || "";
          }, t3.getOSVersion = function() {
            return this.getOS().version;
          }, t3.getPlatform = function() {
            return this.parsedResult.platform ? this.parsedResult.platform : this.parsePlatform();
          }, t3.getPlatformType = function(e4) {
            void 0 === e4 && (e4 = false);
            var t4 = this.getPlatform().type;
            return e4 ? String(t4).toLowerCase() || "" : t4 || "";
          }, t3.parsePlatform = function() {
            var e4 = this;
            this.parsedResult.platform = {};
            var t4 = o3.default.find(s2.default, function(t5) {
              if ("function" == typeof t5.test)
                return t5.test(e4);
              if (t5.test instanceof Array)
                return t5.test.some(function(t6) {
                  return e4.test(t6);
                });
              throw new Error("Browser's test function is not valid");
            });
            return t4 && (this.parsedResult.platform = t4.describe(this.getUA())), this.parsedResult.platform;
          }, t3.getEngine = function() {
            return this.parsedResult.engine ? this.parsedResult.engine : this.parseEngine();
          }, t3.getEngineName = function(e4) {
            return e4 ? String(this.getEngine().name).toLowerCase() || "" : this.getEngine().name || "";
          }, t3.parseEngine = function() {
            var e4 = this;
            this.parsedResult.engine = {};
            var t4 = o3.default.find(a4.default, function(t5) {
              if ("function" == typeof t5.test)
                return t5.test(e4);
              if (t5.test instanceof Array)
                return t5.test.some(function(t6) {
                  return e4.test(t6);
                });
              throw new Error("Browser's test function is not valid");
            });
            return t4 && (this.parsedResult.engine = t4.describe(this.getUA())), this.parsedResult.engine;
          }, t3.parse = function() {
            return this.parseBrowser(), this.parseOS(), this.parsePlatform(), this.parseEngine(), this;
          }, t3.getResult = function() {
            return o3.default.assign({}, this.parsedResult);
          }, t3.satisfies = function(e4) {
            var t4 = this, r4 = {}, n5 = 0, i4 = {}, s3 = 0;
            if (Object.keys(e4).forEach(function(t5) {
              var a6 = e4[t5];
              "string" == typeof a6 ? (i4[t5] = a6, s3 += 1) : "object" == typeof a6 && (r4[t5] = a6, n5 += 1);
            }), n5 > 0) {
              var a5 = Object.keys(r4), u5 = o3.default.find(a5, function(e5) {
                return t4.isOS(e5);
              });
              if (u5) {
                var d4 = this.satisfies(r4[u5]);
                if (void 0 !== d4)
                  return d4;
              }
              var c3 = o3.default.find(a5, function(e5) {
                return t4.isPlatform(e5);
              });
              if (c3) {
                var f3 = this.satisfies(r4[c3]);
                if (void 0 !== f3)
                  return f3;
              }
            }
            if (s3 > 0) {
              var l4 = Object.keys(i4), h6 = o3.default.find(l4, function(e5) {
                return t4.isBrowser(e5, true);
              });
              if (void 0 !== h6)
                return this.compareVersion(i4[h6]);
            }
          }, t3.isBrowser = function(e4, t4) {
            void 0 === t4 && (t4 = false);
            var r4 = this.getBrowserName().toLowerCase(), n5 = e4.toLowerCase(), i4 = o3.default.getBrowserTypeByAlias(n5);
            return t4 && i4 && (n5 = i4.toLowerCase()), n5 === r4;
          }, t3.compareVersion = function(e4) {
            var t4 = [0], r4 = e4, n5 = false, i4 = this.getBrowserVersion();
            if ("string" == typeof i4)
              return ">" === e4[0] || "<" === e4[0] ? (r4 = e4.substr(1), "=" === e4[1] ? (n5 = true, r4 = e4.substr(2)) : t4 = [], ">" === e4[0] ? t4.push(1) : t4.push(-1)) : "=" === e4[0] ? r4 = e4.substr(1) : "~" === e4[0] && (n5 = true, r4 = e4.substr(1)), t4.indexOf(o3.default.compareVersions(i4, r4, n5)) > -1;
          }, t3.isOS = function(e4) {
            return this.getOSName(true) === String(e4).toLowerCase();
          }, t3.isPlatform = function(e4) {
            return this.getPlatformType(true) === String(e4).toLowerCase();
          }, t3.isEngine = function(e4) {
            return this.getEngineName(true) === String(e4).toLowerCase();
          }, t3.is = function(e4, t4) {
            return void 0 === t4 && (t4 = false), this.isBrowser(e4, t4) || this.isOS(e4) || this.isPlatform(e4);
          }, t3.some = function(e4) {
            var t4 = this;
            return void 0 === e4 && (e4 = []), e4.some(function(e5) {
              return t4.is(e5);
            });
          }, e3;
        }();
        t2.default = d3, e2.exports = t2.default;
      }, 92: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4, i3 = (n4 = r3(17)) && n4.__esModule ? n4 : { default: n4 };
        var s2 = /version\/(\d+(\.?_?\d+)+)/i, a4 = [{ test: [/googlebot/i], describe: function(e3) {
          var t3 = { name: "Googlebot" }, r4 = i3.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/opera/i], describe: function(e3) {
          var t3 = { name: "Opera" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/opr\/|opios/i], describe: function(e3) {
          var t3 = { name: "Opera" }, r4 = i3.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/SamsungBrowser/i], describe: function(e3) {
          var t3 = { name: "Samsung Internet for Android" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/Whale/i], describe: function(e3) {
          var t3 = { name: "NAVER Whale Browser" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/MZBrowser/i], describe: function(e3) {
          var t3 = { name: "MZ Browser" }, r4 = i3.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/focus/i], describe: function(e3) {
          var t3 = { name: "Focus" }, r4 = i3.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/swing/i], describe: function(e3) {
          var t3 = { name: "Swing" }, r4 = i3.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/coast/i], describe: function(e3) {
          var t3 = { name: "Opera Coast" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/opt\/\d+(?:.?_?\d+)+/i], describe: function(e3) {
          var t3 = { name: "Opera Touch" }, r4 = i3.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/yabrowser/i], describe: function(e3) {
          var t3 = { name: "Yandex Browser" }, r4 = i3.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/ucbrowser/i], describe: function(e3) {
          var t3 = { name: "UC Browser" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/Maxthon|mxios/i], describe: function(e3) {
          var t3 = { name: "Maxthon" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/epiphany/i], describe: function(e3) {
          var t3 = { name: "Epiphany" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/puffin/i], describe: function(e3) {
          var t3 = { name: "Puffin" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/sleipnir/i], describe: function(e3) {
          var t3 = { name: "Sleipnir" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/k-meleon/i], describe: function(e3) {
          var t3 = { name: "K-Meleon" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/micromessenger/i], describe: function(e3) {
          var t3 = { name: "WeChat" }, r4 = i3.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/qqbrowser/i], describe: function(e3) {
          var t3 = { name: /qqbrowserlite/i.test(e3) ? "QQ Browser Lite" : "QQ Browser" }, r4 = i3.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/msie|trident/i], describe: function(e3) {
          var t3 = { name: "Internet Explorer" }, r4 = i3.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/\sedg\//i], describe: function(e3) {
          var t3 = { name: "Microsoft Edge" }, r4 = i3.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/edg([ea]|ios)/i], describe: function(e3) {
          var t3 = { name: "Microsoft Edge" }, r4 = i3.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/vivaldi/i], describe: function(e3) {
          var t3 = { name: "Vivaldi" }, r4 = i3.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/seamonkey/i], describe: function(e3) {
          var t3 = { name: "SeaMonkey" }, r4 = i3.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/sailfish/i], describe: function(e3) {
          var t3 = { name: "Sailfish" }, r4 = i3.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/silk/i], describe: function(e3) {
          var t3 = { name: "Amazon Silk" }, r4 = i3.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/phantom/i], describe: function(e3) {
          var t3 = { name: "PhantomJS" }, r4 = i3.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/slimerjs/i], describe: function(e3) {
          var t3 = { name: "SlimerJS" }, r4 = i3.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe: function(e3) {
          var t3 = { name: "BlackBerry" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/(web|hpw)[o0]s/i], describe: function(e3) {
          var t3 = { name: "WebOS Browser" }, r4 = i3.default.getFirstMatch(s2, e3) || i3.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/bada/i], describe: function(e3) {
          var t3 = { name: "Bada" }, r4 = i3.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/tizen/i], describe: function(e3) {
          var t3 = { name: "Tizen" }, r4 = i3.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/qupzilla/i], describe: function(e3) {
          var t3 = { name: "QupZilla" }, r4 = i3.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/firefox|iceweasel|fxios/i], describe: function(e3) {
          var t3 = { name: "Firefox" }, r4 = i3.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/electron/i], describe: function(e3) {
          var t3 = { name: "Electron" }, r4 = i3.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/MiuiBrowser/i], describe: function(e3) {
          var t3 = { name: "Miui" }, r4 = i3.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/chromium/i], describe: function(e3) {
          var t3 = { name: "Chromium" }, r4 = i3.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i, e3) || i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/chrome|crios|crmo/i], describe: function(e3) {
          var t3 = { name: "Chrome" }, r4 = i3.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/GSA/i], describe: function(e3) {
          var t3 = { name: "Google Search" }, r4 = i3.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: function(e3) {
          var t3 = !e3.test(/like android/i), r4 = e3.test(/android/i);
          return t3 && r4;
        }, describe: function(e3) {
          var t3 = { name: "Android Browser" }, r4 = i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/playstation 4/i], describe: function(e3) {
          var t3 = { name: "PlayStation 4" }, r4 = i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/safari|applewebkit/i], describe: function(e3) {
          var t3 = { name: "Safari" }, r4 = i3.default.getFirstMatch(s2, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/.*/i], describe: function(e3) {
          var t3 = -1 !== e3.search("\\(") ? /^(.*)\/(.*)[ \t]\((.*)/ : /^(.*)\/(.*) /;
          return { name: i3.default.getFirstMatch(t3, e3), version: i3.default.getSecondMatch(t3, e3) };
        } }];
        t2.default = a4, e2.exports = t2.default;
      }, 93: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4, i3 = (n4 = r3(17)) && n4.__esModule ? n4 : { default: n4 }, s2 = r3(18);
        var a4 = [{ test: [/Roku\/DVP/], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i, e3);
          return { name: s2.OS_MAP.Roku, version: t3 };
        } }, { test: [/windows phone/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i, e3);
          return { name: s2.OS_MAP.WindowsPhone, version: t3 };
        } }, { test: [/windows /i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i, e3), r4 = i3.default.getWindowsVersionName(t3);
          return { name: s2.OS_MAP.Windows, version: t3, versionName: r4 };
        } }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe: function(e3) {
          var t3 = { name: s2.OS_MAP.iOS }, r4 = i3.default.getSecondMatch(/(Version\/)(\d[\d.]+)/, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/macintosh/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i, e3).replace(/[_\s]/g, "."), r4 = i3.default.getMacOSVersionName(t3), n5 = { name: s2.OS_MAP.MacOS, version: t3 };
          return r4 && (n5.versionName = r4), n5;
        } }, { test: [/(ipod|iphone|ipad)/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i, e3).replace(/[_\s]/g, ".");
          return { name: s2.OS_MAP.iOS, version: t3 };
        } }, { test: function(e3) {
          var t3 = !e3.test(/like android/i), r4 = e3.test(/android/i);
          return t3 && r4;
        }, describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i, e3), r4 = i3.default.getAndroidVersionName(t3), n5 = { name: s2.OS_MAP.Android, version: t3 };
          return r4 && (n5.versionName = r4), n5;
        } }, { test: [/(web|hpw)[o0]s/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i, e3), r4 = { name: s2.OS_MAP.WebOS };
          return t3 && t3.length && (r4.version = t3), r4;
        } }, { test: [/blackberry|\bbb\d+/i, /rim\stablet/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i, e3) || i3.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i, e3) || i3.default.getFirstMatch(/\bbb(\d+)/i, e3);
          return { name: s2.OS_MAP.BlackBerry, version: t3 };
        } }, { test: [/bada/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i, e3);
          return { name: s2.OS_MAP.Bada, version: t3 };
        } }, { test: [/tizen/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i, e3);
          return { name: s2.OS_MAP.Tizen, version: t3 };
        } }, { test: [/linux/i], describe: function() {
          return { name: s2.OS_MAP.Linux };
        } }, { test: [/CrOS/], describe: function() {
          return { name: s2.OS_MAP.ChromeOS };
        } }, { test: [/PlayStation 4/], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i, e3);
          return { name: s2.OS_MAP.PlayStation4, version: t3 };
        } }];
        t2.default = a4, e2.exports = t2.default;
      }, 94: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4, i3 = (n4 = r3(17)) && n4.__esModule ? n4 : { default: n4 }, s2 = r3(18);
        var a4 = [{ test: [/googlebot/i], describe: function() {
          return { type: "bot", vendor: "Google" };
        } }, { test: [/huawei/i], describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/(can-l01)/i, e3) && "Nova", r4 = { type: s2.PLATFORMS_MAP.mobile, vendor: "Huawei" };
          return t3 && (r4.model = t3), r4;
        } }, { test: [/nexus\s*(?:7|8|9|10).*/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet, vendor: "Nexus" };
        } }, { test: [/ipad/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet, vendor: "Apple", model: "iPad" };
        } }, { test: [/Macintosh(.*?) FxiOS(.*?)\//], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet, vendor: "Apple", model: "iPad" };
        } }, { test: [/kftt build/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet, vendor: "Amazon", model: "Kindle Fire HD 7" };
        } }, { test: [/silk/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet, vendor: "Amazon" };
        } }, { test: [/tablet(?! pc)/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet };
        } }, { test: function(e3) {
          var t3 = e3.test(/ipod|iphone/i), r4 = e3.test(/like (ipod|iphone)/i);
          return t3 && !r4;
        }, describe: function(e3) {
          var t3 = i3.default.getFirstMatch(/(ipod|iphone)/i, e3);
          return { type: s2.PLATFORMS_MAP.mobile, vendor: "Apple", model: t3 };
        } }, { test: [/nexus\s*[0-6].*/i, /galaxy nexus/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile, vendor: "Nexus" };
        } }, { test: [/[^-]mobi/i], describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile };
        } }, { test: function(e3) {
          return "blackberry" === e3.getBrowserName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile, vendor: "BlackBerry" };
        } }, { test: function(e3) {
          return "bada" === e3.getBrowserName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile };
        } }, { test: function(e3) {
          return "windows phone" === e3.getBrowserName();
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile, vendor: "Microsoft" };
        } }, { test: function(e3) {
          var t3 = Number(String(e3.getOSVersion()).split(".")[0]);
          return "android" === e3.getOSName(true) && t3 >= 3;
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.tablet };
        } }, { test: function(e3) {
          return "android" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.mobile };
        } }, { test: function(e3) {
          return "macos" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.desktop, vendor: "Apple" };
        } }, { test: function(e3) {
          return "windows" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.desktop };
        } }, { test: function(e3) {
          return "linux" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.desktop };
        } }, { test: function(e3) {
          return "playstation 4" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.tv };
        } }, { test: function(e3) {
          return "roku" === e3.getOSName(true);
        }, describe: function() {
          return { type: s2.PLATFORMS_MAP.tv };
        } }];
        t2.default = a4, e2.exports = t2.default;
      }, 95: function(e2, t2, r3) {
        "use strict";
        t2.__esModule = true, t2.default = void 0;
        var n4, i3 = (n4 = r3(17)) && n4.__esModule ? n4 : { default: n4 }, s2 = r3(18);
        var a4 = [{ test: function(e3) {
          return "microsoft edge" === e3.getBrowserName(true);
        }, describe: function(e3) {
          if (/\sedg\//i.test(e3))
            return { name: s2.ENGINE_MAP.Blink };
          var t3 = i3.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i, e3);
          return { name: s2.ENGINE_MAP.EdgeHTML, version: t3 };
        } }, { test: [/trident/i], describe: function(e3) {
          var t3 = { name: s2.ENGINE_MAP.Trident }, r4 = i3.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: function(e3) {
          return e3.test(/presto/i);
        }, describe: function(e3) {
          var t3 = { name: s2.ENGINE_MAP.Presto }, r4 = i3.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: function(e3) {
          var t3 = e3.test(/gecko/i), r4 = e3.test(/like gecko/i);
          return t3 && !r4;
        }, describe: function(e3) {
          var t3 = { name: s2.ENGINE_MAP.Gecko }, r4 = i3.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }, { test: [/(apple)?webkit\/537\.36/i], describe: function() {
          return { name: s2.ENGINE_MAP.Blink };
        } }, { test: [/(apple)?webkit/i], describe: function(e3) {
          var t3 = { name: s2.ENGINE_MAP.WebKit }, r4 = i3.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i, e3);
          return r4 && (t3.version = r4), t3;
        } }];
        t2.default = a4, e2.exports = t2.default;
      } });
    });
  }
});

// node-modules-polyfills-commonjs:buffer
var buffer_exports = {};
__export(buffer_exports, {
  Buffer: () => Buffer2,
  INSPECT_MAX_BYTES: () => INSPECT_MAX_BYTES,
  kMaxLength: () => kMaxLength
});
var init_buffer2 = __esm({
  "node-modules-polyfills-commonjs:buffer"() {
    init_buffer();
  }
});

// node_modules/.pnpm/qr-code-styling@1.6.0-rc.1/node_modules/qr-code-styling/lib/qr-code-styling.js
var require_qr_code_styling = __commonJS({
  "node_modules/.pnpm/qr-code-styling@1.6.0-rc.1/node_modules/qr-code-styling/lib/qr-code-styling.js"(exports2, module2) {
    !function(t2, e2) {
      "object" == typeof exports2 && "object" == typeof module2 ? module2.exports = e2() : "function" == typeof define && define.amd ? define([], e2) : "object" == typeof exports2 ? exports2.QRCodeStyling = e2() : t2.QRCodeStyling = e2();
    }(self, function() {
      return (() => {
        var t2 = { 192: (t3, e3) => {
          var r4, n4, o3 = function() {
            var t4 = function(t5, e5) {
              var r6 = t5, n6 = a4[e5], o5 = null, i4 = 0, u5 = null, v3 = [], w5 = {}, m3 = function(t6, e6) {
                o5 = function(t7) {
                  for (var e7 = new Array(t7), r7 = 0; r7 < t7; r7 += 1) {
                    e7[r7] = new Array(t7);
                    for (var n7 = 0; n7 < t7; n7 += 1)
                      e7[r7][n7] = null;
                  }
                  return e7;
                }(i4 = 4 * r6 + 17), b3(0, 0), b3(i4 - 7, 0), b3(0, i4 - 7), x5(), _4(), M3(t6, e6), r6 >= 7 && S3(t6), null == u5 && (u5 = A3(r6, n6, v3)), C3(u5, e6);
              }, b3 = function(t6, e6) {
                for (var r7 = -1; r7 <= 7; r7 += 1)
                  if (!(t6 + r7 <= -1 || i4 <= t6 + r7))
                    for (var n7 = -1; n7 <= 7; n7 += 1)
                      e6 + n7 <= -1 || i4 <= e6 + n7 || (o5[t6 + r7][e6 + n7] = 0 <= r7 && r7 <= 6 && (0 == n7 || 6 == n7) || 0 <= n7 && n7 <= 6 && (0 == r7 || 6 == r7) || 2 <= r7 && r7 <= 4 && 2 <= n7 && n7 <= 4);
              }, _4 = function() {
                for (var t6 = 8; t6 < i4 - 8; t6 += 1)
                  null == o5[t6][6] && (o5[t6][6] = t6 % 2 == 0);
                for (var e6 = 8; e6 < i4 - 8; e6 += 1)
                  null == o5[6][e6] && (o5[6][e6] = e6 % 2 == 0);
              }, x5 = function() {
                for (var t6 = s2.getPatternPosition(r6), e6 = 0; e6 < t6.length; e6 += 1)
                  for (var n7 = 0; n7 < t6.length; n7 += 1) {
                    var i5 = t6[e6], a5 = t6[n7];
                    if (null == o5[i5][a5])
                      for (var u6 = -2; u6 <= 2; u6 += 1)
                        for (var h7 = -2; h7 <= 2; h7 += 1)
                          o5[i5 + u6][a5 + h7] = -2 == u6 || 2 == u6 || -2 == h7 || 2 == h7 || 0 == u6 && 0 == h7;
                  }
              }, S3 = function(t6) {
                for (var e6 = s2.getBCHTypeNumber(r6), n7 = 0; n7 < 18; n7 += 1) {
                  var a5 = !t6 && 1 == (e6 >> n7 & 1);
                  o5[Math.floor(n7 / 3)][n7 % 3 + i4 - 8 - 3] = a5;
                }
                for (n7 = 0; n7 < 18; n7 += 1)
                  a5 = !t6 && 1 == (e6 >> n7 & 1), o5[n7 % 3 + i4 - 8 - 3][Math.floor(n7 / 3)] = a5;
              }, M3 = function(t6, e6) {
                for (var r7 = n6 << 3 | e6, a5 = s2.getBCHTypeInfo(r7), u6 = 0; u6 < 15; u6 += 1) {
                  var h7 = !t6 && 1 == (a5 >> u6 & 1);
                  u6 < 6 ? o5[u6][8] = h7 : u6 < 8 ? o5[u6 + 1][8] = h7 : o5[i4 - 15 + u6][8] = h7;
                }
                for (u6 = 0; u6 < 15; u6 += 1)
                  h7 = !t6 && 1 == (a5 >> u6 & 1), u6 < 8 ? o5[8][i4 - u6 - 1] = h7 : u6 < 9 ? o5[8][15 - u6 - 1 + 1] = h7 : o5[8][15 - u6 - 1] = h7;
                o5[i4 - 8][8] = !t6;
              }, C3 = function(t6, e6) {
                for (var r7 = -1, n7 = i4 - 1, a5 = 7, u6 = 0, h7 = s2.getMaskFunction(e6), c4 = i4 - 1; c4 > 0; c4 -= 2)
                  for (6 == c4 && (c4 -= 1); ; ) {
                    for (var l5 = 0; l5 < 2; l5 += 1)
                      if (null == o5[n7][c4 - l5]) {
                        var d4 = false;
                        u6 < t6.length && (d4 = 1 == (t6[u6] >>> a5 & 1)), h7(n7, c4 - l5) && (d4 = !d4), o5[n7][c4 - l5] = d4, -1 == (a5 -= 1) && (u6 += 1, a5 = 7);
                      }
                    if ((n7 += r7) < 0 || i4 <= n7) {
                      n7 -= r7, r7 = -r7;
                      break;
                    }
                  }
              }, A3 = function(t6, e6, r7) {
                for (var n7 = c3.getRSBlocks(t6, e6), o6 = l4(), i5 = 0; i5 < r7.length; i5 += 1) {
                  var a5 = r7[i5];
                  o6.put(a5.getMode(), 4), o6.put(a5.getLength(), s2.getLengthInBits(a5.getMode(), t6)), a5.write(o6);
                }
                var u6 = 0;
                for (i5 = 0; i5 < n7.length; i5 += 1)
                  u6 += n7[i5].dataCount;
                if (o6.getLengthInBits() > 8 * u6)
                  throw "code length overflow. (" + o6.getLengthInBits() + ">" + 8 * u6 + ")";
                for (o6.getLengthInBits() + 4 <= 8 * u6 && o6.put(0, 4); o6.getLengthInBits() % 8 != 0; )
                  o6.putBit(false);
                for (; !(o6.getLengthInBits() >= 8 * u6 || (o6.put(236, 8), o6.getLengthInBits() >= 8 * u6)); )
                  o6.put(17, 8);
                return function(t7, e7) {
                  for (var r8 = 0, n8 = 0, o7 = 0, i6 = new Array(e7.length), a6 = new Array(e7.length), u7 = 0; u7 < e7.length; u7 += 1) {
                    var c4 = e7[u7].dataCount, l5 = e7[u7].totalCount - c4;
                    n8 = Math.max(n8, c4), o7 = Math.max(o7, l5), i6[u7] = new Array(c4);
                    for (var d4 = 0; d4 < i6[u7].length; d4 += 1)
                      i6[u7][d4] = 255 & t7.getBuffer()[d4 + r8];
                    r8 += c4;
                    var f4 = s2.getErrorCorrectPolynomial(l5), g6 = h6(i6[u7], f4.getLength() - 1).mod(f4);
                    for (a6[u7] = new Array(f4.getLength() - 1), d4 = 0; d4 < a6[u7].length; d4 += 1) {
                      var p7 = d4 + g6.getLength() - a6[u7].length;
                      a6[u7][d4] = p7 >= 0 ? g6.getAt(p7) : 0;
                    }
                  }
                  var v4 = 0;
                  for (d4 = 0; d4 < e7.length; d4 += 1)
                    v4 += e7[d4].totalCount;
                  var w6 = new Array(v4), y8 = 0;
                  for (d4 = 0; d4 < n8; d4 += 1)
                    for (u7 = 0; u7 < e7.length; u7 += 1)
                      d4 < i6[u7].length && (w6[y8] = i6[u7][d4], y8 += 1);
                  for (d4 = 0; d4 < o7; d4 += 1)
                    for (u7 = 0; u7 < e7.length; u7 += 1)
                      d4 < a6[u7].length && (w6[y8] = a6[u7][d4], y8 += 1);
                  return w6;
                }(o6, n7);
              };
              w5.addData = function(t6, e6) {
                var r7 = null;
                switch (e6 = e6 || "Byte") {
                  case "Numeric":
                    r7 = d3(t6);
                    break;
                  case "Alphanumeric":
                    r7 = f3(t6);
                    break;
                  case "Byte":
                    r7 = g5(t6);
                    break;
                  case "Kanji":
                    r7 = p6(t6);
                    break;
                  default:
                    throw "mode:" + e6;
                }
                v3.push(r7), u5 = null;
              }, w5.isDark = function(t6, e6) {
                if (t6 < 0 || i4 <= t6 || e6 < 0 || i4 <= e6)
                  throw t6 + "," + e6;
                return o5[t6][e6];
              }, w5.getModuleCount = function() {
                return i4;
              }, w5.make = function() {
                if (r6 < 1) {
                  for (var t6 = 1; t6 < 40; t6++) {
                    for (var e6 = c3.getRSBlocks(t6, n6), o6 = l4(), i5 = 0; i5 < v3.length; i5++) {
                      var a5 = v3[i5];
                      o6.put(a5.getMode(), 4), o6.put(a5.getLength(), s2.getLengthInBits(a5.getMode(), t6)), a5.write(o6);
                    }
                    var u6 = 0;
                    for (i5 = 0; i5 < e6.length; i5++)
                      u6 += e6[i5].dataCount;
                    if (o6.getLengthInBits() <= 8 * u6)
                      break;
                  }
                  r6 = t6;
                }
                m3(false, function() {
                  for (var t7 = 0, e7 = 0, r7 = 0; r7 < 8; r7 += 1) {
                    m3(true, r7);
                    var n7 = s2.getLostPoint(w5);
                    (0 == r7 || t7 > n7) && (t7 = n7, e7 = r7);
                  }
                  return e7;
                }());
              }, w5.createTableTag = function(t6, e6) {
                t6 = t6 || 2;
                var r7 = "";
                r7 += '<table style="', r7 += " border-width: 0px; border-style: none;", r7 += " border-collapse: collapse;", r7 += " padding: 0px; margin: " + (e6 = void 0 === e6 ? 4 * t6 : e6) + "px;", r7 += '">', r7 += "<tbody>";
                for (var n7 = 0; n7 < w5.getModuleCount(); n7 += 1) {
                  r7 += "<tr>";
                  for (var o6 = 0; o6 < w5.getModuleCount(); o6 += 1)
                    r7 += '<td style="', r7 += " border-width: 0px; border-style: none;", r7 += " border-collapse: collapse;", r7 += " padding: 0px; margin: 0px;", r7 += " width: " + t6 + "px;", r7 += " height: " + t6 + "px;", r7 += " background-color: ", r7 += w5.isDark(n7, o6) ? "#000000" : "#ffffff", r7 += ";", r7 += '"/>';
                  r7 += "</tr>";
                }
                return (r7 += "</tbody>") + "</table>";
              }, w5.createSvgTag = function(t6, e6, r7, n7) {
                var o6 = {};
                "object" == typeof arguments[0] && (t6 = (o6 = arguments[0]).cellSize, e6 = o6.margin, r7 = o6.alt, n7 = o6.title), t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6, (r7 = "string" == typeof r7 ? { text: r7 } : r7 || {}).text = r7.text || null, r7.id = r7.text ? r7.id || "qrcode-description" : null, (n7 = "string" == typeof n7 ? { text: n7 } : n7 || {}).text = n7.text || null, n7.id = n7.text ? n7.id || "qrcode-title" : null;
                var i5, a5, s3, u6, h7 = w5.getModuleCount() * t6 + 2 * e6, c4 = "";
                for (u6 = "l" + t6 + ",0 0," + t6 + " -" + t6 + ",0 0,-" + t6 + "z ", c4 += '<svg version="1.1" xmlns="http://www.w3.org/2000/svg"', c4 += o6.scalable ? "" : ' width="' + h7 + 'px" height="' + h7 + 'px"', c4 += ' viewBox="0 0 ' + h7 + " " + h7 + '" ', c4 += ' preserveAspectRatio="xMinYMin meet"', c4 += n7.text || r7.text ? ' role="img" aria-labelledby="' + k3([n7.id, r7.id].join(" ").trim()) + '"' : "", c4 += ">", c4 += n7.text ? '<title id="' + k3(n7.id) + '">' + k3(n7.text) + "</title>" : "", c4 += r7.text ? '<description id="' + k3(r7.id) + '">' + k3(r7.text) + "</description>" : "", c4 += '<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>', c4 += '<path d="', a5 = 0; a5 < w5.getModuleCount(); a5 += 1)
                  for (s3 = a5 * t6 + e6, i5 = 0; i5 < w5.getModuleCount(); i5 += 1)
                    w5.isDark(a5, i5) && (c4 += "M" + (i5 * t6 + e6) + "," + s3 + u6);
                return (c4 += '" stroke="transparent" fill="black"/>') + "</svg>";
              }, w5.createDataURL = function(t6, e6) {
                t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6;
                var r7 = w5.getModuleCount() * t6 + 2 * e6, n7 = e6, o6 = r7 - e6;
                return y7(r7, r7, function(e7, r8) {
                  if (n7 <= e7 && e7 < o6 && n7 <= r8 && r8 < o6) {
                    var i5 = Math.floor((e7 - n7) / t6), a5 = Math.floor((r8 - n7) / t6);
                    return w5.isDark(a5, i5) ? 0 : 1;
                  }
                  return 1;
                });
              }, w5.createImgTag = function(t6, e6, r7) {
                t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6;
                var n7 = w5.getModuleCount() * t6 + 2 * e6, o6 = "";
                return o6 += "<img", o6 += ' src="', o6 += w5.createDataURL(t6, e6), o6 += '"', o6 += ' width="', o6 += n7, o6 += '"', o6 += ' height="', o6 += n7, o6 += '"', r7 && (o6 += ' alt="', o6 += k3(r7), o6 += '"'), o6 + "/>";
              };
              var k3 = function(t6) {
                for (var e6 = "", r7 = 0; r7 < t6.length; r7 += 1) {
                  var n7 = t6.charAt(r7);
                  switch (n7) {
                    case "<":
                      e6 += "&lt;";
                      break;
                    case ">":
                      e6 += "&gt;";
                      break;
                    case "&":
                      e6 += "&amp;";
                      break;
                    case '"':
                      e6 += "&quot;";
                      break;
                    default:
                      e6 += n7;
                  }
                }
                return e6;
              };
              return w5.createASCII = function(t6, e6) {
                if ((t6 = t6 || 1) < 2)
                  return function(t7) {
                    t7 = void 0 === t7 ? 2 : t7;
                    var e7, r8, n8, o7, i6, a6 = 1 * w5.getModuleCount() + 2 * t7, s4 = t7, u7 = a6 - t7, h8 = { "\u2588\u2588": "\u2588", "\u2588 ": "\u2580", " \u2588": "\u2584", "  ": " " }, c5 = { "\u2588\u2588": "\u2580", "\u2588 ": "\u2580", " \u2588": " ", "  ": " " }, l6 = "";
                    for (e7 = 0; e7 < a6; e7 += 2) {
                      for (n8 = Math.floor((e7 - s4) / 1), o7 = Math.floor((e7 + 1 - s4) / 1), r8 = 0; r8 < a6; r8 += 1)
                        i6 = "\u2588", s4 <= r8 && r8 < u7 && s4 <= e7 && e7 < u7 && w5.isDark(n8, Math.floor((r8 - s4) / 1)) && (i6 = " "), s4 <= r8 && r8 < u7 && s4 <= e7 + 1 && e7 + 1 < u7 && w5.isDark(o7, Math.floor((r8 - s4) / 1)) ? i6 += " " : i6 += "\u2588", l6 += t7 < 1 && e7 + 1 >= u7 ? c5[i6] : h8[i6];
                      l6 += "\n";
                    }
                    return a6 % 2 && t7 > 0 ? l6.substring(0, l6.length - a6 - 1) + Array(a6 + 1).join("\u2580") : l6.substring(0, l6.length - 1);
                  }(e6);
                t6 -= 1, e6 = void 0 === e6 ? 2 * t6 : e6;
                var r7, n7, o6, i5, a5 = w5.getModuleCount() * t6 + 2 * e6, s3 = e6, u6 = a5 - e6, h7 = Array(t6 + 1).join("\u2588\u2588"), c4 = Array(t6 + 1).join("  "), l5 = "", d4 = "";
                for (r7 = 0; r7 < a5; r7 += 1) {
                  for (o6 = Math.floor((r7 - s3) / t6), d4 = "", n7 = 0; n7 < a5; n7 += 1)
                    i5 = 1, s3 <= n7 && n7 < u6 && s3 <= r7 && r7 < u6 && w5.isDark(o6, Math.floor((n7 - s3) / t6)) && (i5 = 0), d4 += i5 ? h7 : c4;
                  for (o6 = 0; o6 < t6; o6 += 1)
                    l5 += d4 + "\n";
                }
                return l5.substring(0, l5.length - 1);
              }, w5.renderTo2dContext = function(t6, e6) {
                e6 = e6 || 2;
                for (var r7 = w5.getModuleCount(), n7 = 0; n7 < r7; n7++)
                  for (var o6 = 0; o6 < r7; o6++)
                    t6.fillStyle = w5.isDark(n7, o6) ? "black" : "white", t6.fillRect(n7 * e6, o6 * e6, e6, e6);
              }, w5;
            };
            t4.stringToBytes = (t4.stringToBytesFuncs = { default: function(t5) {
              for (var e5 = [], r6 = 0; r6 < t5.length; r6 += 1) {
                var n6 = t5.charCodeAt(r6);
                e5.push(255 & n6);
              }
              return e5;
            } }).default, t4.createStringToBytes = function(t5, e5) {
              var r6 = function() {
                for (var r7 = w4(t5), n7 = function() {
                  var t6 = r7.read();
                  if (-1 == t6)
                    throw "eof";
                  return t6;
                }, o5 = 0, i4 = {}; ; ) {
                  var a5 = r7.read();
                  if (-1 == a5)
                    break;
                  var s3 = n7(), u5 = n7() << 8 | n7();
                  i4[String.fromCharCode(a5 << 8 | s3)] = u5, o5 += 1;
                }
                if (o5 != e5)
                  throw o5 + " != " + e5;
                return i4;
              }(), n6 = "?".charCodeAt(0);
              return function(t6) {
                for (var e6 = [], o5 = 0; o5 < t6.length; o5 += 1) {
                  var i4 = t6.charCodeAt(o5);
                  if (i4 < 128)
                    e6.push(i4);
                  else {
                    var a5 = r6[t6.charAt(o5)];
                    "number" == typeof a5 ? (255 & a5) == a5 ? e6.push(a5) : (e6.push(a5 >>> 8), e6.push(255 & a5)) : e6.push(n6);
                  }
                }
                return e6;
              };
            };
            var e4, r5, n5, o4, i3, a4 = { L: 1, M: 0, Q: 3, H: 2 }, s2 = (e4 = [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]], r5 = 1335, n5 = 7973, i3 = function(t5) {
              for (var e5 = 0; 0 != t5; )
                e5 += 1, t5 >>>= 1;
              return e5;
            }, (o4 = {}).getBCHTypeInfo = function(t5) {
              for (var e5 = t5 << 10; i3(e5) - i3(r5) >= 0; )
                e5 ^= r5 << i3(e5) - i3(r5);
              return 21522 ^ (t5 << 10 | e5);
            }, o4.getBCHTypeNumber = function(t5) {
              for (var e5 = t5 << 12; i3(e5) - i3(n5) >= 0; )
                e5 ^= n5 << i3(e5) - i3(n5);
              return t5 << 12 | e5;
            }, o4.getPatternPosition = function(t5) {
              return e4[t5 - 1];
            }, o4.getMaskFunction = function(t5) {
              switch (t5) {
                case 0:
                  return function(t6, e5) {
                    return (t6 + e5) % 2 == 0;
                  };
                case 1:
                  return function(t6, e5) {
                    return t6 % 2 == 0;
                  };
                case 2:
                  return function(t6, e5) {
                    return e5 % 3 == 0;
                  };
                case 3:
                  return function(t6, e5) {
                    return (t6 + e5) % 3 == 0;
                  };
                case 4:
                  return function(t6, e5) {
                    return (Math.floor(t6 / 2) + Math.floor(e5 / 3)) % 2 == 0;
                  };
                case 5:
                  return function(t6, e5) {
                    return t6 * e5 % 2 + t6 * e5 % 3 == 0;
                  };
                case 6:
                  return function(t6, e5) {
                    return (t6 * e5 % 2 + t6 * e5 % 3) % 2 == 0;
                  };
                case 7:
                  return function(t6, e5) {
                    return (t6 * e5 % 3 + (t6 + e5) % 2) % 2 == 0;
                  };
                default:
                  throw "bad maskPattern:" + t5;
              }
            }, o4.getErrorCorrectPolynomial = function(t5) {
              for (var e5 = h6([1], 0), r6 = 0; r6 < t5; r6 += 1)
                e5 = e5.multiply(h6([1, u4.gexp(r6)], 0));
              return e5;
            }, o4.getLengthInBits = function(t5, e5) {
              if (1 <= e5 && e5 < 10)
                switch (t5) {
                  case 1:
                    return 10;
                  case 2:
                    return 9;
                  case 4:
                  case 8:
                    return 8;
                  default:
                    throw "mode:" + t5;
                }
              else if (e5 < 27)
                switch (t5) {
                  case 1:
                    return 12;
                  case 2:
                    return 11;
                  case 4:
                    return 16;
                  case 8:
                    return 10;
                  default:
                    throw "mode:" + t5;
                }
              else {
                if (!(e5 < 41))
                  throw "type:" + e5;
                switch (t5) {
                  case 1:
                    return 14;
                  case 2:
                    return 13;
                  case 4:
                    return 16;
                  case 8:
                    return 12;
                  default:
                    throw "mode:" + t5;
                }
              }
            }, o4.getLostPoint = function(t5) {
              for (var e5 = t5.getModuleCount(), r6 = 0, n6 = 0; n6 < e5; n6 += 1)
                for (var o5 = 0; o5 < e5; o5 += 1) {
                  for (var i4 = 0, a5 = t5.isDark(n6, o5), s3 = -1; s3 <= 1; s3 += 1)
                    if (!(n6 + s3 < 0 || e5 <= n6 + s3))
                      for (var u5 = -1; u5 <= 1; u5 += 1)
                        o5 + u5 < 0 || e5 <= o5 + u5 || 0 == s3 && 0 == u5 || a5 == t5.isDark(n6 + s3, o5 + u5) && (i4 += 1);
                  i4 > 5 && (r6 += 3 + i4 - 5);
                }
              for (n6 = 0; n6 < e5 - 1; n6 += 1)
                for (o5 = 0; o5 < e5 - 1; o5 += 1) {
                  var h7 = 0;
                  t5.isDark(n6, o5) && (h7 += 1), t5.isDark(n6 + 1, o5) && (h7 += 1), t5.isDark(n6, o5 + 1) && (h7 += 1), t5.isDark(n6 + 1, o5 + 1) && (h7 += 1), 0 != h7 && 4 != h7 || (r6 += 3);
                }
              for (n6 = 0; n6 < e5; n6 += 1)
                for (o5 = 0; o5 < e5 - 6; o5 += 1)
                  t5.isDark(n6, o5) && !t5.isDark(n6, o5 + 1) && t5.isDark(n6, o5 + 2) && t5.isDark(n6, o5 + 3) && t5.isDark(n6, o5 + 4) && !t5.isDark(n6, o5 + 5) && t5.isDark(n6, o5 + 6) && (r6 += 40);
              for (o5 = 0; o5 < e5; o5 += 1)
                for (n6 = 0; n6 < e5 - 6; n6 += 1)
                  t5.isDark(n6, o5) && !t5.isDark(n6 + 1, o5) && t5.isDark(n6 + 2, o5) && t5.isDark(n6 + 3, o5) && t5.isDark(n6 + 4, o5) && !t5.isDark(n6 + 5, o5) && t5.isDark(n6 + 6, o5) && (r6 += 40);
              var c4 = 0;
              for (o5 = 0; o5 < e5; o5 += 1)
                for (n6 = 0; n6 < e5; n6 += 1)
                  t5.isDark(n6, o5) && (c4 += 1);
              return r6 + Math.abs(100 * c4 / e5 / e5 - 50) / 5 * 10;
            }, o4), u4 = function() {
              for (var t5 = new Array(256), e5 = new Array(256), r6 = 0; r6 < 8; r6 += 1)
                t5[r6] = 1 << r6;
              for (r6 = 8; r6 < 256; r6 += 1)
                t5[r6] = t5[r6 - 4] ^ t5[r6 - 5] ^ t5[r6 - 6] ^ t5[r6 - 8];
              for (r6 = 0; r6 < 255; r6 += 1)
                e5[t5[r6]] = r6;
              return { glog: function(t6) {
                if (t6 < 1)
                  throw "glog(" + t6 + ")";
                return e5[t6];
              }, gexp: function(e6) {
                for (; e6 < 0; )
                  e6 += 255;
                for (; e6 >= 256; )
                  e6 -= 255;
                return t5[e6];
              } };
            }();
            function h6(t5, e5) {
              if (void 0 === t5.length)
                throw t5.length + "/" + e5;
              var r6 = function() {
                for (var r7 = 0; r7 < t5.length && 0 == t5[r7]; )
                  r7 += 1;
                for (var n7 = new Array(t5.length - r7 + e5), o5 = 0; o5 < t5.length - r7; o5 += 1)
                  n7[o5] = t5[o5 + r7];
                return n7;
              }(), n6 = { getAt: function(t6) {
                return r6[t6];
              }, getLength: function() {
                return r6.length;
              }, multiply: function(t6) {
                for (var e6 = new Array(n6.getLength() + t6.getLength() - 1), r7 = 0; r7 < n6.getLength(); r7 += 1)
                  for (var o5 = 0; o5 < t6.getLength(); o5 += 1)
                    e6[r7 + o5] ^= u4.gexp(u4.glog(n6.getAt(r7)) + u4.glog(t6.getAt(o5)));
                return h6(e6, 0);
              }, mod: function(t6) {
                if (n6.getLength() - t6.getLength() < 0)
                  return n6;
                for (var e6 = u4.glog(n6.getAt(0)) - u4.glog(t6.getAt(0)), r7 = new Array(n6.getLength()), o5 = 0; o5 < n6.getLength(); o5 += 1)
                  r7[o5] = n6.getAt(o5);
                for (o5 = 0; o5 < t6.getLength(); o5 += 1)
                  r7[o5] ^= u4.gexp(u4.glog(t6.getAt(o5)) + e6);
                return h6(r7, 0).mod(t6);
              } };
              return n6;
            }
            var c3 = function() {
              var t5 = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12, 7, 37, 13], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]], e5 = function(t6, e6) {
                var r7 = {};
                return r7.totalCount = t6, r7.dataCount = e6, r7;
              }, r6 = { getRSBlocks: function(r7, n6) {
                var o5 = function(e6, r8) {
                  switch (r8) {
                    case a4.L:
                      return t5[4 * (e6 - 1) + 0];
                    case a4.M:
                      return t5[4 * (e6 - 1) + 1];
                    case a4.Q:
                      return t5[4 * (e6 - 1) + 2];
                    case a4.H:
                      return t5[4 * (e6 - 1) + 3];
                    default:
                      return;
                  }
                }(r7, n6);
                if (void 0 === o5)
                  throw "bad rs block @ typeNumber:" + r7 + "/errorCorrectionLevel:" + n6;
                for (var i4 = o5.length / 3, s3 = [], u5 = 0; u5 < i4; u5 += 1)
                  for (var h7 = o5[3 * u5 + 0], c4 = o5[3 * u5 + 1], l5 = o5[3 * u5 + 2], d4 = 0; d4 < h7; d4 += 1)
                    s3.push(e5(c4, l5));
                return s3;
              } };
              return r6;
            }(), l4 = function() {
              var t5 = [], e5 = 0, r6 = { getBuffer: function() {
                return t5;
              }, getAt: function(e6) {
                var r7 = Math.floor(e6 / 8);
                return 1 == (t5[r7] >>> 7 - e6 % 8 & 1);
              }, put: function(t6, e6) {
                for (var n6 = 0; n6 < e6; n6 += 1)
                  r6.putBit(1 == (t6 >>> e6 - n6 - 1 & 1));
              }, getLengthInBits: function() {
                return e5;
              }, putBit: function(r7) {
                var n6 = Math.floor(e5 / 8);
                t5.length <= n6 && t5.push(0), r7 && (t5[n6] |= 128 >>> e5 % 8), e5 += 1;
              } };
              return r6;
            }, d3 = function(t5) {
              var e5 = t5, r6 = { getMode: function() {
                return 1;
              }, getLength: function(t6) {
                return e5.length;
              }, write: function(t6) {
                for (var r7 = e5, o6 = 0; o6 + 2 < r7.length; )
                  t6.put(n6(r7.substring(o6, o6 + 3)), 10), o6 += 3;
                o6 < r7.length && (r7.length - o6 == 1 ? t6.put(n6(r7.substring(o6, o6 + 1)), 4) : r7.length - o6 == 2 && t6.put(n6(r7.substring(o6, o6 + 2)), 7));
              } }, n6 = function(t6) {
                for (var e6 = 0, r7 = 0; r7 < t6.length; r7 += 1)
                  e6 = 10 * e6 + o5(t6.charAt(r7));
                return e6;
              }, o5 = function(t6) {
                if ("0" <= t6 && t6 <= "9")
                  return t6.charCodeAt(0) - "0".charCodeAt(0);
                throw "illegal char :" + t6;
              };
              return r6;
            }, f3 = function(t5) {
              var e5 = t5, r6 = { getMode: function() {
                return 2;
              }, getLength: function(t6) {
                return e5.length;
              }, write: function(t6) {
                for (var r7 = e5, o5 = 0; o5 + 1 < r7.length; )
                  t6.put(45 * n6(r7.charAt(o5)) + n6(r7.charAt(o5 + 1)), 11), o5 += 2;
                o5 < r7.length && t6.put(n6(r7.charAt(o5)), 6);
              } }, n6 = function(t6) {
                if ("0" <= t6 && t6 <= "9")
                  return t6.charCodeAt(0) - "0".charCodeAt(0);
                if ("A" <= t6 && t6 <= "Z")
                  return t6.charCodeAt(0) - "A".charCodeAt(0) + 10;
                switch (t6) {
                  case " ":
                    return 36;
                  case "$":
                    return 37;
                  case "%":
                    return 38;
                  case "*":
                    return 39;
                  case "+":
                    return 40;
                  case "-":
                    return 41;
                  case ".":
                    return 42;
                  case "/":
                    return 43;
                  case ":":
                    return 44;
                  default:
                    throw "illegal char :" + t6;
                }
              };
              return r6;
            }, g5 = function(e5) {
              var r6 = t4.stringToBytes(e5);
              return { getMode: function() {
                return 4;
              }, getLength: function(t5) {
                return r6.length;
              }, write: function(t5) {
                for (var e6 = 0; e6 < r6.length; e6 += 1)
                  t5.put(r6[e6], 8);
              } };
            }, p6 = function(e5) {
              var r6 = t4.stringToBytesFuncs.SJIS;
              if (!r6)
                throw "sjis not supported.";
              !function(t5, e6) {
                var n7 = r6("\u53CB");
                if (2 != n7.length || 38726 != (n7[0] << 8 | n7[1]))
                  throw "sjis not supported.";
              }();
              var n6 = r6(e5);
              return { getMode: function() {
                return 8;
              }, getLength: function(t5) {
                return ~~(n6.length / 2);
              }, write: function(t5) {
                for (var e6 = n6, r7 = 0; r7 + 1 < e6.length; ) {
                  var o5 = (255 & e6[r7]) << 8 | 255 & e6[r7 + 1];
                  if (33088 <= o5 && o5 <= 40956)
                    o5 -= 33088;
                  else {
                    if (!(57408 <= o5 && o5 <= 60351))
                      throw "illegal char at " + (r7 + 1) + "/" + o5;
                    o5 -= 49472;
                  }
                  o5 = 192 * (o5 >>> 8 & 255) + (255 & o5), t5.put(o5, 13), r7 += 2;
                }
                if (r7 < e6.length)
                  throw "illegal char at " + (r7 + 1);
              } };
            }, v2 = function() {
              var t5 = [], e5 = { writeByte: function(e6) {
                t5.push(255 & e6);
              }, writeShort: function(t6) {
                e5.writeByte(t6), e5.writeByte(t6 >>> 8);
              }, writeBytes: function(t6, r6, n6) {
                r6 = r6 || 0, n6 = n6 || t6.length;
                for (var o5 = 0; o5 < n6; o5 += 1)
                  e5.writeByte(t6[o5 + r6]);
              }, writeString: function(t6) {
                for (var r6 = 0; r6 < t6.length; r6 += 1)
                  e5.writeByte(t6.charCodeAt(r6));
              }, toByteArray: function() {
                return t5;
              }, toString: function() {
                var e6 = "";
                e6 += "[";
                for (var r6 = 0; r6 < t5.length; r6 += 1)
                  r6 > 0 && (e6 += ","), e6 += t5[r6];
                return e6 + "]";
              } };
              return e5;
            }, w4 = function(t5) {
              var e5 = t5, r6 = 0, n6 = 0, o5 = 0, i4 = { read: function() {
                for (; o5 < 8; ) {
                  if (r6 >= e5.length) {
                    if (0 == o5)
                      return -1;
                    throw "unexpected end of file./" + o5;
                  }
                  var t6 = e5.charAt(r6);
                  if (r6 += 1, "=" == t6)
                    return o5 = 0, -1;
                  t6.match(/^\s$/) || (n6 = n6 << 6 | a5(t6.charCodeAt(0)), o5 += 6);
                }
                var i5 = n6 >>> o5 - 8 & 255;
                return o5 -= 8, i5;
              } }, a5 = function(t6) {
                if (65 <= t6 && t6 <= 90)
                  return t6 - 65;
                if (97 <= t6 && t6 <= 122)
                  return t6 - 97 + 26;
                if (48 <= t6 && t6 <= 57)
                  return t6 - 48 + 52;
                if (43 == t6)
                  return 62;
                if (47 == t6)
                  return 63;
                throw "c:" + t6;
              };
              return i4;
            }, y7 = function(t5, e5, r6) {
              for (var n6 = function(t6, e6) {
                var r7 = t6, n7 = e6, o6 = new Array(t6 * e6), i5 = { setPixel: function(t7, e7, n8) {
                  o6[e7 * r7 + t7] = n8;
                }, write: function(t7) {
                  t7.writeString("GIF87a"), t7.writeShort(r7), t7.writeShort(n7), t7.writeByte(128), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(255), t7.writeByte(255), t7.writeByte(255), t7.writeString(","), t7.writeShort(0), t7.writeShort(0), t7.writeShort(r7), t7.writeShort(n7), t7.writeByte(0);
                  var e7 = a6(2);
                  t7.writeByte(2);
                  for (var o7 = 0; e7.length - o7 > 255; )
                    t7.writeByte(255), t7.writeBytes(e7, o7, 255), o7 += 255;
                  t7.writeByte(e7.length - o7), t7.writeBytes(e7, o7, e7.length - o7), t7.writeByte(0), t7.writeString(";");
                } }, a6 = function(t7) {
                  for (var e7 = 1 << t7, r8 = 1 + (1 << t7), n8 = t7 + 1, i6 = s4(), a7 = 0; a7 < e7; a7 += 1)
                    i6.add(String.fromCharCode(a7));
                  i6.add(String.fromCharCode(e7)), i6.add(String.fromCharCode(r8));
                  var u6, h8, c4, l5 = v2(), d4 = (u6 = l5, h8 = 0, c4 = 0, { write: function(t8, e8) {
                    if (t8 >>> e8 != 0)
                      throw "length over";
                    for (; h8 + e8 >= 8; )
                      u6.writeByte(255 & (t8 << h8 | c4)), e8 -= 8 - h8, t8 >>>= 8 - h8, c4 = 0, h8 = 0;
                    c4 |= t8 << h8, h8 += e8;
                  }, flush: function() {
                    h8 > 0 && u6.writeByte(c4);
                  } });
                  d4.write(e7, n8);
                  var f4 = 0, g6 = String.fromCharCode(o6[f4]);
                  for (f4 += 1; f4 < o6.length; ) {
                    var p7 = String.fromCharCode(o6[f4]);
                    f4 += 1, i6.contains(g6 + p7) ? g6 += p7 : (d4.write(i6.indexOf(g6), n8), i6.size() < 4095 && (i6.size() == 1 << n8 && (n8 += 1), i6.add(g6 + p7)), g6 = p7);
                  }
                  return d4.write(i6.indexOf(g6), n8), d4.write(r8, n8), d4.flush(), l5.toByteArray();
                }, s4 = function() {
                  var t7 = {}, e7 = 0, r8 = { add: function(n8) {
                    if (r8.contains(n8))
                      throw "dup key:" + n8;
                    t7[n8] = e7, e7 += 1;
                  }, size: function() {
                    return e7;
                  }, indexOf: function(e8) {
                    return t7[e8];
                  }, contains: function(e8) {
                    return void 0 !== t7[e8];
                  } };
                  return r8;
                };
                return i5;
              }(t5, e5), o5 = 0; o5 < e5; o5 += 1)
                for (var i4 = 0; i4 < t5; i4 += 1)
                  n6.setPixel(i4, o5, r6(i4, o5));
              var a5 = v2();
              n6.write(a5);
              for (var s3 = function() {
                var t6 = 0, e6 = 0, r7 = 0, n7 = "", o6 = {}, i5 = function(t7) {
                  n7 += String.fromCharCode(a6(63 & t7));
                }, a6 = function(t7) {
                  if (t7 < 0)
                    ;
                  else {
                    if (t7 < 26)
                      return 65 + t7;
                    if (t7 < 52)
                      return t7 - 26 + 97;
                    if (t7 < 62)
                      return t7 - 52 + 48;
                    if (62 == t7)
                      return 43;
                    if (63 == t7)
                      return 47;
                  }
                  throw "n:" + t7;
                };
                return o6.writeByte = function(n8) {
                  for (t6 = t6 << 8 | 255 & n8, e6 += 8, r7 += 1; e6 >= 6; )
                    i5(t6 >>> e6 - 6), e6 -= 6;
                }, o6.flush = function() {
                  if (e6 > 0 && (i5(t6 << 6 - e6), t6 = 0, e6 = 0), r7 % 3 != 0)
                    for (var o7 = 3 - r7 % 3, a7 = 0; a7 < o7; a7 += 1)
                      n7 += "=";
                }, o6.toString = function() {
                  return n7;
                }, o6;
              }(), u5 = a5.toByteArray(), h7 = 0; h7 < u5.length; h7 += 1)
                s3.writeByte(u5[h7]);
              return s3.flush(), "data:image/gif;base64," + s3;
            };
            return t4;
          }();
          o3.stringToBytesFuncs["UTF-8"] = function(t4) {
            return function(t5) {
              for (var e4 = [], r5 = 0; r5 < t5.length; r5++) {
                var n5 = t5.charCodeAt(r5);
                n5 < 128 ? e4.push(n5) : n5 < 2048 ? e4.push(192 | n5 >> 6, 128 | 63 & n5) : n5 < 55296 || n5 >= 57344 ? e4.push(224 | n5 >> 12, 128 | n5 >> 6 & 63, 128 | 63 & n5) : (r5++, n5 = 65536 + ((1023 & n5) << 10 | 1023 & t5.charCodeAt(r5)), e4.push(240 | n5 >> 18, 128 | n5 >> 12 & 63, 128 | n5 >> 6 & 63, 128 | 63 & n5));
              }
              return e4;
            }(t4);
          }, void 0 === (n4 = "function" == typeof (r4 = function() {
            return o3;
          }) ? r4.apply(e3, []) : r4) || (t3.exports = n4);
        }, 676: (t3, e3, r4) => {
          "use strict";
          r4.d(e3, { default: () => q4 });
          var n4 = function() {
            return (n4 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          }, o3 = function() {
            for (var t4 = 0, e4 = 0, r5 = arguments.length; e4 < r5; e4++)
              t4 += arguments[e4].length;
            var n5 = Array(t4), o4 = 0;
            for (e4 = 0; e4 < r5; e4++)
              for (var i4 = arguments[e4], a5 = 0, s3 = i4.length; a5 < s3; a5++, o4++)
                n5[o4] = i4[a5];
            return n5;
          }, i3 = function(t4) {
            return !!t4 && "object" == typeof t4 && !Array.isArray(t4);
          };
          function a4(t4) {
            for (var e4 = [], r5 = 1; r5 < arguments.length; r5++)
              e4[r5 - 1] = arguments[r5];
            if (!e4.length)
              return t4;
            var s3 = e4.shift();
            return void 0 !== s3 && i3(t4) && i3(s3) ? (t4 = n4({}, t4), Object.keys(s3).forEach(function(e5) {
              var r6 = t4[e5], n5 = s3[e5];
              Array.isArray(r6) && Array.isArray(n5) ? t4[e5] = n5 : i3(r6) && i3(n5) ? t4[e5] = a4(Object.assign({}, r6), n5) : t4[e5] = n5;
            }), a4.apply(void 0, o3([t4], e4))) : t4;
          }
          function s2(t4, e4) {
            var r5 = document.createElement("a");
            r5.download = e4, r5.href = t4, document.body.appendChild(r5), r5.click(), document.body.removeChild(r5);
          }
          function u4(t4) {
            return e4 = this, r5 = void 0, o4 = function() {
              return function(t5, e5) {
                var r6, n6, o5, i4, a5 = { label: 0, sent: function() {
                  if (1 & o5[0])
                    throw o5[1];
                  return o5[1];
                }, trys: [], ops: [] };
                return i4 = { next: s3(0), throw: s3(1), return: s3(2) }, "function" == typeof Symbol && (i4[Symbol.iterator] = function() {
                  return this;
                }), i4;
                function s3(i5) {
                  return function(s4) {
                    return function(i6) {
                      if (r6)
                        throw new TypeError("Generator is already executing.");
                      for (; a5; )
                        try {
                          if (r6 = 1, n6 && (o5 = 2 & i6[0] ? n6.return : i6[0] ? n6.throw || ((o5 = n6.return) && o5.call(n6), 0) : n6.next) && !(o5 = o5.call(n6, i6[1])).done)
                            return o5;
                          switch (n6 = 0, o5 && (i6 = [2 & i6[0], o5.value]), i6[0]) {
                            case 0:
                            case 1:
                              o5 = i6;
                              break;
                            case 4:
                              return a5.label++, { value: i6[1], done: false };
                            case 5:
                              a5.label++, n6 = i6[1], i6 = [0];
                              continue;
                            case 7:
                              i6 = a5.ops.pop(), a5.trys.pop();
                              continue;
                            default:
                              if (!((o5 = (o5 = a5.trys).length > 0 && o5[o5.length - 1]) || 6 !== i6[0] && 2 !== i6[0])) {
                                a5 = 0;
                                continue;
                              }
                              if (3 === i6[0] && (!o5 || i6[1] > o5[0] && i6[1] < o5[3])) {
                                a5.label = i6[1];
                                break;
                              }
                              if (6 === i6[0] && a5.label < o5[1]) {
                                a5.label = o5[1], o5 = i6;
                                break;
                              }
                              if (o5 && a5.label < o5[2]) {
                                a5.label = o5[2], a5.ops.push(i6);
                                break;
                              }
                              o5[2] && a5.ops.pop(), a5.trys.pop();
                              continue;
                          }
                          i6 = e5.call(t5, a5);
                        } catch (t6) {
                          i6 = [6, t6], n6 = 0;
                        } finally {
                          r6 = o5 = 0;
                        }
                      if (5 & i6[0])
                        throw i6[1];
                      return { value: i6[0] ? i6[1] : void 0, done: true };
                    }([i5, s4]);
                  };
                }
              }(this, function(e5) {
                return [2, new Promise(function(e6) {
                  var r6 = new XMLHttpRequest();
                  r6.onload = function() {
                    var t5 = new FileReader();
                    t5.onloadend = function() {
                      e6(t5.result);
                    }, t5.readAsDataURL(r6.response);
                  }, r6.open("GET", t4), r6.responseType = "blob", r6.send();
                })];
              });
            }, new ((n5 = void 0) || (n5 = Promise))(function(t5, i4) {
              function a5(t6) {
                try {
                  u5(o4.next(t6));
                } catch (t7) {
                  i4(t7);
                }
              }
              function s3(t6) {
                try {
                  u5(o4.throw(t6));
                } catch (t7) {
                  i4(t7);
                }
              }
              function u5(e5) {
                var r6;
                e5.done ? t5(e5.value) : (r6 = e5.value, r6 instanceof n5 ? r6 : new n5(function(t6) {
                  t6(r6);
                })).then(a5, s3);
              }
              u5((o4 = o4.apply(e4, r5 || [])).next());
            });
            var e4, r5, n5, o4;
          }
          const h6 = { L: 0.07, M: 0.15, Q: 0.25, H: 0.3 };
          var c3 = function() {
            return (c3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const l4 = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case "dots":
                  o4 = this._drawDot;
                  break;
                case "classy":
                  o4 = this._drawClassy;
                  break;
                case "classy-rounded":
                  o4 = this._drawClassyRounded;
                  break;
                case "rounded":
                  o4 = this._drawRounded;
                  break;
                case "extra-rounded":
                  o4 = this._drawExtraRounded;
                  break;
                case "square":
                default:
                  o4 = this._drawSquare;
              }
              o4.call(this, { x: t5, y: e4, size: r5, getNeighbor: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "circle"), e4._element.setAttribute("cx", String(n5 + r5 / 2)), e4._element.setAttribute("cy", String(o4 + r5 / 2)), e4._element.setAttribute("r", String(r5 / 2));
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "rect"), e4._element.setAttribute("x", String(n5)), e4._element.setAttribute("y", String(o4)), e4._element.setAttribute("width", String(r5)), e4._element.setAttribute("height", String(r5));
              } }));
            }, t4.prototype._basicSideRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, 0 " + -r5);
              } }));
            }, t4.prototype._basicCornerRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "v " + -r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + -r5 / 2 + " " + -r5 / 2);
              } }));
            }, t4.prototype._basicCornerExtraRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "a " + r5 + " " + r5 + ", 0, 0, 0, " + -r5 + " " + -r5);
              } }));
            }, t4.prototype._basicCornersRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(c3(c3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + r5 / 2 + " " + r5 / 2 + "h " + r5 / 2 + "v " + -r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + -r5 / 2 + " " + -r5 / 2);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0, h7 = i4 + a5 + s3 + u5;
              if (0 !== h7)
                if (h7 > 2 || i4 && a5 || s3 && u5)
                  this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
                else {
                  if (2 === h7) {
                    var c4 = 0;
                    return i4 && s3 ? c4 = Math.PI / 2 : s3 && a5 ? c4 = Math.PI : a5 && u5 && (c4 = -Math.PI / 2), void this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: c4 });
                  }
                  if (1 === h7)
                    return c4 = 0, s3 ? c4 = Math.PI / 2 : a5 ? c4 = Math.PI : u5 && (c4 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, rotation: c4 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0, h7 = i4 + a5 + s3 + u5;
              if (0 !== h7)
                if (h7 > 2 || i4 && a5 || s3 && u5)
                  this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
                else {
                  if (2 === h7) {
                    var c4 = 0;
                    return i4 && s3 ? c4 = Math.PI / 2 : s3 && a5 ? c4 = Math.PI : a5 && u5 && (c4 = -Math.PI / 2), void this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: c4 });
                  }
                  if (1 === h7)
                    return c4 = 0, s3 ? c4 = Math.PI / 2 : a5 ? c4 = Math.PI : u5 && (c4 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, rotation: c4 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawClassy = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0;
              0 !== i4 + a5 + s3 + u5 ? i4 || s3 ? a5 || u5 ? this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 });
            }, t4.prototype._drawClassyRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0;
              0 !== i4 + a5 + s3 + u5 ? i4 || s3 ? a5 || u5 ? this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 });
            }, t4;
          }();
          var d3 = function() {
            return (d3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const f3 = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case "square":
                  o4 = this._drawSquare;
                  break;
                case "extra-rounded":
                  o4 = this._drawExtraRounded;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(d3(d3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + (n5 + r5 / 2) + " " + o4 + "a " + r5 / 2 + " " + r5 / 2 + " 0 1 0 0.1 0zm 0 " + i4 + "a " + (r5 / 2 - i4) + " " + (r5 / 2 - i4) + " 0 1 1 -0.1 0Z");
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(d3(d3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "v " + -r5 + "zM " + (n5 + i4) + " " + (o4 + i4) + "h " + (r5 - 2 * i4) + "v " + (r5 - 2 * i4) + "h " + (2 * i4 - r5) + "z");
              } }));
            }, t4.prototype._basicExtraRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(d3(d3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + n5 + " " + (o4 + 2.5 * i4) + "v " + 2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * i4 + " " + 2.5 * i4 + "h " + 2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * i4 + " " + 2.5 * -i4 + "v " + -2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * -i4 + " " + 2.5 * -i4 + "h " + -2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * -i4 + " " + 2.5 * i4 + "M " + (n5 + 2.5 * i4) + " " + (o4 + i4) + "h " + 2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * i4 + " " + 1.5 * i4 + "v " + 2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * -i4 + " " + 1.5 * i4 + "h " + -2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * -i4 + " " + 1.5 * -i4 + "v " + -2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * i4 + " " + 1.5 * -i4);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicExtraRounded({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4;
          }();
          var g5 = function() {
            return (g5 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const p6 = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case "square":
                  o4 = this._drawSquare;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(g5(g5({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "circle"), e4._element.setAttribute("cx", String(n5 + r5 / 2)), e4._element.setAttribute("cy", String(o4 + r5 / 2)), e4._element.setAttribute("r", String(r5 / 2));
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(g5(g5({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "rect"), e4._element.setAttribute("x", String(n5)), e4._element.setAttribute("y", String(o4)), e4._element.setAttribute("width", String(r5)), e4._element.setAttribute("height", String(r5));
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4;
          }(), v2 = "circle";
          var w4 = function(t4, e4, r5, n5) {
            return new (r5 || (r5 = Promise))(function(o4, i4) {
              function a5(t5) {
                try {
                  u5(n5.next(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function s3(t5) {
                try {
                  u5(n5.throw(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function u5(t5) {
                var e5;
                t5.done ? o4(t5.value) : (e5 = t5.value, e5 instanceof r5 ? e5 : new r5(function(t6) {
                  t6(e5);
                })).then(a5, s3);
              }
              u5((n5 = n5.apply(t4, e4 || [])).next());
            });
          }, y7 = function(t4, e4) {
            var r5, n5, o4, i4, a5 = { label: 0, sent: function() {
              if (1 & o4[0])
                throw o4[1];
              return o4[1];
            }, trys: [], ops: [] };
            return i4 = { next: s3(0), throw: s3(1), return: s3(2) }, "function" == typeof Symbol && (i4[Symbol.iterator] = function() {
              return this;
            }), i4;
            function s3(i5) {
              return function(s4) {
                return function(i6) {
                  if (r5)
                    throw new TypeError("Generator is already executing.");
                  for (; a5; )
                    try {
                      if (r5 = 1, n5 && (o4 = 2 & i6[0] ? n5.return : i6[0] ? n5.throw || ((o4 = n5.return) && o4.call(n5), 0) : n5.next) && !(o4 = o4.call(n5, i6[1])).done)
                        return o4;
                      switch (n5 = 0, o4 && (i6 = [2 & i6[0], o4.value]), i6[0]) {
                        case 0:
                        case 1:
                          o4 = i6;
                          break;
                        case 4:
                          return a5.label++, { value: i6[1], done: false };
                        case 5:
                          a5.label++, n5 = i6[1], i6 = [0];
                          continue;
                        case 7:
                          i6 = a5.ops.pop(), a5.trys.pop();
                          continue;
                        default:
                          if (!((o4 = (o4 = a5.trys).length > 0 && o4[o4.length - 1]) || 6 !== i6[0] && 2 !== i6[0])) {
                            a5 = 0;
                            continue;
                          }
                          if (3 === i6[0] && (!o4 || i6[1] > o4[0] && i6[1] < o4[3])) {
                            a5.label = i6[1];
                            break;
                          }
                          if (6 === i6[0] && a5.label < o4[1]) {
                            a5.label = o4[1], o4 = i6;
                            break;
                          }
                          if (o4 && a5.label < o4[2]) {
                            a5.label = o4[2], a5.ops.push(i6);
                            break;
                          }
                          o4[2] && a5.ops.pop(), a5.trys.pop();
                          continue;
                      }
                      i6 = e4.call(t4, a5);
                    } catch (t5) {
                      i6 = [6, t5], n5 = 0;
                    } finally {
                      r5 = o4 = 0;
                    }
                  if (5 & i6[0])
                    throw i6[1];
                  return { value: i6[0] ? i6[1] : void 0, done: true };
                }([i5, s4]);
              };
            }
          }, m3 = [[1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1]], b3 = [[0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0]];
          const _4 = function() {
            function t4(t5) {
              this._element = document.createElementNS("http://www.w3.org/2000/svg", "svg"), this._element.setAttribute("width", String(t5.width)), this._element.setAttribute("height", String(t5.height)), this._defs = document.createElementNS("http://www.w3.org/2000/svg", "defs"), this._element.appendChild(this._defs), this._options = t5;
            }
            return Object.defineProperty(t4.prototype, "width", { get: function() {
              return this._options.width;
            }, enumerable: false, configurable: true }), Object.defineProperty(t4.prototype, "height", { get: function() {
              return this._options.height;
            }, enumerable: false, configurable: true }), t4.prototype.getElement = function() {
              return this._element;
            }, t4.prototype.drawQR = function(t5) {
              return w4(this, void 0, void 0, function() {
                var e4, r5, n5, o4, i4, a5, s3, u5, c4, l5, d4 = this;
                return y7(this, function(f4) {
                  switch (f4.label) {
                    case 0:
                      return e4 = t5.getModuleCount(), r5 = Math.min(this._options.width, this._options.height) - 2 * this._options.margin, n5 = this._options.shape === v2 ? r5 / Math.sqrt(2) : r5, o4 = Math.floor(n5 / e4), i4 = { hideXDots: 0, hideYDots: 0, width: 0, height: 0 }, this._qr = t5, this._options.image ? [4, this.loadImage()] : [3, 2];
                    case 1:
                      if (f4.sent(), !this._image)
                        return [2];
                      a5 = this._options, s3 = a5.imageOptions, u5 = a5.qrOptions, c4 = s3.imageSize * h6[u5.errorCorrectionLevel], l5 = Math.floor(c4 * e4 * e4), i4 = function(t6) {
                        var e5 = t6.originalHeight, r6 = t6.originalWidth, n6 = t6.maxHiddenDots, o5 = t6.maxHiddenAxisDots, i5 = t6.dotSize, a6 = { x: 0, y: 0 }, s4 = { x: 0, y: 0 };
                        if (e5 <= 0 || r6 <= 0 || n6 <= 0 || i5 <= 0)
                          return { height: 0, width: 0, hideYDots: 0, hideXDots: 0 };
                        var u6 = e5 / r6;
                        return a6.x = Math.floor(Math.sqrt(n6 / u6)), a6.x <= 0 && (a6.x = 1), o5 && o5 < a6.x && (a6.x = o5), a6.x % 2 == 0 && a6.x--, s4.x = a6.x * i5, a6.y = 1 + 2 * Math.ceil((a6.x * u6 - 1) / 2), s4.y = Math.round(s4.x * u6), (a6.y * a6.x > n6 || o5 && o5 < a6.y) && (o5 && o5 < a6.y ? (a6.y = o5, a6.y % 2 == 0 && a6.x--) : a6.y -= 2, s4.y = a6.y * i5, a6.x = 1 + 2 * Math.ceil((a6.y / u6 - 1) / 2), s4.x = Math.round(s4.y / u6)), { height: s4.y, width: s4.x, hideYDots: a6.y, hideXDots: a6.x };
                      }({ originalWidth: this._image.width, originalHeight: this._image.height, maxHiddenDots: l5, maxHiddenAxisDots: e4 - 14, dotSize: o4 }), f4.label = 2;
                    case 2:
                      return this.drawBackground(), this.drawDots(function(t6, r6) {
                        var n6, o5, a6, s4, u6, h7;
                        return !(d4._options.imageOptions.hideBackgroundDots && t6 >= (e4 - i4.hideXDots) / 2 && t6 < (e4 + i4.hideXDots) / 2 && r6 >= (e4 - i4.hideYDots) / 2 && r6 < (e4 + i4.hideYDots) / 2 || (null === (n6 = m3[t6]) || void 0 === n6 ? void 0 : n6[r6]) || (null === (o5 = m3[t6 - e4 + 7]) || void 0 === o5 ? void 0 : o5[r6]) || (null === (a6 = m3[t6]) || void 0 === a6 ? void 0 : a6[r6 - e4 + 7]) || (null === (s4 = b3[t6]) || void 0 === s4 ? void 0 : s4[r6]) || (null === (u6 = b3[t6 - e4 + 7]) || void 0 === u6 ? void 0 : u6[r6]) || (null === (h7 = b3[t6]) || void 0 === h7 ? void 0 : h7[r6 - e4 + 7]));
                      }), this.drawCorners(), this._options.image ? [4, this.drawImage({ width: i4.width, height: i4.height, count: e4, dotSize: o4 })] : [3, 4];
                    case 3:
                      f4.sent(), f4.label = 4;
                    case 4:
                      return [2];
                  }
                });
              });
            }, t4.prototype.drawBackground = function() {
              var t5, e4, r5, n5 = this._element, o4 = this._options;
              if (n5) {
                var i4 = null === (t5 = o4.backgroundOptions) || void 0 === t5 ? void 0 : t5.gradient, a5 = null === (e4 = o4.backgroundOptions) || void 0 === e4 ? void 0 : e4.color;
                if ((i4 || a5) && this._createColor({ options: i4, color: a5, additionalRotation: 0, x: 0, y: 0, height: o4.height, width: o4.width, name: "background-color" }), null === (r5 = o4.backgroundOptions) || void 0 === r5 ? void 0 : r5.round) {
                  var s3 = Math.min(o4.width, o4.height), u5 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
                  this._backgroundClipPath = document.createElementNS("http://www.w3.org/2000/svg", "clipPath"), this._backgroundClipPath.setAttribute("id", "clip-path-background-color"), this._defs.appendChild(this._backgroundClipPath), u5.setAttribute("x", String((o4.width - s3) / 2)), u5.setAttribute("y", String((o4.height - s3) / 2)), u5.setAttribute("width", String(s3)), u5.setAttribute("height", String(s3)), u5.setAttribute("rx", String(s3 / 2 * o4.backgroundOptions.round)), this._backgroundClipPath.appendChild(u5);
                }
              }
            }, t4.prototype.drawDots = function(t5) {
              var e4, r5, n5 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var o4 = this._options, i4 = this._qr.getModuleCount();
              if (i4 > o4.width || i4 > o4.height)
                throw "The canvas is too small.";
              var a5 = Math.min(o4.width, o4.height) - 2 * o4.margin, s3 = o4.shape === v2 ? a5 / Math.sqrt(2) : a5, u5 = Math.floor(s3 / i4), h7 = Math.floor((o4.width - i4 * u5) / 2), c4 = Math.floor((o4.height - i4 * u5) / 2), d4 = new l4({ svg: this._element, type: o4.dotsOptions.type });
              this._dotsClipPath = document.createElementNS("http://www.w3.org/2000/svg", "clipPath"), this._dotsClipPath.setAttribute("id", "clip-path-dot-color"), this._defs.appendChild(this._dotsClipPath), this._createColor({ options: null === (e4 = o4.dotsOptions) || void 0 === e4 ? void 0 : e4.gradient, color: o4.dotsOptions.color, additionalRotation: 0, x: 0, y: 0, height: o4.height, width: o4.width, name: "dot-color" });
              for (var f4 = function(e5) {
                for (var o5 = function(o6) {
                  return t5 && !t5(e5, o6) ? "continue" : (null === (r5 = g6._qr) || void 0 === r5 ? void 0 : r5.isDark(e5, o6)) ? (d4.draw(h7 + e5 * u5, c4 + o6 * u5, u5, function(r6, a7) {
                    return !(e5 + r6 < 0 || o6 + a7 < 0 || e5 + r6 >= i4 || o6 + a7 >= i4) && !(t5 && !t5(e5 + r6, o6 + a7)) && !!n5._qr && n5._qr.isDark(e5 + r6, o6 + a7);
                  }), void (d4._element && g6._dotsClipPath && g6._dotsClipPath.appendChild(d4._element))) : "continue";
                }, a6 = 0; a6 < i4; a6++)
                  o5(a6);
              }, g6 = this, p7 = 0; p7 < i4; p7++)
                f4(p7);
              if (o4.shape === v2) {
                var w5 = Math.floor((a5 / u5 - i4) / 2), y8 = i4 + 2 * w5, m4 = h7 - w5 * u5, b4 = c4 - w5 * u5, _5 = [], x6 = Math.floor(y8 / 2);
                for (p7 = 0; p7 < y8; p7++) {
                  _5[p7] = [];
                  for (var S4 = 0; S4 < y8; S4++)
                    p7 >= w5 - 1 && p7 <= y8 - w5 && S4 >= w5 - 1 && S4 <= y8 - w5 || Math.sqrt((p7 - x6) * (p7 - x6) + (S4 - x6) * (S4 - x6)) > x6 ? _5[p7][S4] = 0 : _5[p7][S4] = this._qr.isDark(S4 - 2 * w5 < 0 ? S4 : S4 >= i4 ? S4 - 2 * w5 : S4 - w5, p7 - 2 * w5 < 0 ? p7 : p7 >= i4 ? p7 - 2 * w5 : p7 - w5) ? 1 : 0;
                }
                var M4 = function(t6) {
                  for (var e5 = function(e6) {
                    if (!_5[t6][e6])
                      return "continue";
                    d4.draw(m4 + t6 * u5, b4 + e6 * u5, u5, function(r7, n6) {
                      var o5;
                      return !!(null === (o5 = _5[t6 + r7]) || void 0 === o5 ? void 0 : o5[e6 + n6]);
                    }), d4._element && C4._dotsClipPath && C4._dotsClipPath.appendChild(d4._element);
                  }, r6 = 0; r6 < y8; r6++)
                    e5(r6);
                }, C4 = this;
                for (p7 = 0; p7 < y8; p7++)
                  M4(p7);
              }
            }, t4.prototype.drawCorners = function() {
              var t5 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var e4 = this._element, r5 = this._options;
              if (!e4)
                throw "Element code is not defined";
              var n5 = this._qr.getModuleCount(), o4 = Math.min(r5.width, r5.height) - 2 * r5.margin, i4 = r5.shape === v2 ? o4 / Math.sqrt(2) : o4, a5 = Math.floor(i4 / n5), s3 = 7 * a5, u5 = 3 * a5, h7 = Math.floor((r5.width - n5 * a5) / 2), c4 = Math.floor((r5.height - n5 * a5) / 2);
              [[0, 0, 0], [1, 0, Math.PI / 2], [0, 1, -Math.PI / 2]].forEach(function(e5) {
                var o5, i5, d4, g6, v3, w5, y8, _5, x6, S4, M4, C4, A4 = e5[0], k4 = e5[1], O5 = e5[2], D5 = h7 + A4 * a5 * (n5 - 7), P4 = c4 + k4 * a5 * (n5 - 7), z4 = t5._dotsClipPath, B4 = t5._dotsClipPath;
                if (((null === (o5 = r5.cornersSquareOptions) || void 0 === o5 ? void 0 : o5.gradient) || (null === (i5 = r5.cornersSquareOptions) || void 0 === i5 ? void 0 : i5.color)) && ((z4 = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute("id", "clip-path-corners-square-color-" + A4 + "-" + k4), t5._defs.appendChild(z4), t5._cornersSquareClipPath = t5._cornersDotClipPath = B4 = z4, t5._createColor({ options: null === (d4 = r5.cornersSquareOptions) || void 0 === d4 ? void 0 : d4.gradient, color: null === (g6 = r5.cornersSquareOptions) || void 0 === g6 ? void 0 : g6.color, additionalRotation: O5, x: D5, y: P4, height: s3, width: s3, name: "corners-square-color-" + A4 + "-" + k4 })), null === (v3 = r5.cornersSquareOptions) || void 0 === v3 ? void 0 : v3.type) {
                  var q5 = new f3({ svg: t5._element, type: r5.cornersSquareOptions.type });
                  q5.draw(D5, P4, s3, O5), q5._element && z4 && z4.appendChild(q5._element);
                } else
                  for (var I = new l4({ svg: t5._element, type: r5.dotsOptions.type }), E5 = function(t6) {
                    for (var e6 = function(e7) {
                      if (!(null === (w5 = m3[t6]) || void 0 === w5 ? void 0 : w5[e7]))
                        return "continue";
                      I.draw(D5 + t6 * a5, P4 + e7 * a5, a5, function(r7, n6) {
                        var o6;
                        return !!(null === (o6 = m3[t6 + r7]) || void 0 === o6 ? void 0 : o6[e7 + n6]);
                      }), I._element && z4 && z4.appendChild(I._element);
                    }, r6 = 0; r6 < m3[t6].length; r6++)
                      e6(r6);
                  }, L3 = 0; L3 < m3.length; L3++)
                    E5(L3);
                if (((null === (y8 = r5.cornersDotOptions) || void 0 === y8 ? void 0 : y8.gradient) || (null === (_5 = r5.cornersDotOptions) || void 0 === _5 ? void 0 : _5.color)) && ((B4 = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute("id", "clip-path-corners-dot-color-" + A4 + "-" + k4), t5._defs.appendChild(B4), t5._cornersDotClipPath = B4, t5._createColor({ options: null === (x6 = r5.cornersDotOptions) || void 0 === x6 ? void 0 : x6.gradient, color: null === (S4 = r5.cornersDotOptions) || void 0 === S4 ? void 0 : S4.color, additionalRotation: O5, x: D5 + 2 * a5, y: P4 + 2 * a5, height: u5, width: u5, name: "corners-dot-color-" + A4 + "-" + k4 })), null === (M4 = r5.cornersDotOptions) || void 0 === M4 ? void 0 : M4.type) {
                  var R3 = new p6({ svg: t5._element, type: r5.cornersDotOptions.type });
                  R3.draw(D5 + 2 * a5, P4 + 2 * a5, u5, O5), R3._element && B4 && B4.appendChild(R3._element);
                } else {
                  I = new l4({ svg: t5._element, type: r5.dotsOptions.type });
                  var N12 = function(t6) {
                    for (var e6 = function(e7) {
                      if (!(null === (C4 = b3[t6]) || void 0 === C4 ? void 0 : C4[e7]))
                        return "continue";
                      I.draw(D5 + t6 * a5, P4 + e7 * a5, a5, function(r7, n6) {
                        var o6;
                        return !!(null === (o6 = b3[t6 + r7]) || void 0 === o6 ? void 0 : o6[e7 + n6]);
                      }), I._element && B4 && B4.appendChild(I._element);
                    }, r6 = 0; r6 < b3[t6].length; r6++)
                      e6(r6);
                  };
                  for (L3 = 0; L3 < b3.length; L3++)
                    N12(L3);
                }
              });
            }, t4.prototype.loadImage = function() {
              var t5 = this;
              return new Promise(function(e4, r5) {
                var n5 = t5._options, o4 = new Image();
                if (!n5.image)
                  return r5("Image is not defined");
                "string" == typeof n5.imageOptions.crossOrigin && (o4.crossOrigin = n5.imageOptions.crossOrigin), t5._image = o4, o4.onload = function() {
                  e4();
                }, o4.src = n5.image;
              });
            }, t4.prototype.drawImage = function(t5) {
              var e4 = t5.width, r5 = t5.height, n5 = t5.count, o4 = t5.dotSize;
              return w4(this, void 0, void 0, function() {
                var t6, i4, a5, s3, h7, c4, l5, d4, f4;
                return y7(this, function(g6) {
                  switch (g6.label) {
                    case 0:
                      return t6 = this._options, i4 = Math.floor((t6.width - n5 * o4) / 2), a5 = Math.floor((t6.height - n5 * o4) / 2), s3 = i4 + t6.imageOptions.margin + (n5 * o4 - e4) / 2, h7 = a5 + t6.imageOptions.margin + (n5 * o4 - r5) / 2, c4 = e4 - 2 * t6.imageOptions.margin, l5 = r5 - 2 * t6.imageOptions.margin, (d4 = document.createElementNS("http://www.w3.org/2000/svg", "image")).setAttribute("x", String(s3)), d4.setAttribute("y", String(h7)), d4.setAttribute("width", c4 + "px"), d4.setAttribute("height", l5 + "px"), [4, u4(t6.image || "")];
                    case 1:
                      return f4 = g6.sent(), d4.setAttribute("href", f4 || ""), this._element.appendChild(d4), [2];
                  }
                });
              });
            }, t4.prototype._createColor = function(t5) {
              var e4 = t5.options, r5 = t5.color, n5 = t5.additionalRotation, o4 = t5.x, i4 = t5.y, a5 = t5.height, s3 = t5.width, u5 = t5.name, h7 = s3 > a5 ? s3 : a5, c4 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
              if (c4.setAttribute("x", String(o4)), c4.setAttribute("y", String(i4)), c4.setAttribute("height", String(a5)), c4.setAttribute("width", String(s3)), c4.setAttribute("clip-path", "url('#clip-path-" + u5 + "')"), e4) {
                var l5;
                if ("radial" === e4.type)
                  (l5 = document.createElementNS("http://www.w3.org/2000/svg", "radialGradient")).setAttribute("id", u5), l5.setAttribute("gradientUnits", "userSpaceOnUse"), l5.setAttribute("fx", String(o4 + s3 / 2)), l5.setAttribute("fy", String(i4 + a5 / 2)), l5.setAttribute("cx", String(o4 + s3 / 2)), l5.setAttribute("cy", String(i4 + a5 / 2)), l5.setAttribute("r", String(h7 / 2));
                else {
                  var d4 = ((e4.rotation || 0) + n5) % (2 * Math.PI), f4 = (d4 + 2 * Math.PI) % (2 * Math.PI), g6 = o4 + s3 / 2, p7 = i4 + a5 / 2, v3 = o4 + s3 / 2, w5 = i4 + a5 / 2;
                  f4 >= 0 && f4 <= 0.25 * Math.PI || f4 > 1.75 * Math.PI && f4 <= 2 * Math.PI ? (g6 -= s3 / 2, p7 -= a5 / 2 * Math.tan(d4), v3 += s3 / 2, w5 += a5 / 2 * Math.tan(d4)) : f4 > 0.25 * Math.PI && f4 <= 0.75 * Math.PI ? (p7 -= a5 / 2, g6 -= s3 / 2 / Math.tan(d4), w5 += a5 / 2, v3 += s3 / 2 / Math.tan(d4)) : f4 > 0.75 * Math.PI && f4 <= 1.25 * Math.PI ? (g6 += s3 / 2, p7 += a5 / 2 * Math.tan(d4), v3 -= s3 / 2, w5 -= a5 / 2 * Math.tan(d4)) : f4 > 1.25 * Math.PI && f4 <= 1.75 * Math.PI && (p7 += a5 / 2, g6 += s3 / 2 / Math.tan(d4), w5 -= a5 / 2, v3 -= s3 / 2 / Math.tan(d4)), (l5 = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient")).setAttribute("id", u5), l5.setAttribute("gradientUnits", "userSpaceOnUse"), l5.setAttribute("x1", String(Math.round(g6))), l5.setAttribute("y1", String(Math.round(p7))), l5.setAttribute("x2", String(Math.round(v3))), l5.setAttribute("y2", String(Math.round(w5)));
                }
                e4.colorStops.forEach(function(t6) {
                  var e5 = t6.offset, r6 = t6.color, n6 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                  n6.setAttribute("offset", 100 * e5 + "%"), n6.setAttribute("stop-color", r6), l5.appendChild(n6);
                }), c4.setAttribute("fill", "url('#" + u5 + "')"), this._defs.appendChild(l5);
              } else
                r5 && c4.setAttribute("fill", r5);
              this._element.appendChild(c4);
            }, t4;
          }(), x5 = "canvas";
          for (var S3 = {}, M3 = 0; M3 <= 40; M3++)
            S3[M3] = M3;
          const C3 = { type: x5, shape: "square", width: 300, height: 300, data: "", margin: 0, qrOptions: { typeNumber: S3[0], mode: void 0, errorCorrectionLevel: "Q" }, imageOptions: { hideBackgroundDots: true, imageSize: 0.4, crossOrigin: void 0, margin: 0 }, dotsOptions: { type: "square", color: "#000" }, backgroundOptions: { round: 0, color: "#fff" } };
          var A3 = function() {
            return (A3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          function k3(t4) {
            var e4 = A3({}, t4);
            if (!e4.colorStops || !e4.colorStops.length)
              throw "Field 'colorStops' is required in gradient";
            return e4.rotation ? e4.rotation = Number(e4.rotation) : e4.rotation = 0, e4.colorStops = e4.colorStops.map(function(t5) {
              return A3(A3({}, t5), { offset: Number(t5.offset) });
            }), e4;
          }
          function O4(t4) {
            var e4 = A3({}, t4);
            return e4.width = Number(e4.width), e4.height = Number(e4.height), e4.margin = Number(e4.margin), e4.imageOptions = A3(A3({}, e4.imageOptions), { hideBackgroundDots: Boolean(e4.imageOptions.hideBackgroundDots), imageSize: Number(e4.imageOptions.imageSize), margin: Number(e4.imageOptions.margin) }), e4.margin > Math.min(e4.width, e4.height) && (e4.margin = Math.min(e4.width, e4.height)), e4.dotsOptions = A3({}, e4.dotsOptions), e4.dotsOptions.gradient && (e4.dotsOptions.gradient = k3(e4.dotsOptions.gradient)), e4.cornersSquareOptions && (e4.cornersSquareOptions = A3({}, e4.cornersSquareOptions), e4.cornersSquareOptions.gradient && (e4.cornersSquareOptions.gradient = k3(e4.cornersSquareOptions.gradient))), e4.cornersDotOptions && (e4.cornersDotOptions = A3({}, e4.cornersDotOptions), e4.cornersDotOptions.gradient && (e4.cornersDotOptions.gradient = k3(e4.cornersDotOptions.gradient))), e4.backgroundOptions && (e4.backgroundOptions = A3({}, e4.backgroundOptions), e4.backgroundOptions.gradient && (e4.backgroundOptions.gradient = k3(e4.backgroundOptions.gradient))), e4;
          }
          var D4 = r4(192), P3 = r4.n(D4), z3 = function(t4, e4, r5, n5) {
            return new (r5 || (r5 = Promise))(function(o4, i4) {
              function a5(t5) {
                try {
                  u5(n5.next(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function s3(t5) {
                try {
                  u5(n5.throw(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function u5(t5) {
                var e5;
                t5.done ? o4(t5.value) : (e5 = t5.value, e5 instanceof r5 ? e5 : new r5(function(t6) {
                  t6(e5);
                })).then(a5, s3);
              }
              u5((n5 = n5.apply(t4, e4 || [])).next());
            });
          }, B3 = function(t4, e4) {
            var r5, n5, o4, i4, a5 = { label: 0, sent: function() {
              if (1 & o4[0])
                throw o4[1];
              return o4[1];
            }, trys: [], ops: [] };
            return i4 = { next: s3(0), throw: s3(1), return: s3(2) }, "function" == typeof Symbol && (i4[Symbol.iterator] = function() {
              return this;
            }), i4;
            function s3(i5) {
              return function(s4) {
                return function(i6) {
                  if (r5)
                    throw new TypeError("Generator is already executing.");
                  for (; a5; )
                    try {
                      if (r5 = 1, n5 && (o4 = 2 & i6[0] ? n5.return : i6[0] ? n5.throw || ((o4 = n5.return) && o4.call(n5), 0) : n5.next) && !(o4 = o4.call(n5, i6[1])).done)
                        return o4;
                      switch (n5 = 0, o4 && (i6 = [2 & i6[0], o4.value]), i6[0]) {
                        case 0:
                        case 1:
                          o4 = i6;
                          break;
                        case 4:
                          return a5.label++, { value: i6[1], done: false };
                        case 5:
                          a5.label++, n5 = i6[1], i6 = [0];
                          continue;
                        case 7:
                          i6 = a5.ops.pop(), a5.trys.pop();
                          continue;
                        default:
                          if (!((o4 = (o4 = a5.trys).length > 0 && o4[o4.length - 1]) || 6 !== i6[0] && 2 !== i6[0])) {
                            a5 = 0;
                            continue;
                          }
                          if (3 === i6[0] && (!o4 || i6[1] > o4[0] && i6[1] < o4[3])) {
                            a5.label = i6[1];
                            break;
                          }
                          if (6 === i6[0] && a5.label < o4[1]) {
                            a5.label = o4[1], o4 = i6;
                            break;
                          }
                          if (o4 && a5.label < o4[2]) {
                            a5.label = o4[2], a5.ops.push(i6);
                            break;
                          }
                          o4[2] && a5.ops.pop(), a5.trys.pop();
                          continue;
                      }
                      i6 = e4.call(t4, a5);
                    } catch (t5) {
                      i6 = [6, t5], n5 = 0;
                    } finally {
                      r5 = o4 = 0;
                    }
                  if (5 & i6[0])
                    throw i6[1];
                  return { value: i6[0] ? i6[1] : void 0, done: true };
                }([i5, s4]);
              };
            }
          };
          const q4 = function() {
            function t4(t5) {
              this._options = t5 ? O4(a4(C3, t5)) : C3, this.update();
            }
            return t4._clearContainer = function(t5) {
              t5 && (t5.innerHTML = "");
            }, t4.prototype._setupSvg = function() {
              var t5 = this;
              if (this._qr) {
                var e4 = new _4(this._options);
                this._svg = e4.getElement(), this._svgDrawingPromise = e4.drawQR(this._qr).then(function() {
                  var r5;
                  t5._svg && (null === (r5 = t5._extension) || void 0 === r5 || r5.call(t5, e4.getElement(), t5._options));
                });
              }
            }, t4.prototype._setupCanvas = function() {
              var t5, e4 = this;
              this._qr && (this._canvas = document.createElement("canvas"), this._canvas.width = this._options.width, this._canvas.height = this._options.height, this._setupSvg(), this._canvasDrawingPromise = null === (t5 = this._svgDrawingPromise) || void 0 === t5 ? void 0 : t5.then(function() {
                if (e4._svg) {
                  var t6 = e4._svg, r5 = new XMLSerializer().serializeToString(t6), n5 = "data:image/svg+xml;base64," + btoa(r5), o4 = new Image();
                  return new Promise(function(t7) {
                    o4.onload = function() {
                      var r6, n6;
                      null === (n6 = null === (r6 = e4._canvas) || void 0 === r6 ? void 0 : r6.getContext("2d")) || void 0 === n6 || n6.drawImage(o4, 0, 0), t7();
                    }, o4.src = n5;
                  });
                }
              }));
            }, t4.prototype._getElement = function(t5) {
              return void 0 === t5 && (t5 = "png"), z3(this, void 0, void 0, function() {
                return B3(this, function(e4) {
                  switch (e4.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return "svg" !== t5.toLowerCase() ? [3, 2] : (this._svg && this._svgDrawingPromise || this._setupSvg(), [4, this._svgDrawingPromise]);
                    case 1:
                      return e4.sent(), [2, this._svg];
                    case 2:
                      return this._canvas && this._canvasDrawingPromise || this._setupCanvas(), [4, this._canvasDrawingPromise];
                    case 3:
                      return e4.sent(), [2, this._canvas];
                  }
                });
              });
            }, t4.prototype.update = function(e4) {
              t4._clearContainer(this._container), this._options = e4 ? O4(a4(this._options, e4)) : this._options, this._options.data && (this._qr = P3()(this._options.qrOptions.typeNumber, this._options.qrOptions.errorCorrectionLevel), this._qr.addData(this._options.data, this._options.qrOptions.mode || function(t5) {
                switch (true) {
                  case /^[0-9]*$/.test(t5):
                    return "Numeric";
                  case /^[0-9A-Z $%*+\-./:]*$/.test(t5):
                    return "Alphanumeric";
                  default:
                    return "Byte";
                }
              }(this._options.data)), this._qr.make(), this._options.type === x5 ? this._setupCanvas() : this._setupSvg(), this.append(this._container));
            }, t4.prototype.append = function(t5) {
              if (t5) {
                if ("function" != typeof t5.appendChild)
                  throw "Container should be a single DOM node";
                this._options.type === x5 ? this._canvas && t5.appendChild(this._canvas) : this._svg && t5.appendChild(this._svg), this._container = t5;
              }
            }, t4.prototype.applyExtension = function(t5) {
              if (!t5)
                throw "Extension function should be defined.";
              this._extension = t5, this.update();
            }, t4.prototype.deleteExtension = function() {
              this._extension = void 0, this.update();
            }, t4.prototype.getRawData = function(t5) {
              return void 0 === t5 && (t5 = "png"), z3(this, void 0, void 0, function() {
                var e4, r5, n5;
                return B3(this, function(o4) {
                  switch (o4.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return [4, this._getElement(t5)];
                    case 1:
                      return (e4 = o4.sent()) ? "svg" === t5.toLowerCase() ? (r5 = new XMLSerializer(), n5 = r5.serializeToString(e4), [2, new Blob(['<?xml version="1.0" standalone="no"?>\r\n' + n5], { type: "image/svg+xml" })]) : [2, new Promise(function(r6) {
                        return e4.toBlob(r6, "image/" + t5, 1);
                      })] : [2, null];
                  }
                });
              });
            }, t4.prototype.download = function(t5) {
              return z3(this, void 0, void 0, function() {
                var e4, r5, n5, o4, i4;
                return B3(this, function(a5) {
                  switch (a5.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return e4 = "png", r5 = "qr", "string" == typeof t5 ? (e4 = t5, console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")) : "object" == typeof t5 && null !== t5 && (t5.name && (r5 = t5.name), t5.extension && (e4 = t5.extension)), [4, this._getElement(e4)];
                    case 1:
                      return (n5 = a5.sent()) ? ("svg" === e4.toLowerCase() ? (o4 = new XMLSerializer(), i4 = '<?xml version="1.0" standalone="no"?>\r\n' + (i4 = o4.serializeToString(n5)), s2("data:image/svg+xml;charset=utf-8," + encodeURIComponent(i4), r5 + ".svg")) : s2(n5.toDataURL("image/" + e4), r5 + "." + e4), [2]) : [2];
                  }
                });
              });
            }, t4;
          }();
        } }, e2 = {};
        function r3(n4) {
          if (e2[n4])
            return e2[n4].exports;
          var o3 = e2[n4] = { exports: {} };
          return t2[n4](o3, o3.exports, r3), o3.exports;
        }
        return r3.n = (t3) => {
          var e3 = t3 && t3.__esModule ? () => t3.default : () => t3;
          return r3.d(e3, { a: e3 }), e3;
        }, r3.d = (t3, e3) => {
          for (var n4 in e3)
            r3.o(e3, n4) && !r3.o(t3, n4) && Object.defineProperty(t3, n4, { enumerable: true, get: e3[n4] });
        }, r3.o = (t3, e3) => Object.prototype.hasOwnProperty.call(t3, e3), r3(676);
      })().default;
    });
  }
});

// node_modules/.pnpm/lottie-web@5.12.2/node_modules/lottie-web/build/player/lottie.js
var require_lottie = __commonJS({
  "node_modules/.pnpm/lottie-web@5.12.2/node_modules/lottie-web/build/player/lottie.js"(exports, module) {
    typeof navigator !== "undefined" && function(global2, factory) {
      typeof exports === "object" && typeof module !== "undefined" ? module.exports = factory() : typeof define === "function" && define.amd ? define(factory) : (global2 = typeof globalThis !== "undefined" ? globalThis : global2 || self, global2.lottie = factory());
    }(exports, function() {
      "use strict";
      var svgNS = "http://www.w3.org/2000/svg";
      var locationHref = "";
      var _useWebWorker = false;
      var initialDefaultFrame = -999999;
      var setWebWorker = function setWebWorker2(flag) {
        _useWebWorker = !!flag;
      };
      var getWebWorker = function getWebWorker2() {
        return _useWebWorker;
      };
      var setLocationHref = function setLocationHref2(value2) {
        locationHref = value2;
      };
      var getLocationHref = function getLocationHref2() {
        return locationHref;
      };
      function createTag(type) {
        return document.createElement(type);
      }
      function extendPrototype(sources, destination) {
        var i3;
        var len = sources.length;
        var sourcePrototype;
        for (i3 = 0; i3 < len; i3 += 1) {
          sourcePrototype = sources[i3].prototype;
          for (var attr in sourcePrototype) {
            if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr))
              destination.prototype[attr] = sourcePrototype[attr];
          }
        }
      }
      function getDescriptor(object, prop) {
        return Object.getOwnPropertyDescriptor(object, prop);
      }
      function createProxyFunction(prototype) {
        function ProxyFunction() {
        }
        ProxyFunction.prototype = prototype;
        return ProxyFunction;
      }
      var audioControllerFactory = function() {
        function AudioController(audioFactory) {
          this.audios = [];
          this.audioFactory = audioFactory;
          this._volume = 1;
          this._isMuted = false;
        }
        AudioController.prototype = {
          addAudio: function addAudio(audio) {
            this.audios.push(audio);
          },
          pause: function pause() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].pause();
            }
          },
          resume: function resume() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].resume();
            }
          },
          setRate: function setRate(rateValue) {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].setRate(rateValue);
            }
          },
          createAudio: function createAudio(assetPath) {
            if (this.audioFactory) {
              return this.audioFactory(assetPath);
            }
            if (window.Howl) {
              return new window.Howl({
                src: [assetPath]
              });
            }
            return {
              isPlaying: false,
              play: function play() {
                this.isPlaying = true;
              },
              seek: function seek() {
                this.isPlaying = false;
              },
              playing: function playing() {
              },
              rate: function rate() {
              },
              setVolume: function setVolume() {
              }
            };
          },
          setAudioFactory: function setAudioFactory(audioFactory) {
            this.audioFactory = audioFactory;
          },
          setVolume: function setVolume(value2) {
            this._volume = value2;
            this._updateVolume();
          },
          mute: function mute() {
            this._isMuted = true;
            this._updateVolume();
          },
          unmute: function unmute() {
            this._isMuted = false;
            this._updateVolume();
          },
          getVolume: function getVolume() {
            return this._volume;
          },
          _updateVolume: function _updateVolume() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].volume(this._volume * (this._isMuted ? 0 : 1));
            }
          }
        };
        return function() {
          return new AudioController();
        };
      }();
      var createTypedArray = function() {
        function createRegularArray(type, len) {
          var i3 = 0;
          var arr = [];
          var value2;
          switch (type) {
            case "int16":
            case "uint8c":
              value2 = 1;
              break;
            default:
              value2 = 1.1;
              break;
          }
          for (i3 = 0; i3 < len; i3 += 1) {
            arr.push(value2);
          }
          return arr;
        }
        function createTypedArrayFactory(type, len) {
          if (type === "float32") {
            return new Float32Array(len);
          }
          if (type === "int16") {
            return new Int16Array(len);
          }
          if (type === "uint8c") {
            return new Uint8ClampedArray(len);
          }
          return createRegularArray(type, len);
        }
        if (typeof Uint8ClampedArray === "function" && typeof Float32Array === "function") {
          return createTypedArrayFactory;
        }
        return createRegularArray;
      }();
      function createSizedArray(len) {
        return Array.apply(null, {
          length: len
        });
      }
      function _typeof$6(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$6 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$6 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$6(obj);
      }
      var subframeEnabled = true;
      var expressionsPlugin = null;
      var expressionsInterfaces = null;
      var idPrefix$1 = "";
      var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
      var _shouldRoundValues = false;
      var bmPow = Math.pow;
      var bmSqrt = Math.sqrt;
      var bmFloor = Math.floor;
      var bmMax = Math.max;
      var bmMin = Math.min;
      var BMMath = {};
      (function() {
        var propertyNames = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
        var i3;
        var len = propertyNames.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          BMMath[propertyNames[i3]] = Math[propertyNames[i3]];
        }
      })();
      function ProjectInterface$1() {
        return {};
      }
      BMMath.random = Math.random;
      BMMath.abs = function(val2) {
        var tOfVal = _typeof$6(val2);
        if (tOfVal === "object" && val2.length) {
          var absArr = createSizedArray(val2.length);
          var i3;
          var len = val2.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            absArr[i3] = Math.abs(val2[i3]);
          }
          return absArr;
        }
        return Math.abs(val2);
      };
      var defaultCurveSegments = 150;
      var degToRads = Math.PI / 180;
      var roundCorner = 0.5519;
      function roundValues(flag) {
        _shouldRoundValues = !!flag;
      }
      function bmRnd(value2) {
        if (_shouldRoundValues) {
          return Math.round(value2);
        }
        return value2;
      }
      function styleDiv(element) {
        element.style.position = "absolute";
        element.style.top = 0;
        element.style.left = 0;
        element.style.display = "block";
        element.style.transformOrigin = "0 0";
        element.style.webkitTransformOrigin = "0 0";
        element.style.backfaceVisibility = "visible";
        element.style.webkitBackfaceVisibility = "visible";
        element.style.transformStyle = "preserve-3d";
        element.style.webkitTransformStyle = "preserve-3d";
        element.style.mozTransformStyle = "preserve-3d";
      }
      function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {
        this.type = type;
        this.currentTime = currentTime;
        this.totalTime = totalTime;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMCompleteEvent(type, frameMultiplier) {
        this.type = type;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {
        this.type = type;
        this.currentLoop = currentLoop;
        this.totalLoops = totalLoops;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMSegmentStartEvent(type, firstFrame, totalFrames) {
        this.type = type;
        this.firstFrame = firstFrame;
        this.totalFrames = totalFrames;
      }
      function BMDestroyEvent(type, target) {
        this.type = type;
        this.target = target;
      }
      function BMRenderFrameErrorEvent(nativeError, currentTime) {
        this.type = "renderFrameError";
        this.nativeError = nativeError;
        this.currentTime = currentTime;
      }
      function BMConfigErrorEvent(nativeError) {
        this.type = "configError";
        this.nativeError = nativeError;
      }
      function BMAnimationConfigErrorEvent(type, nativeError) {
        this.type = type;
        this.nativeError = nativeError;
      }
      var createElementID = function() {
        var _count = 0;
        return function createID() {
          _count += 1;
          return idPrefix$1 + "__lottie_element_" + _count;
        };
      }();
      function HSVtoRGB(h6, s2, v2) {
        var r3;
        var g5;
        var b3;
        var i3;
        var f3;
        var p6;
        var q4;
        var t2;
        i3 = Math.floor(h6 * 6);
        f3 = h6 * 6 - i3;
        p6 = v2 * (1 - s2);
        q4 = v2 * (1 - f3 * s2);
        t2 = v2 * (1 - (1 - f3) * s2);
        switch (i3 % 6) {
          case 0:
            r3 = v2;
            g5 = t2;
            b3 = p6;
            break;
          case 1:
            r3 = q4;
            g5 = v2;
            b3 = p6;
            break;
          case 2:
            r3 = p6;
            g5 = v2;
            b3 = t2;
            break;
          case 3:
            r3 = p6;
            g5 = q4;
            b3 = v2;
            break;
          case 4:
            r3 = t2;
            g5 = p6;
            b3 = v2;
            break;
          case 5:
            r3 = v2;
            g5 = p6;
            b3 = q4;
            break;
          default:
            break;
        }
        return [r3, g5, b3];
      }
      function RGBtoHSV(r3, g5, b3) {
        var max = Math.max(r3, g5, b3);
        var min = Math.min(r3, g5, b3);
        var d3 = max - min;
        var h6;
        var s2 = max === 0 ? 0 : d3 / max;
        var v2 = max / 255;
        switch (max) {
          case min:
            h6 = 0;
            break;
          case r3:
            h6 = g5 - b3 + d3 * (g5 < b3 ? 6 : 0);
            h6 /= 6 * d3;
            break;
          case g5:
            h6 = b3 - r3 + d3 * 2;
            h6 /= 6 * d3;
            break;
          case b3:
            h6 = r3 - g5 + d3 * 4;
            h6 /= 6 * d3;
            break;
          default:
            break;
        }
        return [h6, s2, v2];
      }
      function addSaturationToRGB(color, offset) {
        var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[1] += offset;
        if (hsv[1] > 1) {
          hsv[1] = 1;
        } else if (hsv[1] <= 0) {
          hsv[1] = 0;
        }
        return HSVtoRGB(hsv[0], hsv[1], hsv[2]);
      }
      function addBrightnessToRGB(color, offset) {
        var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[2] += offset;
        if (hsv[2] > 1) {
          hsv[2] = 1;
        } else if (hsv[2] < 0) {
          hsv[2] = 0;
        }
        return HSVtoRGB(hsv[0], hsv[1], hsv[2]);
      }
      function addHueToRGB(color, offset) {
        var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[0] += offset / 360;
        if (hsv[0] > 1) {
          hsv[0] -= 1;
        } else if (hsv[0] < 0) {
          hsv[0] += 1;
        }
        return HSVtoRGB(hsv[0], hsv[1], hsv[2]);
      }
      var rgbToHex = function() {
        var colorMap = [];
        var i3;
        var hex;
        for (i3 = 0; i3 < 256; i3 += 1) {
          hex = i3.toString(16);
          colorMap[i3] = hex.length === 1 ? "0" + hex : hex;
        }
        return function(r3, g5, b3) {
          if (r3 < 0) {
            r3 = 0;
          }
          if (g5 < 0) {
            g5 = 0;
          }
          if (b3 < 0) {
            b3 = 0;
          }
          return "#" + colorMap[r3] + colorMap[g5] + colorMap[b3];
        };
      }();
      var setSubframeEnabled = function setSubframeEnabled2(flag) {
        subframeEnabled = !!flag;
      };
      var getSubframeEnabled = function getSubframeEnabled2() {
        return subframeEnabled;
      };
      var setExpressionsPlugin = function setExpressionsPlugin2(value2) {
        expressionsPlugin = value2;
      };
      var getExpressionsPlugin = function getExpressionsPlugin2() {
        return expressionsPlugin;
      };
      var setExpressionInterfaces = function setExpressionInterfaces2(value2) {
        expressionsInterfaces = value2;
      };
      var getExpressionInterfaces = function getExpressionInterfaces2() {
        return expressionsInterfaces;
      };
      var setDefaultCurveSegments = function setDefaultCurveSegments2(value2) {
        defaultCurveSegments = value2;
      };
      var getDefaultCurveSegments = function getDefaultCurveSegments2() {
        return defaultCurveSegments;
      };
      var setIdPrefix = function setIdPrefix2(value2) {
        idPrefix$1 = value2;
      };
      var getIdPrefix = function getIdPrefix2() {
        return idPrefix$1;
      };
      function createNS(type) {
        return document.createElementNS(svgNS, type);
      }
      function _typeof$5(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$5 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$5 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$5(obj);
      }
      var dataManager = function() {
        var _counterId = 1;
        var processes = [];
        var workerFn;
        var workerInstance;
        var workerProxy = {
          onmessage: function onmessage() {
          },
          postMessage: function postMessage(path) {
            workerFn({
              data: path
            });
          }
        };
        var _workerSelf = {
          postMessage: function postMessage(data2) {
            workerProxy.onmessage({
              data: data2
            });
          }
        };
        function createWorker(fn2) {
          if (window.Worker && window.Blob && getWebWorker()) {
            var blob = new Blob(["var _workerSelf = self; self.onmessage = ", fn2.toString()], {
              type: "text/javascript"
            });
            var url = URL.createObjectURL(blob);
            return new Worker(url);
          }
          workerFn = fn2;
          return workerProxy;
        }
        function setupWorker() {
          if (!workerInstance) {
            workerInstance = createWorker(function workerStart(e2) {
              function dataFunctionManager() {
                function completeLayers(layers, comps) {
                  var layerData;
                  var i3;
                  var len = layers.length;
                  var j4;
                  var jLen;
                  var k3;
                  var kLen;
                  for (i3 = 0; i3 < len; i3 += 1) {
                    layerData = layers[i3];
                    if ("ks" in layerData && !layerData.completed) {
                      layerData.completed = true;
                      if (layerData.hasMask) {
                        var maskProps = layerData.masksProperties;
                        jLen = maskProps.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (maskProps[j4].pt.k.i) {
                            convertPathsToAbsoluteValues(maskProps[j4].pt.k);
                          } else {
                            kLen = maskProps[j4].pt.k.length;
                            for (k3 = 0; k3 < kLen; k3 += 1) {
                              if (maskProps[j4].pt.k[k3].s) {
                                convertPathsToAbsoluteValues(maskProps[j4].pt.k[k3].s[0]);
                              }
                              if (maskProps[j4].pt.k[k3].e) {
                                convertPathsToAbsoluteValues(maskProps[j4].pt.k[k3].e[0]);
                              }
                            }
                          }
                        }
                      }
                      if (layerData.ty === 0) {
                        layerData.layers = findCompLayers(layerData.refId, comps);
                        completeLayers(layerData.layers, comps);
                      } else if (layerData.ty === 4) {
                        completeShapes(layerData.shapes);
                      } else if (layerData.ty === 5) {
                        completeText(layerData);
                      }
                    }
                  }
                }
                function completeChars(chars, assets) {
                  if (chars) {
                    var i3 = 0;
                    var len = chars.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (chars[i3].t === 1) {
                        chars[i3].data.layers = findCompLayers(chars[i3].data.refId, assets);
                        completeLayers(chars[i3].data.layers, assets);
                      }
                    }
                  }
                }
                function findComp(id, comps) {
                  var i3 = 0;
                  var len = comps.length;
                  while (i3 < len) {
                    if (comps[i3].id === id) {
                      return comps[i3];
                    }
                    i3 += 1;
                  }
                  return null;
                }
                function findCompLayers(id, comps) {
                  var comp2 = findComp(id, comps);
                  if (comp2) {
                    if (!comp2.layers.__used) {
                      comp2.layers.__used = true;
                      return comp2.layers;
                    }
                    return JSON.parse(JSON.stringify(comp2.layers));
                  }
                  return null;
                }
                function completeShapes(arr) {
                  var i3;
                  var len = arr.length;
                  var j4;
                  var jLen;
                  for (i3 = len - 1; i3 >= 0; i3 -= 1) {
                    if (arr[i3].ty === "sh") {
                      if (arr[i3].ks.k.i) {
                        convertPathsToAbsoluteValues(arr[i3].ks.k);
                      } else {
                        jLen = arr[i3].ks.k.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (arr[i3].ks.k[j4].s) {
                            convertPathsToAbsoluteValues(arr[i3].ks.k[j4].s[0]);
                          }
                          if (arr[i3].ks.k[j4].e) {
                            convertPathsToAbsoluteValues(arr[i3].ks.k[j4].e[0]);
                          }
                        }
                      }
                    } else if (arr[i3].ty === "gr") {
                      completeShapes(arr[i3].it);
                    }
                  }
                }
                function convertPathsToAbsoluteValues(path) {
                  var i3;
                  var len = path.i.length;
                  for (i3 = 0; i3 < len; i3 += 1) {
                    path.i[i3][0] += path.v[i3][0];
                    path.i[i3][1] += path.v[i3][1];
                    path.o[i3][0] += path.v[i3][0];
                    path.o[i3][1] += path.v[i3][1];
                  }
                }
                function checkVersion(minimum, animVersionString) {
                  var animVersion = animVersionString ? animVersionString.split(".") : [100, 100, 100];
                  if (minimum[0] > animVersion[0]) {
                    return true;
                  }
                  if (animVersion[0] > minimum[0]) {
                    return false;
                  }
                  if (minimum[1] > animVersion[1]) {
                    return true;
                  }
                  if (animVersion[1] > minimum[1]) {
                    return false;
                  }
                  if (minimum[2] > animVersion[2]) {
                    return true;
                  }
                  if (animVersion[2] > minimum[2]) {
                    return false;
                  }
                  return null;
                }
                var checkText = function() {
                  var minimumVersion = [4, 4, 14];
                  function updateTextLayer(textLayer) {
                    var documentData = textLayer.t.d;
                    textLayer.t.d = {
                      k: [{
                        s: documentData,
                        t: 0
                      }]
                    };
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 5) {
                        updateTextLayer(layers[i3]);
                      }
                    }
                  }
                  return function(animationData2) {
                    if (checkVersion(minimumVersion, animationData2.v)) {
                      iterateLayers(animationData2.layers);
                      if (animationData2.assets) {
                        var i3;
                        var len = animationData2.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData2.assets[i3].layers) {
                            iterateLayers(animationData2.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkChars = function() {
                  var minimumVersion = [4, 7, 99];
                  return function(animationData2) {
                    if (animationData2.chars && !checkVersion(minimumVersion, animationData2.v)) {
                      var i3;
                      var len = animationData2.chars.length;
                      for (i3 = 0; i3 < len; i3 += 1) {
                        var charData = animationData2.chars[i3];
                        if (charData.data && charData.data.shapes) {
                          completeShapes(charData.data.shapes);
                          charData.data.ip = 0;
                          charData.data.op = 99999;
                          charData.data.st = 0;
                          charData.data.sr = 1;
                          charData.data.ks = {
                            p: {
                              k: [0, 0],
                              a: 0
                            },
                            s: {
                              k: [100, 100],
                              a: 0
                            },
                            a: {
                              k: [0, 0],
                              a: 0
                            },
                            r: {
                              k: 0,
                              a: 0
                            },
                            o: {
                              k: 100,
                              a: 0
                            }
                          };
                          if (!animationData2.chars[i3].t) {
                            charData.data.shapes.push({
                              ty: "no"
                            });
                            charData.data.shapes[0].it.push({
                              p: {
                                k: [0, 0],
                                a: 0
                              },
                              s: {
                                k: [100, 100],
                                a: 0
                              },
                              a: {
                                k: [0, 0],
                                a: 0
                              },
                              r: {
                                k: 0,
                                a: 0
                              },
                              o: {
                                k: 100,
                                a: 0
                              },
                              sk: {
                                k: 0,
                                a: 0
                              },
                              sa: {
                                k: 0,
                                a: 0
                              },
                              ty: "tr"
                            });
                          }
                        }
                      }
                    }
                  };
                }();
                var checkPathProperties = function() {
                  var minimumVersion = [5, 7, 15];
                  function updateTextLayer(textLayer) {
                    var pathData = textLayer.t.p;
                    if (typeof pathData.a === "number") {
                      pathData.a = {
                        a: 0,
                        k: pathData.a
                      };
                    }
                    if (typeof pathData.p === "number") {
                      pathData.p = {
                        a: 0,
                        k: pathData.p
                      };
                    }
                    if (typeof pathData.r === "number") {
                      pathData.r = {
                        a: 0,
                        k: pathData.r
                      };
                    }
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 5) {
                        updateTextLayer(layers[i3]);
                      }
                    }
                  }
                  return function(animationData2) {
                    if (checkVersion(minimumVersion, animationData2.v)) {
                      iterateLayers(animationData2.layers);
                      if (animationData2.assets) {
                        var i3;
                        var len = animationData2.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData2.assets[i3].layers) {
                            iterateLayers(animationData2.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkColors = function() {
                  var minimumVersion = [4, 1, 9];
                  function iterateShapes(shapes) {
                    var i3;
                    var len = shapes.length;
                    var j4;
                    var jLen;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (shapes[i3].ty === "gr") {
                        iterateShapes(shapes[i3].it);
                      } else if (shapes[i3].ty === "fl" || shapes[i3].ty === "st") {
                        if (shapes[i3].c.k && shapes[i3].c.k[0].i) {
                          jLen = shapes[i3].c.k.length;
                          for (j4 = 0; j4 < jLen; j4 += 1) {
                            if (shapes[i3].c.k[j4].s) {
                              shapes[i3].c.k[j4].s[0] /= 255;
                              shapes[i3].c.k[j4].s[1] /= 255;
                              shapes[i3].c.k[j4].s[2] /= 255;
                              shapes[i3].c.k[j4].s[3] /= 255;
                            }
                            if (shapes[i3].c.k[j4].e) {
                              shapes[i3].c.k[j4].e[0] /= 255;
                              shapes[i3].c.k[j4].e[1] /= 255;
                              shapes[i3].c.k[j4].e[2] /= 255;
                              shapes[i3].c.k[j4].e[3] /= 255;
                            }
                          }
                        } else {
                          shapes[i3].c.k[0] /= 255;
                          shapes[i3].c.k[1] /= 255;
                          shapes[i3].c.k[2] /= 255;
                          shapes[i3].c.k[3] /= 255;
                        }
                      }
                    }
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 4) {
                        iterateShapes(layers[i3].shapes);
                      }
                    }
                  }
                  return function(animationData2) {
                    if (checkVersion(minimumVersion, animationData2.v)) {
                      iterateLayers(animationData2.layers);
                      if (animationData2.assets) {
                        var i3;
                        var len = animationData2.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData2.assets[i3].layers) {
                            iterateLayers(animationData2.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkShapes = function() {
                  var minimumVersion = [4, 4, 18];
                  function completeClosingShapes(arr) {
                    var i3;
                    var len = arr.length;
                    var j4;
                    var jLen;
                    for (i3 = len - 1; i3 >= 0; i3 -= 1) {
                      if (arr[i3].ty === "sh") {
                        if (arr[i3].ks.k.i) {
                          arr[i3].ks.k.c = arr[i3].closed;
                        } else {
                          jLen = arr[i3].ks.k.length;
                          for (j4 = 0; j4 < jLen; j4 += 1) {
                            if (arr[i3].ks.k[j4].s) {
                              arr[i3].ks.k[j4].s[0].c = arr[i3].closed;
                            }
                            if (arr[i3].ks.k[j4].e) {
                              arr[i3].ks.k[j4].e[0].c = arr[i3].closed;
                            }
                          }
                        }
                      } else if (arr[i3].ty === "gr") {
                        completeClosingShapes(arr[i3].it);
                      }
                    }
                  }
                  function iterateLayers(layers) {
                    var layerData;
                    var i3;
                    var len = layers.length;
                    var j4;
                    var jLen;
                    var k3;
                    var kLen;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      layerData = layers[i3];
                      if (layerData.hasMask) {
                        var maskProps = layerData.masksProperties;
                        jLen = maskProps.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (maskProps[j4].pt.k.i) {
                            maskProps[j4].pt.k.c = maskProps[j4].cl;
                          } else {
                            kLen = maskProps[j4].pt.k.length;
                            for (k3 = 0; k3 < kLen; k3 += 1) {
                              if (maskProps[j4].pt.k[k3].s) {
                                maskProps[j4].pt.k[k3].s[0].c = maskProps[j4].cl;
                              }
                              if (maskProps[j4].pt.k[k3].e) {
                                maskProps[j4].pt.k[k3].e[0].c = maskProps[j4].cl;
                              }
                            }
                          }
                        }
                      }
                      if (layerData.ty === 4) {
                        completeClosingShapes(layerData.shapes);
                      }
                    }
                  }
                  return function(animationData2) {
                    if (checkVersion(minimumVersion, animationData2.v)) {
                      iterateLayers(animationData2.layers);
                      if (animationData2.assets) {
                        var i3;
                        var len = animationData2.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData2.assets[i3].layers) {
                            iterateLayers(animationData2.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                function completeData(animationData2) {
                  if (animationData2.__complete) {
                    return;
                  }
                  checkColors(animationData2);
                  checkText(animationData2);
                  checkChars(animationData2);
                  checkPathProperties(animationData2);
                  checkShapes(animationData2);
                  completeLayers(animationData2.layers, animationData2.assets);
                  completeChars(animationData2.chars, animationData2.assets);
                  animationData2.__complete = true;
                }
                function completeText(data2) {
                  if (data2.t.a.length === 0 && !("m" in data2.t.p)) {
                  }
                }
                var moduleOb = {};
                moduleOb.completeData = completeData;
                moduleOb.checkColors = checkColors;
                moduleOb.checkChars = checkChars;
                moduleOb.checkPathProperties = checkPathProperties;
                moduleOb.checkShapes = checkShapes;
                moduleOb.completeLayers = completeLayers;
                return moduleOb;
              }
              if (!_workerSelf.dataManager) {
                _workerSelf.dataManager = dataFunctionManager();
              }
              if (!_workerSelf.assetLoader) {
                _workerSelf.assetLoader = function() {
                  function formatResponse(xhr) {
                    var contentTypeHeader = xhr.getResponseHeader("content-type");
                    if (contentTypeHeader && xhr.responseType === "json" && contentTypeHeader.indexOf("json") !== -1) {
                      return xhr.response;
                    }
                    if (xhr.response && _typeof$5(xhr.response) === "object") {
                      return xhr.response;
                    }
                    if (xhr.response && typeof xhr.response === "string") {
                      return JSON.parse(xhr.response);
                    }
                    if (xhr.responseText) {
                      return JSON.parse(xhr.responseText);
                    }
                    return null;
                  }
                  function loadAsset(path, fullPath, callback, errorCallback) {
                    var response;
                    var xhr = new XMLHttpRequest();
                    try {
                      xhr.responseType = "json";
                    } catch (err) {
                    }
                    xhr.onreadystatechange = function() {
                      if (xhr.readyState === 4) {
                        if (xhr.status === 200) {
                          response = formatResponse(xhr);
                          callback(response);
                        } else {
                          try {
                            response = formatResponse(xhr);
                            callback(response);
                          } catch (err) {
                            if (errorCallback) {
                              errorCallback(err);
                            }
                          }
                        }
                      }
                    };
                    try {
                      xhr.open(["G", "E", "T"].join(""), path, true);
                    } catch (error) {
                      xhr.open(["G", "E", "T"].join(""), fullPath + "/" + path, true);
                    }
                    xhr.send();
                  }
                  return {
                    load: loadAsset
                  };
                }();
              }
              if (e2.data.type === "loadAnimation") {
                _workerSelf.assetLoader.load(e2.data.path, e2.data.fullPath, function(data2) {
                  _workerSelf.dataManager.completeData(data2);
                  _workerSelf.postMessage({
                    id: e2.data.id,
                    payload: data2,
                    status: "success"
                  });
                }, function() {
                  _workerSelf.postMessage({
                    id: e2.data.id,
                    status: "error"
                  });
                });
              } else if (e2.data.type === "complete") {
                var animation = e2.data.animation;
                _workerSelf.dataManager.completeData(animation);
                _workerSelf.postMessage({
                  id: e2.data.id,
                  payload: animation,
                  status: "success"
                });
              } else if (e2.data.type === "loadData") {
                _workerSelf.assetLoader.load(e2.data.path, e2.data.fullPath, function(data2) {
                  _workerSelf.postMessage({
                    id: e2.data.id,
                    payload: data2,
                    status: "success"
                  });
                }, function() {
                  _workerSelf.postMessage({
                    id: e2.data.id,
                    status: "error"
                  });
                });
              }
            });
            workerInstance.onmessage = function(event) {
              var data2 = event.data;
              var id = data2.id;
              var process2 = processes[id];
              processes[id] = null;
              if (data2.status === "success") {
                process2.onComplete(data2.payload);
              } else if (process2.onError) {
                process2.onError();
              }
            };
          }
        }
        function createProcess(onComplete, onError) {
          _counterId += 1;
          var id = "processId_" + _counterId;
          processes[id] = {
            onComplete,
            onError
          };
          return id;
        }
        function loadAnimation2(path, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "loadAnimation",
            path,
            fullPath: window.location.origin + window.location.pathname,
            id: processId
          });
        }
        function loadData(path, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "loadData",
            path,
            fullPath: window.location.origin + window.location.pathname,
            id: processId
          });
        }
        function completeAnimation(anim, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "complete",
            animation: anim,
            id: processId
          });
        }
        return {
          loadAnimation: loadAnimation2,
          loadData,
          completeAnimation
        };
      }();
      var ImagePreloader = function() {
        var proxyImage = function() {
          var canvas = createTag("canvas");
          canvas.width = 1;
          canvas.height = 1;
          var ctx = canvas.getContext("2d");
          ctx.fillStyle = "rgba(0,0,0,0)";
          ctx.fillRect(0, 0, 1, 1);
          return canvas;
        }();
        function imageLoaded() {
          this.loadedAssets += 1;
          if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {
            if (this.imagesLoadedCb) {
              this.imagesLoadedCb(null);
            }
          }
        }
        function footageLoaded() {
          this.loadedFootagesCount += 1;
          if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {
            if (this.imagesLoadedCb) {
              this.imagesLoadedCb(null);
            }
          }
        }
        function getAssetsPath(assetData, assetsPath, originalPath) {
          var path = "";
          if (assetData.e) {
            path = assetData.p;
          } else if (assetsPath) {
            var imagePath = assetData.p;
            if (imagePath.indexOf("images/") !== -1) {
              imagePath = imagePath.split("/")[1];
            }
            path = assetsPath + imagePath;
          } else {
            path = originalPath;
            path += assetData.u ? assetData.u : "";
            path += assetData.p;
          }
          return path;
        }
        function testImageLoaded(img) {
          var _count = 0;
          var intervalId = setInterval(function() {
            var box = img.getBBox();
            if (box.width || _count > 500) {
              this._imageLoaded();
              clearInterval(intervalId);
            }
            _count += 1;
          }.bind(this), 50);
        }
        function createImageData(assetData) {
          var path = getAssetsPath(assetData, this.assetsPath, this.path);
          var img = createNS("image");
          if (isSafari) {
            this.testImageLoaded(img);
          } else {
            img.addEventListener("load", this._imageLoaded, false);
          }
          img.addEventListener("error", function() {
            ob2.img = proxyImage;
            this._imageLoaded();
          }.bind(this), false);
          img.setAttributeNS("http://www.w3.org/1999/xlink", "href", path);
          if (this._elementHelper.append) {
            this._elementHelper.append(img);
          } else {
            this._elementHelper.appendChild(img);
          }
          var ob2 = {
            img,
            assetData
          };
          return ob2;
        }
        function createImgData(assetData) {
          var path = getAssetsPath(assetData, this.assetsPath, this.path);
          var img = createTag("img");
          img.crossOrigin = "anonymous";
          img.addEventListener("load", this._imageLoaded, false);
          img.addEventListener("error", function() {
            ob2.img = proxyImage;
            this._imageLoaded();
          }.bind(this), false);
          img.src = path;
          var ob2 = {
            img,
            assetData
          };
          return ob2;
        }
        function createFootageData(data2) {
          var ob2 = {
            assetData: data2
          };
          var path = getAssetsPath(data2, this.assetsPath, this.path);
          dataManager.loadData(path, function(footageData) {
            ob2.img = footageData;
            this._footageLoaded();
          }.bind(this), function() {
            ob2.img = {};
            this._footageLoaded();
          }.bind(this));
          return ob2;
        }
        function loadAssets(assets, cb) {
          this.imagesLoadedCb = cb;
          var i3;
          var len = assets.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (!assets[i3].layers) {
              if (!assets[i3].t || assets[i3].t === "seq") {
                this.totalImages += 1;
                this.images.push(this._createImageData(assets[i3]));
              } else if (assets[i3].t === 3) {
                this.totalFootages += 1;
                this.images.push(this.createFootageData(assets[i3]));
              }
            }
          }
        }
        function setPath(path) {
          this.path = path || "";
        }
        function setAssetsPath(path) {
          this.assetsPath = path || "";
        }
        function getAsset(assetData) {
          var i3 = 0;
          var len = this.images.length;
          while (i3 < len) {
            if (this.images[i3].assetData === assetData) {
              return this.images[i3].img;
            }
            i3 += 1;
          }
          return null;
        }
        function destroy() {
          this.imagesLoadedCb = null;
          this.images.length = 0;
        }
        function loadedImages() {
          return this.totalImages === this.loadedAssets;
        }
        function loadedFootages() {
          return this.totalFootages === this.loadedFootagesCount;
        }
        function setCacheType(type, elementHelper) {
          if (type === "svg") {
            this._elementHelper = elementHelper;
            this._createImageData = this.createImageData.bind(this);
          } else {
            this._createImageData = this.createImgData.bind(this);
          }
        }
        function ImagePreloaderFactory() {
          this._imageLoaded = imageLoaded.bind(this);
          this._footageLoaded = footageLoaded.bind(this);
          this.testImageLoaded = testImageLoaded.bind(this);
          this.createFootageData = createFootageData.bind(this);
          this.assetsPath = "";
          this.path = "";
          this.totalImages = 0;
          this.totalFootages = 0;
          this.loadedAssets = 0;
          this.loadedFootagesCount = 0;
          this.imagesLoadedCb = null;
          this.images = [];
        }
        ImagePreloaderFactory.prototype = {
          loadAssets,
          setAssetsPath,
          setPath,
          loadedImages,
          loadedFootages,
          destroy,
          getAsset,
          createImgData,
          createImageData,
          imageLoaded,
          footageLoaded,
          setCacheType
        };
        return ImagePreloaderFactory;
      }();
      function BaseEvent() {
      }
      BaseEvent.prototype = {
        triggerEvent: function triggerEvent(eventName, args) {
          if (this._cbs[eventName]) {
            var callbacks = this._cbs[eventName];
            for (var i3 = 0; i3 < callbacks.length; i3 += 1) {
              callbacks[i3](args);
            }
          }
        },
        addEventListener: function addEventListener(eventName, callback) {
          if (!this._cbs[eventName]) {
            this._cbs[eventName] = [];
          }
          this._cbs[eventName].push(callback);
          return function() {
            this.removeEventListener(eventName, callback);
          }.bind(this);
        },
        removeEventListener: function removeEventListener(eventName, callback) {
          if (!callback) {
            this._cbs[eventName] = null;
          } else if (this._cbs[eventName]) {
            var i3 = 0;
            var len = this._cbs[eventName].length;
            while (i3 < len) {
              if (this._cbs[eventName][i3] === callback) {
                this._cbs[eventName].splice(i3, 1);
                i3 -= 1;
                len -= 1;
              }
              i3 += 1;
            }
            if (!this._cbs[eventName].length) {
              this._cbs[eventName] = null;
            }
          }
        }
      };
      var markerParser = function() {
        function parsePayloadLines(payload) {
          var lines = payload.split("\r\n");
          var keys2 = {};
          var line;
          var keysCount = 0;
          for (var i3 = 0; i3 < lines.length; i3 += 1) {
            line = lines[i3].split(":");
            if (line.length === 2) {
              keys2[line[0]] = line[1].trim();
              keysCount += 1;
            }
          }
          if (keysCount === 0) {
            throw new Error();
          }
          return keys2;
        }
        return function(_markers) {
          var markers = [];
          for (var i3 = 0; i3 < _markers.length; i3 += 1) {
            var _marker = _markers[i3];
            var markerData = {
              time: _marker.tm,
              duration: _marker.dr
            };
            try {
              markerData.payload = JSON.parse(_markers[i3].cm);
            } catch (_4) {
              try {
                markerData.payload = parsePayloadLines(_markers[i3].cm);
              } catch (__) {
                markerData.payload = {
                  name: _markers[i3].cm
                };
              }
            }
            markers.push(markerData);
          }
          return markers;
        };
      }();
      var ProjectInterface = function() {
        function registerComposition(comp2) {
          this.compositions.push(comp2);
        }
        return function() {
          function _thisProjectFunction(name3) {
            var i3 = 0;
            var len = this.compositions.length;
            while (i3 < len) {
              if (this.compositions[i3].data && this.compositions[i3].data.nm === name3) {
                if (this.compositions[i3].prepareFrame && this.compositions[i3].data.xt) {
                  this.compositions[i3].prepareFrame(this.currentFrame);
                }
                return this.compositions[i3].compInterface;
              }
              i3 += 1;
            }
            return null;
          }
          _thisProjectFunction.compositions = [];
          _thisProjectFunction.currentFrame = 0;
          _thisProjectFunction.registerComposition = registerComposition;
          return _thisProjectFunction;
        };
      }();
      var renderers = {};
      var registerRenderer = function registerRenderer2(key2, value2) {
        renderers[key2] = value2;
      };
      function getRenderer(key2) {
        return renderers[key2];
      }
      function getRegisteredRenderer() {
        if (renderers.canvas) {
          return "canvas";
        }
        for (var key2 in renderers) {
          if (renderers[key2]) {
            return key2;
          }
        }
        return "";
      }
      function _typeof$4(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$4 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$4 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$4(obj);
      }
      var AnimationItem = function AnimationItem2() {
        this._cbs = [];
        this.name = "";
        this.path = "";
        this.isLoaded = false;
        this.currentFrame = 0;
        this.currentRawFrame = 0;
        this.firstFrame = 0;
        this.totalFrames = 0;
        this.frameRate = 0;
        this.frameMult = 0;
        this.playSpeed = 1;
        this.playDirection = 1;
        this.playCount = 0;
        this.animationData = {};
        this.assets = [];
        this.isPaused = true;
        this.autoplay = false;
        this.loop = true;
        this.renderer = null;
        this.animationID = createElementID();
        this.assetsPath = "";
        this.timeCompleted = 0;
        this.segmentPos = 0;
        this.isSubframeEnabled = getSubframeEnabled();
        this.segments = [];
        this._idle = true;
        this._completedLoop = false;
        this.projectInterface = ProjectInterface();
        this.imagePreloader = new ImagePreloader();
        this.audioController = audioControllerFactory();
        this.markers = [];
        this.configAnimation = this.configAnimation.bind(this);
        this.onSetupError = this.onSetupError.bind(this);
        this.onSegmentComplete = this.onSegmentComplete.bind(this);
        this.drawnFrameEvent = new BMEnterFrameEvent("drawnFrame", 0, 0, 0);
        this.expressionsPlugin = getExpressionsPlugin();
      };
      extendPrototype([BaseEvent], AnimationItem);
      AnimationItem.prototype.setParams = function(params) {
        if (params.wrapper || params.container) {
          this.wrapper = params.wrapper || params.container;
        }
        var animType = "svg";
        if (params.animType) {
          animType = params.animType;
        } else if (params.renderer) {
          animType = params.renderer;
        }
        var RendererClass = getRenderer(animType);
        this.renderer = new RendererClass(this, params.rendererSettings);
        this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);
        this.renderer.setProjectInterface(this.projectInterface);
        this.animType = animType;
        if (params.loop === "" || params.loop === null || params.loop === void 0 || params.loop === true) {
          this.loop = true;
        } else if (params.loop === false) {
          this.loop = false;
        } else {
          this.loop = parseInt(params.loop, 10);
        }
        this.autoplay = "autoplay" in params ? params.autoplay : true;
        this.name = params.name ? params.name : "";
        this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, "autoloadSegments") ? params.autoloadSegments : true;
        this.assetsPath = params.assetsPath;
        this.initialSegment = params.initialSegment;
        if (params.audioFactory) {
          this.audioController.setAudioFactory(params.audioFactory);
        }
        if (params.animationData) {
          this.setupAnimation(params.animationData);
        } else if (params.path) {
          if (params.path.lastIndexOf("\\") !== -1) {
            this.path = params.path.substr(0, params.path.lastIndexOf("\\") + 1);
          } else {
            this.path = params.path.substr(0, params.path.lastIndexOf("/") + 1);
          }
          this.fileName = params.path.substr(params.path.lastIndexOf("/") + 1);
          this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json"));
          dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);
        }
      };
      AnimationItem.prototype.onSetupError = function() {
        this.trigger("data_failed");
      };
      AnimationItem.prototype.setupAnimation = function(data2) {
        dataManager.completeAnimation(data2, this.configAnimation);
      };
      AnimationItem.prototype.setData = function(wrapper, animationData2) {
        if (animationData2) {
          if (_typeof$4(animationData2) !== "object") {
            animationData2 = JSON.parse(animationData2);
          }
        }
        var params = {
          wrapper,
          animationData: animationData2
        };
        var wrapperAttributes = wrapper.attributes;
        params.path = wrapperAttributes.getNamedItem("data-animation-path") ? wrapperAttributes.getNamedItem("data-animation-path").value : wrapperAttributes.getNamedItem("data-bm-path") ? wrapperAttributes.getNamedItem("data-bm-path").value : wrapperAttributes.getNamedItem("bm-path") ? wrapperAttributes.getNamedItem("bm-path").value : "";
        params.animType = wrapperAttributes.getNamedItem("data-anim-type") ? wrapperAttributes.getNamedItem("data-anim-type").value : wrapperAttributes.getNamedItem("data-bm-type") ? wrapperAttributes.getNamedItem("data-bm-type").value : wrapperAttributes.getNamedItem("bm-type") ? wrapperAttributes.getNamedItem("bm-type").value : wrapperAttributes.getNamedItem("data-bm-renderer") ? wrapperAttributes.getNamedItem("data-bm-renderer").value : wrapperAttributes.getNamedItem("bm-renderer") ? wrapperAttributes.getNamedItem("bm-renderer").value : getRegisteredRenderer() || "canvas";
        var loop = wrapperAttributes.getNamedItem("data-anim-loop") ? wrapperAttributes.getNamedItem("data-anim-loop").value : wrapperAttributes.getNamedItem("data-bm-loop") ? wrapperAttributes.getNamedItem("data-bm-loop").value : wrapperAttributes.getNamedItem("bm-loop") ? wrapperAttributes.getNamedItem("bm-loop").value : "";
        if (loop === "false") {
          params.loop = false;
        } else if (loop === "true") {
          params.loop = true;
        } else if (loop !== "") {
          params.loop = parseInt(loop, 10);
        }
        var autoplay = wrapperAttributes.getNamedItem("data-anim-autoplay") ? wrapperAttributes.getNamedItem("data-anim-autoplay").value : wrapperAttributes.getNamedItem("data-bm-autoplay") ? wrapperAttributes.getNamedItem("data-bm-autoplay").value : wrapperAttributes.getNamedItem("bm-autoplay") ? wrapperAttributes.getNamedItem("bm-autoplay").value : true;
        params.autoplay = autoplay !== "false";
        params.name = wrapperAttributes.getNamedItem("data-name") ? wrapperAttributes.getNamedItem("data-name").value : wrapperAttributes.getNamedItem("data-bm-name") ? wrapperAttributes.getNamedItem("data-bm-name").value : wrapperAttributes.getNamedItem("bm-name") ? wrapperAttributes.getNamedItem("bm-name").value : "";
        var prerender = wrapperAttributes.getNamedItem("data-anim-prerender") ? wrapperAttributes.getNamedItem("data-anim-prerender").value : wrapperAttributes.getNamedItem("data-bm-prerender") ? wrapperAttributes.getNamedItem("data-bm-prerender").value : wrapperAttributes.getNamedItem("bm-prerender") ? wrapperAttributes.getNamedItem("bm-prerender").value : "";
        if (prerender === "false") {
          params.prerender = false;
        }
        if (!params.path) {
          this.trigger("destroy");
        } else {
          this.setParams(params);
        }
      };
      AnimationItem.prototype.includeLayers = function(data2) {
        if (data2.op > this.animationData.op) {
          this.animationData.op = data2.op;
          this.totalFrames = Math.floor(data2.op - this.animationData.ip);
        }
        var layers = this.animationData.layers;
        var i3;
        var len = layers.length;
        var newLayers = data2.layers;
        var j4;
        var jLen = newLayers.length;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          i3 = 0;
          while (i3 < len) {
            if (layers[i3].id === newLayers[j4].id) {
              layers[i3] = newLayers[j4];
              break;
            }
            i3 += 1;
          }
        }
        if (data2.chars || data2.fonts) {
          this.renderer.globalData.fontManager.addChars(data2.chars);
          this.renderer.globalData.fontManager.addFonts(data2.fonts, this.renderer.globalData.defs);
        }
        if (data2.assets) {
          len = data2.assets.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.animationData.assets.push(data2.assets[i3]);
          }
        }
        this.animationData.__complete = false;
        dataManager.completeAnimation(this.animationData, this.onSegmentComplete);
      };
      AnimationItem.prototype.onSegmentComplete = function(data2) {
        this.animationData = data2;
        var expressionsPlugin2 = getExpressionsPlugin();
        if (expressionsPlugin2) {
          expressionsPlugin2.initExpressions(this);
        }
        this.loadNextSegment();
      };
      AnimationItem.prototype.loadNextSegment = function() {
        var segments = this.animationData.segments;
        if (!segments || segments.length === 0 || !this.autoloadSegments) {
          this.trigger("data_ready");
          this.timeCompleted = this.totalFrames;
          return;
        }
        var segment = segments.shift();
        this.timeCompleted = segment.time * this.frameRate;
        var segmentPath = this.path + this.fileName + "_" + this.segmentPos + ".json";
        this.segmentPos += 1;
        dataManager.loadData(segmentPath, this.includeLayers.bind(this), function() {
          this.trigger("data_failed");
        }.bind(this));
      };
      AnimationItem.prototype.loadSegments = function() {
        var segments = this.animationData.segments;
        if (!segments) {
          this.timeCompleted = this.totalFrames;
        }
        this.loadNextSegment();
      };
      AnimationItem.prototype.imagesLoaded = function() {
        this.trigger("loaded_images");
        this.checkLoaded();
      };
      AnimationItem.prototype.preloadImages = function() {
        this.imagePreloader.setAssetsPath(this.assetsPath);
        this.imagePreloader.setPath(this.path);
        this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));
      };
      AnimationItem.prototype.configAnimation = function(animData) {
        if (!this.renderer) {
          return;
        }
        try {
          this.animationData = animData;
          if (this.initialSegment) {
            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);
            this.firstFrame = Math.round(this.initialSegment[0]);
          } else {
            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);
            this.firstFrame = Math.round(this.animationData.ip);
          }
          this.renderer.configAnimation(animData);
          if (!animData.assets) {
            animData.assets = [];
          }
          this.assets = this.animationData.assets;
          this.frameRate = this.animationData.fr;
          this.frameMult = this.animationData.fr / 1e3;
          this.renderer.searchExtraCompositions(animData.assets);
          this.markers = markerParser(animData.markers || []);
          this.trigger("config_ready");
          this.preloadImages();
          this.loadSegments();
          this.updaFrameModifier();
          this.waitForFontsLoaded();
          if (this.isPaused) {
            this.audioController.pause();
          }
        } catch (error) {
          this.triggerConfigError(error);
        }
      };
      AnimationItem.prototype.waitForFontsLoaded = function() {
        if (!this.renderer) {
          return;
        }
        if (this.renderer.globalData.fontManager.isLoaded) {
          this.checkLoaded();
        } else {
          setTimeout(this.waitForFontsLoaded.bind(this), 20);
        }
      };
      AnimationItem.prototype.checkLoaded = function() {
        if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== "canvas") && this.imagePreloader.loadedFootages()) {
          this.isLoaded = true;
          var expressionsPlugin2 = getExpressionsPlugin();
          if (expressionsPlugin2) {
            expressionsPlugin2.initExpressions(this);
          }
          this.renderer.initItems();
          setTimeout(function() {
            this.trigger("DOMLoaded");
          }.bind(this), 0);
          this.gotoFrame();
          if (this.autoplay) {
            this.play();
          }
        }
      };
      AnimationItem.prototype.resize = function(width2, height2) {
        var _width = typeof width2 === "number" ? width2 : void 0;
        var _height = typeof height2 === "number" ? height2 : void 0;
        this.renderer.updateContainerSize(_width, _height);
      };
      AnimationItem.prototype.setSubframe = function(flag) {
        this.isSubframeEnabled = !!flag;
      };
      AnimationItem.prototype.gotoFrame = function() {
        this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;
        if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {
          this.currentFrame = this.timeCompleted;
        }
        this.trigger("enterFrame");
        this.renderFrame();
        this.trigger("drawnFrame");
      };
      AnimationItem.prototype.renderFrame = function() {
        if (this.isLoaded === false || !this.renderer) {
          return;
        }
        try {
          if (this.expressionsPlugin) {
            this.expressionsPlugin.resetFrame();
          }
          this.renderer.renderFrame(this.currentFrame + this.firstFrame);
        } catch (error) {
          this.triggerRenderFrameError(error);
        }
      };
      AnimationItem.prototype.play = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === true) {
          this.isPaused = false;
          this.trigger("_play");
          this.audioController.resume();
          if (this._idle) {
            this._idle = false;
            this.trigger("_active");
          }
        }
      };
      AnimationItem.prototype.pause = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === false) {
          this.isPaused = true;
          this.trigger("_pause");
          this._idle = true;
          this.trigger("_idle");
          this.audioController.pause();
        }
      };
      AnimationItem.prototype.togglePause = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === true) {
          this.play();
        } else {
          this.pause();
        }
      };
      AnimationItem.prototype.stop = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.pause();
        this.playCount = 0;
        this._completedLoop = false;
        this.setCurrentRawFrameValue(0);
      };
      AnimationItem.prototype.getMarkerData = function(markerName) {
        var marker;
        for (var i3 = 0; i3 < this.markers.length; i3 += 1) {
          marker = this.markers[i3];
          if (marker.payload && marker.payload.name === markerName) {
            return marker;
          }
        }
        return null;
      };
      AnimationItem.prototype.goToAndStop = function(value2, isFrame, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        var numValue = Number(value2);
        if (isNaN(numValue)) {
          var marker = this.getMarkerData(value2);
          if (marker) {
            this.goToAndStop(marker.time, true);
          }
        } else if (isFrame) {
          this.setCurrentRawFrameValue(value2);
        } else {
          this.setCurrentRawFrameValue(value2 * this.frameModifier);
        }
        this.pause();
      };
      AnimationItem.prototype.goToAndPlay = function(value2, isFrame, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        var numValue = Number(value2);
        if (isNaN(numValue)) {
          var marker = this.getMarkerData(value2);
          if (marker) {
            if (!marker.duration) {
              this.goToAndStop(marker.time, true);
            } else {
              this.playSegments([marker.time, marker.time + marker.duration], true);
            }
          }
        } else {
          this.goToAndStop(numValue, isFrame, name3);
        }
        this.play();
      };
      AnimationItem.prototype.advanceTime = function(value2) {
        if (this.isPaused === true || this.isLoaded === false) {
          return;
        }
        var nextValue = this.currentRawFrame + value2 * this.frameModifier;
        var _isComplete = false;
        if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {
          if (!this.loop || this.playCount === this.loop) {
            if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {
              _isComplete = true;
              nextValue = this.totalFrames - 1;
            }
          } else if (nextValue >= this.totalFrames) {
            this.playCount += 1;
            if (!this.checkSegments(nextValue % this.totalFrames)) {
              this.setCurrentRawFrameValue(nextValue % this.totalFrames);
              this._completedLoop = true;
              this.trigger("loopComplete");
            }
          } else {
            this.setCurrentRawFrameValue(nextValue);
          }
        } else if (nextValue < 0) {
          if (!this.checkSegments(nextValue % this.totalFrames)) {
            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {
              this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);
              if (!this._completedLoop) {
                this._completedLoop = true;
              } else {
                this.trigger("loopComplete");
              }
            } else {
              _isComplete = true;
              nextValue = 0;
            }
          }
        } else {
          this.setCurrentRawFrameValue(nextValue);
        }
        if (_isComplete) {
          this.setCurrentRawFrameValue(nextValue);
          this.pause();
          this.trigger("complete");
        }
      };
      AnimationItem.prototype.adjustSegment = function(arr, offset) {
        this.playCount = 0;
        if (arr[1] < arr[0]) {
          if (this.frameModifier > 0) {
            if (this.playSpeed < 0) {
              this.setSpeed(-this.playSpeed);
            } else {
              this.setDirection(-1);
            }
          }
          this.totalFrames = arr[0] - arr[1];
          this.timeCompleted = this.totalFrames;
          this.firstFrame = arr[1];
          this.setCurrentRawFrameValue(this.totalFrames - 1e-3 - offset);
        } else if (arr[1] > arr[0]) {
          if (this.frameModifier < 0) {
            if (this.playSpeed < 0) {
              this.setSpeed(-this.playSpeed);
            } else {
              this.setDirection(1);
            }
          }
          this.totalFrames = arr[1] - arr[0];
          this.timeCompleted = this.totalFrames;
          this.firstFrame = arr[0];
          this.setCurrentRawFrameValue(1e-3 + offset);
        }
        this.trigger("segmentStart");
      };
      AnimationItem.prototype.setSegment = function(init2, end) {
        var pendingFrame = -1;
        if (this.isPaused) {
          if (this.currentRawFrame + this.firstFrame < init2) {
            pendingFrame = init2;
          } else if (this.currentRawFrame + this.firstFrame > end) {
            pendingFrame = end - init2;
          }
        }
        this.firstFrame = init2;
        this.totalFrames = end - init2;
        this.timeCompleted = this.totalFrames;
        if (pendingFrame !== -1) {
          this.goToAndStop(pendingFrame, true);
        }
      };
      AnimationItem.prototype.playSegments = function(arr, forceFlag) {
        if (forceFlag) {
          this.segments.length = 0;
        }
        if (_typeof$4(arr[0]) === "object") {
          var i3;
          var len = arr.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.segments.push(arr[i3]);
          }
        } else {
          this.segments.push(arr);
        }
        if (this.segments.length && forceFlag) {
          this.adjustSegment(this.segments.shift(), 0);
        }
        if (this.isPaused) {
          this.play();
        }
      };
      AnimationItem.prototype.resetSegments = function(forceFlag) {
        this.segments.length = 0;
        this.segments.push([this.animationData.ip, this.animationData.op]);
        if (forceFlag) {
          this.checkSegments(0);
        }
      };
      AnimationItem.prototype.checkSegments = function(offset) {
        if (this.segments.length) {
          this.adjustSegment(this.segments.shift(), offset);
          return true;
        }
        return false;
      };
      AnimationItem.prototype.destroy = function(name3) {
        if (name3 && this.name !== name3 || !this.renderer) {
          return;
        }
        this.renderer.destroy();
        this.imagePreloader.destroy();
        this.trigger("destroy");
        this._cbs = null;
        this.onEnterFrame = null;
        this.onLoopComplete = null;
        this.onComplete = null;
        this.onSegmentStart = null;
        this.onDestroy = null;
        this.renderer = null;
        this.expressionsPlugin = null;
        this.imagePreloader = null;
        this.projectInterface = null;
      };
      AnimationItem.prototype.setCurrentRawFrameValue = function(value2) {
        this.currentRawFrame = value2;
        this.gotoFrame();
      };
      AnimationItem.prototype.setSpeed = function(val2) {
        this.playSpeed = val2;
        this.updaFrameModifier();
      };
      AnimationItem.prototype.setDirection = function(val2) {
        this.playDirection = val2 < 0 ? -1 : 1;
        this.updaFrameModifier();
      };
      AnimationItem.prototype.setLoop = function(isLooping) {
        this.loop = isLooping;
      };
      AnimationItem.prototype.setVolume = function(val2, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.setVolume(val2);
      };
      AnimationItem.prototype.getVolume = function() {
        return this.audioController.getVolume();
      };
      AnimationItem.prototype.mute = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.mute();
      };
      AnimationItem.prototype.unmute = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.unmute();
      };
      AnimationItem.prototype.updaFrameModifier = function() {
        this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;
        this.audioController.setRate(this.playSpeed * this.playDirection);
      };
      AnimationItem.prototype.getPath = function() {
        return this.path;
      };
      AnimationItem.prototype.getAssetsPath = function(assetData) {
        var path = "";
        if (assetData.e) {
          path = assetData.p;
        } else if (this.assetsPath) {
          var imagePath = assetData.p;
          if (imagePath.indexOf("images/") !== -1) {
            imagePath = imagePath.split("/")[1];
          }
          path = this.assetsPath + imagePath;
        } else {
          path = this.path;
          path += assetData.u ? assetData.u : "";
          path += assetData.p;
        }
        return path;
      };
      AnimationItem.prototype.getAssetData = function(id) {
        var i3 = 0;
        var len = this.assets.length;
        while (i3 < len) {
          if (id === this.assets[i3].id) {
            return this.assets[i3];
          }
          i3 += 1;
        }
        return null;
      };
      AnimationItem.prototype.hide = function() {
        this.renderer.hide();
      };
      AnimationItem.prototype.show = function() {
        this.renderer.show();
      };
      AnimationItem.prototype.getDuration = function(isFrame) {
        return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;
      };
      AnimationItem.prototype.updateDocumentData = function(path, documentData, index2) {
        try {
          var element = this.renderer.getElementByPath(path);
          element.updateDocumentData(documentData, index2);
        } catch (error) {
        }
      };
      AnimationItem.prototype.trigger = function(name3) {
        if (this._cbs && this._cbs[name3]) {
          switch (name3) {
            case "enterFrame":
              this.triggerEvent(name3, new BMEnterFrameEvent(name3, this.currentFrame, this.totalFrames, this.frameModifier));
              break;
            case "drawnFrame":
              this.drawnFrameEvent.currentTime = this.currentFrame;
              this.drawnFrameEvent.totalTime = this.totalFrames;
              this.drawnFrameEvent.direction = this.frameModifier;
              this.triggerEvent(name3, this.drawnFrameEvent);
              break;
            case "loopComplete":
              this.triggerEvent(name3, new BMCompleteLoopEvent(name3, this.loop, this.playCount, this.frameMult));
              break;
            case "complete":
              this.triggerEvent(name3, new BMCompleteEvent(name3, this.frameMult));
              break;
            case "segmentStart":
              this.triggerEvent(name3, new BMSegmentStartEvent(name3, this.firstFrame, this.totalFrames));
              break;
            case "destroy":
              this.triggerEvent(name3, new BMDestroyEvent(name3, this));
              break;
            default:
              this.triggerEvent(name3);
          }
        }
        if (name3 === "enterFrame" && this.onEnterFrame) {
          this.onEnterFrame.call(this, new BMEnterFrameEvent(name3, this.currentFrame, this.totalFrames, this.frameMult));
        }
        if (name3 === "loopComplete" && this.onLoopComplete) {
          this.onLoopComplete.call(this, new BMCompleteLoopEvent(name3, this.loop, this.playCount, this.frameMult));
        }
        if (name3 === "complete" && this.onComplete) {
          this.onComplete.call(this, new BMCompleteEvent(name3, this.frameMult));
        }
        if (name3 === "segmentStart" && this.onSegmentStart) {
          this.onSegmentStart.call(this, new BMSegmentStartEvent(name3, this.firstFrame, this.totalFrames));
        }
        if (name3 === "destroy" && this.onDestroy) {
          this.onDestroy.call(this, new BMDestroyEvent(name3, this));
        }
      };
      AnimationItem.prototype.triggerRenderFrameError = function(nativeError) {
        var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);
        this.triggerEvent("error", error);
        if (this.onError) {
          this.onError.call(this, error);
        }
      };
      AnimationItem.prototype.triggerConfigError = function(nativeError) {
        var error = new BMConfigErrorEvent(nativeError, this.currentFrame);
        this.triggerEvent("error", error);
        if (this.onError) {
          this.onError.call(this, error);
        }
      };
      var animationManager = function() {
        var moduleOb = {};
        var registeredAnimations = [];
        var initTime = 0;
        var len = 0;
        var playingAnimationsNum = 0;
        var _stopped = true;
        var _isFrozen = false;
        function removeElement(ev) {
          var i3 = 0;
          var animItem = ev.target;
          while (i3 < len) {
            if (registeredAnimations[i3].animation === animItem) {
              registeredAnimations.splice(i3, 1);
              i3 -= 1;
              len -= 1;
              if (!animItem.isPaused) {
                subtractPlayingCount();
              }
            }
            i3 += 1;
          }
        }
        function registerAnimation(element, animationData2) {
          if (!element) {
            return null;
          }
          var i3 = 0;
          while (i3 < len) {
            if (registeredAnimations[i3].elem === element && registeredAnimations[i3].elem !== null) {
              return registeredAnimations[i3].animation;
            }
            i3 += 1;
          }
          var animItem = new AnimationItem();
          setupAnimation(animItem, element);
          animItem.setData(element, animationData2);
          return animItem;
        }
        function getRegisteredAnimations() {
          var i3;
          var lenAnims = registeredAnimations.length;
          var animations = [];
          for (i3 = 0; i3 < lenAnims; i3 += 1) {
            animations.push(registeredAnimations[i3].animation);
          }
          return animations;
        }
        function addPlayingCount() {
          playingAnimationsNum += 1;
          activate();
        }
        function subtractPlayingCount() {
          playingAnimationsNum -= 1;
        }
        function setupAnimation(animItem, element) {
          animItem.addEventListener("destroy", removeElement);
          animItem.addEventListener("_active", addPlayingCount);
          animItem.addEventListener("_idle", subtractPlayingCount);
          registeredAnimations.push({
            elem: element,
            animation: animItem
          });
          len += 1;
        }
        function loadAnimation2(params) {
          var animItem = new AnimationItem();
          setupAnimation(animItem, null);
          animItem.setParams(params);
          return animItem;
        }
        function setSpeed(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setSpeed(val2, animation);
          }
        }
        function setDirection(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setDirection(val2, animation);
          }
        }
        function play(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.play(animation);
          }
        }
        function resume(nowTime) {
          var elapsedTime = nowTime - initTime;
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.advanceTime(elapsedTime);
          }
          initTime = nowTime;
          if (playingAnimationsNum && !_isFrozen) {
            window.requestAnimationFrame(resume);
          } else {
            _stopped = true;
          }
        }
        function first(nowTime) {
          initTime = nowTime;
          window.requestAnimationFrame(resume);
        }
        function pause(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.pause(animation);
          }
        }
        function goToAndStop(value2, isFrame, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.goToAndStop(value2, isFrame, animation);
          }
        }
        function stop(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.stop(animation);
          }
        }
        function togglePause(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.togglePause(animation);
          }
        }
        function destroy(animation) {
          var i3;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            registeredAnimations[i3].animation.destroy(animation);
          }
        }
        function searchAnimations2(animationData2, standalone2, renderer2) {
          var animElements = [].concat([].slice.call(document.getElementsByClassName("lottie")), [].slice.call(document.getElementsByClassName("bodymovin")));
          var i3;
          var lenAnims = animElements.length;
          for (i3 = 0; i3 < lenAnims; i3 += 1) {
            if (renderer2) {
              animElements[i3].setAttribute("data-bm-type", renderer2);
            }
            registerAnimation(animElements[i3], animationData2);
          }
          if (standalone2 && lenAnims === 0) {
            if (!renderer2) {
              renderer2 = "svg";
            }
            var body = document.getElementsByTagName("body")[0];
            body.innerText = "";
            var div2 = createTag("div");
            div2.style.width = "100%";
            div2.style.height = "100%";
            div2.setAttribute("data-bm-type", renderer2);
            body.appendChild(div2);
            registerAnimation(div2, animationData2);
          }
        }
        function resize() {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.resize();
          }
        }
        function activate() {
          if (!_isFrozen && playingAnimationsNum) {
            if (_stopped) {
              window.requestAnimationFrame(first);
              _stopped = false;
            }
          }
        }
        function freeze() {
          _isFrozen = true;
        }
        function unfreeze() {
          _isFrozen = false;
          activate();
        }
        function setVolume(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setVolume(val2, animation);
          }
        }
        function mute(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.mute(animation);
          }
        }
        function unmute(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.unmute(animation);
          }
        }
        moduleOb.registerAnimation = registerAnimation;
        moduleOb.loadAnimation = loadAnimation2;
        moduleOb.setSpeed = setSpeed;
        moduleOb.setDirection = setDirection;
        moduleOb.play = play;
        moduleOb.pause = pause;
        moduleOb.stop = stop;
        moduleOb.togglePause = togglePause;
        moduleOb.searchAnimations = searchAnimations2;
        moduleOb.resize = resize;
        moduleOb.goToAndStop = goToAndStop;
        moduleOb.destroy = destroy;
        moduleOb.freeze = freeze;
        moduleOb.unfreeze = unfreeze;
        moduleOb.setVolume = setVolume;
        moduleOb.mute = mute;
        moduleOb.unmute = unmute;
        moduleOb.getRegisteredAnimations = getRegisteredAnimations;
        return moduleOb;
      }();
      var BezierFactory = function() {
        var ob2 = {};
        ob2.getBezierEasing = getBezierEasing;
        var beziers = {};
        function getBezierEasing(a4, b3, c3, d3, nm) {
          var str = nm || ("bez_" + a4 + "_" + b3 + "_" + c3 + "_" + d3).replace(/\./g, "p");
          if (beziers[str]) {
            return beziers[str];
          }
          var bezEasing = new BezierEasing([a4, b3, c3, d3]);
          beziers[str] = bezEasing;
          return bezEasing;
        }
        var NEWTON_ITERATIONS = 4;
        var NEWTON_MIN_SLOPE = 1e-3;
        var SUBDIVISION_PRECISION = 1e-7;
        var SUBDIVISION_MAX_ITERATIONS = 10;
        var kSplineTableSize = 11;
        var kSampleStepSize = 1 / (kSplineTableSize - 1);
        var float32ArraySupported = typeof Float32Array === "function";
        function A3(aA1, aA2) {
          return 1 - 3 * aA2 + 3 * aA1;
        }
        function B3(aA1, aA2) {
          return 3 * aA2 - 6 * aA1;
        }
        function C3(aA1) {
          return 3 * aA1;
        }
        function calcBezier(aT, aA1, aA2) {
          return ((A3(aA1, aA2) * aT + B3(aA1, aA2)) * aT + C3(aA1)) * aT;
        }
        function getSlope(aT, aA1, aA2) {
          return 3 * A3(aA1, aA2) * aT * aT + 2 * B3(aA1, aA2) * aT + C3(aA1);
        }
        function binarySubdivide(aX, aA, aB, mX1, mX2) {
          var currentX, currentT, i3 = 0;
          do {
            currentT = aA + (aB - aA) / 2;
            currentX = calcBezier(currentT, mX1, mX2) - aX;
            if (currentX > 0) {
              aB = currentT;
            } else {
              aA = currentT;
            }
          } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i3 < SUBDIVISION_MAX_ITERATIONS);
          return currentT;
        }
        function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
          for (var i3 = 0; i3 < NEWTON_ITERATIONS; ++i3) {
            var currentSlope = getSlope(aGuessT, mX1, mX2);
            if (currentSlope === 0)
              return aGuessT;
            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
            aGuessT -= currentX / currentSlope;
          }
          return aGuessT;
        }
        function BezierEasing(points) {
          this._p = points;
          this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
          this._precomputed = false;
          this.get = this.get.bind(this);
        }
        BezierEasing.prototype = {
          get: function get2(x5) {
            var mX1 = this._p[0], mY1 = this._p[1], mX2 = this._p[2], mY2 = this._p[3];
            if (!this._precomputed)
              this._precompute();
            if (mX1 === mY1 && mX2 === mY2)
              return x5;
            if (x5 === 0)
              return 0;
            if (x5 === 1)
              return 1;
            return calcBezier(this._getTForX(x5), mY1, mY2);
          },
          // Private part
          _precompute: function _precompute() {
            var mX1 = this._p[0], mY1 = this._p[1], mX2 = this._p[2], mY2 = this._p[3];
            this._precomputed = true;
            if (mX1 !== mY1 || mX2 !== mY2) {
              this._calcSampleValues();
            }
          },
          _calcSampleValues: function _calcSampleValues() {
            var mX1 = this._p[0], mX2 = this._p[2];
            for (var i3 = 0; i3 < kSplineTableSize; ++i3) {
              this._mSampleValues[i3] = calcBezier(i3 * kSampleStepSize, mX1, mX2);
            }
          },
          /**
               * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.
               */
          _getTForX: function _getTForX(aX) {
            var mX1 = this._p[0], mX2 = this._p[2], mSampleValues = this._mSampleValues;
            var intervalStart = 0;
            var currentSample = 1;
            var lastSample = kSplineTableSize - 1;
            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {
              intervalStart += kSampleStepSize;
            }
            --currentSample;
            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);
            var guessForT = intervalStart + dist * kSampleStepSize;
            var initialSlope = getSlope(guessForT, mX1, mX2);
            if (initialSlope >= NEWTON_MIN_SLOPE) {
              return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
            }
            if (initialSlope === 0) {
              return guessForT;
            }
            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);
          }
        };
        return ob2;
      }();
      var pooling = function() {
        function _double(arr) {
          return arr.concat(createSizedArray(arr.length));
        }
        return {
          "double": _double
        };
      }();
      var poolFactory = function() {
        return function(initialLength, _create, _release) {
          var _length = 0;
          var _maxLength = initialLength;
          var pool = createSizedArray(_maxLength);
          var ob2 = {
            newElement,
            release
          };
          function newElement() {
            var element;
            if (_length) {
              _length -= 1;
              element = pool[_length];
            } else {
              element = _create();
            }
            return element;
          }
          function release(element) {
            if (_length === _maxLength) {
              pool = pooling["double"](pool);
              _maxLength *= 2;
            }
            if (_release) {
              _release(element);
            }
            pool[_length] = element;
            _length += 1;
          }
          return ob2;
        };
      }();
      var bezierLengthPool = function() {
        function create2() {
          return {
            addedLength: 0,
            percents: createTypedArray("float32", getDefaultCurveSegments()),
            lengths: createTypedArray("float32", getDefaultCurveSegments())
          };
        }
        return poolFactory(8, create2);
      }();
      var segmentsLengthPool = function() {
        function create2() {
          return {
            lengths: [],
            totalLength: 0
          };
        }
        function release(element) {
          var i3;
          var len = element.lengths.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            bezierLengthPool.release(element.lengths[i3]);
          }
          element.lengths.length = 0;
        }
        return poolFactory(8, create2, release);
      }();
      function bezFunction() {
        var math = Math;
        function pointOnLine2D(x1, y1, x22, y22, x32, y32) {
          var det1 = x1 * y22 + y1 * x32 + x22 * y32 - x32 * y22 - y32 * x1 - x22 * y1;
          return det1 > -1e-3 && det1 < 1e-3;
        }
        function pointOnLine3D(x1, y1, z1, x22, y22, z22, x32, y32, z3) {
          if (z1 === 0 && z22 === 0 && z3 === 0) {
            return pointOnLine2D(x1, y1, x22, y22, x32, y32);
          }
          var dist1 = math.sqrt(math.pow(x22 - x1, 2) + math.pow(y22 - y1, 2) + math.pow(z22 - z1, 2));
          var dist2 = math.sqrt(math.pow(x32 - x1, 2) + math.pow(y32 - y1, 2) + math.pow(z3 - z1, 2));
          var dist3 = math.sqrt(math.pow(x32 - x22, 2) + math.pow(y32 - y22, 2) + math.pow(z3 - z22, 2));
          var diffDist;
          if (dist1 > dist2) {
            if (dist1 > dist3) {
              diffDist = dist1 - dist2 - dist3;
            } else {
              diffDist = dist3 - dist2 - dist1;
            }
          } else if (dist3 > dist2) {
            diffDist = dist3 - dist2 - dist1;
          } else {
            diffDist = dist2 - dist1 - dist3;
          }
          return diffDist > -1e-4 && diffDist < 1e-4;
        }
        var getBezierLength = function() {
          return function(pt1, pt22, pt3, pt4) {
            var curveSegments = getDefaultCurveSegments();
            var k3;
            var i3;
            var len;
            var ptCoord;
            var perc;
            var addedLength = 0;
            var ptDistance;
            var point = [];
            var lastPoint = [];
            var lengthData = bezierLengthPool.newElement();
            len = pt3.length;
            for (k3 = 0; k3 < curveSegments; k3 += 1) {
              perc = k3 / (curveSegments - 1);
              ptDistance = 0;
              for (i3 = 0; i3 < len; i3 += 1) {
                ptCoord = bmPow(1 - perc, 3) * pt1[i3] + 3 * bmPow(1 - perc, 2) * perc * pt3[i3] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i3] + bmPow(perc, 3) * pt22[i3];
                point[i3] = ptCoord;
                if (lastPoint[i3] !== null) {
                  ptDistance += bmPow(point[i3] - lastPoint[i3], 2);
                }
                lastPoint[i3] = point[i3];
              }
              if (ptDistance) {
                ptDistance = bmSqrt(ptDistance);
                addedLength += ptDistance;
              }
              lengthData.percents[k3] = perc;
              lengthData.lengths[k3] = addedLength;
            }
            lengthData.addedLength = addedLength;
            return lengthData;
          };
        }();
        function getSegmentsLength(shapeData) {
          var segmentsLength = segmentsLengthPool.newElement();
          var closed = shapeData.c;
          var pathV = shapeData.v;
          var pathO = shapeData.o;
          var pathI = shapeData.i;
          var i3;
          var len = shapeData._length;
          var lengths = segmentsLength.lengths;
          var totalLength = 0;
          for (i3 = 0; i3 < len - 1; i3 += 1) {
            lengths[i3] = getBezierLength(pathV[i3], pathV[i3 + 1], pathO[i3], pathI[i3 + 1]);
            totalLength += lengths[i3].addedLength;
          }
          if (closed && len) {
            lengths[i3] = getBezierLength(pathV[i3], pathV[0], pathO[i3], pathI[0]);
            totalLength += lengths[i3].addedLength;
          }
          segmentsLength.totalLength = totalLength;
          return segmentsLength;
        }
        function BezierData(length3) {
          this.segmentLength = 0;
          this.points = new Array(length3);
        }
        function PointData(partial, point) {
          this.partialLength = partial;
          this.point = point;
        }
        var buildBezierData = function() {
          var storedData = {};
          return function(pt1, pt22, pt3, pt4) {
            var bezierName = (pt1[0] + "_" + pt1[1] + "_" + pt22[0] + "_" + pt22[1] + "_" + pt3[0] + "_" + pt3[1] + "_" + pt4[0] + "_" + pt4[1]).replace(/\./g, "p");
            if (!storedData[bezierName]) {
              var curveSegments = getDefaultCurveSegments();
              var k3;
              var i3;
              var len;
              var ptCoord;
              var perc;
              var addedLength = 0;
              var ptDistance;
              var point;
              var lastPoint = null;
              if (pt1.length === 2 && (pt1[0] !== pt22[0] || pt1[1] !== pt22[1]) && pointOnLine2D(pt1[0], pt1[1], pt22[0], pt22[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt22[0], pt22[1], pt22[0] + pt4[0], pt22[1] + pt4[1])) {
                curveSegments = 2;
              }
              var bezierData = new BezierData(curveSegments);
              len = pt3.length;
              for (k3 = 0; k3 < curveSegments; k3 += 1) {
                point = createSizedArray(len);
                perc = k3 / (curveSegments - 1);
                ptDistance = 0;
                for (i3 = 0; i3 < len; i3 += 1) {
                  ptCoord = bmPow(1 - perc, 3) * pt1[i3] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i3] + pt3[i3]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt22[i3] + pt4[i3]) + bmPow(perc, 3) * pt22[i3];
                  point[i3] = ptCoord;
                  if (lastPoint !== null) {
                    ptDistance += bmPow(point[i3] - lastPoint[i3], 2);
                  }
                }
                ptDistance = bmSqrt(ptDistance);
                addedLength += ptDistance;
                bezierData.points[k3] = new PointData(ptDistance, point);
                lastPoint = point;
              }
              bezierData.segmentLength = addedLength;
              storedData[bezierName] = bezierData;
            }
            return storedData[bezierName];
          };
        }();
        function getDistancePerc(perc, bezierData) {
          var percents = bezierData.percents;
          var lengths = bezierData.lengths;
          var len = percents.length;
          var initPos = bmFloor((len - 1) * perc);
          var lengthPos = perc * bezierData.addedLength;
          var lPerc = 0;
          if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {
            return percents[initPos];
          }
          var dir = lengths[initPos] > lengthPos ? -1 : 1;
          var flag = true;
          while (flag) {
            if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {
              lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);
              flag = false;
            } else {
              initPos += dir;
            }
            if (initPos < 0 || initPos >= len - 1) {
              if (initPos === len - 1) {
                return percents[initPos];
              }
              flag = false;
            }
          }
          return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;
        }
        function getPointInSegment(pt1, pt22, pt3, pt4, percent, bezierData) {
          var t1 = getDistancePerc(percent, bezierData);
          var u1 = 1 - t1;
          var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt22[0]) * 1e3) / 1e3;
          var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt22[1]) * 1e3) / 1e3;
          return [ptX, ptY];
        }
        var bezierSegmentPoints = createTypedArray("float32", 8);
        function getNewSegment(pt1, pt22, pt3, pt4, startPerc, endPerc, bezierData) {
          if (startPerc < 0) {
            startPerc = 0;
          } else if (startPerc > 1) {
            startPerc = 1;
          }
          var t0 = getDistancePerc(startPerc, bezierData);
          endPerc = endPerc > 1 ? 1 : endPerc;
          var t1 = getDistancePerc(endPerc, bezierData);
          var i3;
          var len = pt1.length;
          var u0 = 1 - t0;
          var u1 = 1 - t1;
          var u0u0u0 = u0 * u0 * u0;
          var t0u0u0_3 = t0 * u0 * u0 * 3;
          var t0t0u0_3 = t0 * t0 * u0 * 3;
          var t0t0t0 = t0 * t0 * t0;
          var u0u0u1 = u0 * u0 * u1;
          var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1;
          var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1;
          var t0t0t1 = t0 * t0 * t1;
          var u0u1u1 = u0 * u1 * u1;
          var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1;
          var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1;
          var t0t1t1 = t0 * t1 * t1;
          var u1u1u1 = u1 * u1 * u1;
          var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1;
          var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1;
          var t1t1t1 = t1 * t1 * t1;
          for (i3 = 0; i3 < len; i3 += 1) {
            bezierSegmentPoints[i3 * 4] = math.round((u0u0u0 * pt1[i3] + t0u0u0_3 * pt3[i3] + t0t0u0_3 * pt4[i3] + t0t0t0 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 1] = math.round((u0u0u1 * pt1[i3] + t0u0u1_3 * pt3[i3] + t0t0u1_3 * pt4[i3] + t0t0t1 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 2] = math.round((u0u1u1 * pt1[i3] + t0u1u1_3 * pt3[i3] + t0t1u1_3 * pt4[i3] + t0t1t1 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 3] = math.round((u1u1u1 * pt1[i3] + t1u1u1_3 * pt3[i3] + t1t1u1_3 * pt4[i3] + t1t1t1 * pt22[i3]) * 1e3) / 1e3;
          }
          return bezierSegmentPoints;
        }
        return {
          getSegmentsLength,
          getNewSegment,
          getPointInSegment,
          buildBezierData,
          pointOnLine2D,
          pointOnLine3D
        };
      }
      var bez = bezFunction();
      var initFrame = initialDefaultFrame;
      var mathAbs = Math.abs;
      function interpolateValue(frameNum, caching) {
        var offsetTime = this.offsetTime;
        var newValue;
        if (this.propType === "multidimensional") {
          newValue = createTypedArray("float32", this.pv.length);
        }
        var iterationIndex = caching.lastIndex;
        var i3 = iterationIndex;
        var len = this.keyframes.length - 1;
        var flag = true;
        var keyData;
        var nextKeyData;
        var keyframeMetadata;
        while (flag) {
          keyData = this.keyframes[i3];
          nextKeyData = this.keyframes[i3 + 1];
          if (i3 === len - 1 && frameNum >= nextKeyData.t - offsetTime) {
            if (keyData.h) {
              keyData = nextKeyData;
            }
            iterationIndex = 0;
            break;
          }
          if (nextKeyData.t - offsetTime > frameNum) {
            iterationIndex = i3;
            break;
          }
          if (i3 < len - 1) {
            i3 += 1;
          } else {
            iterationIndex = 0;
            flag = false;
          }
        }
        keyframeMetadata = this.keyframesMetadata[i3] || {};
        var k3;
        var kLen;
        var perc;
        var jLen;
        var j4;
        var fnc;
        var nextKeyTime = nextKeyData.t - offsetTime;
        var keyTime = keyData.t - offsetTime;
        var endValue;
        if (keyData.to) {
          if (!keyframeMetadata.bezierData) {
            keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);
          }
          var bezierData = keyframeMetadata.bezierData;
          if (frameNum >= nextKeyTime || frameNum < keyTime) {
            var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;
            kLen = bezierData.points[ind].point.length;
            for (k3 = 0; k3 < kLen; k3 += 1) {
              newValue[k3] = bezierData.points[ind].point[k3];
            }
          } else {
            if (keyframeMetadata.__fnct) {
              fnc = keyframeMetadata.__fnct;
            } else {
              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;
              keyframeMetadata.__fnct = fnc;
            }
            perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));
            var distanceInLine = bezierData.segmentLength * perc;
            var segmentPerc;
            var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i3 ? caching._lastAddedLength : 0;
            j4 = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i3 ? caching._lastPoint : 0;
            flag = true;
            jLen = bezierData.points.length;
            while (flag) {
              addedLength += bezierData.points[j4].partialLength;
              if (distanceInLine === 0 || perc === 0 || j4 === bezierData.points.length - 1) {
                kLen = bezierData.points[j4].point.length;
                for (k3 = 0; k3 < kLen; k3 += 1) {
                  newValue[k3] = bezierData.points[j4].point[k3];
                }
                break;
              } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j4 + 1].partialLength) {
                segmentPerc = (distanceInLine - addedLength) / bezierData.points[j4 + 1].partialLength;
                kLen = bezierData.points[j4].point.length;
                for (k3 = 0; k3 < kLen; k3 += 1) {
                  newValue[k3] = bezierData.points[j4].point[k3] + (bezierData.points[j4 + 1].point[k3] - bezierData.points[j4].point[k3]) * segmentPerc;
                }
                break;
              }
              if (j4 < jLen - 1) {
                j4 += 1;
              } else {
                flag = false;
              }
            }
            caching._lastPoint = j4;
            caching._lastAddedLength = addedLength - bezierData.points[j4].partialLength;
            caching._lastKeyframeIndex = i3;
          }
        } else {
          var outX;
          var outY;
          var inX;
          var inY;
          var keyValue;
          len = keyData.s.length;
          endValue = nextKeyData.s || keyData.e;
          if (this.sh && keyData.h !== 1) {
            if (frameNum >= nextKeyTime) {
              newValue[0] = endValue[0];
              newValue[1] = endValue[1];
              newValue[2] = endValue[2];
            } else if (frameNum <= keyTime) {
              newValue[0] = keyData.s[0];
              newValue[1] = keyData.s[1];
              newValue[2] = keyData.s[2];
            } else {
              var quatStart = createQuaternion(keyData.s);
              var quatEnd = createQuaternion(endValue);
              var time2 = (frameNum - keyTime) / (nextKeyTime - keyTime);
              quaternionToEuler(newValue, slerp(quatStart, quatEnd, time2));
            }
          } else {
            for (i3 = 0; i3 < len; i3 += 1) {
              if (keyData.h !== 1) {
                if (frameNum >= nextKeyTime) {
                  perc = 1;
                } else if (frameNum < keyTime) {
                  perc = 0;
                } else {
                  if (keyData.o.x.constructor === Array) {
                    if (!keyframeMetadata.__fnct) {
                      keyframeMetadata.__fnct = [];
                    }
                    if (!keyframeMetadata.__fnct[i3]) {
                      outX = keyData.o.x[i3] === void 0 ? keyData.o.x[0] : keyData.o.x[i3];
                      outY = keyData.o.y[i3] === void 0 ? keyData.o.y[0] : keyData.o.y[i3];
                      inX = keyData.i.x[i3] === void 0 ? keyData.i.x[0] : keyData.i.x[i3];
                      inY = keyData.i.y[i3] === void 0 ? keyData.i.y[0] : keyData.i.y[i3];
                      fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;
                      keyframeMetadata.__fnct[i3] = fnc;
                    } else {
                      fnc = keyframeMetadata.__fnct[i3];
                    }
                  } else if (!keyframeMetadata.__fnct) {
                    outX = keyData.o.x;
                    outY = keyData.o.y;
                    inX = keyData.i.x;
                    inY = keyData.i.y;
                    fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;
                    keyData.keyframeMetadata = fnc;
                  } else {
                    fnc = keyframeMetadata.__fnct;
                  }
                  perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));
                }
              }
              endValue = nextKeyData.s || keyData.e;
              keyValue = keyData.h === 1 ? keyData.s[i3] : keyData.s[i3] + (endValue[i3] - keyData.s[i3]) * perc;
              if (this.propType === "multidimensional") {
                newValue[i3] = keyValue;
              } else {
                newValue = keyValue;
              }
            }
          }
        }
        caching.lastIndex = iterationIndex;
        return newValue;
      }
      function slerp(a4, b3, t2) {
        var out = [];
        var ax = a4[0];
        var ay = a4[1];
        var az = a4[2];
        var aw = a4[3];
        var bx = b3[0];
        var by = b3[1];
        var bz = b3[2];
        var bw = b3[3];
        var omega;
        var cosom;
        var sinom;
        var scale0;
        var scale1;
        cosom = ax * bx + ay * by + az * bz + aw * bw;
        if (cosom < 0) {
          cosom = -cosom;
          bx = -bx;
          by = -by;
          bz = -bz;
          bw = -bw;
        }
        if (1 - cosom > 1e-6) {
          omega = Math.acos(cosom);
          sinom = Math.sin(omega);
          scale0 = Math.sin((1 - t2) * omega) / sinom;
          scale1 = Math.sin(t2 * omega) / sinom;
        } else {
          scale0 = 1 - t2;
          scale1 = t2;
        }
        out[0] = scale0 * ax + scale1 * bx;
        out[1] = scale0 * ay + scale1 * by;
        out[2] = scale0 * az + scale1 * bz;
        out[3] = scale0 * aw + scale1 * bw;
        return out;
      }
      function quaternionToEuler(out, quat) {
        var qx = quat[0];
        var qy = quat[1];
        var qz = quat[2];
        var qw = quat[3];
        var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);
        var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);
        var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);
        out[0] = heading / degToRads;
        out[1] = attitude / degToRads;
        out[2] = bank / degToRads;
      }
      function createQuaternion(values) {
        var heading = values[0] * degToRads;
        var attitude = values[1] * degToRads;
        var bank = values[2] * degToRads;
        var c1 = Math.cos(heading / 2);
        var c22 = Math.cos(attitude / 2);
        var c3 = Math.cos(bank / 2);
        var s1 = Math.sin(heading / 2);
        var s2 = Math.sin(attitude / 2);
        var s3 = Math.sin(bank / 2);
        var w4 = c1 * c22 * c3 - s1 * s2 * s3;
        var x5 = s1 * s2 * c3 + c1 * c22 * s3;
        var y7 = s1 * c22 * c3 + c1 * s2 * s3;
        var z3 = c1 * s2 * c3 - s1 * c22 * s3;
        return [x5, y7, z3, w4];
      }
      function getValueAtCurrentTime() {
        var frameNum = this.comp.renderedFrame - this.offsetTime;
        var initTime = this.keyframes[0].t - this.offsetTime;
        var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
        if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {
          if (this._caching.lastFrame >= frameNum) {
            this._caching._lastKeyframeIndex = -1;
            this._caching.lastIndex = 0;
          }
          var renderResult = this.interpolateValue(frameNum, this._caching);
          this.pv = renderResult;
        }
        this._caching.lastFrame = frameNum;
        return this.pv;
      }
      function setVValue(val2) {
        var multipliedValue;
        if (this.propType === "unidimensional") {
          multipliedValue = val2 * this.mult;
          if (mathAbs(this.v - multipliedValue) > 1e-5) {
            this.v = multipliedValue;
            this._mdf = true;
          }
        } else {
          var i3 = 0;
          var len = this.v.length;
          while (i3 < len) {
            multipliedValue = val2[i3] * this.mult;
            if (mathAbs(this.v[i3] - multipliedValue) > 1e-5) {
              this.v[i3] = multipliedValue;
              this._mdf = true;
            }
            i3 += 1;
          }
        }
      }
      function processEffectsSequence() {
        if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {
          return;
        }
        if (this.lock) {
          this.setVValue(this.pv);
          return;
        }
        this.lock = true;
        this._mdf = this._isFirstFrame;
        var i3;
        var len = this.effectsSequence.length;
        var finalValue = this.kf ? this.pv : this.data.k;
        for (i3 = 0; i3 < len; i3 += 1) {
          finalValue = this.effectsSequence[i3](finalValue);
        }
        this.setVValue(finalValue);
        this._isFirstFrame = false;
        this.lock = false;
        this.frameId = this.elem.globalData.frameId;
      }
      function addEffect(effectFunction) {
        this.effectsSequence.push(effectFunction);
        this.container.addDynamicProperty(this);
      }
      function ValueProperty(elem2, data2, mult, container) {
        this.propType = "unidimensional";
        this.mult = mult || 1;
        this.data = data2;
        this.v = mult ? data2.k * mult : data2.k;
        this.pv = data2.k;
        this._mdf = false;
        this.elem = elem2;
        this.container = container;
        this.comp = elem2.comp;
        this.k = false;
        this.kf = false;
        this.vel = 0;
        this.effectsSequence = [];
        this._isFirstFrame = true;
        this.getValue = processEffectsSequence;
        this.setVValue = setVValue;
        this.addEffect = addEffect;
      }
      function MultiDimensionalProperty(elem2, data2, mult, container) {
        this.propType = "multidimensional";
        this.mult = mult || 1;
        this.data = data2;
        this._mdf = false;
        this.elem = elem2;
        this.container = container;
        this.comp = elem2.comp;
        this.k = false;
        this.kf = false;
        this.frameId = -1;
        var i3;
        var len = data2.k.length;
        this.v = createTypedArray("float32", len);
        this.pv = createTypedArray("float32", len);
        this.vel = createTypedArray("float32", len);
        for (i3 = 0; i3 < len; i3 += 1) {
          this.v[i3] = data2.k[i3] * this.mult;
          this.pv[i3] = data2.k[i3];
        }
        this._isFirstFrame = true;
        this.effectsSequence = [];
        this.getValue = processEffectsSequence;
        this.setVValue = setVValue;
        this.addEffect = addEffect;
      }
      function KeyframedValueProperty(elem2, data2, mult, container) {
        this.propType = "unidimensional";
        this.keyframes = data2.k;
        this.keyframesMetadata = [];
        this.offsetTime = elem2.data.st;
        this.frameId = -1;
        this._caching = {
          lastFrame: initFrame,
          lastIndex: 0,
          value: 0,
          _lastKeyframeIndex: -1
        };
        this.k = true;
        this.kf = true;
        this.data = data2;
        this.mult = mult || 1;
        this.elem = elem2;
        this.container = container;
        this.comp = elem2.comp;
        this.v = initFrame;
        this.pv = initFrame;
        this._isFirstFrame = true;
        this.getValue = processEffectsSequence;
        this.setVValue = setVValue;
        this.interpolateValue = interpolateValue;
        this.effectsSequence = [getValueAtCurrentTime.bind(this)];
        this.addEffect = addEffect;
      }
      function KeyframedMultidimensionalProperty(elem2, data2, mult, container) {
        this.propType = "multidimensional";
        var i3;
        var len = data2.k.length;
        var s2;
        var e2;
        var to;
        var ti;
        for (i3 = 0; i3 < len - 1; i3 += 1) {
          if (data2.k[i3].to && data2.k[i3].s && data2.k[i3 + 1] && data2.k[i3 + 1].s) {
            s2 = data2.k[i3].s;
            e2 = data2.k[i3 + 1].s;
            to = data2.k[i3].to;
            ti = data2.k[i3].ti;
            if (s2.length === 2 && !(s2[0] === e2[0] && s2[1] === e2[1]) && bez.pointOnLine2D(s2[0], s2[1], e2[0], e2[1], s2[0] + to[0], s2[1] + to[1]) && bez.pointOnLine2D(s2[0], s2[1], e2[0], e2[1], e2[0] + ti[0], e2[1] + ti[1]) || s2.length === 3 && !(s2[0] === e2[0] && s2[1] === e2[1] && s2[2] === e2[2]) && bez.pointOnLine3D(s2[0], s2[1], s2[2], e2[0], e2[1], e2[2], s2[0] + to[0], s2[1] + to[1], s2[2] + to[2]) && bez.pointOnLine3D(s2[0], s2[1], s2[2], e2[0], e2[1], e2[2], e2[0] + ti[0], e2[1] + ti[1], e2[2] + ti[2])) {
              data2.k[i3].to = null;
              data2.k[i3].ti = null;
            }
            if (s2[0] === e2[0] && s2[1] === e2[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {
              if (s2.length === 2 || s2[2] === e2[2] && to[2] === 0 && ti[2] === 0) {
                data2.k[i3].to = null;
                data2.k[i3].ti = null;
              }
            }
          }
        }
        this.effectsSequence = [getValueAtCurrentTime.bind(this)];
        this.data = data2;
        this.keyframes = data2.k;
        this.keyframesMetadata = [];
        this.offsetTime = elem2.data.st;
        this.k = true;
        this.kf = true;
        this._isFirstFrame = true;
        this.mult = mult || 1;
        this.elem = elem2;
        this.container = container;
        this.comp = elem2.comp;
        this.getValue = processEffectsSequence;
        this.setVValue = setVValue;
        this.interpolateValue = interpolateValue;
        this.frameId = -1;
        var arrLen = data2.k[0].s.length;
        this.v = createTypedArray("float32", arrLen);
        this.pv = createTypedArray("float32", arrLen);
        for (i3 = 0; i3 < arrLen; i3 += 1) {
          this.v[i3] = initFrame;
          this.pv[i3] = initFrame;
        }
        this._caching = {
          lastFrame: initFrame,
          lastIndex: 0,
          value: createTypedArray("float32", arrLen)
        };
        this.addEffect = addEffect;
      }
      var PropertyFactory = function() {
        function getProp(elem2, data2, type, mult, container) {
          if (data2.sid) {
            data2 = elem2.globalData.slotManager.getProp(data2);
          }
          var p6;
          if (!data2.k.length) {
            p6 = new ValueProperty(elem2, data2, mult, container);
          } else if (typeof data2.k[0] === "number") {
            p6 = new MultiDimensionalProperty(elem2, data2, mult, container);
          } else {
            switch (type) {
              case 0:
                p6 = new KeyframedValueProperty(elem2, data2, mult, container);
                break;
              case 1:
                p6 = new KeyframedMultidimensionalProperty(elem2, data2, mult, container);
                break;
              default:
                break;
            }
          }
          if (p6.effectsSequence.length) {
            container.addDynamicProperty(p6);
          }
          return p6;
        }
        var ob2 = {
          getProp
        };
        return ob2;
      }();
      function DynamicPropertyContainer() {
      }
      DynamicPropertyContainer.prototype = {
        addDynamicProperty: function addDynamicProperty(prop) {
          if (this.dynamicProperties.indexOf(prop) === -1) {
            this.dynamicProperties.push(prop);
            this.container.addDynamicProperty(this);
            this._isAnimated = true;
          }
        },
        iterateDynamicProperties: function iterateDynamicProperties() {
          this._mdf = false;
          var i3;
          var len = this.dynamicProperties.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.dynamicProperties[i3].getValue();
            if (this.dynamicProperties[i3]._mdf) {
              this._mdf = true;
            }
          }
        },
        initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {
          this.container = container;
          this.dynamicProperties = [];
          this._mdf = false;
          this._isAnimated = false;
        }
      };
      var pointPool = function() {
        function create2() {
          return createTypedArray("float32", 2);
        }
        return poolFactory(8, create2);
      }();
      function ShapePath() {
        this.c = false;
        this._length = 0;
        this._maxLength = 8;
        this.v = createSizedArray(this._maxLength);
        this.o = createSizedArray(this._maxLength);
        this.i = createSizedArray(this._maxLength);
      }
      ShapePath.prototype.setPathData = function(closed, len) {
        this.c = closed;
        this.setLength(len);
        var i3 = 0;
        while (i3 < len) {
          this.v[i3] = pointPool.newElement();
          this.o[i3] = pointPool.newElement();
          this.i[i3] = pointPool.newElement();
          i3 += 1;
        }
      };
      ShapePath.prototype.setLength = function(len) {
        while (this._maxLength < len) {
          this.doubleArrayLength();
        }
        this._length = len;
      };
      ShapePath.prototype.doubleArrayLength = function() {
        this.v = this.v.concat(createSizedArray(this._maxLength));
        this.i = this.i.concat(createSizedArray(this._maxLength));
        this.o = this.o.concat(createSizedArray(this._maxLength));
        this._maxLength *= 2;
      };
      ShapePath.prototype.setXYAt = function(x5, y7, type, pos, replace) {
        var arr;
        this._length = Math.max(this._length, pos + 1);
        if (this._length >= this._maxLength) {
          this.doubleArrayLength();
        }
        switch (type) {
          case "v":
            arr = this.v;
            break;
          case "i":
            arr = this.i;
            break;
          case "o":
            arr = this.o;
            break;
          default:
            arr = [];
            break;
        }
        if (!arr[pos] || arr[pos] && !replace) {
          arr[pos] = pointPool.newElement();
        }
        arr[pos][0] = x5;
        arr[pos][1] = y7;
      };
      ShapePath.prototype.setTripleAt = function(vX, vY, oX, oY, iX, iY, pos, replace) {
        this.setXYAt(vX, vY, "v", pos, replace);
        this.setXYAt(oX, oY, "o", pos, replace);
        this.setXYAt(iX, iY, "i", pos, replace);
      };
      ShapePath.prototype.reverse = function() {
        var newPath = new ShapePath();
        newPath.setPathData(this.c, this._length);
        var vertices = this.v;
        var outPoints = this.o;
        var inPoints = this.i;
        var init2 = 0;
        if (this.c) {
          newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);
          init2 = 1;
        }
        var cnt = this._length - 1;
        var len = this._length;
        var i3;
        for (i3 = init2; i3 < len; i3 += 1) {
          newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i3, false);
          cnt -= 1;
        }
        return newPath;
      };
      ShapePath.prototype.length = function() {
        return this._length;
      };
      var shapePool = function() {
        function create2() {
          return new ShapePath();
        }
        function release(shapePath) {
          var len = shapePath._length;
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            pointPool.release(shapePath.v[i3]);
            pointPool.release(shapePath.i[i3]);
            pointPool.release(shapePath.o[i3]);
            shapePath.v[i3] = null;
            shapePath.i[i3] = null;
            shapePath.o[i3] = null;
          }
          shapePath._length = 0;
          shapePath.c = false;
        }
        function clone(shape) {
          var cloned = factory.newElement();
          var i3;
          var len = shape._length === void 0 ? shape.v.length : shape._length;
          cloned.setLength(len);
          cloned.c = shape.c;
          for (i3 = 0; i3 < len; i3 += 1) {
            cloned.setTripleAt(shape.v[i3][0], shape.v[i3][1], shape.o[i3][0], shape.o[i3][1], shape.i[i3][0], shape.i[i3][1], i3);
          }
          return cloned;
        }
        var factory = poolFactory(4, create2, release);
        factory.clone = clone;
        return factory;
      }();
      function ShapeCollection() {
        this._length = 0;
        this._maxLength = 4;
        this.shapes = createSizedArray(this._maxLength);
      }
      ShapeCollection.prototype.addShape = function(shapeData) {
        if (this._length === this._maxLength) {
          this.shapes = this.shapes.concat(createSizedArray(this._maxLength));
          this._maxLength *= 2;
        }
        this.shapes[this._length] = shapeData;
        this._length += 1;
      };
      ShapeCollection.prototype.releaseShapes = function() {
        var i3;
        for (i3 = 0; i3 < this._length; i3 += 1) {
          shapePool.release(this.shapes[i3]);
        }
        this._length = 0;
      };
      var shapeCollectionPool = function() {
        var ob2 = {
          newShapeCollection,
          release
        };
        var _length = 0;
        var _maxLength = 4;
        var pool = createSizedArray(_maxLength);
        function newShapeCollection() {
          var shapeCollection;
          if (_length) {
            _length -= 1;
            shapeCollection = pool[_length];
          } else {
            shapeCollection = new ShapeCollection();
          }
          return shapeCollection;
        }
        function release(shapeCollection) {
          var i3;
          var len = shapeCollection._length;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapePool.release(shapeCollection.shapes[i3]);
          }
          shapeCollection._length = 0;
          if (_length === _maxLength) {
            pool = pooling["double"](pool);
            _maxLength *= 2;
          }
          pool[_length] = shapeCollection;
          _length += 1;
        }
        return ob2;
      }();
      var ShapePropertyFactory = function() {
        var initFrame2 = -999999;
        function interpolateShape(frameNum, previousValue, caching) {
          var iterationIndex = caching.lastIndex;
          var keyPropS;
          var keyPropE;
          var isHold;
          var j4;
          var k3;
          var jLen;
          var kLen;
          var perc;
          var vertexValue;
          var kf = this.keyframes;
          if (frameNum < kf[0].t - this.offsetTime) {
            keyPropS = kf[0].s[0];
            isHold = true;
            iterationIndex = 0;
          } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {
            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];
            isHold = true;
          } else {
            var i3 = iterationIndex;
            var len = kf.length - 1;
            var flag = true;
            var keyData;
            var nextKeyData;
            var keyframeMetadata;
            while (flag) {
              keyData = kf[i3];
              nextKeyData = kf[i3 + 1];
              if (nextKeyData.t - this.offsetTime > frameNum) {
                break;
              }
              if (i3 < len - 1) {
                i3 += 1;
              } else {
                flag = false;
              }
            }
            keyframeMetadata = this.keyframesMetadata[i3] || {};
            isHold = keyData.h === 1;
            iterationIndex = i3;
            if (!isHold) {
              if (frameNum >= nextKeyData.t - this.offsetTime) {
                perc = 1;
              } else if (frameNum < keyData.t - this.offsetTime) {
                perc = 0;
              } else {
                var fnc;
                if (keyframeMetadata.__fnct) {
                  fnc = keyframeMetadata.__fnct;
                } else {
                  fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;
                  keyframeMetadata.__fnct = fnc;
                }
                perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));
              }
              keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];
            }
            keyPropS = keyData.s[0];
          }
          jLen = previousValue._length;
          kLen = keyPropS.i[0].length;
          caching.lastIndex = iterationIndex;
          for (j4 = 0; j4 < jLen; j4 += 1) {
            for (k3 = 0; k3 < kLen; k3 += 1) {
              vertexValue = isHold ? keyPropS.i[j4][k3] : keyPropS.i[j4][k3] + (keyPropE.i[j4][k3] - keyPropS.i[j4][k3]) * perc;
              previousValue.i[j4][k3] = vertexValue;
              vertexValue = isHold ? keyPropS.o[j4][k3] : keyPropS.o[j4][k3] + (keyPropE.o[j4][k3] - keyPropS.o[j4][k3]) * perc;
              previousValue.o[j4][k3] = vertexValue;
              vertexValue = isHold ? keyPropS.v[j4][k3] : keyPropS.v[j4][k3] + (keyPropE.v[j4][k3] - keyPropS.v[j4][k3]) * perc;
              previousValue.v[j4][k3] = vertexValue;
            }
          }
        }
        function interpolateShapeCurrentTime() {
          var frameNum = this.comp.renderedFrame - this.offsetTime;
          var initTime = this.keyframes[0].t - this.offsetTime;
          var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
          var lastFrame = this._caching.lastFrame;
          if (!(lastFrame !== initFrame2 && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {
            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;
            this.interpolateShape(frameNum, this.pv, this._caching);
          }
          this._caching.lastFrame = frameNum;
          return this.pv;
        }
        function resetShape() {
          this.paths = this.localShapeCollection;
        }
        function shapesEqual(shape1, shape2) {
          if (shape1._length !== shape2._length || shape1.c !== shape2.c) {
            return false;
          }
          var i3;
          var len = shape1._length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (shape1.v[i3][0] !== shape2.v[i3][0] || shape1.v[i3][1] !== shape2.v[i3][1] || shape1.o[i3][0] !== shape2.o[i3][0] || shape1.o[i3][1] !== shape2.o[i3][1] || shape1.i[i3][0] !== shape2.i[i3][0] || shape1.i[i3][1] !== shape2.i[i3][1]) {
              return false;
            }
          }
          return true;
        }
        function setVValue2(newPath) {
          if (!shapesEqual(this.v, newPath)) {
            this.v = shapePool.clone(newPath);
            this.localShapeCollection.releaseShapes();
            this.localShapeCollection.addShape(this.v);
            this._mdf = true;
            this.paths = this.localShapeCollection;
          }
        }
        function processEffectsSequence2() {
          if (this.elem.globalData.frameId === this.frameId) {
            return;
          }
          if (!this.effectsSequence.length) {
            this._mdf = false;
            return;
          }
          if (this.lock) {
            this.setVValue(this.pv);
            return;
          }
          this.lock = true;
          this._mdf = false;
          var finalValue;
          if (this.kf) {
            finalValue = this.pv;
          } else if (this.data.ks) {
            finalValue = this.data.ks.k;
          } else {
            finalValue = this.data.pt.k;
          }
          var i3;
          var len = this.effectsSequence.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            finalValue = this.effectsSequence[i3](finalValue);
          }
          this.setVValue(finalValue);
          this.lock = false;
          this.frameId = this.elem.globalData.frameId;
        }
        function ShapeProperty(elem2, data2, type) {
          this.propType = "shape";
          this.comp = elem2.comp;
          this.container = elem2;
          this.elem = elem2;
          this.data = data2;
          this.k = false;
          this.kf = false;
          this._mdf = false;
          var pathData = type === 3 ? data2.pt.k : data2.ks.k;
          this.v = shapePool.clone(pathData);
          this.pv = shapePool.clone(this.v);
          this.localShapeCollection = shapeCollectionPool.newShapeCollection();
          this.paths = this.localShapeCollection;
          this.paths.addShape(this.v);
          this.reset = resetShape;
          this.effectsSequence = [];
        }
        function addEffect2(effectFunction) {
          this.effectsSequence.push(effectFunction);
          this.container.addDynamicProperty(this);
        }
        ShapeProperty.prototype.interpolateShape = interpolateShape;
        ShapeProperty.prototype.getValue = processEffectsSequence2;
        ShapeProperty.prototype.setVValue = setVValue2;
        ShapeProperty.prototype.addEffect = addEffect2;
        function KeyframedShapeProperty(elem2, data2, type) {
          this.propType = "shape";
          this.comp = elem2.comp;
          this.elem = elem2;
          this.container = elem2;
          this.offsetTime = elem2.data.st;
          this.keyframes = type === 3 ? data2.pt.k : data2.ks.k;
          this.keyframesMetadata = [];
          this.k = true;
          this.kf = true;
          var len = this.keyframes[0].s[0].i.length;
          this.v = shapePool.newElement();
          this.v.setPathData(this.keyframes[0].s[0].c, len);
          this.pv = shapePool.clone(this.v);
          this.localShapeCollection = shapeCollectionPool.newShapeCollection();
          this.paths = this.localShapeCollection;
          this.paths.addShape(this.v);
          this.lastFrame = initFrame2;
          this.reset = resetShape;
          this._caching = {
            lastFrame: initFrame2,
            lastIndex: 0
          };
          this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];
        }
        KeyframedShapeProperty.prototype.getValue = processEffectsSequence2;
        KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;
        KeyframedShapeProperty.prototype.setVValue = setVValue2;
        KeyframedShapeProperty.prototype.addEffect = addEffect2;
        var EllShapeProperty = function() {
          var cPoint = roundCorner;
          function EllShapePropertyFactory(elem2, data2) {
            this.v = shapePool.newElement();
            this.v.setPathData(true, 4);
            this.localShapeCollection = shapeCollectionPool.newShapeCollection();
            this.paths = this.localShapeCollection;
            this.localShapeCollection.addShape(this.v);
            this.d = data2.d;
            this.elem = elem2;
            this.comp = elem2.comp;
            this.frameId = -1;
            this.initDynamicPropertyContainer(elem2);
            this.p = PropertyFactory.getProp(elem2, data2.p, 1, 0, this);
            this.s = PropertyFactory.getProp(elem2, data2.s, 1, 0, this);
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertEllToPath();
            }
          }
          EllShapePropertyFactory.prototype = {
            reset: resetShape,
            getValue: function getValue() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertEllToPath();
              }
            },
            convertEllToPath: function convertEllToPath() {
              var p0 = this.p.v[0];
              var p1 = this.p.v[1];
              var s0 = this.s.v[0] / 2;
              var s1 = this.s.v[1] / 2;
              var _cw = this.d !== 3;
              var _v = this.v;
              _v.v[0][0] = p0;
              _v.v[0][1] = p1 - s1;
              _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.v[1][1] = p1;
              _v.v[2][0] = p0;
              _v.v[2][1] = p1 + s1;
              _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.v[3][1] = p1;
              _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;
              _v.i[0][1] = p1 - s1;
              _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.i[1][1] = p1 - s1 * cPoint;
              _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;
              _v.i[2][1] = p1 + s1;
              _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.i[3][1] = p1 + s1 * cPoint;
              _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;
              _v.o[0][1] = p1 - s1;
              _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.o[1][1] = p1 + s1 * cPoint;
              _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;
              _v.o[2][1] = p1 + s1;
              _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.o[3][1] = p1 - s1 * cPoint;
            }
          };
          extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);
          return EllShapePropertyFactory;
        }();
        var StarShapeProperty = function() {
          function StarShapePropertyFactory(elem2, data2) {
            this.v = shapePool.newElement();
            this.v.setPathData(true, 0);
            this.elem = elem2;
            this.comp = elem2.comp;
            this.data = data2;
            this.frameId = -1;
            this.d = data2.d;
            this.initDynamicPropertyContainer(elem2);
            if (data2.sy === 1) {
              this.ir = PropertyFactory.getProp(elem2, data2.ir, 0, 0, this);
              this.is = PropertyFactory.getProp(elem2, data2.is, 0, 0.01, this);
              this.convertToPath = this.convertStarToPath;
            } else {
              this.convertToPath = this.convertPolygonToPath;
            }
            this.pt = PropertyFactory.getProp(elem2, data2.pt, 0, 0, this);
            this.p = PropertyFactory.getProp(elem2, data2.p, 1, 0, this);
            this.r = PropertyFactory.getProp(elem2, data2.r, 0, degToRads, this);
            this.or = PropertyFactory.getProp(elem2, data2.or, 0, 0, this);
            this.os = PropertyFactory.getProp(elem2, data2.os, 0, 0.01, this);
            this.localShapeCollection = shapeCollectionPool.newShapeCollection();
            this.localShapeCollection.addShape(this.v);
            this.paths = this.localShapeCollection;
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertToPath();
            }
          }
          StarShapePropertyFactory.prototype = {
            reset: resetShape,
            getValue: function getValue() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertToPath();
              }
            },
            convertStarToPath: function convertStarToPath() {
              var numPts = Math.floor(this.pt.v) * 2;
              var angle = Math.PI * 2 / numPts;
              var longFlag = true;
              var longRad = this.or.v;
              var shortRad = this.ir.v;
              var longRound = this.os.v;
              var shortRound = this.is.v;
              var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);
              var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);
              var i3;
              var rad;
              var roundness;
              var perimSegment;
              var currentAng = -Math.PI / 2;
              currentAng += this.r.v;
              var dir = this.data.d === 3 ? -1 : 1;
              this.v._length = 0;
              for (i3 = 0; i3 < numPts; i3 += 1) {
                rad = longFlag ? longRad : shortRad;
                roundness = longFlag ? longRound : shortRound;
                perimSegment = longFlag ? longPerimSegment : shortPerimSegment;
                var x5 = rad * Math.cos(currentAng);
                var y7 = rad * Math.sin(currentAng);
                var ox = x5 === 0 && y7 === 0 ? 0 : y7 / Math.sqrt(x5 * x5 + y7 * y7);
                var oy = x5 === 0 && y7 === 0 ? 0 : -x5 / Math.sqrt(x5 * x5 + y7 * y7);
                x5 += +this.p.v[0];
                y7 += +this.p.v[1];
                this.v.setTripleAt(x5, y7, x5 - ox * perimSegment * roundness * dir, y7 - oy * perimSegment * roundness * dir, x5 + ox * perimSegment * roundness * dir, y7 + oy * perimSegment * roundness * dir, i3, true);
                longFlag = !longFlag;
                currentAng += angle * dir;
              }
            },
            convertPolygonToPath: function convertPolygonToPath() {
              var numPts = Math.floor(this.pt.v);
              var angle = Math.PI * 2 / numPts;
              var rad = this.or.v;
              var roundness = this.os.v;
              var perimSegment = 2 * Math.PI * rad / (numPts * 4);
              var i3;
              var currentAng = -Math.PI * 0.5;
              var dir = this.data.d === 3 ? -1 : 1;
              currentAng += this.r.v;
              this.v._length = 0;
              for (i3 = 0; i3 < numPts; i3 += 1) {
                var x5 = rad * Math.cos(currentAng);
                var y7 = rad * Math.sin(currentAng);
                var ox = x5 === 0 && y7 === 0 ? 0 : y7 / Math.sqrt(x5 * x5 + y7 * y7);
                var oy = x5 === 0 && y7 === 0 ? 0 : -x5 / Math.sqrt(x5 * x5 + y7 * y7);
                x5 += +this.p.v[0];
                y7 += +this.p.v[1];
                this.v.setTripleAt(x5, y7, x5 - ox * perimSegment * roundness * dir, y7 - oy * perimSegment * roundness * dir, x5 + ox * perimSegment * roundness * dir, y7 + oy * perimSegment * roundness * dir, i3, true);
                currentAng += angle * dir;
              }
              this.paths.length = 0;
              this.paths[0] = this.v;
            }
          };
          extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);
          return StarShapePropertyFactory;
        }();
        var RectShapeProperty = function() {
          function RectShapePropertyFactory(elem2, data2) {
            this.v = shapePool.newElement();
            this.v.c = true;
            this.localShapeCollection = shapeCollectionPool.newShapeCollection();
            this.localShapeCollection.addShape(this.v);
            this.paths = this.localShapeCollection;
            this.elem = elem2;
            this.comp = elem2.comp;
            this.frameId = -1;
            this.d = data2.d;
            this.initDynamicPropertyContainer(elem2);
            this.p = PropertyFactory.getProp(elem2, data2.p, 1, 0, this);
            this.s = PropertyFactory.getProp(elem2, data2.s, 1, 0, this);
            this.r = PropertyFactory.getProp(elem2, data2.r, 0, 0, this);
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertRectToPath();
            }
          }
          RectShapePropertyFactory.prototype = {
            convertRectToPath: function convertRectToPath() {
              var p0 = this.p.v[0];
              var p1 = this.p.v[1];
              var v0 = this.s.v[0] / 2;
              var v1 = this.s.v[1] / 2;
              var round = bmMin(v0, v1, this.r.v);
              var cPoint = round * (1 - roundCorner);
              this.v._length = 0;
              if (this.d === 2 || this.d === 1) {
                this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);
                this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);
                if (round !== 0) {
                  this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);
                  this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);
                  this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);
                } else {
                  this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);
                  this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);
                }
              } else {
                this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);
                if (round !== 0) {
                  this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);
                  this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);
                  this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);
                  this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);
                } else {
                  this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);
                  this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);
                }
              }
            },
            getValue: function getValue() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertRectToPath();
              }
            },
            reset: resetShape
          };
          extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);
          return RectShapePropertyFactory;
        }();
        function getShapeProp(elem2, data2, type) {
          var prop;
          if (type === 3 || type === 4) {
            var dataProp = type === 3 ? data2.pt : data2.ks;
            var keys2 = dataProp.k;
            if (keys2.length) {
              prop = new KeyframedShapeProperty(elem2, data2, type);
            } else {
              prop = new ShapeProperty(elem2, data2, type);
            }
          } else if (type === 5) {
            prop = new RectShapeProperty(elem2, data2);
          } else if (type === 6) {
            prop = new EllShapeProperty(elem2, data2);
          } else if (type === 7) {
            prop = new StarShapeProperty(elem2, data2);
          }
          if (prop.k) {
            elem2.addDynamicProperty(prop);
          }
          return prop;
        }
        function getConstructorFunction() {
          return ShapeProperty;
        }
        function getKeyframedConstructorFunction() {
          return KeyframedShapeProperty;
        }
        var ob2 = {};
        ob2.getShapeProp = getShapeProp;
        ob2.getConstructorFunction = getConstructorFunction;
        ob2.getKeyframedConstructorFunction = getKeyframedConstructorFunction;
        return ob2;
      }();
      var Matrix = function() {
        var _cos = Math.cos;
        var _sin = Math.sin;
        var _tan = Math.tan;
        var _rnd = Math.round;
        function reset() {
          this.props[0] = 1;
          this.props[1] = 0;
          this.props[2] = 0;
          this.props[3] = 0;
          this.props[4] = 0;
          this.props[5] = 1;
          this.props[6] = 0;
          this.props[7] = 0;
          this.props[8] = 0;
          this.props[9] = 0;
          this.props[10] = 1;
          this.props[11] = 0;
          this.props[12] = 0;
          this.props[13] = 0;
          this.props[14] = 0;
          this.props[15] = 1;
          return this;
        }
        function rotate(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function rotateX(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);
        }
        function rotateY(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);
        }
        function rotateZ(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function shear(sx, sy) {
          return this._t(1, sy, sx, 1, 0, 0);
        }
        function skew(ax, ay) {
          return this.shear(_tan(ax), _tan(ay));
        }
        function skewFromAxis(ax, angle) {
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function scale2(sx, sy, sz) {
          if (!sz && sz !== 0) {
            sz = 1;
          }
          if (sx === 1 && sy === 1 && sz === 1) {
            return this;
          }
          return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);
        }
        function setTransform(a4, b3, c3, d3, e2, f3, g5, h6, i3, j4, k3, l4, m3, n4, o3, p6) {
          this.props[0] = a4;
          this.props[1] = b3;
          this.props[2] = c3;
          this.props[3] = d3;
          this.props[4] = e2;
          this.props[5] = f3;
          this.props[6] = g5;
          this.props[7] = h6;
          this.props[8] = i3;
          this.props[9] = j4;
          this.props[10] = k3;
          this.props[11] = l4;
          this.props[12] = m3;
          this.props[13] = n4;
          this.props[14] = o3;
          this.props[15] = p6;
          return this;
        }
        function translate(tx, ty, tz) {
          tz = tz || 0;
          if (tx !== 0 || ty !== 0 || tz !== 0) {
            return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);
          }
          return this;
        }
        function transform2(a22, b22, c22, d22, e2, f22, g22, h22, i22, j22, k22, l22, m22, n22, o22, p22) {
          var _p = this.props;
          if (a22 === 1 && b22 === 0 && c22 === 0 && d22 === 0 && e2 === 0 && f22 === 1 && g22 === 0 && h22 === 0 && i22 === 0 && j22 === 0 && k22 === 1 && l22 === 0) {
            _p[12] = _p[12] * a22 + _p[15] * m22;
            _p[13] = _p[13] * f22 + _p[15] * n22;
            _p[14] = _p[14] * k22 + _p[15] * o22;
            _p[15] *= p22;
            this._identityCalculated = false;
            return this;
          }
          var a1 = _p[0];
          var b1 = _p[1];
          var c1 = _p[2];
          var d1 = _p[3];
          var e1 = _p[4];
          var f1 = _p[5];
          var g1 = _p[6];
          var h1 = _p[7];
          var i1 = _p[8];
          var j1 = _p[9];
          var k1 = _p[10];
          var l1 = _p[11];
          var m1 = _p[12];
          var n1 = _p[13];
          var o1 = _p[14];
          var p1 = _p[15];
          _p[0] = a1 * a22 + b1 * e2 + c1 * i22 + d1 * m22;
          _p[1] = a1 * b22 + b1 * f22 + c1 * j22 + d1 * n22;
          _p[2] = a1 * c22 + b1 * g22 + c1 * k22 + d1 * o22;
          _p[3] = a1 * d22 + b1 * h22 + c1 * l22 + d1 * p22;
          _p[4] = e1 * a22 + f1 * e2 + g1 * i22 + h1 * m22;
          _p[5] = e1 * b22 + f1 * f22 + g1 * j22 + h1 * n22;
          _p[6] = e1 * c22 + f1 * g22 + g1 * k22 + h1 * o22;
          _p[7] = e1 * d22 + f1 * h22 + g1 * l22 + h1 * p22;
          _p[8] = i1 * a22 + j1 * e2 + k1 * i22 + l1 * m22;
          _p[9] = i1 * b22 + j1 * f22 + k1 * j22 + l1 * n22;
          _p[10] = i1 * c22 + j1 * g22 + k1 * k22 + l1 * o22;
          _p[11] = i1 * d22 + j1 * h22 + k1 * l22 + l1 * p22;
          _p[12] = m1 * a22 + n1 * e2 + o1 * i22 + p1 * m22;
          _p[13] = m1 * b22 + n1 * f22 + o1 * j22 + p1 * n22;
          _p[14] = m1 * c22 + n1 * g22 + o1 * k22 + p1 * o22;
          _p[15] = m1 * d22 + n1 * h22 + o1 * l22 + p1 * p22;
          this._identityCalculated = false;
          return this;
        }
        function multiply(matrix) {
          var matrixProps = matrix.props;
          return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);
        }
        function isIdentity() {
          if (!this._identityCalculated) {
            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);
            this._identityCalculated = true;
          }
          return this._identity;
        }
        function equals4(matr) {
          var i3 = 0;
          while (i3 < 16) {
            if (matr.props[i3] !== this.props[i3]) {
              return false;
            }
            i3 += 1;
          }
          return true;
        }
        function clone(matr) {
          var i3;
          for (i3 = 0; i3 < 16; i3 += 1) {
            matr.props[i3] = this.props[i3];
          }
          return matr;
        }
        function cloneFromProps(props) {
          var i3;
          for (i3 = 0; i3 < 16; i3 += 1) {
            this.props[i3] = props[i3];
          }
        }
        function applyToPoint(x5, y7, z3) {
          return {
            x: x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12],
            y: x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13],
            z: x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14]
          };
        }
        function applyToX(x5, y7, z3) {
          return x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12];
        }
        function applyToY(x5, y7, z3) {
          return x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13];
        }
        function applyToZ(x5, y7, z3) {
          return x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14];
        }
        function getInverseMatrix() {
          var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];
          var a4 = this.props[5] / determinant;
          var b3 = -this.props[1] / determinant;
          var c3 = -this.props[4] / determinant;
          var d3 = this.props[0] / determinant;
          var e2 = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;
          var f3 = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;
          var inverseMatrix = new Matrix();
          inverseMatrix.props[0] = a4;
          inverseMatrix.props[1] = b3;
          inverseMatrix.props[4] = c3;
          inverseMatrix.props[5] = d3;
          inverseMatrix.props[12] = e2;
          inverseMatrix.props[13] = f3;
          return inverseMatrix;
        }
        function inversePoint(pt3) {
          var inverseMatrix = this.getInverseMatrix();
          return inverseMatrix.applyToPointArray(pt3[0], pt3[1], pt3[2] || 0);
        }
        function inversePoints(pts) {
          var i3;
          var len = pts.length;
          var retPts = [];
          for (i3 = 0; i3 < len; i3 += 1) {
            retPts[i3] = inversePoint(pts[i3]);
          }
          return retPts;
        }
        function applyToTriplePoints(pt1, pt22, pt3) {
          var arr = createTypedArray("float32", 6);
          if (this.isIdentity()) {
            arr[0] = pt1[0];
            arr[1] = pt1[1];
            arr[2] = pt22[0];
            arr[3] = pt22[1];
            arr[4] = pt3[0];
            arr[5] = pt3[1];
          } else {
            var p0 = this.props[0];
            var p1 = this.props[1];
            var p42 = this.props[4];
            var p52 = this.props[5];
            var p12 = this.props[12];
            var p13 = this.props[13];
            arr[0] = pt1[0] * p0 + pt1[1] * p42 + p12;
            arr[1] = pt1[0] * p1 + pt1[1] * p52 + p13;
            arr[2] = pt22[0] * p0 + pt22[1] * p42 + p12;
            arr[3] = pt22[0] * p1 + pt22[1] * p52 + p13;
            arr[4] = pt3[0] * p0 + pt3[1] * p42 + p12;
            arr[5] = pt3[0] * p1 + pt3[1] * p52 + p13;
          }
          return arr;
        }
        function applyToPointArray(x5, y7, z3) {
          var arr;
          if (this.isIdentity()) {
            arr = [x5, y7, z3];
          } else {
            arr = [x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12], x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13], x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14]];
          }
          return arr;
        }
        function applyToPointStringified(x5, y7) {
          if (this.isIdentity()) {
            return x5 + "," + y7;
          }
          var _p = this.props;
          return Math.round((x5 * _p[0] + y7 * _p[4] + _p[12]) * 100) / 100 + "," + Math.round((x5 * _p[1] + y7 * _p[5] + _p[13]) * 100) / 100;
        }
        function toCSS() {
          var i3 = 0;
          var props = this.props;
          var cssValue = "matrix3d(";
          var v2 = 1e4;
          while (i3 < 16) {
            cssValue += _rnd(props[i3] * v2) / v2;
            cssValue += i3 === 15 ? ")" : ",";
            i3 += 1;
          }
          return cssValue;
        }
        function roundMatrixProperty(val2) {
          var v2 = 1e4;
          if (val2 < 1e-6 && val2 > 0 || val2 > -1e-6 && val2 < 0) {
            return _rnd(val2 * v2) / v2;
          }
          return val2;
        }
        function to2dCSS() {
          var props = this.props;
          var _a = roundMatrixProperty(props[0]);
          var _b = roundMatrixProperty(props[1]);
          var _c3 = roundMatrixProperty(props[4]);
          var _d = roundMatrixProperty(props[5]);
          var _e3 = roundMatrixProperty(props[12]);
          var _f = roundMatrixProperty(props[13]);
          return "matrix(" + _a + "," + _b + "," + _c3 + "," + _d + "," + _e3 + "," + _f + ")";
        }
        return function() {
          this.reset = reset;
          this.rotate = rotate;
          this.rotateX = rotateX;
          this.rotateY = rotateY;
          this.rotateZ = rotateZ;
          this.skew = skew;
          this.skewFromAxis = skewFromAxis;
          this.shear = shear;
          this.scale = scale2;
          this.setTransform = setTransform;
          this.translate = translate;
          this.transform = transform2;
          this.multiply = multiply;
          this.applyToPoint = applyToPoint;
          this.applyToX = applyToX;
          this.applyToY = applyToY;
          this.applyToZ = applyToZ;
          this.applyToPointArray = applyToPointArray;
          this.applyToTriplePoints = applyToTriplePoints;
          this.applyToPointStringified = applyToPointStringified;
          this.toCSS = toCSS;
          this.to2dCSS = to2dCSS;
          this.clone = clone;
          this.cloneFromProps = cloneFromProps;
          this.equals = equals4;
          this.inversePoints = inversePoints;
          this.inversePoint = inversePoint;
          this.getInverseMatrix = getInverseMatrix;
          this._t = this.transform;
          this.isIdentity = isIdentity;
          this._identity = true;
          this._identityCalculated = false;
          this.props = createTypedArray("float32", 16);
          this.reset();
        };
      }();
      function _typeof$3(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$3 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$3 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$3(obj);
      }
      var lottie = {};
      var standalone = "__[STANDALONE]__";
      var animationData = "__[ANIMATIONDATA]__";
      var renderer = "";
      function setLocation(href) {
        setLocationHref(href);
      }
      function searchAnimations() {
        if (standalone === true) {
          animationManager.searchAnimations(animationData, standalone, renderer);
        } else {
          animationManager.searchAnimations();
        }
      }
      function setSubframeRendering(flag) {
        setSubframeEnabled(flag);
      }
      function setPrefix(prefix) {
        setIdPrefix(prefix);
      }
      function loadAnimation(params) {
        if (standalone === true) {
          params.animationData = JSON.parse(animationData);
        }
        return animationManager.loadAnimation(params);
      }
      function setQuality(value2) {
        if (typeof value2 === "string") {
          switch (value2) {
            case "high":
              setDefaultCurveSegments(200);
              break;
            default:
            case "medium":
              setDefaultCurveSegments(50);
              break;
            case "low":
              setDefaultCurveSegments(10);
              break;
          }
        } else if (!isNaN(value2) && value2 > 1) {
          setDefaultCurveSegments(value2);
        }
        if (getDefaultCurveSegments() >= 50) {
          roundValues(false);
        } else {
          roundValues(true);
        }
      }
      function inBrowser() {
        return typeof navigator !== "undefined";
      }
      function installPlugin(type, plugin) {
        if (type === "expressions") {
          setExpressionsPlugin(plugin);
        }
      }
      function getFactory(name3) {
        switch (name3) {
          case "propertyFactory":
            return PropertyFactory;
          case "shapePropertyFactory":
            return ShapePropertyFactory;
          case "matrix":
            return Matrix;
          default:
            return null;
        }
      }
      lottie.play = animationManager.play;
      lottie.pause = animationManager.pause;
      lottie.setLocationHref = setLocation;
      lottie.togglePause = animationManager.togglePause;
      lottie.setSpeed = animationManager.setSpeed;
      lottie.setDirection = animationManager.setDirection;
      lottie.stop = animationManager.stop;
      lottie.searchAnimations = searchAnimations;
      lottie.registerAnimation = animationManager.registerAnimation;
      lottie.loadAnimation = loadAnimation;
      lottie.setSubframeRendering = setSubframeRendering;
      lottie.resize = animationManager.resize;
      lottie.goToAndStop = animationManager.goToAndStop;
      lottie.destroy = animationManager.destroy;
      lottie.setQuality = setQuality;
      lottie.inBrowser = inBrowser;
      lottie.installPlugin = installPlugin;
      lottie.freeze = animationManager.freeze;
      lottie.unfreeze = animationManager.unfreeze;
      lottie.setVolume = animationManager.setVolume;
      lottie.mute = animationManager.mute;
      lottie.unmute = animationManager.unmute;
      lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;
      lottie.useWebWorker = setWebWorker;
      lottie.setIDPrefix = setPrefix;
      lottie.__getFactory = getFactory;
      lottie.version = "5.12.2";
      function checkReady() {
        if (document.readyState === "complete") {
          clearInterval(readyStateCheckInterval);
          searchAnimations();
        }
      }
      function getQueryVariable(variable) {
        var vars = queryString.split("&");
        for (var i3 = 0; i3 < vars.length; i3 += 1) {
          var pair = vars[i3].split("=");
          if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
          }
        }
        return null;
      }
      var queryString = "";
      if (standalone) {
        var scripts = document.getElementsByTagName("script");
        var index = scripts.length - 1;
        var myScript = scripts[index] || {
          src: ""
        };
        queryString = myScript.src ? myScript.src.replace(/^[^\?]+\??/, "") : "";
        renderer = getQueryVariable("renderer");
      }
      var readyStateCheckInterval = setInterval(checkReady, 100);
      try {
        if (!((typeof exports === "undefined" ? "undefined" : _typeof$3(exports)) === "object" && typeof module !== "undefined") && !(typeof define === "function" && define.amd)) {
          window.bodymovin = lottie;
        }
      } catch (err) {
      }
      var ShapeModifiers = function() {
        var ob2 = {};
        var modifiers = {};
        ob2.registerModifier = registerModifier;
        ob2.getModifier = getModifier;
        function registerModifier(nm, factory) {
          if (!modifiers[nm]) {
            modifiers[nm] = factory;
          }
        }
        function getModifier(nm, elem2, data2) {
          return new modifiers[nm](elem2, data2);
        }
        return ob2;
      }();
      function ShapeModifier() {
      }
      ShapeModifier.prototype.initModifierProperties = function() {
      };
      ShapeModifier.prototype.addShapeToModifier = function() {
      };
      ShapeModifier.prototype.addShape = function(data2) {
        if (!this.closed) {
          data2.sh.container.addDynamicProperty(data2.sh);
          var shapeData = {
            shape: data2.sh,
            data: data2,
            localShapeCollection: shapeCollectionPool.newShapeCollection()
          };
          this.shapes.push(shapeData);
          this.addShapeToModifier(shapeData);
          if (this._isAnimated) {
            data2.setAsAnimated();
          }
        }
      };
      ShapeModifier.prototype.init = function(elem2, data2) {
        this.shapes = [];
        this.elem = elem2;
        this.initDynamicPropertyContainer(elem2);
        this.initModifierProperties(elem2, data2);
        this.frameId = initialDefaultFrame;
        this.closed = false;
        this.k = false;
        if (this.dynamicProperties.length) {
          this.k = true;
        } else {
          this.getValue(true);
        }
      };
      ShapeModifier.prototype.processKeys = function() {
        if (this.elem.globalData.frameId === this.frameId) {
          return;
        }
        this.frameId = this.elem.globalData.frameId;
        this.iterateDynamicProperties();
      };
      extendPrototype([DynamicPropertyContainer], ShapeModifier);
      function TrimModifier() {
      }
      extendPrototype([ShapeModifier], TrimModifier);
      TrimModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.s = PropertyFactory.getProp(elem2, data2.s, 0, 0.01, this);
        this.e = PropertyFactory.getProp(elem2, data2.e, 0, 0.01, this);
        this.o = PropertyFactory.getProp(elem2, data2.o, 0, 0, this);
        this.sValue = 0;
        this.eValue = 0;
        this.getValue = this.processKeys;
        this.m = data2.m;
        this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;
      };
      TrimModifier.prototype.addShapeToModifier = function(shapeData) {
        shapeData.pathsData = [];
      };
      TrimModifier.prototype.calculateShapeEdges = function(s2, e2, shapeLength, addedLength, totalModifierLength) {
        var segments = [];
        if (e2 <= 1) {
          segments.push({
            s: s2,
            e: e2
          });
        } else if (s2 >= 1) {
          segments.push({
            s: s2 - 1,
            e: e2 - 1
          });
        } else {
          segments.push({
            s: s2,
            e: 1
          });
          segments.push({
            s: 0,
            e: e2 - 1
          });
        }
        var shapeSegments = [];
        var i3;
        var len = segments.length;
        var segmentOb;
        for (i3 = 0; i3 < len; i3 += 1) {
          segmentOb = segments[i3];
          if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {
            var shapeS;
            var shapeE;
            if (segmentOb.s * totalModifierLength <= addedLength) {
              shapeS = 0;
            } else {
              shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;
            }
            if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {
              shapeE = 1;
            } else {
              shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;
            }
            shapeSegments.push([shapeS, shapeE]);
          }
        }
        if (!shapeSegments.length) {
          shapeSegments.push([0, 0]);
        }
        return shapeSegments;
      };
      TrimModifier.prototype.releasePathsData = function(pathsData) {
        var i3;
        var len = pathsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          segmentsLengthPool.release(pathsData[i3]);
        }
        pathsData.length = 0;
        return pathsData;
      };
      TrimModifier.prototype.processShapes = function(_isFirstFrame) {
        var s2;
        var e2;
        if (this._mdf || _isFirstFrame) {
          var o3 = this.o.v % 360 / 360;
          if (o3 < 0) {
            o3 += 1;
          }
          if (this.s.v > 1) {
            s2 = 1 + o3;
          } else if (this.s.v < 0) {
            s2 = 0 + o3;
          } else {
            s2 = this.s.v + o3;
          }
          if (this.e.v > 1) {
            e2 = 1 + o3;
          } else if (this.e.v < 0) {
            e2 = 0 + o3;
          } else {
            e2 = this.e.v + o3;
          }
          if (s2 > e2) {
            var _s4 = s2;
            s2 = e2;
            e2 = _s4;
          }
          s2 = Math.round(s2 * 1e4) * 1e-4;
          e2 = Math.round(e2 * 1e4) * 1e-4;
          this.sValue = s2;
          this.eValue = e2;
        } else {
          s2 = this.sValue;
          e2 = this.eValue;
        }
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var pathsData;
        var pathData;
        var totalShapeLength;
        var totalModifierLength = 0;
        if (e2 === s2) {
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].localShapeCollection.releaseShapes();
            this.shapes[i3].shape._mdf = true;
            this.shapes[i3].shape.paths = this.shapes[i3].localShapeCollection;
            if (this._mdf) {
              this.shapes[i3].pathsData.length = 0;
            }
          }
        } else if (!(e2 === 1 && s2 === 0 || e2 === 0 && s2 === 1)) {
          var segments = [];
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {
              shapeData.shape.paths = shapeData.localShapeCollection;
            } else {
              shapePaths = shapeData.shape.paths;
              jLen = shapePaths._length;
              totalShapeLength = 0;
              if (!shapeData.shape._mdf && shapeData.pathsData.length) {
                totalShapeLength = shapeData.totalShapeLength;
              } else {
                pathsData = this.releasePathsData(shapeData.pathsData);
                for (j4 = 0; j4 < jLen; j4 += 1) {
                  pathData = bez.getSegmentsLength(shapePaths.shapes[j4]);
                  pathsData.push(pathData);
                  totalShapeLength += pathData.totalLength;
                }
                shapeData.totalShapeLength = totalShapeLength;
                shapeData.pathsData = pathsData;
              }
              totalModifierLength += totalShapeLength;
              shapeData.shape._mdf = true;
            }
          }
          var shapeS = s2;
          var shapeE = e2;
          var addedLength = 0;
          var edges;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            shapeData = this.shapes[i3];
            if (shapeData.shape._mdf) {
              localShapeCollection = shapeData.localShapeCollection;
              localShapeCollection.releaseShapes();
              if (this.m === 2 && len > 1) {
                edges = this.calculateShapeEdges(s2, e2, shapeData.totalShapeLength, addedLength, totalModifierLength);
                addedLength += shapeData.totalShapeLength;
              } else {
                edges = [[shapeS, shapeE]];
              }
              jLen = edges.length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                shapeS = edges[j4][0];
                shapeE = edges[j4][1];
                segments.length = 0;
                if (shapeE <= 1) {
                  segments.push({
                    s: shapeData.totalShapeLength * shapeS,
                    e: shapeData.totalShapeLength * shapeE
                  });
                } else if (shapeS >= 1) {
                  segments.push({
                    s: shapeData.totalShapeLength * (shapeS - 1),
                    e: shapeData.totalShapeLength * (shapeE - 1)
                  });
                } else {
                  segments.push({
                    s: shapeData.totalShapeLength * shapeS,
                    e: shapeData.totalShapeLength
                  });
                  segments.push({
                    s: 0,
                    e: shapeData.totalShapeLength * (shapeE - 1)
                  });
                }
                var newShapesData = this.addShapes(shapeData, segments[0]);
                if (segments[0].s !== segments[0].e) {
                  if (segments.length > 1) {
                    var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];
                    if (lastShapeInCollection.c) {
                      var lastShape = newShapesData.pop();
                      this.addPaths(newShapesData, localShapeCollection);
                      newShapesData = this.addShapes(shapeData, segments[1], lastShape);
                    } else {
                      this.addPaths(newShapesData, localShapeCollection);
                      newShapesData = this.addShapes(shapeData, segments[1]);
                    }
                  }
                  this.addPaths(newShapesData, localShapeCollection);
                }
              }
              shapeData.shape.paths = localShapeCollection;
            }
          }
        } else if (this._mdf) {
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].pathsData.length = 0;
            this.shapes[i3].shape._mdf = true;
          }
        }
      };
      TrimModifier.prototype.addPaths = function(newPaths, localShapeCollection) {
        var i3;
        var len = newPaths.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          localShapeCollection.addShape(newPaths[i3]);
        }
      };
      TrimModifier.prototype.addSegment = function(pt1, pt22, pt3, pt4, shapePath, pos, newShape) {
        shapePath.setXYAt(pt22[0], pt22[1], "o", pos);
        shapePath.setXYAt(pt3[0], pt3[1], "i", pos + 1);
        if (newShape) {
          shapePath.setXYAt(pt1[0], pt1[1], "v", pos);
        }
        shapePath.setXYAt(pt4[0], pt4[1], "v", pos + 1);
      };
      TrimModifier.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {
        shapePath.setXYAt(points[1], points[5], "o", pos);
        shapePath.setXYAt(points[2], points[6], "i", pos + 1);
        if (newShape) {
          shapePath.setXYAt(points[0], points[4], "v", pos);
        }
        shapePath.setXYAt(points[3], points[7], "v", pos + 1);
      };
      TrimModifier.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {
        var pathsData = shapeData.pathsData;
        var shapePaths = shapeData.shape.paths.shapes;
        var i3;
        var len = shapeData.shape.paths._length;
        var j4;
        var jLen;
        var addedLength = 0;
        var currentLengthData;
        var segmentCount;
        var lengths;
        var segment;
        var shapes = [];
        var initPos;
        var newShape = true;
        if (!shapePath) {
          shapePath = shapePool.newElement();
          segmentCount = 0;
          initPos = 0;
        } else {
          segmentCount = shapePath._length;
          initPos = shapePath._length;
        }
        shapes.push(shapePath);
        for (i3 = 0; i3 < len; i3 += 1) {
          lengths = pathsData[i3].lengths;
          shapePath.c = shapePaths[i3].c;
          jLen = shapePaths[i3].c ? lengths.length : lengths.length + 1;
          for (j4 = 1; j4 < jLen; j4 += 1) {
            currentLengthData = lengths[j4 - 1];
            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {
              addedLength += currentLengthData.addedLength;
              shapePath.c = false;
            } else if (addedLength > shapeSegment.e) {
              shapePath.c = false;
              break;
            } else {
              if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {
                this.addSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[j4], shapePaths[i3].v[j4], shapePath, segmentCount, newShape);
                newShape = false;
              } else {
                segment = bez.getNewSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].v[j4], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[j4], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j4 - 1]);
                this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);
                newShape = false;
                shapePath.c = false;
              }
              addedLength += currentLengthData.addedLength;
              segmentCount += 1;
            }
          }
          if (shapePaths[i3].c && lengths.length) {
            currentLengthData = lengths[j4 - 1];
            if (addedLength <= shapeSegment.e) {
              var segmentLength = lengths[j4 - 1].addedLength;
              if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {
                this.addSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[0], shapePaths[i3].v[0], shapePath, segmentCount, newShape);
                newShape = false;
              } else {
                segment = bez.getNewSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].v[0], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j4 - 1]);
                this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);
                newShape = false;
                shapePath.c = false;
              }
            } else {
              shapePath.c = false;
            }
            addedLength += currentLengthData.addedLength;
            segmentCount += 1;
          }
          if (shapePath._length) {
            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], "i", initPos);
            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], "o", shapePath._length - 1);
          }
          if (addedLength > shapeSegment.e) {
            break;
          }
          if (i3 < len - 1) {
            shapePath = shapePool.newElement();
            newShape = true;
            shapes.push(shapePath);
            segmentCount = 0;
          }
        }
        return shapes;
      };
      function PuckerAndBloatModifier() {
      }
      extendPrototype([ShapeModifier], PuckerAndBloatModifier);
      PuckerAndBloatModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.amount = PropertyFactory.getProp(elem2, data2.a, 0, null, this);
        this._isAnimated = !!this.amount.effectsSequence.length;
      };
      PuckerAndBloatModifier.prototype.processPath = function(path, amount) {
        var percent = amount / 100;
        var centerPoint = [0, 0];
        var pathLength = path._length;
        var i3 = 0;
        for (i3 = 0; i3 < pathLength; i3 += 1) {
          centerPoint[0] += path.v[i3][0];
          centerPoint[1] += path.v[i3][1];
        }
        centerPoint[0] /= pathLength;
        centerPoint[1] /= pathLength;
        var clonedPath = shapePool.newElement();
        clonedPath.c = path.c;
        var vX;
        var vY;
        var oX;
        var oY;
        var iX;
        var iY;
        for (i3 = 0; i3 < pathLength; i3 += 1) {
          vX = path.v[i3][0] + (centerPoint[0] - path.v[i3][0]) * percent;
          vY = path.v[i3][1] + (centerPoint[1] - path.v[i3][1]) * percent;
          oX = path.o[i3][0] + (centerPoint[0] - path.o[i3][0]) * -percent;
          oY = path.o[i3][1] + (centerPoint[1] - path.o[i3][1]) * -percent;
          iX = path.i[i3][0] + (centerPoint[0] - path.i[i3][0]) * -percent;
          iY = path.i[i3][1] + (centerPoint[1] - path.i[i3][1]) * -percent;
          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i3);
        }
        return clonedPath;
      };
      PuckerAndBloatModifier.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var amount = this.amount.v;
        if (amount !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], amount));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      var TransformPropertyFactory = function() {
        var defaultVector = [0, 0];
        function applyToMatrix(mat) {
          var _mdf = this._mdf;
          this.iterateDynamicProperties();
          this._mdf = this._mdf || _mdf;
          if (this.a) {
            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
          }
          if (this.s) {
            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
          }
          if (this.sk) {
            mat.skewFromAxis(-this.sk.v, this.sa.v);
          }
          if (this.r) {
            mat.rotate(-this.r.v);
          } else {
            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
          }
          if (this.data.p.s) {
            if (this.data.p.z) {
              mat.translate(this.px.v, this.py.v, -this.pz.v);
            } else {
              mat.translate(this.px.v, this.py.v, 0);
            }
          } else {
            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);
          }
        }
        function processKeys(forceRender) {
          if (this.elem.globalData.frameId === this.frameId) {
            return;
          }
          if (this._isDirty) {
            this.precalculateMatrix();
            this._isDirty = false;
          }
          this.iterateDynamicProperties();
          if (this._mdf || forceRender) {
            var frameRate;
            this.v.cloneFromProps(this.pre.props);
            if (this.appliedTransformations < 1) {
              this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
            }
            if (this.appliedTransformations < 2) {
              this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
            }
            if (this.sk && this.appliedTransformations < 3) {
              this.v.skewFromAxis(-this.sk.v, this.sa.v);
            }
            if (this.r && this.appliedTransformations < 4) {
              this.v.rotate(-this.r.v);
            } else if (!this.r && this.appliedTransformations < 4) {
              this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
            }
            if (this.autoOriented) {
              var v1;
              var v2;
              frameRate = this.elem.globalData.frameRate;
              if (this.p && this.p.keyframes && this.p.getValueAtTime) {
                if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {
                  v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);
                  v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);
                } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {
                  v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);
                  v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);
                } else {
                  v1 = this.p.pv;
                  v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);
                }
              } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                v1 = [];
                v2 = [];
                var px = this.px;
                var py = this.py;
                if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {
                  v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);
                  v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);
                  v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);
                  v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);
                } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {
                  v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);
                  v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);
                  v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);
                  v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);
                } else {
                  v1 = [px.pv, py.pv];
                  v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);
                  v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);
                }
              } else {
                v2 = defaultVector;
                v1 = v2;
              }
              this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));
            }
            if (this.data.p && this.data.p.s) {
              if (this.data.p.z) {
                this.v.translate(this.px.v, this.py.v, -this.pz.v);
              } else {
                this.v.translate(this.px.v, this.py.v, 0);
              }
            } else {
              this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);
            }
          }
          this.frameId = this.elem.globalData.frameId;
        }
        function precalculateMatrix() {
          this.appliedTransformations = 0;
          this.pre.reset();
          if (!this.a.effectsSequence.length) {
            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
            this.appliedTransformations = 1;
          } else {
            return;
          }
          if (!this.s.effectsSequence.length) {
            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
            this.appliedTransformations = 2;
          } else {
            return;
          }
          if (this.sk) {
            if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {
              this.pre.skewFromAxis(-this.sk.v, this.sa.v);
              this.appliedTransformations = 3;
            } else {
              return;
            }
          }
          if (this.r) {
            if (!this.r.effectsSequence.length) {
              this.pre.rotate(-this.r.v);
              this.appliedTransformations = 4;
            }
          } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {
            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
            this.appliedTransformations = 4;
          }
        }
        function autoOrient() {
        }
        function addDynamicProperty(prop) {
          this._addDynamicProperty(prop);
          this.elem.addDynamicProperty(prop);
          this._isDirty = true;
        }
        function TransformProperty(elem2, data2, container) {
          this.elem = elem2;
          this.frameId = -1;
          this.propType = "transform";
          this.data = data2;
          this.v = new Matrix();
          this.pre = new Matrix();
          this.appliedTransformations = 0;
          this.initDynamicPropertyContainer(container || elem2);
          if (data2.p && data2.p.s) {
            this.px = PropertyFactory.getProp(elem2, data2.p.x, 0, 0, this);
            this.py = PropertyFactory.getProp(elem2, data2.p.y, 0, 0, this);
            if (data2.p.z) {
              this.pz = PropertyFactory.getProp(elem2, data2.p.z, 0, 0, this);
            }
          } else {
            this.p = PropertyFactory.getProp(elem2, data2.p || {
              k: [0, 0, 0]
            }, 1, 0, this);
          }
          if (data2.rx) {
            this.rx = PropertyFactory.getProp(elem2, data2.rx, 0, degToRads, this);
            this.ry = PropertyFactory.getProp(elem2, data2.ry, 0, degToRads, this);
            this.rz = PropertyFactory.getProp(elem2, data2.rz, 0, degToRads, this);
            if (data2.or.k[0].ti) {
              var i3;
              var len = data2.or.k.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                data2.or.k[i3].to = null;
                data2.or.k[i3].ti = null;
              }
            }
            this.or = PropertyFactory.getProp(elem2, data2.or, 1, degToRads, this);
            this.or.sh = true;
          } else {
            this.r = PropertyFactory.getProp(elem2, data2.r || {
              k: 0
            }, 0, degToRads, this);
          }
          if (data2.sk) {
            this.sk = PropertyFactory.getProp(elem2, data2.sk, 0, degToRads, this);
            this.sa = PropertyFactory.getProp(elem2, data2.sa, 0, degToRads, this);
          }
          this.a = PropertyFactory.getProp(elem2, data2.a || {
            k: [0, 0, 0]
          }, 1, 0, this);
          this.s = PropertyFactory.getProp(elem2, data2.s || {
            k: [100, 100, 100]
          }, 1, 0.01, this);
          if (data2.o) {
            this.o = PropertyFactory.getProp(elem2, data2.o, 0, 0.01, elem2);
          } else {
            this.o = {
              _mdf: false,
              v: 1
            };
          }
          this._isDirty = true;
          if (!this.dynamicProperties.length) {
            this.getValue(true);
          }
        }
        TransformProperty.prototype = {
          applyToMatrix,
          getValue: processKeys,
          precalculateMatrix,
          autoOrient
        };
        extendPrototype([DynamicPropertyContainer], TransformProperty);
        TransformProperty.prototype.addDynamicProperty = addDynamicProperty;
        TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;
        function getTransformProperty(elem2, data2, container) {
          return new TransformProperty(elem2, data2, container);
        }
        return {
          getTransformProperty
        };
      }();
      function RepeaterModifier() {
      }
      extendPrototype([ShapeModifier], RepeaterModifier);
      RepeaterModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.c = PropertyFactory.getProp(elem2, data2.c, 0, null, this);
        this.o = PropertyFactory.getProp(elem2, data2.o, 0, null, this);
        this.tr = TransformPropertyFactory.getTransformProperty(elem2, data2.tr, this);
        this.so = PropertyFactory.getProp(elem2, data2.tr.so, 0, 0.01, this);
        this.eo = PropertyFactory.getProp(elem2, data2.tr.eo, 0, 0.01, this);
        this.data = data2;
        if (!this.dynamicProperties.length) {
          this.getValue(true);
        }
        this._isAnimated = !!this.dynamicProperties.length;
        this.pMatrix = new Matrix();
        this.rMatrix = new Matrix();
        this.sMatrix = new Matrix();
        this.tMatrix = new Matrix();
        this.matrix = new Matrix();
      };
      RepeaterModifier.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform2, perc, inv) {
        var dir = inv ? -1 : 1;
        var scaleX = transform2.s.v[0] + (1 - transform2.s.v[0]) * (1 - perc);
        var scaleY = transform2.s.v[1] + (1 - transform2.s.v[1]) * (1 - perc);
        pMatrix.translate(transform2.p.v[0] * dir * perc, transform2.p.v[1] * dir * perc, transform2.p.v[2]);
        rMatrix.translate(-transform2.a.v[0], -transform2.a.v[1], transform2.a.v[2]);
        rMatrix.rotate(-transform2.r.v * dir * perc);
        rMatrix.translate(transform2.a.v[0], transform2.a.v[1], transform2.a.v[2]);
        sMatrix.translate(-transform2.a.v[0], -transform2.a.v[1], transform2.a.v[2]);
        sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);
        sMatrix.translate(transform2.a.v[0], transform2.a.v[1], transform2.a.v[2]);
      };
      RepeaterModifier.prototype.init = function(elem2, arr, pos, elemsData) {
        this.elem = elem2;
        this.arr = arr;
        this.pos = pos;
        this.elemsData = elemsData;
        this._currentCopies = 0;
        this._elements = [];
        this._groups = [];
        this.frameId = -1;
        this.initDynamicPropertyContainer(elem2);
        this.initModifierProperties(elem2, arr[pos]);
        while (pos > 0) {
          pos -= 1;
          this._elements.unshift(arr[pos]);
        }
        if (this.dynamicProperties.length) {
          this.k = true;
        } else {
          this.getValue(true);
        }
      };
      RepeaterModifier.prototype.resetElements = function(elements) {
        var i3;
        var len = elements.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          elements[i3]._processed = false;
          if (elements[i3].ty === "gr") {
            this.resetElements(elements[i3].it);
          }
        }
      };
      RepeaterModifier.prototype.cloneElements = function(elements) {
        var newElements = JSON.parse(JSON.stringify(elements));
        this.resetElements(newElements);
        return newElements;
      };
      RepeaterModifier.prototype.changeGroupRender = function(elements, renderFlag) {
        var i3;
        var len = elements.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          elements[i3]._render = renderFlag;
          if (elements[i3].ty === "gr") {
            this.changeGroupRender(elements[i3].it, renderFlag);
          }
        }
      };
      RepeaterModifier.prototype.processShapes = function(_isFirstFrame) {
        var items;
        var itemsTransform;
        var i3;
        var dir;
        var cont;
        var hasReloaded = false;
        if (this._mdf || _isFirstFrame) {
          var copies = Math.ceil(this.c.v);
          if (this._groups.length < copies) {
            while (this._groups.length < copies) {
              var group = {
                it: this.cloneElements(this._elements),
                ty: "gr"
              };
              group.it.push({
                a: {
                  a: 0,
                  ix: 1,
                  k: [0, 0]
                },
                nm: "Transform",
                o: {
                  a: 0,
                  ix: 7,
                  k: 100
                },
                p: {
                  a: 0,
                  ix: 2,
                  k: [0, 0]
                },
                r: {
                  a: 1,
                  ix: 6,
                  k: [{
                    s: 0,
                    e: 0,
                    t: 0
                  }, {
                    s: 0,
                    e: 0,
                    t: 1
                  }]
                },
                s: {
                  a: 0,
                  ix: 3,
                  k: [100, 100]
                },
                sa: {
                  a: 0,
                  ix: 5,
                  k: 0
                },
                sk: {
                  a: 0,
                  ix: 4,
                  k: 0
                },
                ty: "tr"
              });
              this.arr.splice(0, 0, group);
              this._groups.splice(0, 0, group);
              this._currentCopies += 1;
            }
            this.elem.reloadShapes();
            hasReloaded = true;
          }
          cont = 0;
          var renderFlag;
          for (i3 = 0; i3 <= this._groups.length - 1; i3 += 1) {
            renderFlag = cont < copies;
            this._groups[i3]._render = renderFlag;
            this.changeGroupRender(this._groups[i3].it, renderFlag);
            if (!renderFlag) {
              var elems = this.elemsData[i3].it;
              var transformData = elems[elems.length - 1];
              if (transformData.transform.op.v !== 0) {
                transformData.transform.op._mdf = true;
                transformData.transform.op.v = 0;
              } else {
                transformData.transform.op._mdf = false;
              }
            }
            cont += 1;
          }
          this._currentCopies = copies;
          var offset = this.o.v;
          var offsetModulo = offset % 1;
          var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);
          var pProps = this.pMatrix.props;
          var rProps = this.rMatrix.props;
          var sProps = this.sMatrix.props;
          this.pMatrix.reset();
          this.rMatrix.reset();
          this.sMatrix.reset();
          this.tMatrix.reset();
          this.matrix.reset();
          var iteration = 0;
          if (offset > 0) {
            while (iteration < roundOffset) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);
              iteration += 1;
            }
            if (offsetModulo) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);
              iteration += offsetModulo;
            }
          } else if (offset < 0) {
            while (iteration > roundOffset) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);
              iteration -= 1;
            }
            if (offsetModulo) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);
              iteration -= offsetModulo;
            }
          }
          i3 = this.data.m === 1 ? 0 : this._currentCopies - 1;
          dir = this.data.m === 1 ? 1 : -1;
          cont = this._currentCopies;
          var j4;
          var jLen;
          while (cont) {
            items = this.elemsData[i3].it;
            itemsTransform = items[items.length - 1].transform.mProps.v.props;
            jLen = itemsTransform.length;
            items[items.length - 1].transform.mProps._mdf = true;
            items[items.length - 1].transform.op._mdf = true;
            items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i3 / (this._currentCopies - 1));
            if (iteration !== 0) {
              if (i3 !== 0 && dir === 1 || i3 !== this._currentCopies - 1 && dir === -1) {
                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);
              }
              this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);
              this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);
              this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsTransform[j4] = this.matrix.props[j4];
              }
              this.matrix.reset();
            } else {
              this.matrix.reset();
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsTransform[j4] = this.matrix.props[j4];
              }
            }
            iteration += 1;
            cont -= 1;
            i3 += dir;
          }
        } else {
          cont = this._currentCopies;
          i3 = 0;
          dir = 1;
          while (cont) {
            items = this.elemsData[i3].it;
            itemsTransform = items[items.length - 1].transform.mProps.v.props;
            items[items.length - 1].transform.mProps._mdf = false;
            items[items.length - 1].transform.op._mdf = false;
            cont -= 1;
            i3 += dir;
          }
        }
        return hasReloaded;
      };
      RepeaterModifier.prototype.addShape = function() {
      };
      function RoundCornersModifier() {
      }
      extendPrototype([ShapeModifier], RoundCornersModifier);
      RoundCornersModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.rd = PropertyFactory.getProp(elem2, data2.r, 0, null, this);
        this._isAnimated = !!this.rd.effectsSequence.length;
      };
      RoundCornersModifier.prototype.processPath = function(path, round) {
        var clonedPath = shapePool.newElement();
        clonedPath.c = path.c;
        var i3;
        var len = path._length;
        var currentV;
        var currentI;
        var currentO;
        var closerV;
        var distance;
        var newPosPerc;
        var index2 = 0;
        var vX;
        var vY;
        var oX;
        var oY;
        var iX;
        var iY;
        for (i3 = 0; i3 < len; i3 += 1) {
          currentV = path.v[i3];
          currentO = path.o[i3];
          currentI = path.i[i3];
          if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {
            if ((i3 === 0 || i3 === len - 1) && !path.c) {
              clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index2);
              index2 += 1;
            } else {
              if (i3 === 0) {
                closerV = path.v[len - 1];
              } else {
                closerV = path.v[i3 - 1];
              }
              distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));
              newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;
              iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;
              vX = iX;
              iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;
              vY = iY;
              oX = vX - (vX - currentV[0]) * roundCorner;
              oY = vY - (vY - currentV[1]) * roundCorner;
              clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index2);
              index2 += 1;
              if (i3 === len - 1) {
                closerV = path.v[0];
              } else {
                closerV = path.v[i3 + 1];
              }
              distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));
              newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;
              oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;
              vX = oX;
              oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;
              vY = oY;
              iX = vX - (vX - currentV[0]) * roundCorner;
              iY = vY - (vY - currentV[1]) * roundCorner;
              clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index2);
              index2 += 1;
            }
          } else {
            clonedPath.setTripleAt(path.v[i3][0], path.v[i3][1], path.o[i3][0], path.o[i3][1], path.i[i3][0], path.i[i3][1], index2);
            index2 += 1;
          }
        }
        return clonedPath;
      };
      RoundCornersModifier.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var rd = this.rd.v;
        if (rd !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], rd));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      function floatEqual(a4, b3) {
        return Math.abs(a4 - b3) * 1e5 <= Math.min(Math.abs(a4), Math.abs(b3));
      }
      function floatZero(f3) {
        return Math.abs(f3) <= 1e-5;
      }
      function lerp(p0, p1, amount) {
        return p0 * (1 - amount) + p1 * amount;
      }
      function lerpPoint(p0, p1, amount) {
        return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];
      }
      function quadRoots(a4, b3, c3) {
        if (a4 === 0)
          return [];
        var s2 = b3 * b3 - 4 * a4 * c3;
        if (s2 < 0)
          return [];
        var singleRoot = -b3 / (2 * a4);
        if (s2 === 0)
          return [singleRoot];
        var delta = Math.sqrt(s2) / (2 * a4);
        return [singleRoot - delta, singleRoot + delta];
      }
      function polynomialCoefficients(p0, p1, p22, p32) {
        return [-p0 + 3 * p1 - 3 * p22 + p32, 3 * p0 - 6 * p1 + 3 * p22, -3 * p0 + 3 * p1, p0];
      }
      function singlePoint(p6) {
        return new PolynomialBezier(p6, p6, p6, p6, false);
      }
      function PolynomialBezier(p0, p1, p22, p32, linearize) {
        if (linearize && pointEqual(p0, p1)) {
          p1 = lerpPoint(p0, p32, 1 / 3);
        }
        if (linearize && pointEqual(p22, p32)) {
          p22 = lerpPoint(p0, p32, 2 / 3);
        }
        var coeffx = polynomialCoefficients(p0[0], p1[0], p22[0], p32[0]);
        var coeffy = polynomialCoefficients(p0[1], p1[1], p22[1], p32[1]);
        this.a = [coeffx[0], coeffy[0]];
        this.b = [coeffx[1], coeffy[1]];
        this.c = [coeffx[2], coeffy[2]];
        this.d = [coeffx[3], coeffy[3]];
        this.points = [p0, p1, p22, p32];
      }
      PolynomialBezier.prototype.point = function(t2) {
        return [((this.a[0] * t2 + this.b[0]) * t2 + this.c[0]) * t2 + this.d[0], ((this.a[1] * t2 + this.b[1]) * t2 + this.c[1]) * t2 + this.d[1]];
      };
      PolynomialBezier.prototype.derivative = function(t2) {
        return [(3 * t2 * this.a[0] + 2 * this.b[0]) * t2 + this.c[0], (3 * t2 * this.a[1] + 2 * this.b[1]) * t2 + this.c[1]];
      };
      PolynomialBezier.prototype.tangentAngle = function(t2) {
        var p6 = this.derivative(t2);
        return Math.atan2(p6[1], p6[0]);
      };
      PolynomialBezier.prototype.normalAngle = function(t2) {
        var p6 = this.derivative(t2);
        return Math.atan2(p6[0], p6[1]);
      };
      PolynomialBezier.prototype.inflectionPoints = function() {
        var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];
        if (floatZero(denom))
          return [];
        var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;
        var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;
        if (square < 0)
          return [];
        var root = Math.sqrt(square);
        if (floatZero(root)) {
          if (root > 0 && root < 1)
            return [tcusp];
          return [];
        }
        return [tcusp - root, tcusp + root].filter(function(r3) {
          return r3 > 0 && r3 < 1;
        });
      };
      PolynomialBezier.prototype.split = function(t2) {
        if (t2 <= 0)
          return [singlePoint(this.points[0]), this];
        if (t2 >= 1)
          return [this, singlePoint(this.points[this.points.length - 1])];
        var p10 = lerpPoint(this.points[0], this.points[1], t2);
        var p11 = lerpPoint(this.points[1], this.points[2], t2);
        var p12 = lerpPoint(this.points[2], this.points[3], t2);
        var p20 = lerpPoint(p10, p11, t2);
        var p21 = lerpPoint(p11, p12, t2);
        var p32 = lerpPoint(p20, p21, t2);
        return [new PolynomialBezier(this.points[0], p10, p20, p32, true), new PolynomialBezier(p32, p21, p12, this.points[3], true)];
      };
      function extrema(bez2, comp2) {
        var min = bez2.points[0][comp2];
        var max = bez2.points[bez2.points.length - 1][comp2];
        if (min > max) {
          var e2 = max;
          max = min;
          min = e2;
        }
        var f3 = quadRoots(3 * bez2.a[comp2], 2 * bez2.b[comp2], bez2.c[comp2]);
        for (var i3 = 0; i3 < f3.length; i3 += 1) {
          if (f3[i3] > 0 && f3[i3] < 1) {
            var val2 = bez2.point(f3[i3])[comp2];
            if (val2 < min)
              min = val2;
            else if (val2 > max)
              max = val2;
          }
        }
        return {
          min,
          max
        };
      }
      PolynomialBezier.prototype.bounds = function() {
        return {
          x: extrema(this, 0),
          y: extrema(this, 1)
        };
      };
      PolynomialBezier.prototype.boundingBox = function() {
        var bounds = this.bounds();
        return {
          left: bounds.x.min,
          right: bounds.x.max,
          top: bounds.y.min,
          bottom: bounds.y.max,
          width: bounds.x.max - bounds.x.min,
          height: bounds.y.max - bounds.y.min,
          cx: (bounds.x.max + bounds.x.min) / 2,
          cy: (bounds.y.max + bounds.y.min) / 2
        };
      };
      function intersectData(bez2, t1, t2) {
        var box = bez2.boundingBox();
        return {
          cx: box.cx,
          cy: box.cy,
          width: box.width,
          height: box.height,
          bez: bez2,
          t: (t1 + t2) / 2,
          t1,
          t2
        };
      }
      function splitData(data2) {
        var split = data2.bez.split(0.5);
        return [intersectData(split[0], data2.t1, data2.t), intersectData(split[1], data2.t, data2.t2)];
      }
      function boxIntersect(b1, b22) {
        return Math.abs(b1.cx - b22.cx) * 2 < b1.width + b22.width && Math.abs(b1.cy - b22.cy) * 2 < b1.height + b22.height;
      }
      function intersectsImpl(d1, d22, depth, tolerance, intersections, maxRecursion) {
        if (!boxIntersect(d1, d22))
          return;
        if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d22.width <= tolerance && d22.height <= tolerance) {
          intersections.push([d1.t, d22.t]);
          return;
        }
        var d1s = splitData(d1);
        var d2s = splitData(d22);
        intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);
        intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);
        intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);
        intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);
      }
      PolynomialBezier.prototype.intersections = function(other, tolerance, maxRecursion) {
        if (tolerance === void 0)
          tolerance = 2;
        if (maxRecursion === void 0)
          maxRecursion = 7;
        var intersections = [];
        intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);
        return intersections;
      };
      PolynomialBezier.shapeSegment = function(shapePath, index2) {
        var nextIndex = (index2 + 1) % shapePath.length();
        return new PolynomialBezier(shapePath.v[index2], shapePath.o[index2], shapePath.i[nextIndex], shapePath.v[nextIndex], true);
      };
      PolynomialBezier.shapeSegmentInverted = function(shapePath, index2) {
        var nextIndex = (index2 + 1) % shapePath.length();
        return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index2], shapePath.v[index2], true);
      };
      function crossProduct(a4, b3) {
        return [a4[1] * b3[2] - a4[2] * b3[1], a4[2] * b3[0] - a4[0] * b3[2], a4[0] * b3[1] - a4[1] * b3[0]];
      }
      function lineIntersection(start1, end1, start2, end2) {
        var v1 = [start1[0], start1[1], 1];
        var v2 = [end1[0], end1[1], 1];
        var v3 = [start2[0], start2[1], 1];
        var v4 = [end2[0], end2[1], 1];
        var r3 = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));
        if (floatZero(r3[2]))
          return null;
        return [r3[0] / r3[2], r3[1] / r3[2]];
      }
      function polarOffset(p6, angle, length3) {
        return [p6[0] + Math.cos(angle) * length3, p6[1] - Math.sin(angle) * length3];
      }
      function pointDistance(p1, p22) {
        return Math.hypot(p1[0] - p22[0], p1[1] - p22[1]);
      }
      function pointEqual(p1, p22) {
        return floatEqual(p1[0], p22[0]) && floatEqual(p1[1], p22[1]);
      }
      function ZigZagModifier() {
      }
      extendPrototype([ShapeModifier], ZigZagModifier);
      ZigZagModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.amplitude = PropertyFactory.getProp(elem2, data2.s, 0, null, this);
        this.frequency = PropertyFactory.getProp(elem2, data2.r, 0, null, this);
        this.pointsType = PropertyFactory.getProp(elem2, data2.pt, 0, null, this);
        this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;
      };
      function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {
        var angO = angle - Math.PI / 2;
        var angI = angle + Math.PI / 2;
        var px = point[0] + Math.cos(angle) * direction * amplitude;
        var py = point[1] - Math.sin(angle) * direction * amplitude;
        outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());
      }
      function getPerpendicularVector(pt1, pt22) {
        var vector = [pt22[0] - pt1[0], pt22[1] - pt1[1]];
        var rot = -Math.PI * 0.5;
        var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];
        return rotatedVector;
      }
      function getProjectingAngle(path, cur) {
        var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;
        var nextIndex = (cur + 1) % path.length();
        var prevPoint = path.v[prevIndex];
        var nextPoint = path.v[nextIndex];
        var pVector = getPerpendicularVector(prevPoint, nextPoint);
        return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);
      }
      function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {
        var angle = getProjectingAngle(path, cur);
        var point = path.v[cur % path._length];
        var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];
        var nextPoint = path.v[(cur + 1) % path._length];
        var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;
        var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;
        setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);
      }
      function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {
        for (var i3 = 0; i3 < frequency; i3 += 1) {
          var t2 = (i3 + 1) / (frequency + 1);
          var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;
          var angle = segment.normalAngle(t2);
          var point = segment.point(t2);
          setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);
          direction = -direction;
        }
        return direction;
      }
      ZigZagModifier.prototype.processPath = function(path, amplitude, frequency, pointType) {
        var count = path._length;
        var clonedPath = shapePool.newElement();
        clonedPath.c = path.c;
        if (!path.c) {
          count -= 1;
        }
        if (count === 0)
          return clonedPath;
        var direction = -1;
        var segment = PolynomialBezier.shapeSegment(path, 0);
        zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);
        for (var i3 = 0; i3 < count; i3 += 1) {
          direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);
          if (i3 === count - 1 && !path.c) {
            segment = null;
          } else {
            segment = PolynomialBezier.shapeSegment(path, (i3 + 1) % count);
          }
          zigZagCorner(clonedPath, path, i3 + 1, amplitude, frequency, pointType, direction);
        }
        return clonedPath;
      };
      ZigZagModifier.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var amplitude = this.amplitude.v;
        var frequency = Math.max(0, Math.round(this.frequency.v));
        var pointType = this.pointsType.v;
        if (amplitude !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], amplitude, frequency, pointType));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      function linearOffset(p1, p22, amount) {
        var angle = Math.atan2(p22[0] - p1[0], p22[1] - p1[1]);
        return [polarOffset(p1, angle, amount), polarOffset(p22, angle, amount)];
      }
      function offsetSegment(segment, amount) {
        var p0;
        var p1a;
        var p1b;
        var p2b;
        var p2a;
        var p32;
        var e2;
        e2 = linearOffset(segment.points[0], segment.points[1], amount);
        p0 = e2[0];
        p1a = e2[1];
        e2 = linearOffset(segment.points[1], segment.points[2], amount);
        p1b = e2[0];
        p2b = e2[1];
        e2 = linearOffset(segment.points[2], segment.points[3], amount);
        p2a = e2[0];
        p32 = e2[1];
        var p1 = lineIntersection(p0, p1a, p1b, p2b);
        if (p1 === null)
          p1 = p1a;
        var p22 = lineIntersection(p2a, p32, p1b, p2b);
        if (p22 === null)
          p22 = p2a;
        return new PolynomialBezier(p0, p1, p22, p32);
      }
      function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {
        var p0 = seg1.points[3];
        var p1 = seg2.points[0];
        if (lineJoin === 3)
          return p0;
        if (pointEqual(p0, p1))
          return p0;
        if (lineJoin === 2) {
          var angleOut = -seg1.tangentAngle(1);
          var angleIn = -seg2.tangentAngle(0) + Math.PI;
          var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));
          var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;
          var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);
          outputBezier.setXYAt(tan[0], tan[1], "o", outputBezier.length() - 1);
          tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);
          outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());
          return p1;
        }
        var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];
        var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];
        var intersection = lineIntersection(t0, p0, p1, t1);
        if (intersection && pointDistance(intersection, p0) < miterLimit) {
          outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());
          return intersection;
        }
        return p0;
      }
      function getIntersection(a4, b3) {
        var intersect = a4.intersections(b3);
        if (intersect.length && floatEqual(intersect[0][0], 1))
          intersect.shift();
        if (intersect.length)
          return intersect[0];
        return null;
      }
      function pruneSegmentIntersection(a4, b3) {
        var outa = a4.slice();
        var outb = b3.slice();
        var intersect = getIntersection(a4[a4.length - 1], b3[0]);
        if (intersect) {
          outa[a4.length - 1] = a4[a4.length - 1].split(intersect[0])[0];
          outb[0] = b3[0].split(intersect[1])[1];
        }
        if (a4.length > 1 && b3.length > 1) {
          intersect = getIntersection(a4[0], b3[b3.length - 1]);
          if (intersect) {
            return [[a4[0].split(intersect[0])[0]], [b3[b3.length - 1].split(intersect[1])[1]]];
          }
        }
        return [outa, outb];
      }
      function pruneIntersections(segments) {
        var e2;
        for (var i3 = 1; i3 < segments.length; i3 += 1) {
          e2 = pruneSegmentIntersection(segments[i3 - 1], segments[i3]);
          segments[i3 - 1] = e2[0];
          segments[i3] = e2[1];
        }
        if (segments.length > 1) {
          e2 = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);
          segments[segments.length - 1] = e2[0];
          segments[0] = e2[1];
        }
        return segments;
      }
      function offsetSegmentSplit(segment, amount) {
        var flex = segment.inflectionPoints();
        var left;
        var right;
        var split;
        var mid;
        if (flex.length === 0) {
          return [offsetSegment(segment, amount)];
        }
        if (flex.length === 1 || floatEqual(flex[1], 1)) {
          split = segment.split(flex[0]);
          left = split[0];
          right = split[1];
          return [offsetSegment(left, amount), offsetSegment(right, amount)];
        }
        split = segment.split(flex[0]);
        left = split[0];
        var t2 = (flex[1] - flex[0]) / (1 - flex[0]);
        split = split[1].split(t2);
        mid = split[0];
        right = split[1];
        return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];
      }
      function OffsetPathModifier() {
      }
      extendPrototype([ShapeModifier], OffsetPathModifier);
      OffsetPathModifier.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.amount = PropertyFactory.getProp(elem2, data2.a, 0, null, this);
        this.miterLimit = PropertyFactory.getProp(elem2, data2.ml, 0, null, this);
        this.lineJoin = data2.lj;
        this._isAnimated = this.amount.effectsSequence.length !== 0;
      };
      OffsetPathModifier.prototype.processPath = function(inputBezier, amount, lineJoin, miterLimit) {
        var outputBezier = shapePool.newElement();
        outputBezier.c = inputBezier.c;
        var count = inputBezier.length();
        if (!inputBezier.c) {
          count -= 1;
        }
        var i3;
        var j4;
        var segment;
        var multiSegments = [];
        for (i3 = 0; i3 < count; i3 += 1) {
          segment = PolynomialBezier.shapeSegment(inputBezier, i3);
          multiSegments.push(offsetSegmentSplit(segment, amount));
        }
        if (!inputBezier.c) {
          for (i3 = count - 1; i3 >= 0; i3 -= 1) {
            segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i3);
            multiSegments.push(offsetSegmentSplit(segment, amount));
          }
        }
        multiSegments = pruneIntersections(multiSegments);
        var lastPoint = null;
        var lastSeg = null;
        for (i3 = 0; i3 < multiSegments.length; i3 += 1) {
          var multiSegment = multiSegments[i3];
          if (lastSeg)
            lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);
          lastSeg = multiSegment[multiSegment.length - 1];
          for (j4 = 0; j4 < multiSegment.length; j4 += 1) {
            segment = multiSegment[j4];
            if (lastPoint && pointEqual(segment.points[0], lastPoint)) {
              outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], "o", outputBezier.length() - 1);
            } else {
              outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());
            }
            outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());
            lastPoint = segment.points[3];
          }
        }
        if (multiSegments.length)
          joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);
        return outputBezier;
      };
      OffsetPathModifier.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var amount = this.amount.v;
        var miterLimit = this.miterLimit.v;
        var lineJoin = this.lineJoin;
        if (amount !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], amount, lineJoin, miterLimit));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      function getFontProperties(fontData) {
        var styles = fontData.fStyle ? fontData.fStyle.split(" ") : [];
        var fWeight = "normal";
        var fStyle = "normal";
        var len = styles.length;
        var styleName;
        for (var i3 = 0; i3 < len; i3 += 1) {
          styleName = styles[i3].toLowerCase();
          switch (styleName) {
            case "italic":
              fStyle = "italic";
              break;
            case "bold":
              fWeight = "700";
              break;
            case "black":
              fWeight = "900";
              break;
            case "medium":
              fWeight = "500";
              break;
            case "regular":
            case "normal":
              fWeight = "400";
              break;
            case "light":
            case "thin":
              fWeight = "200";
              break;
            default:
              break;
          }
        }
        return {
          style: fStyle,
          weight: fontData.fWeight || fWeight
        };
      }
      var FontManager = function() {
        var maxWaitingTime = 5e3;
        var emptyChar = {
          w: 0,
          size: 0,
          shapes: [],
          data: {
            shapes: []
          }
        };
        var combinedCharacters = [];
        combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);
        var BLACK_FLAG_CODE_POINT = 127988;
        var CANCEL_TAG_CODE_POINT = 917631;
        var A_TAG_CODE_POINT = 917601;
        var Z_TAG_CODE_POINT = 917626;
        var VARIATION_SELECTOR_16_CODE_POINT = 65039;
        var ZERO_WIDTH_JOINER_CODE_POINT = 8205;
        var REGIONAL_CHARACTER_A_CODE_POINT = 127462;
        var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;
        var surrogateModifiers = ["d83cdffb", "d83cdffc", "d83cdffd", "d83cdffe", "d83cdfff"];
        function trimFontOptions(font) {
          var familyArray = font.split(",");
          var i3;
          var len = familyArray.length;
          var enabledFamilies = [];
          for (i3 = 0; i3 < len; i3 += 1) {
            if (familyArray[i3] !== "sans-serif" && familyArray[i3] !== "monospace") {
              enabledFamilies.push(familyArray[i3]);
            }
          }
          return enabledFamilies.join(",");
        }
        function setUpNode(font, family) {
          var parentNode = createTag("span");
          parentNode.setAttribute("aria-hidden", true);
          parentNode.style.fontFamily = family;
          var node = createTag("span");
          node.innerText = "giItT1WQy@!-/#";
          parentNode.style.position = "absolute";
          parentNode.style.left = "-10000px";
          parentNode.style.top = "-10000px";
          parentNode.style.fontSize = "300px";
          parentNode.style.fontVariant = "normal";
          parentNode.style.fontStyle = "normal";
          parentNode.style.fontWeight = "normal";
          parentNode.style.letterSpacing = "0";
          parentNode.appendChild(node);
          document.body.appendChild(parentNode);
          var width2 = node.offsetWidth;
          node.style.fontFamily = trimFontOptions(font) + ", " + family;
          return {
            node,
            w: width2,
            parent: parentNode
          };
        }
        function checkLoadedFonts() {
          var i3;
          var len = this.fonts.length;
          var node;
          var w4;
          var loadedCount = len;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.fonts[i3].loaded) {
              loadedCount -= 1;
            } else if (this.fonts[i3].fOrigin === "n" || this.fonts[i3].origin === 0) {
              this.fonts[i3].loaded = true;
            } else {
              node = this.fonts[i3].monoCase.node;
              w4 = this.fonts[i3].monoCase.w;
              if (node.offsetWidth !== w4) {
                loadedCount -= 1;
                this.fonts[i3].loaded = true;
              } else {
                node = this.fonts[i3].sansCase.node;
                w4 = this.fonts[i3].sansCase.w;
                if (node.offsetWidth !== w4) {
                  loadedCount -= 1;
                  this.fonts[i3].loaded = true;
                }
              }
              if (this.fonts[i3].loaded) {
                this.fonts[i3].sansCase.parent.parentNode.removeChild(this.fonts[i3].sansCase.parent);
                this.fonts[i3].monoCase.parent.parentNode.removeChild(this.fonts[i3].monoCase.parent);
              }
            }
          }
          if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {
            setTimeout(this.checkLoadedFontsBinded, 20);
          } else {
            setTimeout(this.setIsLoadedBinded, 10);
          }
        }
        function createHelper(fontData, def) {
          var engine = document.body && def ? "svg" : "canvas";
          var helper;
          var fontProps = getFontProperties(fontData);
          if (engine === "svg") {
            var tHelper = createNS("text");
            tHelper.style.fontSize = "100px";
            tHelper.setAttribute("font-family", fontData.fFamily);
            tHelper.setAttribute("font-style", fontProps.style);
            tHelper.setAttribute("font-weight", fontProps.weight);
            tHelper.textContent = "1";
            if (fontData.fClass) {
              tHelper.style.fontFamily = "inherit";
              tHelper.setAttribute("class", fontData.fClass);
            } else {
              tHelper.style.fontFamily = fontData.fFamily;
            }
            def.appendChild(tHelper);
            helper = tHelper;
          } else {
            var tCanvasHelper = new OffscreenCanvas(500, 500).getContext("2d");
            tCanvasHelper.font = fontProps.style + " " + fontProps.weight + " 100px " + fontData.fFamily;
            helper = tCanvasHelper;
          }
          function measure(text2) {
            if (engine === "svg") {
              helper.textContent = text2;
              return helper.getComputedTextLength();
            }
            return helper.measureText(text2).width;
          }
          return {
            measureText: measure
          };
        }
        function addFonts(fontData, defs) {
          if (!fontData) {
            this.isLoaded = true;
            return;
          }
          if (this.chars) {
            this.isLoaded = true;
            this.fonts = fontData.list;
            return;
          }
          if (!document.body) {
            this.isLoaded = true;
            fontData.list.forEach(function(data2) {
              data2.helper = createHelper(data2);
              data2.cache = {};
            });
            this.fonts = fontData.list;
            return;
          }
          var fontArr = fontData.list;
          var i3;
          var len = fontArr.length;
          var _pendingFonts = len;
          for (i3 = 0; i3 < len; i3 += 1) {
            var shouldLoadFont = true;
            var loadedSelector;
            var j4;
            fontArr[i3].loaded = false;
            fontArr[i3].monoCase = setUpNode(fontArr[i3].fFamily, "monospace");
            fontArr[i3].sansCase = setUpNode(fontArr[i3].fFamily, "sans-serif");
            if (!fontArr[i3].fPath) {
              fontArr[i3].loaded = true;
              _pendingFonts -= 1;
            } else if (fontArr[i3].fOrigin === "p" || fontArr[i3].origin === 3) {
              loadedSelector = document.querySelectorAll('style[f-forigin="p"][f-family="' + fontArr[i3].fFamily + '"], style[f-origin="3"][f-family="' + fontArr[i3].fFamily + '"]');
              if (loadedSelector.length > 0) {
                shouldLoadFont = false;
              }
              if (shouldLoadFont) {
                var s2 = createTag("style");
                s2.setAttribute("f-forigin", fontArr[i3].fOrigin);
                s2.setAttribute("f-origin", fontArr[i3].origin);
                s2.setAttribute("f-family", fontArr[i3].fFamily);
                s2.type = "text/css";
                s2.innerText = "@font-face {font-family: " + fontArr[i3].fFamily + "; font-style: normal; src: url('" + fontArr[i3].fPath + "');}";
                defs.appendChild(s2);
              }
            } else if (fontArr[i3].fOrigin === "g" || fontArr[i3].origin === 1) {
              loadedSelector = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');
              for (j4 = 0; j4 < loadedSelector.length; j4 += 1) {
                if (loadedSelector[j4].href.indexOf(fontArr[i3].fPath) !== -1) {
                  shouldLoadFont = false;
                }
              }
              if (shouldLoadFont) {
                var l4 = createTag("link");
                l4.setAttribute("f-forigin", fontArr[i3].fOrigin);
                l4.setAttribute("f-origin", fontArr[i3].origin);
                l4.type = "text/css";
                l4.rel = "stylesheet";
                l4.href = fontArr[i3].fPath;
                document.body.appendChild(l4);
              }
            } else if (fontArr[i3].fOrigin === "t" || fontArr[i3].origin === 2) {
              loadedSelector = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');
              for (j4 = 0; j4 < loadedSelector.length; j4 += 1) {
                if (fontArr[i3].fPath === loadedSelector[j4].src) {
                  shouldLoadFont = false;
                }
              }
              if (shouldLoadFont) {
                var sc = createTag("link");
                sc.setAttribute("f-forigin", fontArr[i3].fOrigin);
                sc.setAttribute("f-origin", fontArr[i3].origin);
                sc.setAttribute("rel", "stylesheet");
                sc.setAttribute("href", fontArr[i3].fPath);
                defs.appendChild(sc);
              }
            }
            fontArr[i3].helper = createHelper(fontArr[i3], defs);
            fontArr[i3].cache = {};
            this.fonts.push(fontArr[i3]);
          }
          if (_pendingFonts === 0) {
            this.isLoaded = true;
          } else {
            setTimeout(this.checkLoadedFonts.bind(this), 100);
          }
        }
        function addChars(chars) {
          if (!chars) {
            return;
          }
          if (!this.chars) {
            this.chars = [];
          }
          var i3;
          var len = chars.length;
          var j4;
          var jLen = this.chars.length;
          var found;
          for (i3 = 0; i3 < len; i3 += 1) {
            j4 = 0;
            found = false;
            while (j4 < jLen) {
              if (this.chars[j4].style === chars[i3].style && this.chars[j4].fFamily === chars[i3].fFamily && this.chars[j4].ch === chars[i3].ch) {
                found = true;
              }
              j4 += 1;
            }
            if (!found) {
              this.chars.push(chars[i3]);
              jLen += 1;
            }
          }
        }
        function getCharData(_char, style, font) {
          var i3 = 0;
          var len = this.chars.length;
          while (i3 < len) {
            if (this.chars[i3].ch === _char && this.chars[i3].style === style && this.chars[i3].fFamily === font) {
              return this.chars[i3];
            }
            i3 += 1;
          }
          if ((typeof _char === "string" && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn && !this._warned) {
            this._warned = true;
            console.warn("Missing character from exported characters list: ", _char, style, font);
          }
          return emptyChar;
        }
        function measureText(_char2, fontName, size) {
          var fontData = this.getFontByName(fontName);
          var index2 = _char2;
          if (!fontData.cache[index2]) {
            var tHelper = fontData.helper;
            if (_char2 === " ") {
              var doubleSize = tHelper.measureText("|" + _char2 + "|");
              var singleSize = tHelper.measureText("||");
              fontData.cache[index2] = (doubleSize - singleSize) / 100;
            } else {
              fontData.cache[index2] = tHelper.measureText(_char2) / 100;
            }
          }
          return fontData.cache[index2] * size;
        }
        function getFontByName(name3) {
          var i3 = 0;
          var len = this.fonts.length;
          while (i3 < len) {
            if (this.fonts[i3].fName === name3) {
              return this.fonts[i3];
            }
            i3 += 1;
          }
          return this.fonts[0];
        }
        function getCodePoint(string2) {
          var codePoint = 0;
          var first = string2.charCodeAt(0);
          if (first >= 55296 && first <= 56319) {
            var second = string2.charCodeAt(1);
            if (second >= 56320 && second <= 57343) {
              codePoint = (first - 55296) * 1024 + second - 56320 + 65536;
            }
          }
          return codePoint;
        }
        function isModifier(firstCharCode, secondCharCode) {
          var sum2 = firstCharCode.toString(16) + secondCharCode.toString(16);
          return surrogateModifiers.indexOf(sum2) !== -1;
        }
        function isZeroWidthJoiner(charCode) {
          return charCode === ZERO_WIDTH_JOINER_CODE_POINT;
        }
        function isVariationSelector(charCode) {
          return charCode === VARIATION_SELECTOR_16_CODE_POINT;
        }
        function isRegionalCode(string2) {
          var codePoint = getCodePoint(string2);
          if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {
            return true;
          }
          return false;
        }
        function isFlagEmoji(string2) {
          return isRegionalCode(string2.substr(0, 2)) && isRegionalCode(string2.substr(2, 2));
        }
        function isCombinedCharacter(_char3) {
          return combinedCharacters.indexOf(_char3) !== -1;
        }
        function isRegionalFlag(text2, index2) {
          var codePoint = getCodePoint(text2.substr(index2, 2));
          if (codePoint !== BLACK_FLAG_CODE_POINT) {
            return false;
          }
          var count = 0;
          index2 += 2;
          while (count < 5) {
            codePoint = getCodePoint(text2.substr(index2, 2));
            if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {
              return false;
            }
            count += 1;
            index2 += 2;
          }
          return getCodePoint(text2.substr(index2, 2)) === CANCEL_TAG_CODE_POINT;
        }
        function setIsLoaded() {
          this.isLoaded = true;
        }
        var Font = function Font2() {
          this.fonts = [];
          this.chars = null;
          this.typekitLoaded = 0;
          this.isLoaded = false;
          this._warned = false;
          this.initTime = Date.now();
          this.setIsLoadedBinded = this.setIsLoaded.bind(this);
          this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);
        };
        Font.isModifier = isModifier;
        Font.isZeroWidthJoiner = isZeroWidthJoiner;
        Font.isFlagEmoji = isFlagEmoji;
        Font.isRegionalCode = isRegionalCode;
        Font.isCombinedCharacter = isCombinedCharacter;
        Font.isRegionalFlag = isRegionalFlag;
        Font.isVariationSelector = isVariationSelector;
        Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;
        var fontPrototype = {
          addChars,
          addFonts,
          getCharData,
          getFontByName,
          measureText,
          checkLoadedFonts,
          setIsLoaded
        };
        Font.prototype = fontPrototype;
        return Font;
      }();
      function SlotManager(animationData2) {
        this.animationData = animationData2;
      }
      SlotManager.prototype.getProp = function(data2) {
        if (this.animationData.slots && this.animationData.slots[data2.sid]) {
          return Object.assign(data2, this.animationData.slots[data2.sid].p);
        }
        return data2;
      };
      function slotFactory(animationData2) {
        return new SlotManager(animationData2);
      }
      function RenderableElement() {
      }
      RenderableElement.prototype = {
        initRenderable: function initRenderable() {
          this.isInRange = false;
          this.hidden = false;
          this.isTransparent = false;
          this.renderableComponents = [];
        },
        addRenderableComponent: function addRenderableComponent(component) {
          if (this.renderableComponents.indexOf(component) === -1) {
            this.renderableComponents.push(component);
          }
        },
        removeRenderableComponent: function removeRenderableComponent(component) {
          if (this.renderableComponents.indexOf(component) !== -1) {
            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);
          }
        },
        prepareRenderableFrame: function prepareRenderableFrame(num) {
          this.checkLayerLimits(num);
        },
        checkTransparency: function checkTransparency() {
          if (this.finalTransform.mProp.o.v <= 0) {
            if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {
              this.isTransparent = true;
              this.hide();
            }
          } else if (this.isTransparent) {
            this.isTransparent = false;
            this.show();
          }
        },
        /**
           * @function
           * Initializes frame related properties.
           *
           * @param {number} num
           * current frame number in Layer's time
           *
           */
        checkLayerLimits: function checkLayerLimits(num) {
          if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {
            if (this.isInRange !== true) {
              this.globalData._mdf = true;
              this._mdf = true;
              this.isInRange = true;
              this.show();
            }
          } else if (this.isInRange !== false) {
            this.globalData._mdf = true;
            this.isInRange = false;
            this.hide();
          }
        },
        renderRenderable: function renderRenderable() {
          var i3;
          var len = this.renderableComponents.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.renderableComponents[i3].renderFrame(this._isFirstFrame);
          }
        },
        sourceRectAtTime: function sourceRectAtTime2() {
          return {
            top: 0,
            left: 0,
            width: 100,
            height: 100
          };
        },
        getLayerSize: function getLayerSize() {
          if (this.data.ty === 5) {
            return {
              w: this.data.textData.width,
              h: this.data.textData.height
            };
          }
          return {
            w: this.data.width,
            h: this.data.height
          };
        }
      };
      var getBlendMode = function() {
        var blendModeEnums = {
          0: "source-over",
          1: "multiply",
          2: "screen",
          3: "overlay",
          4: "darken",
          5: "lighten",
          6: "color-dodge",
          7: "color-burn",
          8: "hard-light",
          9: "soft-light",
          10: "difference",
          11: "exclusion",
          12: "hue",
          13: "saturation",
          14: "color",
          15: "luminosity"
        };
        return function(mode) {
          return blendModeEnums[mode] || "";
        };
      }();
      function SliderEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 0, 0, container);
      }
      function AngleEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 0, 0, container);
      }
      function ColorEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 1, 0, container);
      }
      function PointEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 1, 0, container);
      }
      function LayerIndexEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 0, 0, container);
      }
      function MaskIndexEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 0, 0, container);
      }
      function CheckboxEffect(data2, elem2, container) {
        this.p = PropertyFactory.getProp(elem2, data2.v, 0, 0, container);
      }
      function NoValueEffect() {
        this.p = {};
      }
      function EffectsManager(data2, element) {
        var effects = data2.ef || [];
        this.effectElements = [];
        var i3;
        var len = effects.length;
        var effectItem;
        for (i3 = 0; i3 < len; i3 += 1) {
          effectItem = new GroupEffect(effects[i3], element);
          this.effectElements.push(effectItem);
        }
      }
      function GroupEffect(data2, element) {
        this.init(data2, element);
      }
      extendPrototype([DynamicPropertyContainer], GroupEffect);
      GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;
      GroupEffect.prototype.init = function(data2, element) {
        this.data = data2;
        this.effectElements = [];
        this.initDynamicPropertyContainer(element);
        var i3;
        var len = this.data.ef.length;
        var eff;
        var effects = this.data.ef;
        for (i3 = 0; i3 < len; i3 += 1) {
          eff = null;
          switch (effects[i3].ty) {
            case 0:
              eff = new SliderEffect(effects[i3], element, this);
              break;
            case 1:
              eff = new AngleEffect(effects[i3], element, this);
              break;
            case 2:
              eff = new ColorEffect(effects[i3], element, this);
              break;
            case 3:
              eff = new PointEffect(effects[i3], element, this);
              break;
            case 4:
            case 7:
              eff = new CheckboxEffect(effects[i3], element, this);
              break;
            case 10:
              eff = new LayerIndexEffect(effects[i3], element, this);
              break;
            case 11:
              eff = new MaskIndexEffect(effects[i3], element, this);
              break;
            case 5:
              eff = new EffectsManager(effects[i3], element, this);
              break;
            default:
              eff = new NoValueEffect(effects[i3], element, this);
              break;
          }
          if (eff) {
            this.effectElements.push(eff);
          }
        }
      };
      function BaseElement() {
      }
      BaseElement.prototype = {
        checkMasks: function checkMasks() {
          if (!this.data.hasMask) {
            return false;
          }
          var i3 = 0;
          var len = this.data.masksProperties.length;
          while (i3 < len) {
            if (this.data.masksProperties[i3].mode !== "n" && this.data.masksProperties[i3].cl !== false) {
              return true;
            }
            i3 += 1;
          }
          return false;
        },
        initExpressions: function initExpressions() {
          var expressionsInterfaces2 = getExpressionInterfaces();
          if (!expressionsInterfaces2) {
            return;
          }
          var LayerExpressionInterface2 = expressionsInterfaces2("layer");
          var EffectsExpressionInterface2 = expressionsInterfaces2("effects");
          var ShapeExpressionInterface2 = expressionsInterfaces2("shape");
          var TextExpressionInterface2 = expressionsInterfaces2("text");
          var CompExpressionInterface2 = expressionsInterfaces2("comp");
          this.layerInterface = LayerExpressionInterface2(this);
          if (this.data.hasMask && this.maskManager) {
            this.layerInterface.registerMaskInterface(this.maskManager);
          }
          var effectsInterface = EffectsExpressionInterface2.createEffectsInterface(this, this.layerInterface);
          this.layerInterface.registerEffectsInterface(effectsInterface);
          if (this.data.ty === 0 || this.data.xt) {
            this.compInterface = CompExpressionInterface2(this);
          } else if (this.data.ty === 4) {
            this.layerInterface.shapeInterface = ShapeExpressionInterface2(this.shapesData, this.itemsData, this.layerInterface);
            this.layerInterface.content = this.layerInterface.shapeInterface;
          } else if (this.data.ty === 5) {
            this.layerInterface.textInterface = TextExpressionInterface2(this);
            this.layerInterface.text = this.layerInterface.textInterface;
          }
        },
        setBlendMode: function setBlendMode() {
          var blendModeValue = getBlendMode(this.data.bm);
          var elem2 = this.baseElement || this.layerElement;
          elem2.style["mix-blend-mode"] = blendModeValue;
        },
        initBaseData: function initBaseData(data2, globalData2, comp2) {
          this.globalData = globalData2;
          this.comp = comp2;
          this.data = data2;
          this.layerId = createElementID();
          if (!this.data.sr) {
            this.data.sr = 1;
          }
          this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);
        },
        getType: function getType2() {
          return this.type;
        },
        sourceRectAtTime: function sourceRectAtTime2() {
        }
      };
      function FrameElement() {
      }
      FrameElement.prototype = {
        /**
           * @function
           * Initializes frame related properties.
           *
           */
        initFrame: function initFrame2() {
          this._isFirstFrame = false;
          this.dynamicProperties = [];
          this._mdf = false;
        },
        /**
           * @function
           * Calculates all dynamic values
           *
           * @param {number} num
           * current frame number in Layer's time
           * @param {boolean} isVisible
           * if layers is currently in range
           *
           */
        prepareProperties: function prepareProperties(num, isVisible) {
          var i3;
          var len = this.dynamicProperties.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (isVisible || this._isParent && this.dynamicProperties[i3].propType === "transform") {
              this.dynamicProperties[i3].getValue();
              if (this.dynamicProperties[i3]._mdf) {
                this.globalData._mdf = true;
                this._mdf = true;
              }
            }
          }
        },
        addDynamicProperty: function addDynamicProperty(prop) {
          if (this.dynamicProperties.indexOf(prop) === -1) {
            this.dynamicProperties.push(prop);
          }
        }
      };
      function FootageElement(data2, globalData2, comp2) {
        this.initFrame();
        this.initRenderable();
        this.assetData = globalData2.getAssetData(data2.refId);
        this.footageData = globalData2.imageLoader.getAsset(this.assetData);
        this.initBaseData(data2, globalData2, comp2);
      }
      FootageElement.prototype.prepareFrame = function() {
      };
      extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);
      FootageElement.prototype.getBaseElement = function() {
        return null;
      };
      FootageElement.prototype.renderFrame = function() {
      };
      FootageElement.prototype.destroy = function() {
      };
      FootageElement.prototype.initExpressions = function() {
        var expressionsInterfaces2 = getExpressionInterfaces();
        if (!expressionsInterfaces2) {
          return;
        }
        var FootageInterface2 = expressionsInterfaces2("footage");
        this.layerInterface = FootageInterface2(this);
      };
      FootageElement.prototype.getFootageData = function() {
        return this.footageData;
      };
      function AudioElement(data2, globalData2, comp2) {
        this.initFrame();
        this.initRenderable();
        this.assetData = globalData2.getAssetData(data2.refId);
        this.initBaseData(data2, globalData2, comp2);
        this._isPlaying = false;
        this._canPlay = false;
        var assetPath = this.globalData.getAssetsPath(this.assetData);
        this.audio = this.globalData.audioController.createAudio(assetPath);
        this._currentTime = 0;
        this.globalData.audioController.addAudio(this);
        this._volumeMultiplier = 1;
        this._volume = 1;
        this._previousVolume = null;
        this.tm = data2.tm ? PropertyFactory.getProp(this, data2.tm, 0, globalData2.frameRate, this) : {
          _placeholder: true
        };
        this.lv = PropertyFactory.getProp(this, data2.au && data2.au.lv ? data2.au.lv : {
          k: [100]
        }, 1, 0.01, this);
      }
      AudioElement.prototype.prepareFrame = function(num) {
        this.prepareRenderableFrame(num, true);
        this.prepareProperties(num, true);
        if (!this.tm._placeholder) {
          var timeRemapped = this.tm.v;
          this._currentTime = timeRemapped;
        } else {
          this._currentTime = num / this.data.sr;
        }
        this._volume = this.lv.v[0];
        var totalVolume = this._volume * this._volumeMultiplier;
        if (this._previousVolume !== totalVolume) {
          this._previousVolume = totalVolume;
          this.audio.volume(totalVolume);
        }
      };
      extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);
      AudioElement.prototype.renderFrame = function() {
        if (this.isInRange && this._canPlay) {
          if (!this._isPlaying) {
            this.audio.play();
            this.audio.seek(this._currentTime / this.globalData.frameRate);
            this._isPlaying = true;
          } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {
            this.audio.seek(this._currentTime / this.globalData.frameRate);
          }
        }
      };
      AudioElement.prototype.show = function() {
      };
      AudioElement.prototype.hide = function() {
        this.audio.pause();
        this._isPlaying = false;
      };
      AudioElement.prototype.pause = function() {
        this.audio.pause();
        this._isPlaying = false;
        this._canPlay = false;
      };
      AudioElement.prototype.resume = function() {
        this._canPlay = true;
      };
      AudioElement.prototype.setRate = function(rateValue) {
        this.audio.rate(rateValue);
      };
      AudioElement.prototype.volume = function(volumeValue) {
        this._volumeMultiplier = volumeValue;
        this._previousVolume = volumeValue * this._volume;
        this.audio.volume(this._previousVolume);
      };
      AudioElement.prototype.getBaseElement = function() {
        return null;
      };
      AudioElement.prototype.destroy = function() {
      };
      AudioElement.prototype.sourceRectAtTime = function() {
      };
      AudioElement.prototype.initExpressions = function() {
      };
      function BaseRenderer() {
      }
      BaseRenderer.prototype.checkLayers = function(num) {
        var i3;
        var len = this.layers.length;
        var data2;
        this.completeLayers = true;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (!this.elements[i3]) {
            data2 = this.layers[i3];
            if (data2.ip - data2.st <= num - this.layers[i3].st && data2.op - data2.st > num - this.layers[i3].st) {
              this.buildItem(i3);
            }
          }
          this.completeLayers = this.elements[i3] ? this.completeLayers : false;
        }
        this.checkPendingElements();
      };
      BaseRenderer.prototype.createItem = function(layer) {
        switch (layer.ty) {
          case 2:
            return this.createImage(layer);
          case 0:
            return this.createComp(layer);
          case 1:
            return this.createSolid(layer);
          case 3:
            return this.createNull(layer);
          case 4:
            return this.createShape(layer);
          case 5:
            return this.createText(layer);
          case 6:
            return this.createAudio(layer);
          case 13:
            return this.createCamera(layer);
          case 15:
            return this.createFootage(layer);
          default:
            return this.createNull(layer);
        }
      };
      BaseRenderer.prototype.createCamera = function() {
        throw new Error("You're using a 3d camera. Try the html renderer.");
      };
      BaseRenderer.prototype.createAudio = function(data2) {
        return new AudioElement(data2, this.globalData, this);
      };
      BaseRenderer.prototype.createFootage = function(data2) {
        return new FootageElement(data2, this.globalData, this);
      };
      BaseRenderer.prototype.buildAllItems = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.buildItem(i3);
        }
        this.checkPendingElements();
      };
      BaseRenderer.prototype.includeLayers = function(newLayers) {
        this.completeLayers = false;
        var i3;
        var len = newLayers.length;
        var j4;
        var jLen = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          j4 = 0;
          while (j4 < jLen) {
            if (this.layers[j4].id === newLayers[i3].id) {
              this.layers[j4] = newLayers[i3];
              break;
            }
            j4 += 1;
          }
        }
      };
      BaseRenderer.prototype.setProjectInterface = function(pInterface) {
        this.globalData.projectInterface = pInterface;
      };
      BaseRenderer.prototype.initItems = function() {
        if (!this.globalData.progressiveLoad) {
          this.buildAllItems();
        }
      };
      BaseRenderer.prototype.buildElementParenting = function(element, parentName, hierarchy) {
        var elements = this.elements;
        var layers = this.layers;
        var i3 = 0;
        var len = layers.length;
        while (i3 < len) {
          if (layers[i3].ind == parentName) {
            if (!elements[i3] || elements[i3] === true) {
              this.buildItem(i3);
              this.addPendingElement(element);
            } else {
              hierarchy.push(elements[i3]);
              elements[i3].setAsParent();
              if (layers[i3].parent !== void 0) {
                this.buildElementParenting(element, layers[i3].parent, hierarchy);
              } else {
                element.setHierarchy(hierarchy);
              }
            }
          }
          i3 += 1;
        }
      };
      BaseRenderer.prototype.addPendingElement = function(element) {
        this.pendingElements.push(element);
      };
      BaseRenderer.prototype.searchExtraCompositions = function(assets) {
        var i3;
        var len = assets.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (assets[i3].xt) {
            var comp2 = this.createComp(assets[i3]);
            comp2.initExpressions();
            this.globalData.projectInterface.registerComposition(comp2);
          }
        }
      };
      BaseRenderer.prototype.getElementById = function(ind) {
        var i3;
        var len = this.elements.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3].data.ind === ind) {
            return this.elements[i3];
          }
        }
        return null;
      };
      BaseRenderer.prototype.getElementByPath = function(path) {
        var pathValue = path.shift();
        var element;
        if (typeof pathValue === "number") {
          element = this.elements[pathValue];
        } else {
          var i3;
          var len = this.elements.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.elements[i3].data.nm === pathValue) {
              element = this.elements[i3];
              break;
            }
          }
        }
        if (path.length === 0) {
          return element;
        }
        return element.getElementByPath(path);
      };
      BaseRenderer.prototype.setupGlobalData = function(animData, fontsContainer) {
        this.globalData.fontManager = new FontManager();
        this.globalData.slotManager = slotFactory(animData);
        this.globalData.fontManager.addChars(animData.chars);
        this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);
        this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);
        this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);
        this.globalData.imageLoader = this.animationItem.imagePreloader;
        this.globalData.audioController = this.animationItem.audioController;
        this.globalData.frameId = 0;
        this.globalData.frameRate = animData.fr;
        this.globalData.nm = animData.nm;
        this.globalData.compSize = {
          w: animData.w,
          h: animData.h
        };
      };
      var effectTypes = {
        TRANSFORM_EFFECT: "transformEFfect"
      };
      function TransformElement() {
      }
      TransformElement.prototype = {
        initTransform: function initTransform() {
          var mat = new Matrix();
          this.finalTransform = {
            mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {
              o: 0
            },
            _matMdf: false,
            _localMatMdf: false,
            _opMdf: false,
            mat,
            localMat: mat,
            localOpacity: 1
          };
          if (this.data.ao) {
            this.finalTransform.mProp.autoOriented = true;
          }
          if (this.data.ty !== 11) {
          }
        },
        renderTransform: function renderTransform() {
          this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;
          this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;
          if (this.hierarchy) {
            var mat;
            var finalMat = this.finalTransform.mat;
            var i3 = 0;
            var len = this.hierarchy.length;
            if (!this.finalTransform._matMdf) {
              while (i3 < len) {
                if (this.hierarchy[i3].finalTransform.mProp._mdf) {
                  this.finalTransform._matMdf = true;
                  break;
                }
                i3 += 1;
              }
            }
            if (this.finalTransform._matMdf) {
              mat = this.finalTransform.mProp.v.props;
              finalMat.cloneFromProps(mat);
              for (i3 = 0; i3 < len; i3 += 1) {
                finalMat.multiply(this.hierarchy[i3].finalTransform.mProp.v);
              }
            }
          }
          if (this.finalTransform._matMdf) {
            this.finalTransform._localMatMdf = this.finalTransform._matMdf;
          }
          if (this.finalTransform._opMdf) {
            this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;
          }
        },
        renderLocalTransform: function renderLocalTransform() {
          if (this.localTransforms) {
            var i3 = 0;
            var len = this.localTransforms.length;
            this.finalTransform._localMatMdf = this.finalTransform._matMdf;
            if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {
              while (i3 < len) {
                if (this.localTransforms[i3]._mdf) {
                  this.finalTransform._localMatMdf = true;
                }
                if (this.localTransforms[i3]._opMdf && !this.finalTransform._opMdf) {
                  this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;
                  this.finalTransform._opMdf = true;
                }
                i3 += 1;
              }
            }
            if (this.finalTransform._localMatMdf) {
              var localMat = this.finalTransform.localMat;
              this.localTransforms[0].matrix.clone(localMat);
              for (i3 = 1; i3 < len; i3 += 1) {
                var lmat = this.localTransforms[i3].matrix;
                localMat.multiply(lmat);
              }
              localMat.multiply(this.finalTransform.mat);
            }
            if (this.finalTransform._opMdf) {
              var localOp = this.finalTransform.localOpacity;
              for (i3 = 0; i3 < len; i3 += 1) {
                localOp *= this.localTransforms[i3].opacity * 0.01;
              }
              this.finalTransform.localOpacity = localOp;
            }
          }
        },
        searchEffectTransforms: function searchEffectTransforms() {
          if (this.renderableEffectsManager) {
            var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);
            if (transformEffects.length) {
              this.localTransforms = [];
              this.finalTransform.localMat = new Matrix();
              var i3 = 0;
              var len = transformEffects.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                this.localTransforms.push(transformEffects[i3]);
              }
            }
          }
        },
        globalToLocal: function globalToLocal(pt3) {
          var transforms = [];
          transforms.push(this.finalTransform);
          var flag = true;
          var comp2 = this.comp;
          while (flag) {
            if (comp2.finalTransform) {
              if (comp2.data.hasMask) {
                transforms.splice(0, 0, comp2.finalTransform);
              }
              comp2 = comp2.comp;
            } else {
              flag = false;
            }
          }
          var i3;
          var len = transforms.length;
          var ptNew;
          for (i3 = 0; i3 < len; i3 += 1) {
            ptNew = transforms[i3].mat.applyToPointArray(0, 0, 0);
            pt3 = [pt3[0] - ptNew[0], pt3[1] - ptNew[1], 0];
          }
          return pt3;
        },
        mHelper: new Matrix()
      };
      function MaskElement(data2, element, globalData2) {
        this.data = data2;
        this.element = element;
        this.globalData = globalData2;
        this.storedData = [];
        this.masksProperties = this.data.masksProperties || [];
        this.maskElement = null;
        var defs = this.globalData.defs;
        var i3;
        var len = this.masksProperties ? this.masksProperties.length : 0;
        this.viewData = createSizedArray(len);
        this.solidPath = "";
        var path;
        var properties = this.masksProperties;
        var count = 0;
        var currentMasks = [];
        var j4;
        var jLen;
        var layerId = createElementID();
        var rect;
        var expansor;
        var feMorph;
        var x5;
        var maskType = "clipPath";
        var maskRef = "clip-path";
        for (i3 = 0; i3 < len; i3 += 1) {
          if (properties[i3].mode !== "a" && properties[i3].mode !== "n" || properties[i3].inv || properties[i3].o.k !== 100 || properties[i3].o.x) {
            maskType = "mask";
            maskRef = "mask";
          }
          if ((properties[i3].mode === "s" || properties[i3].mode === "i") && count === 0) {
            rect = createNS("rect");
            rect.setAttribute("fill", "#ffffff");
            rect.setAttribute("width", this.element.comp.data.w || 0);
            rect.setAttribute("height", this.element.comp.data.h || 0);
            currentMasks.push(rect);
          } else {
            rect = null;
          }
          path = createNS("path");
          if (properties[i3].mode === "n") {
            this.viewData[i3] = {
              op: PropertyFactory.getProp(this.element, properties[i3].o, 0, 0.01, this.element),
              prop: ShapePropertyFactory.getShapeProp(this.element, properties[i3], 3),
              elem: path,
              lastPath: ""
            };
            defs.appendChild(path);
          } else {
            count += 1;
            path.setAttribute("fill", properties[i3].mode === "s" ? "#000000" : "#ffffff");
            path.setAttribute("clip-rule", "nonzero");
            var filterID;
            if (properties[i3].x.k !== 0) {
              maskType = "mask";
              maskRef = "mask";
              x5 = PropertyFactory.getProp(this.element, properties[i3].x, 0, null, this.element);
              filterID = createElementID();
              expansor = createNS("filter");
              expansor.setAttribute("id", filterID);
              feMorph = createNS("feMorphology");
              feMorph.setAttribute("operator", "erode");
              feMorph.setAttribute("in", "SourceGraphic");
              feMorph.setAttribute("radius", "0");
              expansor.appendChild(feMorph);
              defs.appendChild(expansor);
              path.setAttribute("stroke", properties[i3].mode === "s" ? "#000000" : "#ffffff");
            } else {
              feMorph = null;
              x5 = null;
            }
            this.storedData[i3] = {
              elem: path,
              x: x5,
              expan: feMorph,
              lastPath: "",
              lastOperator: "",
              filterId: filterID,
              lastRadius: 0
            };
            if (properties[i3].mode === "i") {
              jLen = currentMasks.length;
              var g5 = createNS("g");
              for (j4 = 0; j4 < jLen; j4 += 1) {
                g5.appendChild(currentMasks[j4]);
              }
              var mask2 = createNS("mask");
              mask2.setAttribute("mask-type", "alpha");
              mask2.setAttribute("id", layerId + "_" + count);
              mask2.appendChild(path);
              defs.appendChild(mask2);
              g5.setAttribute("mask", "url(" + getLocationHref() + "#" + layerId + "_" + count + ")");
              currentMasks.length = 0;
              currentMasks.push(g5);
            } else {
              currentMasks.push(path);
            }
            if (properties[i3].inv && !this.solidPath) {
              this.solidPath = this.createLayerSolidPath();
            }
            this.viewData[i3] = {
              elem: path,
              lastPath: "",
              op: PropertyFactory.getProp(this.element, properties[i3].o, 0, 0.01, this.element),
              prop: ShapePropertyFactory.getShapeProp(this.element, properties[i3], 3),
              invRect: rect
            };
            if (!this.viewData[i3].prop.k) {
              this.drawPath(properties[i3], this.viewData[i3].prop.v, this.viewData[i3]);
            }
          }
        }
        this.maskElement = createNS(maskType);
        len = currentMasks.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.maskElement.appendChild(currentMasks[i3]);
        }
        if (count > 0) {
          this.maskElement.setAttribute("id", layerId);
          this.element.maskedElement.setAttribute(maskRef, "url(" + getLocationHref() + "#" + layerId + ")");
          defs.appendChild(this.maskElement);
        }
        if (this.viewData.length) {
          this.element.addRenderableComponent(this);
        }
      }
      MaskElement.prototype.getMaskProperty = function(pos) {
        return this.viewData[pos].prop;
      };
      MaskElement.prototype.renderFrame = function(isFirstFrame) {
        var finalMat = this.element.finalTransform.mat;
        var i3;
        var len = this.masksProperties.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.viewData[i3].prop._mdf || isFirstFrame) {
            this.drawPath(this.masksProperties[i3], this.viewData[i3].prop.v, this.viewData[i3]);
          }
          if (this.viewData[i3].op._mdf || isFirstFrame) {
            this.viewData[i3].elem.setAttribute("fill-opacity", this.viewData[i3].op.v);
          }
          if (this.masksProperties[i3].mode !== "n") {
            if (this.viewData[i3].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {
              this.viewData[i3].invRect.setAttribute("transform", finalMat.getInverseMatrix().to2dCSS());
            }
            if (this.storedData[i3].x && (this.storedData[i3].x._mdf || isFirstFrame)) {
              var feMorph = this.storedData[i3].expan;
              if (this.storedData[i3].x.v < 0) {
                if (this.storedData[i3].lastOperator !== "erode") {
                  this.storedData[i3].lastOperator = "erode";
                  this.storedData[i3].elem.setAttribute("filter", "url(" + getLocationHref() + "#" + this.storedData[i3].filterId + ")");
                }
                feMorph.setAttribute("radius", -this.storedData[i3].x.v);
              } else {
                if (this.storedData[i3].lastOperator !== "dilate") {
                  this.storedData[i3].lastOperator = "dilate";
                  this.storedData[i3].elem.setAttribute("filter", null);
                }
                this.storedData[i3].elem.setAttribute("stroke-width", this.storedData[i3].x.v * 2);
              }
            }
          }
        }
      };
      MaskElement.prototype.getMaskelement = function() {
        return this.maskElement;
      };
      MaskElement.prototype.createLayerSolidPath = function() {
        var path = "M0,0 ";
        path += " h" + this.globalData.compSize.w;
        path += " v" + this.globalData.compSize.h;
        path += " h-" + this.globalData.compSize.w;
        path += " v-" + this.globalData.compSize.h + " ";
        return path;
      };
      MaskElement.prototype.drawPath = function(pathData, pathNodes, viewData) {
        var pathString = " M" + pathNodes.v[0][0] + "," + pathNodes.v[0][1];
        var i3;
        var len;
        len = pathNodes._length;
        for (i3 = 1; i3 < len; i3 += 1) {
          pathString += " C" + pathNodes.o[i3 - 1][0] + "," + pathNodes.o[i3 - 1][1] + " " + pathNodes.i[i3][0] + "," + pathNodes.i[i3][1] + " " + pathNodes.v[i3][0] + "," + pathNodes.v[i3][1];
        }
        if (pathNodes.c && len > 1) {
          pathString += " C" + pathNodes.o[i3 - 1][0] + "," + pathNodes.o[i3 - 1][1] + " " + pathNodes.i[0][0] + "," + pathNodes.i[0][1] + " " + pathNodes.v[0][0] + "," + pathNodes.v[0][1];
        }
        if (viewData.lastPath !== pathString) {
          var pathShapeValue = "";
          if (viewData.elem) {
            if (pathNodes.c) {
              pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;
            }
            viewData.elem.setAttribute("d", pathShapeValue);
          }
          viewData.lastPath = pathString;
        }
      };
      MaskElement.prototype.destroy = function() {
        this.element = null;
        this.globalData = null;
        this.maskElement = null;
        this.data = null;
        this.masksProperties = null;
      };
      var filtersFactory = function() {
        var ob2 = {};
        ob2.createFilter = createFilter;
        ob2.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;
        function createFilter(filId, skipCoordinates) {
          var fil = createNS("filter");
          fil.setAttribute("id", filId);
          if (skipCoordinates !== true) {
            fil.setAttribute("filterUnits", "objectBoundingBox");
            fil.setAttribute("x", "0%");
            fil.setAttribute("y", "0%");
            fil.setAttribute("width", "100%");
            fil.setAttribute("height", "100%");
          }
          return fil;
        }
        function createAlphaToLuminanceFilter() {
          var feColorMatrix = createNS("feColorMatrix");
          feColorMatrix.setAttribute("type", "matrix");
          feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
          feColorMatrix.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1");
          return feColorMatrix;
        }
        return ob2;
      }();
      var featureSupport = function() {
        var ob2 = {
          maskType: true,
          svgLumaHidden: true,
          offscreenCanvas: typeof OffscreenCanvas !== "undefined"
        };
        if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) {
          ob2.maskType = false;
        }
        if (/firefox/i.test(navigator.userAgent)) {
          ob2.svgLumaHidden = false;
        }
        return ob2;
      }();
      var registeredEffects$1 = {};
      var idPrefix = "filter_result_";
      function SVGEffects(elem2) {
        var i3;
        var source = "SourceGraphic";
        var len = elem2.data.ef ? elem2.data.ef.length : 0;
        var filId = createElementID();
        var fil = filtersFactory.createFilter(filId, true);
        var count = 0;
        this.filters = [];
        var filterManager;
        for (i3 = 0; i3 < len; i3 += 1) {
          filterManager = null;
          var type = elem2.data.ef[i3].ty;
          if (registeredEffects$1[type]) {
            var Effect = registeredEffects$1[type].effect;
            filterManager = new Effect(fil, elem2.effectsManager.effectElements[i3], elem2, idPrefix + count, source);
            source = idPrefix + count;
            if (registeredEffects$1[type].countsAsEffect) {
              count += 1;
            }
          }
          if (filterManager) {
            this.filters.push(filterManager);
          }
        }
        if (count) {
          elem2.globalData.defs.appendChild(fil);
          elem2.layerElement.setAttribute("filter", "url(" + getLocationHref() + "#" + filId + ")");
        }
        if (this.filters.length) {
          elem2.addRenderableComponent(this);
        }
      }
      SVGEffects.prototype.renderFrame = function(_isFirstFrame) {
        var i3;
        var len = this.filters.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.filters[i3].renderFrame(_isFirstFrame);
        }
      };
      SVGEffects.prototype.getEffects = function(type) {
        var i3;
        var len = this.filters.length;
        var effects = [];
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.filters[i3].type === type) {
            effects.push(this.filters[i3]);
          }
        }
        return effects;
      };
      function registerEffect$1(id, effect2, countsAsEffect) {
        registeredEffects$1[id] = {
          effect: effect2,
          countsAsEffect
        };
      }
      function SVGBaseElement() {
      }
      SVGBaseElement.prototype = {
        initRendererElement: function initRendererElement() {
          this.layerElement = createNS("g");
        },
        createContainerElements: function createContainerElements() {
          this.matteElement = createNS("g");
          this.transformedElement = this.layerElement;
          this.maskedElement = this.layerElement;
          this._sizeChanged = false;
          var layerElementParent = null;
          if (this.data.td) {
            this.matteMasks = {};
            var gg = createNS("g");
            gg.setAttribute("id", this.layerId);
            gg.appendChild(this.layerElement);
            layerElementParent = gg;
            this.globalData.defs.appendChild(gg);
          } else if (this.data.tt) {
            this.matteElement.appendChild(this.layerElement);
            layerElementParent = this.matteElement;
            this.baseElement = this.matteElement;
          } else {
            this.baseElement = this.layerElement;
          }
          if (this.data.ln) {
            this.layerElement.setAttribute("id", this.data.ln);
          }
          if (this.data.cl) {
            this.layerElement.setAttribute("class", this.data.cl);
          }
          if (this.data.ty === 0 && !this.data.hd) {
            var cp = createNS("clipPath");
            var pt3 = createNS("path");
            pt3.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
            var clipId = createElementID();
            cp.setAttribute("id", clipId);
            cp.appendChild(pt3);
            this.globalData.defs.appendChild(cp);
            if (this.checkMasks()) {
              var cpGroup = createNS("g");
              cpGroup.setAttribute("clip-path", "url(" + getLocationHref() + "#" + clipId + ")");
              cpGroup.appendChild(this.layerElement);
              this.transformedElement = cpGroup;
              if (layerElementParent) {
                layerElementParent.appendChild(this.transformedElement);
              } else {
                this.baseElement = this.transformedElement;
              }
            } else {
              this.layerElement.setAttribute("clip-path", "url(" + getLocationHref() + "#" + clipId + ")");
            }
          }
          if (this.data.bm !== 0) {
            this.setBlendMode();
          }
        },
        renderElement: function renderElement() {
          if (this.finalTransform._localMatMdf) {
            this.transformedElement.setAttribute("transform", this.finalTransform.localMat.to2dCSS());
          }
          if (this.finalTransform._opMdf) {
            this.transformedElement.setAttribute("opacity", this.finalTransform.localOpacity);
          }
        },
        destroyBaseElement: function destroyBaseElement() {
          this.layerElement = null;
          this.matteElement = null;
          this.maskManager.destroy();
        },
        getBaseElement: function getBaseElement() {
          if (this.data.hd) {
            return null;
          }
          return this.baseElement;
        },
        createRenderableComponents: function createRenderableComponents() {
          this.maskManager = new MaskElement(this.data, this, this.globalData);
          this.renderableEffectsManager = new SVGEffects(this);
          this.searchEffectTransforms();
        },
        getMatte: function getMatte(matteType) {
          if (!this.matteMasks) {
            this.matteMasks = {};
          }
          if (!this.matteMasks[matteType]) {
            var id = this.layerId + "_" + matteType;
            var filId;
            var fil;
            var useElement;
            var gg;
            if (matteType === 1 || matteType === 3) {
              var masker = createNS("mask");
              masker.setAttribute("id", id);
              masker.setAttribute("mask-type", matteType === 3 ? "luminance" : "alpha");
              useElement = createNS("use");
              useElement.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + this.layerId);
              masker.appendChild(useElement);
              this.globalData.defs.appendChild(masker);
              if (!featureSupport.maskType && matteType === 1) {
                masker.setAttribute("mask-type", "luminance");
                filId = createElementID();
                fil = filtersFactory.createFilter(filId);
                this.globalData.defs.appendChild(fil);
                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());
                gg = createNS("g");
                gg.appendChild(useElement);
                masker.appendChild(gg);
                gg.setAttribute("filter", "url(" + getLocationHref() + "#" + filId + ")");
              }
            } else if (matteType === 2) {
              var maskGroup = createNS("mask");
              maskGroup.setAttribute("id", id);
              maskGroup.setAttribute("mask-type", "alpha");
              var maskGrouper = createNS("g");
              maskGroup.appendChild(maskGrouper);
              filId = createElementID();
              fil = filtersFactory.createFilter(filId);
              var feCTr = createNS("feComponentTransfer");
              feCTr.setAttribute("in", "SourceGraphic");
              fil.appendChild(feCTr);
              var feFunc = createNS("feFuncA");
              feFunc.setAttribute("type", "table");
              feFunc.setAttribute("tableValues", "1.0 0.0");
              feCTr.appendChild(feFunc);
              this.globalData.defs.appendChild(fil);
              var alphaRect = createNS("rect");
              alphaRect.setAttribute("width", this.comp.data.w);
              alphaRect.setAttribute("height", this.comp.data.h);
              alphaRect.setAttribute("x", "0");
              alphaRect.setAttribute("y", "0");
              alphaRect.setAttribute("fill", "#ffffff");
              alphaRect.setAttribute("opacity", "0");
              maskGrouper.setAttribute("filter", "url(" + getLocationHref() + "#" + filId + ")");
              maskGrouper.appendChild(alphaRect);
              useElement = createNS("use");
              useElement.setAttributeNS("http://www.w3.org/1999/xlink", "href", "#" + this.layerId);
              maskGrouper.appendChild(useElement);
              if (!featureSupport.maskType) {
                maskGroup.setAttribute("mask-type", "luminance");
                fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());
                gg = createNS("g");
                maskGrouper.appendChild(alphaRect);
                gg.appendChild(this.layerElement);
                maskGrouper.appendChild(gg);
              }
              this.globalData.defs.appendChild(maskGroup);
            }
            this.matteMasks[matteType] = id;
          }
          return this.matteMasks[matteType];
        },
        setMatte: function setMatte(id) {
          if (!this.matteElement) {
            return;
          }
          this.matteElement.setAttribute("mask", "url(" + getLocationHref() + "#" + id + ")");
        }
      };
      function HierarchyElement() {
      }
      HierarchyElement.prototype = {
        /**
           * @function
           * Initializes hierarchy properties
           *
           */
        initHierarchy: function initHierarchy() {
          this.hierarchy = [];
          this._isParent = false;
          this.checkParenting();
        },
        /**
           * @function
           * Sets layer's hierarchy.
           * @param {array} hierarch
           * layer's parent list
           *
           */
        setHierarchy: function setHierarchy(hierarchy) {
          this.hierarchy = hierarchy;
        },
        /**
           * @function
           * Sets layer as parent.
           *
           */
        setAsParent: function setAsParent() {
          this._isParent = true;
        },
        /**
           * @function
           * Searches layer's parenting chain
           *
           */
        checkParenting: function checkParenting() {
          if (this.data.parent !== void 0) {
            this.comp.buildElementParenting(this, this.data.parent, []);
          }
        }
      };
      function RenderableDOMElement() {
      }
      (function() {
        var _prototype = {
          initElement: function initElement(data2, globalData2, comp2) {
            this.initFrame();
            this.initBaseData(data2, globalData2, comp2);
            this.initTransform(data2, globalData2, comp2);
            this.initHierarchy();
            this.initRenderable();
            this.initRendererElement();
            this.createContainerElements();
            this.createRenderableComponents();
            this.createContent();
            this.hide();
          },
          hide: function hide() {
            if (!this.hidden && (!this.isInRange || this.isTransparent)) {
              var elem2 = this.baseElement || this.layerElement;
              elem2.style.display = "none";
              this.hidden = true;
            }
          },
          show: function show() {
            if (this.isInRange && !this.isTransparent) {
              if (!this.data.hd) {
                var elem2 = this.baseElement || this.layerElement;
                elem2.style.display = "block";
              }
              this.hidden = false;
              this._isFirstFrame = true;
            }
          },
          renderFrame: function renderFrame() {
            if (this.data.hd || this.hidden) {
              return;
            }
            this.renderTransform();
            this.renderRenderable();
            this.renderLocalTransform();
            this.renderElement();
            this.renderInnerContent();
            if (this._isFirstFrame) {
              this._isFirstFrame = false;
            }
          },
          renderInnerContent: function renderInnerContent() {
          },
          prepareFrame: function prepareFrame(num) {
            this._mdf = false;
            this.prepareRenderableFrame(num);
            this.prepareProperties(num, this.isInRange);
            this.checkTransparency();
          },
          destroy: function destroy() {
            this.innerElem = null;
            this.destroyBaseElement();
          }
        };
        extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);
      })();
      function IImageElement(data2, globalData2, comp2) {
        this.assetData = globalData2.getAssetData(data2.refId);
        if (this.assetData && this.assetData.sid) {
          this.assetData = globalData2.slotManager.getProp(this.assetData);
        }
        this.initElement(data2, globalData2, comp2);
        this.sourceRect = {
          top: 0,
          left: 0,
          width: this.assetData.w,
          height: this.assetData.h
        };
      }
      extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);
      IImageElement.prototype.createContent = function() {
        var assetPath = this.globalData.getAssetsPath(this.assetData);
        this.innerElem = createNS("image");
        this.innerElem.setAttribute("width", this.assetData.w + "px");
        this.innerElem.setAttribute("height", this.assetData.h + "px");
        this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);
        this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", assetPath);
        this.layerElement.appendChild(this.innerElem);
      };
      IImageElement.prototype.sourceRectAtTime = function() {
        return this.sourceRect;
      };
      function ProcessedElement(element, position2) {
        this.elem = element;
        this.pos = position2;
      }
      function IShapeElement() {
      }
      IShapeElement.prototype = {
        addShapeToModifiers: function addShapeToModifiers(data2) {
          var i3;
          var len = this.shapeModifiers.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapeModifiers[i3].addShape(data2);
          }
        },
        isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data2) {
          var i3 = 0;
          var len = this.shapeModifiers.length;
          while (i3 < len) {
            if (this.shapeModifiers[i3].isAnimatedWithShape(data2)) {
              return true;
            }
          }
          return false;
        },
        renderModifiers: function renderModifiers() {
          if (!this.shapeModifiers.length) {
            return;
          }
          var i3;
          var len = this.shapes.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].sh.reset();
          }
          len = this.shapeModifiers.length;
          var shouldBreakProcess;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            shouldBreakProcess = this.shapeModifiers[i3].processShapes(this._isFirstFrame);
            if (shouldBreakProcess) {
              break;
            }
          }
        },
        searchProcessedElement: function searchProcessedElement(elem2) {
          var elements = this.processedElements;
          var i3 = 0;
          var len = elements.length;
          while (i3 < len) {
            if (elements[i3].elem === elem2) {
              return elements[i3].pos;
            }
            i3 += 1;
          }
          return 0;
        },
        addProcessedElement: function addProcessedElement(elem2, pos) {
          var elements = this.processedElements;
          var i3 = elements.length;
          while (i3) {
            i3 -= 1;
            if (elements[i3].elem === elem2) {
              elements[i3].pos = pos;
              return;
            }
          }
          elements.push(new ProcessedElement(elem2, pos));
        },
        prepareFrame: function prepareFrame(num) {
          this.prepareRenderableFrame(num);
          this.prepareProperties(num, this.isInRange);
        }
      };
      var lineCapEnum = {
        1: "butt",
        2: "round",
        3: "square"
      };
      var lineJoinEnum = {
        1: "miter",
        2: "round",
        3: "bevel"
      };
      function SVGShapeData(transformers, level, shape) {
        this.caches = [];
        this.styles = [];
        this.transformers = transformers;
        this.lStr = "";
        this.sh = shape;
        this.lvl = level;
        this._isAnimated = !!shape.k;
        var i3 = 0;
        var len = transformers.length;
        while (i3 < len) {
          if (transformers[i3].mProps.dynamicProperties.length) {
            this._isAnimated = true;
            break;
          }
          i3 += 1;
        }
      }
      SVGShapeData.prototype.setAsAnimated = function() {
        this._isAnimated = true;
      };
      function SVGStyleData(data2, level) {
        this.data = data2;
        this.type = data2.ty;
        this.d = "";
        this.lvl = level;
        this._mdf = false;
        this.closed = data2.hd === true;
        this.pElem = createNS("path");
        this.msElem = null;
      }
      SVGStyleData.prototype.reset = function() {
        this.d = "";
        this._mdf = false;
      };
      function DashProperty(elem2, data2, renderer2, container) {
        this.elem = elem2;
        this.frameId = -1;
        this.dataProps = createSizedArray(data2.length);
        this.renderer = renderer2;
        this.k = false;
        this.dashStr = "";
        this.dashArray = createTypedArray("float32", data2.length ? data2.length - 1 : 0);
        this.dashoffset = createTypedArray("float32", 1);
        this.initDynamicPropertyContainer(container);
        var i3;
        var len = data2.length || 0;
        var prop;
        for (i3 = 0; i3 < len; i3 += 1) {
          prop = PropertyFactory.getProp(elem2, data2[i3].v, 0, 0, this);
          this.k = prop.k || this.k;
          this.dataProps[i3] = {
            n: data2[i3].n,
            p: prop
          };
        }
        if (!this.k) {
          this.getValue(true);
        }
        this._isAnimated = this.k;
      }
      DashProperty.prototype.getValue = function(forceRender) {
        if (this.elem.globalData.frameId === this.frameId && !forceRender) {
          return;
        }
        this.frameId = this.elem.globalData.frameId;
        this.iterateDynamicProperties();
        this._mdf = this._mdf || forceRender;
        if (this._mdf) {
          var i3 = 0;
          var len = this.dataProps.length;
          if (this.renderer === "svg") {
            this.dashStr = "";
          }
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.dataProps[i3].n !== "o") {
              if (this.renderer === "svg") {
                this.dashStr += " " + this.dataProps[i3].p.v;
              } else {
                this.dashArray[i3] = this.dataProps[i3].p.v;
              }
            } else {
              this.dashoffset[0] = this.dataProps[i3].p.v;
            }
          }
        }
      };
      extendPrototype([DynamicPropertyContainer], DashProperty);
      function SVGStrokeStyleData(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.o = PropertyFactory.getProp(elem2, data2.o, 0, 0.01, this);
        this.w = PropertyFactory.getProp(elem2, data2.w, 0, null, this);
        this.d = new DashProperty(elem2, data2.d || {}, "svg", this);
        this.c = PropertyFactory.getProp(elem2, data2.c, 1, 255, this);
        this.style = styleOb;
        this._isAnimated = !!this._isAnimated;
      }
      extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);
      function SVGFillStyleData(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.o = PropertyFactory.getProp(elem2, data2.o, 0, 0.01, this);
        this.c = PropertyFactory.getProp(elem2, data2.c, 1, 255, this);
        this.style = styleOb;
      }
      extendPrototype([DynamicPropertyContainer], SVGFillStyleData);
      function SVGNoStyleData(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.style = styleOb;
      }
      extendPrototype([DynamicPropertyContainer], SVGNoStyleData);
      function GradientProperty(elem2, data2, container) {
        this.data = data2;
        this.c = createTypedArray("uint8c", data2.p * 4);
        var cLength = data2.k.k[0].s ? data2.k.k[0].s.length - data2.p * 4 : data2.k.k.length - data2.p * 4;
        this.o = createTypedArray("float32", cLength);
        this._cmdf = false;
        this._omdf = false;
        this._collapsable = this.checkCollapsable();
        this._hasOpacity = cLength;
        this.initDynamicPropertyContainer(container);
        this.prop = PropertyFactory.getProp(elem2, data2.k, 1, null, this);
        this.k = this.prop.k;
        this.getValue(true);
      }
      GradientProperty.prototype.comparePoints = function(values, points) {
        var i3 = 0;
        var len = this.o.length / 2;
        var diff;
        while (i3 < len) {
          diff = Math.abs(values[i3 * 4] - values[points * 4 + i3 * 2]);
          if (diff > 0.01) {
            return false;
          }
          i3 += 1;
        }
        return true;
      };
      GradientProperty.prototype.checkCollapsable = function() {
        if (this.o.length / 2 !== this.c.length / 4) {
          return false;
        }
        if (this.data.k.k[0].s) {
          var i3 = 0;
          var len = this.data.k.k.length;
          while (i3 < len) {
            if (!this.comparePoints(this.data.k.k[i3].s, this.data.p)) {
              return false;
            }
            i3 += 1;
          }
        } else if (!this.comparePoints(this.data.k.k, this.data.p)) {
          return false;
        }
        return true;
      };
      GradientProperty.prototype.getValue = function(forceRender) {
        this.prop.getValue();
        this._mdf = false;
        this._cmdf = false;
        this._omdf = false;
        if (this.prop._mdf || forceRender) {
          var i3;
          var len = this.data.p * 4;
          var mult;
          var val2;
          for (i3 = 0; i3 < len; i3 += 1) {
            mult = i3 % 4 === 0 ? 100 : 255;
            val2 = Math.round(this.prop.v[i3] * mult);
            if (this.c[i3] !== val2) {
              this.c[i3] = val2;
              this._cmdf = !forceRender;
            }
          }
          if (this.o.length) {
            len = this.prop.v.length;
            for (i3 = this.data.p * 4; i3 < len; i3 += 1) {
              mult = i3 % 2 === 0 ? 100 : 1;
              val2 = i3 % 2 === 0 ? Math.round(this.prop.v[i3] * 100) : this.prop.v[i3];
              if (this.o[i3 - this.data.p * 4] !== val2) {
                this.o[i3 - this.data.p * 4] = val2;
                this._omdf = !forceRender;
              }
            }
          }
          this._mdf = !forceRender;
        }
      };
      extendPrototype([DynamicPropertyContainer], GradientProperty);
      function SVGGradientFillStyleData(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.initGradientData(elem2, data2, styleOb);
      }
      SVGGradientFillStyleData.prototype.initGradientData = function(elem2, data2, styleOb) {
        this.o = PropertyFactory.getProp(elem2, data2.o, 0, 0.01, this);
        this.s = PropertyFactory.getProp(elem2, data2.s, 1, null, this);
        this.e = PropertyFactory.getProp(elem2, data2.e, 1, null, this);
        this.h = PropertyFactory.getProp(elem2, data2.h || {
          k: 0
        }, 0, 0.01, this);
        this.a = PropertyFactory.getProp(elem2, data2.a || {
          k: 0
        }, 0, degToRads, this);
        this.g = new GradientProperty(elem2, data2.g, this);
        this.style = styleOb;
        this.stops = [];
        this.setGradientData(styleOb.pElem, data2);
        this.setGradientOpacity(data2, styleOb);
        this._isAnimated = !!this._isAnimated;
      };
      SVGGradientFillStyleData.prototype.setGradientData = function(pathElement, data2) {
        var gradientId = createElementID();
        var gfill = createNS(data2.t === 1 ? "linearGradient" : "radialGradient");
        gfill.setAttribute("id", gradientId);
        gfill.setAttribute("spreadMethod", "pad");
        gfill.setAttribute("gradientUnits", "userSpaceOnUse");
        var stops = [];
        var stop;
        var j4;
        var jLen;
        jLen = data2.g.p * 4;
        for (j4 = 0; j4 < jLen; j4 += 4) {
          stop = createNS("stop");
          gfill.appendChild(stop);
          stops.push(stop);
        }
        pathElement.setAttribute(data2.ty === "gf" ? "fill" : "stroke", "url(" + getLocationHref() + "#" + gradientId + ")");
        this.gf = gfill;
        this.cst = stops;
      };
      SVGGradientFillStyleData.prototype.setGradientOpacity = function(data2, styleOb) {
        if (this.g._hasOpacity && !this.g._collapsable) {
          var stop;
          var j4;
          var jLen;
          var mask2 = createNS("mask");
          var maskElement = createNS("path");
          mask2.appendChild(maskElement);
          var opacityId = createElementID();
          var maskId = createElementID();
          mask2.setAttribute("id", maskId);
          var opFill = createNS(data2.t === 1 ? "linearGradient" : "radialGradient");
          opFill.setAttribute("id", opacityId);
          opFill.setAttribute("spreadMethod", "pad");
          opFill.setAttribute("gradientUnits", "userSpaceOnUse");
          jLen = data2.g.k.k[0].s ? data2.g.k.k[0].s.length : data2.g.k.k.length;
          var stops = this.stops;
          for (j4 = data2.g.p * 4; j4 < jLen; j4 += 2) {
            stop = createNS("stop");
            stop.setAttribute("stop-color", "rgb(255,255,255)");
            opFill.appendChild(stop);
            stops.push(stop);
          }
          maskElement.setAttribute(data2.ty === "gf" ? "fill" : "stroke", "url(" + getLocationHref() + "#" + opacityId + ")");
          if (data2.ty === "gs") {
            maskElement.setAttribute("stroke-linecap", lineCapEnum[data2.lc || 2]);
            maskElement.setAttribute("stroke-linejoin", lineJoinEnum[data2.lj || 2]);
            if (data2.lj === 1) {
              maskElement.setAttribute("stroke-miterlimit", data2.ml);
            }
          }
          this.of = opFill;
          this.ms = mask2;
          this.ost = stops;
          this.maskId = maskId;
          styleOb.msElem = maskElement;
        }
      };
      extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);
      function SVGGradientStrokeStyleData(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.w = PropertyFactory.getProp(elem2, data2.w, 0, null, this);
        this.d = new DashProperty(elem2, data2.d || {}, "svg", this);
        this.initGradientData(elem2, data2, styleOb);
        this._isAnimated = !!this._isAnimated;
      }
      extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);
      function ShapeGroupData() {
        this.it = [];
        this.prevViewData = [];
        this.gr = createNS("g");
      }
      function SVGTransformData(mProps, op, container) {
        this.transform = {
          mProps,
          op,
          container
        };
        this.elements = [];
        this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;
      }
      var buildShapeString = function buildShapeString2(pathNodes, length3, closed, mat) {
        if (length3 === 0) {
          return "";
        }
        var _o = pathNodes.o;
        var _i = pathNodes.i;
        var _v = pathNodes.v;
        var i3;
        var shapeString = " M" + mat.applyToPointStringified(_v[0][0], _v[0][1]);
        for (i3 = 1; i3 < length3; i3 += 1) {
          shapeString += " C" + mat.applyToPointStringified(_o[i3 - 1][0], _o[i3 - 1][1]) + " " + mat.applyToPointStringified(_i[i3][0], _i[i3][1]) + " " + mat.applyToPointStringified(_v[i3][0], _v[i3][1]);
        }
        if (closed && length3) {
          shapeString += " C" + mat.applyToPointStringified(_o[i3 - 1][0], _o[i3 - 1][1]) + " " + mat.applyToPointStringified(_i[0][0], _i[0][1]) + " " + mat.applyToPointStringified(_v[0][0], _v[0][1]);
          shapeString += "z";
        }
        return shapeString;
      };
      var SVGElementsRenderer = function() {
        var _identityMatrix = new Matrix();
        var _matrixHelper = new Matrix();
        var ob2 = {
          createRenderFunction
        };
        function createRenderFunction(data2) {
          switch (data2.ty) {
            case "fl":
              return renderFill;
            case "gf":
              return renderGradient;
            case "gs":
              return renderGradientStroke;
            case "st":
              return renderStroke;
            case "sh":
            case "el":
            case "rc":
            case "sr":
              return renderPath;
            case "tr":
              return renderContentTransform;
            case "no":
              return renderNoop;
            default:
              return null;
          }
        }
        function renderContentTransform(styleData, itemData, isFirstFrame) {
          if (isFirstFrame || itemData.transform.op._mdf) {
            itemData.transform.container.setAttribute("opacity", itemData.transform.op.v);
          }
          if (isFirstFrame || itemData.transform.mProps._mdf) {
            itemData.transform.container.setAttribute("transform", itemData.transform.mProps.v.to2dCSS());
          }
        }
        function renderNoop() {
        }
        function renderPath(styleData, itemData, isFirstFrame) {
          var j4;
          var jLen;
          var pathStringTransformed;
          var redraw;
          var pathNodes;
          var l4;
          var lLen = itemData.styles.length;
          var lvl = itemData.lvl;
          var paths;
          var mat;
          var iterations;
          var k3;
          for (l4 = 0; l4 < lLen; l4 += 1) {
            redraw = itemData.sh._mdf || isFirstFrame;
            if (itemData.styles[l4].lvl < lvl) {
              mat = _matrixHelper.reset();
              iterations = lvl - itemData.styles[l4].lvl;
              k3 = itemData.transformers.length - 1;
              while (!redraw && iterations > 0) {
                redraw = itemData.transformers[k3].mProps._mdf || redraw;
                iterations -= 1;
                k3 -= 1;
              }
              if (redraw) {
                iterations = lvl - itemData.styles[l4].lvl;
                k3 = itemData.transformers.length - 1;
                while (iterations > 0) {
                  mat.multiply(itemData.transformers[k3].mProps.v);
                  iterations -= 1;
                  k3 -= 1;
                }
              }
            } else {
              mat = _identityMatrix;
            }
            paths = itemData.sh.paths;
            jLen = paths._length;
            if (redraw) {
              pathStringTransformed = "";
              for (j4 = 0; j4 < jLen; j4 += 1) {
                pathNodes = paths.shapes[j4];
                if (pathNodes && pathNodes._length) {
                  pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);
                }
              }
              itemData.caches[l4] = pathStringTransformed;
            } else {
              pathStringTransformed = itemData.caches[l4];
            }
            itemData.styles[l4].d += styleData.hd === true ? "" : pathStringTransformed;
            itemData.styles[l4]._mdf = redraw || itemData.styles[l4]._mdf;
          }
        }
        function renderFill(styleData, itemData, isFirstFrame) {
          var styleElem = itemData.style;
          if (itemData.c._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("fill", "rgb(" + bmFloor(itemData.c.v[0]) + "," + bmFloor(itemData.c.v[1]) + "," + bmFloor(itemData.c.v[2]) + ")");
          }
          if (itemData.o._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("fill-opacity", itemData.o.v);
          }
        }
        function renderGradientStroke(styleData, itemData, isFirstFrame) {
          renderGradient(styleData, itemData, isFirstFrame);
          renderStroke(styleData, itemData, isFirstFrame);
        }
        function renderGradient(styleData, itemData, isFirstFrame) {
          var gfill = itemData.gf;
          var hasOpacity = itemData.g._hasOpacity;
          var pt1 = itemData.s.v;
          var pt22 = itemData.e.v;
          if (itemData.o._mdf || isFirstFrame) {
            var attr = styleData.ty === "gf" ? "fill-opacity" : "stroke-opacity";
            itemData.style.pElem.setAttribute(attr, itemData.o.v);
          }
          if (itemData.s._mdf || isFirstFrame) {
            var attr1 = styleData.t === 1 ? "x1" : "cx";
            var attr2 = attr1 === "x1" ? "y1" : "cy";
            gfill.setAttribute(attr1, pt1[0]);
            gfill.setAttribute(attr2, pt1[1]);
            if (hasOpacity && !itemData.g._collapsable) {
              itemData.of.setAttribute(attr1, pt1[0]);
              itemData.of.setAttribute(attr2, pt1[1]);
            }
          }
          var stops;
          var i3;
          var len;
          var stop;
          if (itemData.g._cmdf || isFirstFrame) {
            stops = itemData.cst;
            var cValues = itemData.g.c;
            len = stops.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              stop = stops[i3];
              stop.setAttribute("offset", cValues[i3 * 4] + "%");
              stop.setAttribute("stop-color", "rgb(" + cValues[i3 * 4 + 1] + "," + cValues[i3 * 4 + 2] + "," + cValues[i3 * 4 + 3] + ")");
            }
          }
          if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {
            var oValues = itemData.g.o;
            if (itemData.g._collapsable) {
              stops = itemData.cst;
            } else {
              stops = itemData.ost;
            }
            len = stops.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              stop = stops[i3];
              if (!itemData.g._collapsable) {
                stop.setAttribute("offset", oValues[i3 * 2] + "%");
              }
              stop.setAttribute("stop-opacity", oValues[i3 * 2 + 1]);
            }
          }
          if (styleData.t === 1) {
            if (itemData.e._mdf || isFirstFrame) {
              gfill.setAttribute("x2", pt22[0]);
              gfill.setAttribute("y2", pt22[1]);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("x2", pt22[0]);
                itemData.of.setAttribute("y2", pt22[1]);
              }
            }
          } else {
            var rad;
            if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {
              rad = Math.sqrt(Math.pow(pt1[0] - pt22[0], 2) + Math.pow(pt1[1] - pt22[1], 2));
              gfill.setAttribute("r", rad);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("r", rad);
              }
            }
            if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {
              if (!rad) {
                rad = Math.sqrt(Math.pow(pt1[0] - pt22[0], 2) + Math.pow(pt1[1] - pt22[1], 2));
              }
              var ang = Math.atan2(pt22[1] - pt1[1], pt22[0] - pt1[0]);
              var percent = itemData.h.v;
              if (percent >= 1) {
                percent = 0.99;
              } else if (percent <= -1) {
                percent = -0.99;
              }
              var dist = rad * percent;
              var x5 = Math.cos(ang + itemData.a.v) * dist + pt1[0];
              var y7 = Math.sin(ang + itemData.a.v) * dist + pt1[1];
              gfill.setAttribute("fx", x5);
              gfill.setAttribute("fy", y7);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("fx", x5);
                itemData.of.setAttribute("fy", y7);
              }
            }
          }
        }
        function renderStroke(styleData, itemData, isFirstFrame) {
          var styleElem = itemData.style;
          var d3 = itemData.d;
          if (d3 && (d3._mdf || isFirstFrame) && d3.dashStr) {
            styleElem.pElem.setAttribute("stroke-dasharray", d3.dashStr);
            styleElem.pElem.setAttribute("stroke-dashoffset", d3.dashoffset[0]);
          }
          if (itemData.c && (itemData.c._mdf || isFirstFrame)) {
            styleElem.pElem.setAttribute("stroke", "rgb(" + bmFloor(itemData.c.v[0]) + "," + bmFloor(itemData.c.v[1]) + "," + bmFloor(itemData.c.v[2]) + ")");
          }
          if (itemData.o._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("stroke-opacity", itemData.o.v);
          }
          if (itemData.w._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("stroke-width", itemData.w.v);
            if (styleElem.msElem) {
              styleElem.msElem.setAttribute("stroke-width", itemData.w.v);
            }
          }
        }
        return ob2;
      }();
      function SVGShapeElement(data2, globalData2, comp2) {
        this.shapes = [];
        this.shapesData = data2.shapes;
        this.stylesList = [];
        this.shapeModifiers = [];
        this.itemsData = [];
        this.processedElements = [];
        this.animatedContents = [];
        this.initElement(data2, globalData2, comp2);
        this.prevViewData = [];
      }
      extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);
      SVGShapeElement.prototype.initSecondaryElement = function() {
      };
      SVGShapeElement.prototype.identityMatrix = new Matrix();
      SVGShapeElement.prototype.buildExpressionInterface = function() {
      };
      SVGShapeElement.prototype.createContent = function() {
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);
        this.filterUniqueShapes();
      };
      SVGShapeElement.prototype.filterUniqueShapes = function() {
        var i3;
        var len = this.shapes.length;
        var shape;
        var j4;
        var jLen = this.stylesList.length;
        var style;
        var tempShapes = [];
        var areAnimated = false;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          style = this.stylesList[j4];
          areAnimated = false;
          tempShapes.length = 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            shape = this.shapes[i3];
            if (shape.styles.indexOf(style) !== -1) {
              tempShapes.push(shape);
              areAnimated = shape._isAnimated || areAnimated;
            }
          }
          if (tempShapes.length > 1 && areAnimated) {
            this.setShapesAsAnimated(tempShapes);
          }
        }
      };
      SVGShapeElement.prototype.setShapesAsAnimated = function(shapes) {
        var i3;
        var len = shapes.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          shapes[i3].setAsAnimated();
        }
      };
      SVGShapeElement.prototype.createStyleElement = function(data2, level) {
        var elementData;
        var styleOb = new SVGStyleData(data2, level);
        var pathElement = styleOb.pElem;
        if (data2.ty === "st") {
          elementData = new SVGStrokeStyleData(this, data2, styleOb);
        } else if (data2.ty === "fl") {
          elementData = new SVGFillStyleData(this, data2, styleOb);
        } else if (data2.ty === "gf" || data2.ty === "gs") {
          var GradientConstructor = data2.ty === "gf" ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;
          elementData = new GradientConstructor(this, data2, styleOb);
          this.globalData.defs.appendChild(elementData.gf);
          if (elementData.maskId) {
            this.globalData.defs.appendChild(elementData.ms);
            this.globalData.defs.appendChild(elementData.of);
            pathElement.setAttribute("mask", "url(" + getLocationHref() + "#" + elementData.maskId + ")");
          }
        } else if (data2.ty === "no") {
          elementData = new SVGNoStyleData(this, data2, styleOb);
        }
        if (data2.ty === "st" || data2.ty === "gs") {
          pathElement.setAttribute("stroke-linecap", lineCapEnum[data2.lc || 2]);
          pathElement.setAttribute("stroke-linejoin", lineJoinEnum[data2.lj || 2]);
          pathElement.setAttribute("fill-opacity", "0");
          if (data2.lj === 1) {
            pathElement.setAttribute("stroke-miterlimit", data2.ml);
          }
        }
        if (data2.r === 2) {
          pathElement.setAttribute("fill-rule", "evenodd");
        }
        if (data2.ln) {
          pathElement.setAttribute("id", data2.ln);
        }
        if (data2.cl) {
          pathElement.setAttribute("class", data2.cl);
        }
        if (data2.bm) {
          pathElement.style["mix-blend-mode"] = getBlendMode(data2.bm);
        }
        this.stylesList.push(styleOb);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement.prototype.createGroupElement = function(data2) {
        var elementData = new ShapeGroupData();
        if (data2.ln) {
          elementData.gr.setAttribute("id", data2.ln);
        }
        if (data2.cl) {
          elementData.gr.setAttribute("class", data2.cl);
        }
        if (data2.bm) {
          elementData.gr.style["mix-blend-mode"] = getBlendMode(data2.bm);
        }
        return elementData;
      };
      SVGShapeElement.prototype.createTransformElement = function(data2, container) {
        var transformProperty = TransformPropertyFactory.getTransformProperty(this, data2, this);
        var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement.prototype.createShapeElement = function(data2, ownTransformers, level) {
        var ty = 4;
        if (data2.ty === "rc") {
          ty = 5;
        } else if (data2.ty === "el") {
          ty = 6;
        } else if (data2.ty === "sr") {
          ty = 7;
        }
        var shapeProperty = ShapePropertyFactory.getShapeProp(this, data2, ty, this);
        var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);
        this.shapes.push(elementData);
        this.addShapeToModifiers(elementData);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement.prototype.addToAnimatedContents = function(data2, element) {
        var i3 = 0;
        var len = this.animatedContents.length;
        while (i3 < len) {
          if (this.animatedContents[i3].element === element) {
            return;
          }
          i3 += 1;
        }
        this.animatedContents.push({
          fn: SVGElementsRenderer.createRenderFunction(data2),
          element,
          data: data2
        });
      };
      SVGShapeElement.prototype.setElementStyles = function(elementData) {
        var arr = elementData.styles;
        var j4;
        var jLen = this.stylesList.length;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          if (!this.stylesList[j4].closed) {
            arr.push(this.stylesList[j4]);
          }
        }
      };
      SVGShapeElement.prototype.reloadShapes = function() {
        this._isFirstFrame = true;
        var i3;
        var len = this.itemsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.prevViewData[i3] = this.itemsData[i3];
        }
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);
        this.filterUniqueShapes();
        len = this.dynamicProperties.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.dynamicProperties[i3].getValue();
        }
        this.renderModifiers();
      };
      SVGShapeElement.prototype.searchShapes = function(arr, itemsData, prevViewData, container, level, transformers, render) {
        var ownTransformers = [].concat(transformers);
        var i3;
        var len = arr.length - 1;
        var j4;
        var jLen;
        var ownStyles = [];
        var ownModifiers = [];
        var currentTransform;
        var modifier;
        var processedPos;
        for (i3 = len; i3 >= 0; i3 -= 1) {
          processedPos = this.searchProcessedElement(arr[i3]);
          if (!processedPos) {
            arr[i3]._render = render;
          } else {
            itemsData[i3] = prevViewData[processedPos - 1];
          }
          if (arr[i3].ty === "fl" || arr[i3].ty === "st" || arr[i3].ty === "gf" || arr[i3].ty === "gs" || arr[i3].ty === "no") {
            if (!processedPos) {
              itemsData[i3] = this.createStyleElement(arr[i3], level);
            } else {
              itemsData[i3].style.closed = false;
            }
            if (arr[i3]._render) {
              if (itemsData[i3].style.pElem.parentNode !== container) {
                container.appendChild(itemsData[i3].style.pElem);
              }
            }
            ownStyles.push(itemsData[i3].style);
          } else if (arr[i3].ty === "gr") {
            if (!processedPos) {
              itemsData[i3] = this.createGroupElement(arr[i3]);
            } else {
              jLen = itemsData[i3].it.length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsData[i3].prevViewData[j4] = itemsData[i3].it[j4];
              }
            }
            this.searchShapes(arr[i3].it, itemsData[i3].it, itemsData[i3].prevViewData, itemsData[i3].gr, level + 1, ownTransformers, render);
            if (arr[i3]._render) {
              if (itemsData[i3].gr.parentNode !== container) {
                container.appendChild(itemsData[i3].gr);
              }
            }
          } else if (arr[i3].ty === "tr") {
            if (!processedPos) {
              itemsData[i3] = this.createTransformElement(arr[i3], container);
            }
            currentTransform = itemsData[i3].transform;
            ownTransformers.push(currentTransform);
          } else if (arr[i3].ty === "sh" || arr[i3].ty === "rc" || arr[i3].ty === "el" || arr[i3].ty === "sr") {
            if (!processedPos) {
              itemsData[i3] = this.createShapeElement(arr[i3], ownTransformers, level);
            }
            this.setElementStyles(itemsData[i3]);
          } else if (arr[i3].ty === "tm" || arr[i3].ty === "rd" || arr[i3].ty === "ms" || arr[i3].ty === "pb" || arr[i3].ty === "zz" || arr[i3].ty === "op") {
            if (!processedPos) {
              modifier = ShapeModifiers.getModifier(arr[i3].ty);
              modifier.init(this, arr[i3]);
              itemsData[i3] = modifier;
              this.shapeModifiers.push(modifier);
            } else {
              modifier = itemsData[i3];
              modifier.closed = false;
            }
            ownModifiers.push(modifier);
          } else if (arr[i3].ty === "rp") {
            if (!processedPos) {
              modifier = ShapeModifiers.getModifier(arr[i3].ty);
              itemsData[i3] = modifier;
              modifier.init(this, arr, i3, itemsData);
              this.shapeModifiers.push(modifier);
              render = false;
            } else {
              modifier = itemsData[i3];
              modifier.closed = true;
            }
            ownModifiers.push(modifier);
          }
          this.addProcessedElement(arr[i3], i3 + 1);
        }
        len = ownStyles.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          ownStyles[i3].closed = true;
        }
        len = ownModifiers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          ownModifiers[i3].closed = true;
        }
      };
      SVGShapeElement.prototype.renderInnerContent = function() {
        this.renderModifiers();
        var i3;
        var len = this.stylesList.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.stylesList[i3].reset();
        }
        this.renderShape();
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.stylesList[i3]._mdf || this._isFirstFrame) {
            if (this.stylesList[i3].msElem) {
              this.stylesList[i3].msElem.setAttribute("d", this.stylesList[i3].d);
              this.stylesList[i3].d = "M0 0" + this.stylesList[i3].d;
            }
            this.stylesList[i3].pElem.setAttribute("d", this.stylesList[i3].d || "M0 0");
          }
        }
      };
      SVGShapeElement.prototype.renderShape = function() {
        var i3;
        var len = this.animatedContents.length;
        var animatedContent;
        for (i3 = 0; i3 < len; i3 += 1) {
          animatedContent = this.animatedContents[i3];
          if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {
            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);
          }
        }
      };
      SVGShapeElement.prototype.destroy = function() {
        this.destroyBaseElement();
        this.shapesData = null;
        this.itemsData = null;
      };
      function LetterProps(o3, sw, sc, fc, m3, p6) {
        this.o = o3;
        this.sw = sw;
        this.sc = sc;
        this.fc = fc;
        this.m = m3;
        this.p = p6;
        this._mdf = {
          o: true,
          sw: !!sw,
          sc: !!sc,
          fc: !!fc,
          m: true,
          p: true
        };
      }
      LetterProps.prototype.update = function(o3, sw, sc, fc, m3, p6) {
        this._mdf.o = false;
        this._mdf.sw = false;
        this._mdf.sc = false;
        this._mdf.fc = false;
        this._mdf.m = false;
        this._mdf.p = false;
        var updated = false;
        if (this.o !== o3) {
          this.o = o3;
          this._mdf.o = true;
          updated = true;
        }
        if (this.sw !== sw) {
          this.sw = sw;
          this._mdf.sw = true;
          updated = true;
        }
        if (this.sc !== sc) {
          this.sc = sc;
          this._mdf.sc = true;
          updated = true;
        }
        if (this.fc !== fc) {
          this.fc = fc;
          this._mdf.fc = true;
          updated = true;
        }
        if (this.m !== m3) {
          this.m = m3;
          this._mdf.m = true;
          updated = true;
        }
        if (p6.length && (this.p[0] !== p6[0] || this.p[1] !== p6[1] || this.p[4] !== p6[4] || this.p[5] !== p6[5] || this.p[12] !== p6[12] || this.p[13] !== p6[13])) {
          this.p = p6;
          this._mdf.p = true;
          updated = true;
        }
        return updated;
      };
      function TextProperty(elem2, data2) {
        this._frameId = initialDefaultFrame;
        this.pv = "";
        this.v = "";
        this.kf = false;
        this._isFirstFrame = true;
        this._mdf = false;
        if (data2.d && data2.d.sid) {
          data2.d = elem2.globalData.slotManager.getProp(data2.d);
        }
        this.data = data2;
        this.elem = elem2;
        this.comp = this.elem.comp;
        this.keysIndex = 0;
        this.canResize = false;
        this.minimumFontSize = 1;
        this.effectsSequence = [];
        this.currentData = {
          ascent: 0,
          boxWidth: this.defaultBoxWidth,
          f: "",
          fStyle: "",
          fWeight: "",
          fc: "",
          j: "",
          justifyOffset: "",
          l: [],
          lh: 0,
          lineWidths: [],
          ls: "",
          of: "",
          s: "",
          sc: "",
          sw: 0,
          t: 0,
          tr: 0,
          sz: 0,
          ps: null,
          fillColorAnim: false,
          strokeColorAnim: false,
          strokeWidthAnim: false,
          yOffset: 0,
          finalSize: 0,
          finalText: [],
          finalLineHeight: 0,
          __complete: false
        };
        this.copyData(this.currentData, this.data.d.k[0].s);
        if (!this.searchProperty()) {
          this.completeTextData(this.currentData);
        }
      }
      TextProperty.prototype.defaultBoxWidth = [0, 0];
      TextProperty.prototype.copyData = function(obj, data2) {
        for (var s2 in data2) {
          if (Object.prototype.hasOwnProperty.call(data2, s2)) {
            obj[s2] = data2[s2];
          }
        }
        return obj;
      };
      TextProperty.prototype.setCurrentData = function(data2) {
        if (!data2.__complete) {
          this.completeTextData(data2);
        }
        this.currentData = data2;
        this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;
        this._mdf = true;
      };
      TextProperty.prototype.searchProperty = function() {
        return this.searchKeyframes();
      };
      TextProperty.prototype.searchKeyframes = function() {
        this.kf = this.data.d.k.length > 1;
        if (this.kf) {
          this.addEffect(this.getKeyframeValue.bind(this));
        }
        return this.kf;
      };
      TextProperty.prototype.addEffect = function(effectFunction) {
        this.effectsSequence.push(effectFunction);
        this.elem.addDynamicProperty(this);
      };
      TextProperty.prototype.getValue = function(_finalValue) {
        if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {
          return;
        }
        this.currentData.t = this.data.d.k[this.keysIndex].s.t;
        var currentValue = this.currentData;
        var currentIndex = this.keysIndex;
        if (this.lock) {
          this.setCurrentData(this.currentData);
          return;
        }
        this.lock = true;
        this._mdf = false;
        var i3;
        var len = this.effectsSequence.length;
        var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (currentIndex !== this.keysIndex) {
            finalValue = this.effectsSequence[i3](finalValue, finalValue.t);
          } else {
            finalValue = this.effectsSequence[i3](this.currentData, finalValue.t);
          }
        }
        if (currentValue !== finalValue) {
          this.setCurrentData(finalValue);
        }
        this.v = this.currentData;
        this.pv = this.v;
        this.lock = false;
        this.frameId = this.elem.globalData.frameId;
      };
      TextProperty.prototype.getKeyframeValue = function() {
        var textKeys = this.data.d.k;
        var frameNum = this.elem.comp.renderedFrame;
        var i3 = 0;
        var len = textKeys.length;
        while (i3 <= len - 1) {
          if (i3 === len - 1 || textKeys[i3 + 1].t > frameNum) {
            break;
          }
          i3 += 1;
        }
        if (this.keysIndex !== i3) {
          this.keysIndex = i3;
        }
        return this.data.d.k[this.keysIndex].s;
      };
      TextProperty.prototype.buildFinalText = function(text2) {
        var charactersArray = [];
        var i3 = 0;
        var len = text2.length;
        var charCode;
        var secondCharCode;
        var shouldCombine = false;
        var shouldCombineNext = false;
        var currentChars = "";
        while (i3 < len) {
          shouldCombine = shouldCombineNext;
          shouldCombineNext = false;
          charCode = text2.charCodeAt(i3);
          currentChars = text2.charAt(i3);
          if (FontManager.isCombinedCharacter(charCode)) {
            shouldCombine = true;
          } else if (charCode >= 55296 && charCode <= 56319) {
            if (FontManager.isRegionalFlag(text2, i3)) {
              currentChars = text2.substr(i3, 14);
            } else {
              secondCharCode = text2.charCodeAt(i3 + 1);
              if (secondCharCode >= 56320 && secondCharCode <= 57343) {
                if (FontManager.isModifier(charCode, secondCharCode)) {
                  currentChars = text2.substr(i3, 2);
                  shouldCombine = true;
                } else if (FontManager.isFlagEmoji(text2.substr(i3, 4))) {
                  currentChars = text2.substr(i3, 4);
                } else {
                  currentChars = text2.substr(i3, 2);
                }
              }
            }
          } else if (charCode > 56319) {
            secondCharCode = text2.charCodeAt(i3 + 1);
            if (FontManager.isVariationSelector(charCode)) {
              shouldCombine = true;
            }
          } else if (FontManager.isZeroWidthJoiner(charCode)) {
            shouldCombine = true;
            shouldCombineNext = true;
          }
          if (shouldCombine) {
            charactersArray[charactersArray.length - 1] += currentChars;
            shouldCombine = false;
          } else {
            charactersArray.push(currentChars);
          }
          i3 += currentChars.length;
        }
        return charactersArray;
      };
      TextProperty.prototype.completeTextData = function(documentData) {
        documentData.__complete = true;
        var fontManager = this.elem.globalData.fontManager;
        var data2 = this.data;
        var letters = [];
        var i3;
        var len;
        var newLineFlag;
        var index2 = 0;
        var val2;
        var anchorGrouping = data2.m.g;
        var currentSize = 0;
        var currentPos = 0;
        var currentLine = 0;
        var lineWidths = [];
        var lineWidth = 0;
        var maxLineWidth = 0;
        var j4;
        var jLen;
        var fontData = fontManager.getFontByName(documentData.f);
        var charData;
        var cLength = 0;
        var fontProps = getFontProperties(fontData);
        documentData.fWeight = fontProps.weight;
        documentData.fStyle = fontProps.style;
        documentData.finalSize = documentData.s;
        documentData.finalText = this.buildFinalText(documentData.t);
        len = documentData.finalText.length;
        documentData.finalLineHeight = documentData.lh;
        var trackingOffset = documentData.tr / 1e3 * documentData.finalSize;
        var charCode;
        if (documentData.sz) {
          var flag = true;
          var boxWidth = documentData.sz[0];
          var boxHeight = documentData.sz[1];
          var currentHeight;
          var finalText;
          while (flag) {
            finalText = this.buildFinalText(documentData.t);
            currentHeight = 0;
            lineWidth = 0;
            len = finalText.length;
            trackingOffset = documentData.tr / 1e3 * documentData.finalSize;
            var lastSpaceIndex = -1;
            for (i3 = 0; i3 < len; i3 += 1) {
              charCode = finalText[i3].charCodeAt(0);
              newLineFlag = false;
              if (finalText[i3] === " ") {
                lastSpaceIndex = i3;
              } else if (charCode === 13 || charCode === 3) {
                lineWidth = 0;
                newLineFlag = true;
                currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;
              }
              if (fontManager.chars) {
                charData = fontManager.getCharData(finalText[i3], fontData.fStyle, fontData.fFamily);
                cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;
              } else {
                cLength = fontManager.measureText(finalText[i3], documentData.f, documentData.finalSize);
              }
              if (lineWidth + cLength > boxWidth && finalText[i3] !== " ") {
                if (lastSpaceIndex === -1) {
                  len += 1;
                } else {
                  i3 = lastSpaceIndex;
                }
                currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;
                finalText.splice(i3, lastSpaceIndex === i3 ? 1 : 0, "\r");
                lastSpaceIndex = -1;
                lineWidth = 0;
              } else {
                lineWidth += cLength;
                lineWidth += trackingOffset;
              }
            }
            currentHeight += fontData.ascent * documentData.finalSize / 100;
            if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {
              documentData.finalSize -= 1;
              documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;
            } else {
              documentData.finalText = finalText;
              len = documentData.finalText.length;
              flag = false;
            }
          }
        }
        lineWidth = -trackingOffset;
        cLength = 0;
        var uncollapsedSpaces = 0;
        var currentChar;
        for (i3 = 0; i3 < len; i3 += 1) {
          newLineFlag = false;
          currentChar = documentData.finalText[i3];
          charCode = currentChar.charCodeAt(0);
          if (charCode === 13 || charCode === 3) {
            uncollapsedSpaces = 0;
            lineWidths.push(lineWidth);
            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;
            lineWidth = -2 * trackingOffset;
            val2 = "";
            newLineFlag = true;
            currentLine += 1;
          } else {
            val2 = currentChar;
          }
          if (fontManager.chars) {
            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);
            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;
          } else {
            cLength = fontManager.measureText(val2, documentData.f, documentData.finalSize);
          }
          if (currentChar === " ") {
            uncollapsedSpaces += cLength + trackingOffset;
          } else {
            lineWidth += cLength + trackingOffset + uncollapsedSpaces;
            uncollapsedSpaces = 0;
          }
          letters.push({
            l: cLength,
            an: cLength,
            add: currentSize,
            n: newLineFlag,
            anIndexes: [],
            val: val2,
            line: currentLine,
            animatorJustifyOffset: 0
          });
          if (anchorGrouping == 2) {
            currentSize += cLength;
            if (val2 === "" || val2 === " " || i3 === len - 1) {
              if (val2 === "" || val2 === " ") {
                currentSize -= cLength;
              }
              while (currentPos <= i3) {
                letters[currentPos].an = currentSize;
                letters[currentPos].ind = index2;
                letters[currentPos].extra = cLength;
                currentPos += 1;
              }
              index2 += 1;
              currentSize = 0;
            }
          } else if (anchorGrouping == 3) {
            currentSize += cLength;
            if (val2 === "" || i3 === len - 1) {
              if (val2 === "") {
                currentSize -= cLength;
              }
              while (currentPos <= i3) {
                letters[currentPos].an = currentSize;
                letters[currentPos].ind = index2;
                letters[currentPos].extra = cLength;
                currentPos += 1;
              }
              currentSize = 0;
              index2 += 1;
            }
          } else {
            letters[index2].ind = index2;
            letters[index2].extra = 0;
            index2 += 1;
          }
        }
        documentData.l = letters;
        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;
        lineWidths.push(lineWidth);
        if (documentData.sz) {
          documentData.boxWidth = documentData.sz[0];
          documentData.justifyOffset = 0;
        } else {
          documentData.boxWidth = maxLineWidth;
          switch (documentData.j) {
            case 1:
              documentData.justifyOffset = -documentData.boxWidth;
              break;
            case 2:
              documentData.justifyOffset = -documentData.boxWidth / 2;
              break;
            default:
              documentData.justifyOffset = 0;
          }
        }
        documentData.lineWidths = lineWidths;
        var animators = data2.a;
        var animatorData;
        var letterData;
        jLen = animators.length;
        var based;
        var ind;
        var indexes = [];
        for (j4 = 0; j4 < jLen; j4 += 1) {
          animatorData = animators[j4];
          if (animatorData.a.sc) {
            documentData.strokeColorAnim = true;
          }
          if (animatorData.a.sw) {
            documentData.strokeWidthAnim = true;
          }
          if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {
            documentData.fillColorAnim = true;
          }
          ind = 0;
          based = animatorData.s.b;
          for (i3 = 0; i3 < len; i3 += 1) {
            letterData = letters[i3];
            letterData.anIndexes[j4] = ind;
            if (based == 1 && letterData.val !== "" || based == 2 && letterData.val !== "" && letterData.val !== " " || based == 3 && (letterData.n || letterData.val == " " || i3 == len - 1) || based == 4 && (letterData.n || i3 == len - 1)) {
              if (animatorData.s.rn === 1) {
                indexes.push(ind);
              }
              ind += 1;
            }
          }
          data2.a[j4].s.totalChars = ind;
          var currentInd = -1;
          var newInd;
          if (animatorData.s.rn === 1) {
            for (i3 = 0; i3 < len; i3 += 1) {
              letterData = letters[i3];
              if (currentInd != letterData.anIndexes[j4]) {
                currentInd = letterData.anIndexes[j4];
                newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];
              }
              letterData.anIndexes[j4] = newInd;
            }
          }
        }
        documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;
        documentData.ls = documentData.ls || 0;
        documentData.ascent = fontData.ascent * documentData.finalSize / 100;
      };
      TextProperty.prototype.updateDocumentData = function(newData, index2) {
        index2 = index2 === void 0 ? this.keysIndex : index2;
        var dData = this.copyData({}, this.data.d.k[index2].s);
        dData = this.copyData(dData, newData);
        this.data.d.k[index2].s = dData;
        this.recalculate(index2);
        this.setCurrentData(dData);
        this.elem.addDynamicProperty(this);
      };
      TextProperty.prototype.recalculate = function(index2) {
        var dData = this.data.d.k[index2].s;
        dData.__complete = false;
        this.keysIndex = 0;
        this._isFirstFrame = true;
        this.getValue(dData);
      };
      TextProperty.prototype.canResizeFont = function(_canResize) {
        this.canResize = _canResize;
        this.recalculate(this.keysIndex);
        this.elem.addDynamicProperty(this);
      };
      TextProperty.prototype.setMinimumFontSize = function(_fontValue) {
        this.minimumFontSize = Math.floor(_fontValue) || 1;
        this.recalculate(this.keysIndex);
        this.elem.addDynamicProperty(this);
      };
      var TextSelectorProp = function() {
        var max = Math.max;
        var min = Math.min;
        var floor = Math.floor;
        function TextSelectorPropFactory(elem2, data2) {
          this._currentTextLength = -1;
          this.k = false;
          this.data = data2;
          this.elem = elem2;
          this.comp = elem2.comp;
          this.finalS = 0;
          this.finalE = 0;
          this.initDynamicPropertyContainer(elem2);
          this.s = PropertyFactory.getProp(elem2, data2.s || {
            k: 0
          }, 0, 0, this);
          if ("e" in data2) {
            this.e = PropertyFactory.getProp(elem2, data2.e, 0, 0, this);
          } else {
            this.e = {
              v: 100
            };
          }
          this.o = PropertyFactory.getProp(elem2, data2.o || {
            k: 0
          }, 0, 0, this);
          this.xe = PropertyFactory.getProp(elem2, data2.xe || {
            k: 0
          }, 0, 0, this);
          this.ne = PropertyFactory.getProp(elem2, data2.ne || {
            k: 0
          }, 0, 0, this);
          this.sm = PropertyFactory.getProp(elem2, data2.sm || {
            k: 100
          }, 0, 0, this);
          this.a = PropertyFactory.getProp(elem2, data2.a, 0, 0.01, this);
          if (!this.dynamicProperties.length) {
            this.getValue();
          }
        }
        TextSelectorPropFactory.prototype = {
          getMult: function getMult(ind) {
            if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {
              this.getValue();
            }
            var x1 = 0;
            var y1 = 0;
            var x22 = 1;
            var y22 = 1;
            if (this.ne.v > 0) {
              x1 = this.ne.v / 100;
            } else {
              y1 = -this.ne.v / 100;
            }
            if (this.xe.v > 0) {
              x22 = 1 - this.xe.v / 100;
            } else {
              y22 = 1 + this.xe.v / 100;
            }
            var easer = BezierFactory.getBezierEasing(x1, y1, x22, y22).get;
            var mult = 0;
            var s2 = this.finalS;
            var e2 = this.finalE;
            var type = this.data.sh;
            if (type === 2) {
              if (e2 === s2) {
                mult = ind >= e2 ? 1 : 0;
              } else {
                mult = max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
              }
              mult = easer(mult);
            } else if (type === 3) {
              if (e2 === s2) {
                mult = ind >= e2 ? 0 : 1;
              } else {
                mult = 1 - max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
              }
              mult = easer(mult);
            } else if (type === 4) {
              if (e2 === s2) {
                mult = 0;
              } else {
                mult = max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
                if (mult < 0.5) {
                  mult *= 2;
                } else {
                  mult = 1 - 2 * (mult - 0.5);
                }
              }
              mult = easer(mult);
            } else if (type === 5) {
              if (e2 === s2) {
                mult = 0;
              } else {
                var tot = e2 - s2;
                ind = min(max(0, ind + 0.5 - s2), e2 - s2);
                var x5 = -tot / 2 + ind;
                var a4 = tot / 2;
                mult = Math.sqrt(1 - x5 * x5 / (a4 * a4));
              }
              mult = easer(mult);
            } else if (type === 6) {
              if (e2 === s2) {
                mult = 0;
              } else {
                ind = min(max(0, ind + 0.5 - s2), e2 - s2);
                mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e2 - s2))) / 2;
              }
              mult = easer(mult);
            } else {
              if (ind >= floor(s2)) {
                if (ind - s2 < 0) {
                  mult = max(0, min(min(e2, 1) - (s2 - ind), 1));
                } else {
                  mult = max(0, min(e2 - ind, 1));
                }
              }
              mult = easer(mult);
            }
            if (this.sm.v !== 100) {
              var smoothness = this.sm.v * 0.01;
              if (smoothness === 0) {
                smoothness = 1e-8;
              }
              var threshold = 0.5 - smoothness * 0.5;
              if (mult < threshold) {
                mult = 0;
              } else {
                mult = (mult - threshold) / smoothness;
                if (mult > 1) {
                  mult = 1;
                }
              }
            }
            return mult * this.a.v;
          },
          getValue: function getValue(newCharsFlag) {
            this.iterateDynamicProperties();
            this._mdf = newCharsFlag || this._mdf;
            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;
            if (newCharsFlag && this.data.r === 2) {
              this.e.v = this._currentTextLength;
            }
            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;
            var o3 = this.o.v / divisor;
            var s2 = this.s.v / divisor + o3;
            var e2 = this.e.v / divisor + o3;
            if (s2 > e2) {
              var _s4 = s2;
              s2 = e2;
              e2 = _s4;
            }
            this.finalS = s2;
            this.finalE = e2;
          }
        };
        extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);
        function getTextSelectorProp(elem2, data2, arr) {
          return new TextSelectorPropFactory(elem2, data2, arr);
        }
        return {
          getTextSelectorProp
        };
      }();
      function TextAnimatorDataProperty(elem2, animatorProps, container) {
        var defaultData = {
          propType: false
        };
        var getProp = PropertyFactory.getProp;
        var textAnimatorAnimatables = animatorProps.a;
        this.a = {
          r: textAnimatorAnimatables.r ? getProp(elem2, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,
          rx: textAnimatorAnimatables.rx ? getProp(elem2, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,
          ry: textAnimatorAnimatables.ry ? getProp(elem2, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,
          sk: textAnimatorAnimatables.sk ? getProp(elem2, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,
          sa: textAnimatorAnimatables.sa ? getProp(elem2, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,
          s: textAnimatorAnimatables.s ? getProp(elem2, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,
          a: textAnimatorAnimatables.a ? getProp(elem2, textAnimatorAnimatables.a, 1, 0, container) : defaultData,
          o: textAnimatorAnimatables.o ? getProp(elem2, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,
          p: textAnimatorAnimatables.p ? getProp(elem2, textAnimatorAnimatables.p, 1, 0, container) : defaultData,
          sw: textAnimatorAnimatables.sw ? getProp(elem2, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,
          sc: textAnimatorAnimatables.sc ? getProp(elem2, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,
          fc: textAnimatorAnimatables.fc ? getProp(elem2, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,
          fh: textAnimatorAnimatables.fh ? getProp(elem2, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,
          fs: textAnimatorAnimatables.fs ? getProp(elem2, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,
          fb: textAnimatorAnimatables.fb ? getProp(elem2, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,
          t: textAnimatorAnimatables.t ? getProp(elem2, textAnimatorAnimatables.t, 0, 0, container) : defaultData
        };
        this.s = TextSelectorProp.getTextSelectorProp(elem2, animatorProps.s, container);
        this.s.t = animatorProps.s.t;
      }
      function TextAnimatorProperty(textData, renderType, elem2) {
        this._isFirstFrame = true;
        this._hasMaskedPath = false;
        this._frameId = -1;
        this._textData = textData;
        this._renderType = renderType;
        this._elem = elem2;
        this._animatorsData = createSizedArray(this._textData.a.length);
        this._pathData = {};
        this._moreOptions = {
          alignment: {}
        };
        this.renderedLetters = [];
        this.lettersChangedFlag = false;
        this.initDynamicPropertyContainer(elem2);
      }
      TextAnimatorProperty.prototype.searchProperties = function() {
        var i3;
        var len = this._textData.a.length;
        var animatorProps;
        var getProp = PropertyFactory.getProp;
        for (i3 = 0; i3 < len; i3 += 1) {
          animatorProps = this._textData.a[i3];
          this._animatorsData[i3] = new TextAnimatorDataProperty(this._elem, animatorProps, this);
        }
        if (this._textData.p && "m" in this._textData.p) {
          this._pathData = {
            a: getProp(this._elem, this._textData.p.a, 0, 0, this),
            f: getProp(this._elem, this._textData.p.f, 0, 0, this),
            l: getProp(this._elem, this._textData.p.l, 0, 0, this),
            r: getProp(this._elem, this._textData.p.r, 0, 0, this),
            p: getProp(this._elem, this._textData.p.p, 0, 0, this),
            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
          };
          this._hasMaskedPath = true;
        } else {
          this._hasMaskedPath = false;
        }
        this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);
      };
      TextAnimatorProperty.prototype.getMeasures = function(documentData, lettersChangedFlag) {
        this.lettersChangedFlag = lettersChangedFlag;
        if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {
          return;
        }
        this._isFirstFrame = false;
        var alignment = this._moreOptions.alignment.v;
        var animators = this._animatorsData;
        var textData = this._textData;
        var matrixHelper = this.mHelper;
        var renderType = this._renderType;
        var renderedLettersCount = this.renderedLetters.length;
        var xPos;
        var yPos;
        var i3;
        var len;
        var letters = documentData.l;
        var pathInfo;
        var currentLength;
        var currentPoint;
        var segmentLength;
        var flag;
        var pointInd;
        var segmentInd;
        var prevPoint;
        var points;
        var segments;
        var partialLength;
        var totalLength;
        var perc;
        var tanAngle;
        var mask2;
        if (this._hasMaskedPath) {
          mask2 = this._pathData.m;
          if (!this._pathData.n || this._pathData._mdf) {
            var paths = mask2.v;
            if (this._pathData.r.v) {
              paths = paths.reverse();
            }
            pathInfo = {
              tLength: 0,
              segments: []
            };
            len = paths._length - 1;
            var bezierData;
            totalLength = 0;
            for (i3 = 0; i3 < len; i3 += 1) {
              bezierData = bez.buildBezierData(paths.v[i3], paths.v[i3 + 1], [paths.o[i3][0] - paths.v[i3][0], paths.o[i3][1] - paths.v[i3][1]], [paths.i[i3 + 1][0] - paths.v[i3 + 1][0], paths.i[i3 + 1][1] - paths.v[i3 + 1][1]]);
              pathInfo.tLength += bezierData.segmentLength;
              pathInfo.segments.push(bezierData);
              totalLength += bezierData.segmentLength;
            }
            i3 = len;
            if (mask2.v.c) {
              bezierData = bez.buildBezierData(paths.v[i3], paths.v[0], [paths.o[i3][0] - paths.v[i3][0], paths.o[i3][1] - paths.v[i3][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);
              pathInfo.tLength += bezierData.segmentLength;
              pathInfo.segments.push(bezierData);
              totalLength += bezierData.segmentLength;
            }
            this._pathData.pi = pathInfo;
          }
          pathInfo = this._pathData.pi;
          currentLength = this._pathData.f.v;
          segmentInd = 0;
          pointInd = 1;
          segmentLength = 0;
          flag = true;
          segments = pathInfo.segments;
          if (currentLength < 0 && mask2.v.c) {
            if (pathInfo.tLength < Math.abs(currentLength)) {
              currentLength = -Math.abs(currentLength) % pathInfo.tLength;
            }
            segmentInd = segments.length - 1;
            points = segments[segmentInd].points;
            pointInd = points.length - 1;
            while (currentLength < 0) {
              currentLength += points[pointInd].partialLength;
              pointInd -= 1;
              if (pointInd < 0) {
                segmentInd -= 1;
                points = segments[segmentInd].points;
                pointInd = points.length - 1;
              }
            }
          }
          points = segments[segmentInd].points;
          prevPoint = points[pointInd - 1];
          currentPoint = points[pointInd];
          partialLength = currentPoint.partialLength;
        }
        len = letters.length;
        xPos = 0;
        yPos = 0;
        var yOff = documentData.finalSize * 1.2 * 0.714;
        var firstLine = true;
        var animatorProps;
        var animatorSelector;
        var j4;
        var jLen;
        var letterValue;
        jLen = animators.length;
        var mult;
        var ind = -1;
        var offf;
        var xPathPos;
        var yPathPos;
        var initPathPos = currentLength;
        var initSegmentInd = segmentInd;
        var initPointInd = pointInd;
        var currentLine = -1;
        var elemOpacity;
        var sc;
        var sw;
        var fc;
        var k3;
        var letterSw;
        var letterSc;
        var letterFc;
        var letterM = "";
        var letterP = this.defaultPropsArray;
        var letterO;
        if (documentData.j === 2 || documentData.j === 1) {
          var animatorJustifyOffset = 0;
          var animatorFirstCharOffset = 0;
          var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;
          var lastIndex = 0;
          var isNewLine = true;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (letters[i3].n) {
              if (animatorJustifyOffset) {
                animatorJustifyOffset += animatorFirstCharOffset;
              }
              while (lastIndex < i3) {
                letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;
                lastIndex += 1;
              }
              animatorJustifyOffset = 0;
              isNewLine = true;
            } else {
              for (j4 = 0; j4 < jLen; j4 += 1) {
                animatorProps = animators[j4].a;
                if (animatorProps.t.propType) {
                  if (isNewLine && documentData.j === 2) {
                    animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;
                  }
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;
                  } else {
                    animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;
                  }
                }
              }
              isNewLine = false;
            }
          }
          if (animatorJustifyOffset) {
            animatorJustifyOffset += animatorFirstCharOffset;
          }
          while (lastIndex < i3) {
            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;
            lastIndex += 1;
          }
        }
        for (i3 = 0; i3 < len; i3 += 1) {
          matrixHelper.reset();
          elemOpacity = 1;
          if (letters[i3].n) {
            xPos = 0;
            yPos += documentData.yOffset;
            yPos += firstLine ? 1 : 0;
            currentLength = initPathPos;
            firstLine = false;
            if (this._hasMaskedPath) {
              segmentInd = initSegmentInd;
              pointInd = initPointInd;
              points = segments[segmentInd].points;
              prevPoint = points[pointInd - 1];
              currentPoint = points[pointInd];
              partialLength = currentPoint.partialLength;
              segmentLength = 0;
            }
            letterM = "";
            letterFc = "";
            letterSw = "";
            letterO = "";
            letterP = this.defaultPropsArray;
          } else {
            if (this._hasMaskedPath) {
              if (currentLine !== letters[i3].line) {
                switch (documentData.j) {
                  case 1:
                    currentLength += totalLength - documentData.lineWidths[letters[i3].line];
                    break;
                  case 2:
                    currentLength += (totalLength - documentData.lineWidths[letters[i3].line]) / 2;
                    break;
                  default:
                    break;
                }
                currentLine = letters[i3].line;
              }
              if (ind !== letters[i3].ind) {
                if (letters[ind]) {
                  currentLength += letters[ind].extra;
                }
                currentLength += letters[i3].an / 2;
                ind = letters[i3].ind;
              }
              currentLength += alignment[0] * letters[i3].an * 5e-3;
              var animatorOffset = 0;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                animatorProps = animators[j4].a;
                if (animatorProps.p.propType) {
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorOffset += animatorProps.p.v[0] * mult[0];
                  } else {
                    animatorOffset += animatorProps.p.v[0] * mult;
                  }
                }
                if (animatorProps.a.propType) {
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorOffset += animatorProps.a.v[0] * mult[0];
                  } else {
                    animatorOffset += animatorProps.a.v[0] * mult;
                  }
                }
              }
              flag = true;
              if (this._pathData.a.v) {
                currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);
                currentLength += this._pathData.f.v;
              }
              while (flag) {
                if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {
                  perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;
                  xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;
                  yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;
                  matrixHelper.translate(-alignment[0] * letters[i3].an * 5e-3, -(alignment[1] * yOff) * 0.01);
                  flag = false;
                } else if (points) {
                  segmentLength += currentPoint.partialLength;
                  pointInd += 1;
                  if (pointInd >= points.length) {
                    pointInd = 0;
                    segmentInd += 1;
                    if (!segments[segmentInd]) {
                      if (mask2.v.c) {
                        pointInd = 0;
                        segmentInd = 0;
                        points = segments[segmentInd].points;
                      } else {
                        segmentLength -= currentPoint.partialLength;
                        points = null;
                      }
                    } else {
                      points = segments[segmentInd].points;
                    }
                  }
                  if (points) {
                    prevPoint = currentPoint;
                    currentPoint = points[pointInd];
                    partialLength = currentPoint.partialLength;
                  }
                }
              }
              offf = letters[i3].an / 2 - letters[i3].add;
              matrixHelper.translate(-offf, 0, 0);
            } else {
              offf = letters[i3].an / 2 - letters[i3].add;
              matrixHelper.translate(-offf, 0, 0);
              matrixHelper.translate(-alignment[0] * letters[i3].an * 5e-3, -alignment[1] * yOff * 0.01, 0);
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.t.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (xPos !== 0 || documentData.j !== 0) {
                  if (this._hasMaskedPath) {
                    if (mult.length) {
                      currentLength += animatorProps.t.v * mult[0];
                    } else {
                      currentLength += animatorProps.t.v * mult;
                    }
                  } else if (mult.length) {
                    xPos += animatorProps.t.v * mult[0];
                  } else {
                    xPos += animatorProps.t.v * mult;
                  }
                }
              }
            }
            if (documentData.strokeWidthAnim) {
              sw = documentData.sw || 0;
            }
            if (documentData.strokeColorAnim) {
              if (documentData.sc) {
                sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];
              } else {
                sc = [0, 0, 0];
              }
            }
            if (documentData.fillColorAnim && documentData.fc) {
              fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.a.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (mult.length) {
                  matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);
                } else {
                  matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.s.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (mult.length) {
                  matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);
                } else {
                  matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              animatorSelector = animators[j4].s;
              mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
              if (animatorProps.sk.propType) {
                if (mult.length) {
                  matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);
                } else {
                  matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);
                }
              }
              if (animatorProps.r.propType) {
                if (mult.length) {
                  matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);
                } else {
                  matrixHelper.rotateZ(-animatorProps.r.v * mult);
                }
              }
              if (animatorProps.ry.propType) {
                if (mult.length) {
                  matrixHelper.rotateY(animatorProps.ry.v * mult[1]);
                } else {
                  matrixHelper.rotateY(animatorProps.ry.v * mult);
                }
              }
              if (animatorProps.rx.propType) {
                if (mult.length) {
                  matrixHelper.rotateX(animatorProps.rx.v * mult[0]);
                } else {
                  matrixHelper.rotateX(animatorProps.rx.v * mult);
                }
              }
              if (animatorProps.o.propType) {
                if (mult.length) {
                  elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];
                } else {
                  elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;
                }
              }
              if (documentData.strokeWidthAnim && animatorProps.sw.propType) {
                if (mult.length) {
                  sw += animatorProps.sw.v * mult[0];
                } else {
                  sw += animatorProps.sw.v * mult;
                }
              }
              if (documentData.strokeColorAnim && animatorProps.sc.propType) {
                for (k3 = 0; k3 < 3; k3 += 1) {
                  if (mult.length) {
                    sc[k3] += (animatorProps.sc.v[k3] - sc[k3]) * mult[0];
                  } else {
                    sc[k3] += (animatorProps.sc.v[k3] - sc[k3]) * mult;
                  }
                }
              }
              if (documentData.fillColorAnim && documentData.fc) {
                if (animatorProps.fc.propType) {
                  for (k3 = 0; k3 < 3; k3 += 1) {
                    if (mult.length) {
                      fc[k3] += (animatorProps.fc.v[k3] - fc[k3]) * mult[0];
                    } else {
                      fc[k3] += (animatorProps.fc.v[k3] - fc[k3]) * mult;
                    }
                  }
                }
                if (animatorProps.fh.propType) {
                  if (mult.length) {
                    fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);
                  } else {
                    fc = addHueToRGB(fc, animatorProps.fh.v * mult);
                  }
                }
                if (animatorProps.fs.propType) {
                  if (mult.length) {
                    fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);
                  } else {
                    fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);
                  }
                }
                if (animatorProps.fb.propType) {
                  if (mult.length) {
                    fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);
                  } else {
                    fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);
                  }
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.p.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (this._hasMaskedPath) {
                  if (mult.length) {
                    matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);
                  } else {
                    matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);
                  }
                } else if (mult.length) {
                  matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);
                } else {
                  matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);
                }
              }
            }
            if (documentData.strokeWidthAnim) {
              letterSw = sw < 0 ? 0 : sw;
            }
            if (documentData.strokeColorAnim) {
              letterSc = "rgb(" + Math.round(sc[0] * 255) + "," + Math.round(sc[1] * 255) + "," + Math.round(sc[2] * 255) + ")";
            }
            if (documentData.fillColorAnim && documentData.fc) {
              letterFc = "rgb(" + Math.round(fc[0] * 255) + "," + Math.round(fc[1] * 255) + "," + Math.round(fc[2] * 255) + ")";
            }
            if (this._hasMaskedPath) {
              matrixHelper.translate(0, -documentData.ls);
              matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);
              if (this._pathData.p.v) {
                tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);
                var rot = Math.atan(tanAngle) * 180 / Math.PI;
                if (currentPoint.point[0] < prevPoint.point[0]) {
                  rot += 180;
                }
                matrixHelper.rotate(-rot * Math.PI / 180);
              }
              matrixHelper.translate(xPathPos, yPathPos, 0);
              currentLength -= alignment[0] * letters[i3].an * 5e-3;
              if (letters[i3 + 1] && ind !== letters[i3 + 1].ind) {
                currentLength += letters[i3].an / 2;
                currentLength += documentData.tr * 1e-3 * documentData.finalSize;
              }
            } else {
              matrixHelper.translate(xPos, yPos, 0);
              if (documentData.ps) {
                matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);
              }
              switch (documentData.j) {
                case 1:
                  matrixHelper.translate(letters[i3].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i3].line]), 0, 0);
                  break;
                case 2:
                  matrixHelper.translate(letters[i3].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i3].line]) / 2, 0, 0);
                  break;
                default:
                  break;
              }
              matrixHelper.translate(0, -documentData.ls);
              matrixHelper.translate(offf, 0, 0);
              matrixHelper.translate(alignment[0] * letters[i3].an * 5e-3, alignment[1] * yOff * 0.01, 0);
              xPos += letters[i3].l + documentData.tr * 1e-3 * documentData.finalSize;
            }
            if (renderType === "html") {
              letterM = matrixHelper.toCSS();
            } else if (renderType === "svg") {
              letterM = matrixHelper.to2dCSS();
            } else {
              letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];
            }
            letterO = elemOpacity;
          }
          if (renderedLettersCount <= i3) {
            letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);
            this.renderedLetters.push(letterValue);
            renderedLettersCount += 1;
            this.lettersChangedFlag = true;
          } else {
            letterValue = this.renderedLetters[i3];
            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;
          }
        }
      };
      TextAnimatorProperty.prototype.getValue = function() {
        if (this._elem.globalData.frameId === this._frameId) {
          return;
        }
        this._frameId = this._elem.globalData.frameId;
        this.iterateDynamicProperties();
      };
      TextAnimatorProperty.prototype.mHelper = new Matrix();
      TextAnimatorProperty.prototype.defaultPropsArray = [];
      extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);
      function ITextElement() {
      }
      ITextElement.prototype.initElement = function(data2, globalData2, comp2) {
        this.lettersChangedFlag = true;
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.textProperty = new TextProperty(this, data2.t, this.dynamicProperties);
        this.textAnimator = new TextAnimatorProperty(data2.t, this.renderType, this);
        this.initTransform(data2, globalData2, comp2);
        this.initHierarchy();
        this.initRenderable();
        this.initRendererElement();
        this.createContainerElements();
        this.createRenderableComponents();
        this.createContent();
        this.hide();
        this.textAnimator.searchProperties(this.dynamicProperties);
      };
      ITextElement.prototype.prepareFrame = function(num) {
        this._mdf = false;
        this.prepareRenderableFrame(num);
        this.prepareProperties(num, this.isInRange);
      };
      ITextElement.prototype.createPathShape = function(matrixHelper, shapes) {
        var j4;
        var jLen = shapes.length;
        var pathNodes;
        var shapeStr = "";
        for (j4 = 0; j4 < jLen; j4 += 1) {
          if (shapes[j4].ty === "sh") {
            pathNodes = shapes[j4].ks.k;
            shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);
          }
        }
        return shapeStr;
      };
      ITextElement.prototype.updateDocumentData = function(newData, index2) {
        this.textProperty.updateDocumentData(newData, index2);
      };
      ITextElement.prototype.canResizeFont = function(_canResize) {
        this.textProperty.canResizeFont(_canResize);
      };
      ITextElement.prototype.setMinimumFontSize = function(_fontSize) {
        this.textProperty.setMinimumFontSize(_fontSize);
      };
      ITextElement.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {
        if (documentData.ps) {
          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);
        }
        matrixHelper.translate(0, -documentData.ls, 0);
        switch (documentData.j) {
          case 1:
            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);
            break;
          case 2:
            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);
            break;
          default:
            break;
        }
        matrixHelper.translate(xPos, yPos, 0);
      };
      ITextElement.prototype.buildColor = function(colorData) {
        return "rgb(" + Math.round(colorData[0] * 255) + "," + Math.round(colorData[1] * 255) + "," + Math.round(colorData[2] * 255) + ")";
      };
      ITextElement.prototype.emptyProp = new LetterProps();
      ITextElement.prototype.destroy = function() {
      };
      ITextElement.prototype.validateText = function() {
        if (this.textProperty._mdf || this.textProperty._isFirstFrame) {
          this.buildNewText();
          this.textProperty._isFirstFrame = false;
          this.textProperty._mdf = false;
        }
      };
      var emptyShapeData = {
        shapes: []
      };
      function SVGTextLottieElement(data2, globalData2, comp2) {
        this.textSpans = [];
        this.renderType = "svg";
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);
      SVGTextLottieElement.prototype.createContent = function() {
        if (this.data.singleShape && !this.globalData.fontManager.chars) {
          this.textContainer = createNS("text");
        }
      };
      SVGTextLottieElement.prototype.buildTextContents = function(textArray) {
        var i3 = 0;
        var len = textArray.length;
        var textContents = [];
        var currentTextContent = "";
        while (i3 < len) {
          if (textArray[i3] === String.fromCharCode(13) || textArray[i3] === String.fromCharCode(3)) {
            textContents.push(currentTextContent);
            currentTextContent = "";
          } else {
            currentTextContent += textArray[i3];
          }
          i3 += 1;
        }
        textContents.push(currentTextContent);
        return textContents;
      };
      SVGTextLottieElement.prototype.buildShapeData = function(data2, scale2) {
        if (data2.shapes && data2.shapes.length) {
          var shape = data2.shapes[0];
          if (shape.it) {
            var shapeItem = shape.it[shape.it.length - 1];
            if (shapeItem.s) {
              shapeItem.s.k[0] = scale2;
              shapeItem.s.k[1] = scale2;
            }
          }
        }
        return data2;
      };
      SVGTextLottieElement.prototype.buildNewText = function() {
        this.addDynamicProperty(this);
        var i3;
        var len;
        var documentData = this.textProperty.currentData;
        this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);
        if (documentData.fc) {
          this.layerElement.setAttribute("fill", this.buildColor(documentData.fc));
        } else {
          this.layerElement.setAttribute("fill", "rgba(0,0,0,0)");
        }
        if (documentData.sc) {
          this.layerElement.setAttribute("stroke", this.buildColor(documentData.sc));
          this.layerElement.setAttribute("stroke-width", documentData.sw);
        }
        this.layerElement.setAttribute("font-size", documentData.finalSize);
        var fontData = this.globalData.fontManager.getFontByName(documentData.f);
        if (fontData.fClass) {
          this.layerElement.setAttribute("class", fontData.fClass);
        } else {
          this.layerElement.setAttribute("font-family", fontData.fFamily);
          var fWeight = documentData.fWeight;
          var fStyle = documentData.fStyle;
          this.layerElement.setAttribute("font-style", fStyle);
          this.layerElement.setAttribute("font-weight", fWeight);
        }
        this.layerElement.setAttribute("aria-label", documentData.t);
        var letters = documentData.l || [];
        var usesGlyphs = !!this.globalData.fontManager.chars;
        len = letters.length;
        var tSpan;
        var matrixHelper = this.mHelper;
        var shapeStr = "";
        var singleShape = this.data.singleShape;
        var xPos = 0;
        var yPos = 0;
        var firstLine = true;
        var trackingOffset = documentData.tr * 1e-3 * documentData.finalSize;
        if (singleShape && !usesGlyphs && !documentData.sz) {
          var tElement = this.textContainer;
          var justify = "start";
          switch (documentData.j) {
            case 1:
              justify = "end";
              break;
            case 2:
              justify = "middle";
              break;
            default:
              justify = "start";
              break;
          }
          tElement.setAttribute("text-anchor", justify);
          tElement.setAttribute("letter-spacing", trackingOffset);
          var textContent = this.buildTextContents(documentData.finalText);
          len = textContent.length;
          yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            tSpan = this.textSpans[i3].span || createNS("tspan");
            tSpan.textContent = textContent[i3];
            tSpan.setAttribute("x", 0);
            tSpan.setAttribute("y", yPos);
            tSpan.style.display = "inherit";
            tElement.appendChild(tSpan);
            if (!this.textSpans[i3]) {
              this.textSpans[i3] = {
                span: null,
                glyph: null
              };
            }
            this.textSpans[i3].span = tSpan;
            yPos += documentData.finalLineHeight;
          }
          this.layerElement.appendChild(tElement);
        } else {
          var cachedSpansLength = this.textSpans.length;
          var charData;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (!this.textSpans[i3]) {
              this.textSpans[i3] = {
                span: null,
                childSpan: null,
                glyph: null
              };
            }
            if (!usesGlyphs || !singleShape || i3 === 0) {
              tSpan = cachedSpansLength > i3 ? this.textSpans[i3].span : createNS(usesGlyphs ? "g" : "text");
              if (cachedSpansLength <= i3) {
                tSpan.setAttribute("stroke-linecap", "butt");
                tSpan.setAttribute("stroke-linejoin", "round");
                tSpan.setAttribute("stroke-miterlimit", "4");
                this.textSpans[i3].span = tSpan;
                if (usesGlyphs) {
                  var childSpan = createNS("g");
                  tSpan.appendChild(childSpan);
                  this.textSpans[i3].childSpan = childSpan;
                }
                this.textSpans[i3].span = tSpan;
                this.layerElement.appendChild(tSpan);
              }
              tSpan.style.display = "inherit";
            }
            matrixHelper.reset();
            if (singleShape) {
              if (letters[i3].n) {
                xPos = -trackingOffset;
                yPos += documentData.yOffset;
                yPos += firstLine ? 1 : 0;
                firstLine = false;
              }
              this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i3].line, xPos, yPos);
              xPos += letters[i3].l || 0;
              xPos += trackingOffset;
            }
            if (usesGlyphs) {
              charData = this.globalData.fontManager.getCharData(documentData.finalText[i3], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);
              var glyphElement;
              if (charData.t === 1) {
                glyphElement = new SVGCompElement(charData.data, this.globalData, this);
              } else {
                var data2 = emptyShapeData;
                if (charData.data && charData.data.shapes) {
                  data2 = this.buildShapeData(charData.data, documentData.finalSize);
                }
                glyphElement = new SVGShapeElement(data2, this.globalData, this);
              }
              if (this.textSpans[i3].glyph) {
                var glyph = this.textSpans[i3].glyph;
                this.textSpans[i3].childSpan.removeChild(glyph.layerElement);
                glyph.destroy();
              }
              this.textSpans[i3].glyph = glyphElement;
              glyphElement._debug = true;
              glyphElement.prepareFrame(0);
              glyphElement.renderFrame();
              this.textSpans[i3].childSpan.appendChild(glyphElement.layerElement);
              if (charData.t === 1) {
                this.textSpans[i3].childSpan.setAttribute("transform", "scale(" + documentData.finalSize / 100 + "," + documentData.finalSize / 100 + ")");
              }
            } else {
              if (singleShape) {
                tSpan.setAttribute("transform", "translate(" + matrixHelper.props[12] + "," + matrixHelper.props[13] + ")");
              }
              tSpan.textContent = letters[i3].val;
              tSpan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
            }
          }
          if (singleShape && tSpan) {
            tSpan.setAttribute("d", shapeStr);
          }
        }
        while (i3 < this.textSpans.length) {
          this.textSpans[i3].span.style.display = "none";
          i3 += 1;
        }
        this._sizeChanged = true;
      };
      SVGTextLottieElement.prototype.sourceRectAtTime = function() {
        this.prepareFrame(this.comp.renderedFrame - this.data.st);
        this.renderInnerContent();
        if (this._sizeChanged) {
          this._sizeChanged = false;
          var textBox = this.layerElement.getBBox();
          this.bbox = {
            top: textBox.y,
            left: textBox.x,
            width: textBox.width,
            height: textBox.height
          };
        }
        return this.bbox;
      };
      SVGTextLottieElement.prototype.getValue = function() {
        var i3;
        var len = this.textSpans.length;
        var glyphElement;
        this.renderedFrame = this.comp.renderedFrame;
        for (i3 = 0; i3 < len; i3 += 1) {
          glyphElement = this.textSpans[i3].glyph;
          if (glyphElement) {
            glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);
            if (glyphElement._mdf) {
              this._mdf = true;
            }
          }
        }
      };
      SVGTextLottieElement.prototype.renderInnerContent = function() {
        this.validateText();
        if (!this.data.singleShape || this._mdf) {
          this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
          if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
            this._sizeChanged = true;
            var i3;
            var len;
            var renderedLetters = this.textAnimator.renderedLetters;
            var letters = this.textProperty.currentData.l;
            len = letters.length;
            var renderedLetter;
            var textSpan;
            var glyphElement;
            for (i3 = 0; i3 < len; i3 += 1) {
              if (!letters[i3].n) {
                renderedLetter = renderedLetters[i3];
                textSpan = this.textSpans[i3].span;
                glyphElement = this.textSpans[i3].glyph;
                if (glyphElement) {
                  glyphElement.renderFrame();
                }
                if (renderedLetter._mdf.m) {
                  textSpan.setAttribute("transform", renderedLetter.m);
                }
                if (renderedLetter._mdf.o) {
                  textSpan.setAttribute("opacity", renderedLetter.o);
                }
                if (renderedLetter._mdf.sw) {
                  textSpan.setAttribute("stroke-width", renderedLetter.sw);
                }
                if (renderedLetter._mdf.sc) {
                  textSpan.setAttribute("stroke", renderedLetter.sc);
                }
                if (renderedLetter._mdf.fc) {
                  textSpan.setAttribute("fill", renderedLetter.fc);
                }
              }
            }
          }
        }
      };
      function ISolidElement(data2, globalData2, comp2) {
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([IImageElement], ISolidElement);
      ISolidElement.prototype.createContent = function() {
        var rect = createNS("rect");
        rect.setAttribute("width", this.data.sw);
        rect.setAttribute("height", this.data.sh);
        rect.setAttribute("fill", this.data.sc);
        this.layerElement.appendChild(rect);
      };
      function NullElement(data2, globalData2, comp2) {
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.initFrame();
        this.initTransform(data2, globalData2, comp2);
        this.initHierarchy();
      }
      NullElement.prototype.prepareFrame = function(num) {
        this.prepareProperties(num, true);
      };
      NullElement.prototype.renderFrame = function() {
      };
      NullElement.prototype.getBaseElement = function() {
        return null;
      };
      NullElement.prototype.destroy = function() {
      };
      NullElement.prototype.sourceRectAtTime = function() {
      };
      NullElement.prototype.hide = function() {
      };
      extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);
      function SVGRendererBase() {
      }
      extendPrototype([BaseRenderer], SVGRendererBase);
      SVGRendererBase.prototype.createNull = function(data2) {
        return new NullElement(data2, this.globalData, this);
      };
      SVGRendererBase.prototype.createShape = function(data2) {
        return new SVGShapeElement(data2, this.globalData, this);
      };
      SVGRendererBase.prototype.createText = function(data2) {
        return new SVGTextLottieElement(data2, this.globalData, this);
      };
      SVGRendererBase.prototype.createImage = function(data2) {
        return new IImageElement(data2, this.globalData, this);
      };
      SVGRendererBase.prototype.createSolid = function(data2) {
        return new ISolidElement(data2, this.globalData, this);
      };
      SVGRendererBase.prototype.configAnimation = function(animData) {
        this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg");
        this.svgElement.setAttribute("xmlns:xlink", "http://www.w3.org/1999/xlink");
        if (this.renderConfig.viewBoxSize) {
          this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize);
        } else {
          this.svgElement.setAttribute("viewBox", "0 0 " + animData.w + " " + animData.h);
        }
        if (!this.renderConfig.viewBoxOnly) {
          this.svgElement.setAttribute("width", animData.w);
          this.svgElement.setAttribute("height", animData.h);
          this.svgElement.style.width = "100%";
          this.svgElement.style.height = "100%";
          this.svgElement.style.transform = "translate3d(0,0,0)";
          this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;
        }
        if (this.renderConfig.width) {
          this.svgElement.setAttribute("width", this.renderConfig.width);
        }
        if (this.renderConfig.height) {
          this.svgElement.setAttribute("height", this.renderConfig.height);
        }
        if (this.renderConfig.className) {
          this.svgElement.setAttribute("class", this.renderConfig.className);
        }
        if (this.renderConfig.id) {
          this.svgElement.setAttribute("id", this.renderConfig.id);
        }
        if (this.renderConfig.focusable !== void 0) {
          this.svgElement.setAttribute("focusable", this.renderConfig.focusable);
        }
        this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio);
        this.animationItem.wrapper.appendChild(this.svgElement);
        var defs = this.globalData.defs;
        this.setupGlobalData(animData, defs);
        this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;
        this.data = animData;
        var maskElement = createNS("clipPath");
        var rect = createNS("rect");
        rect.setAttribute("width", animData.w);
        rect.setAttribute("height", animData.h);
        rect.setAttribute("x", 0);
        rect.setAttribute("y", 0);
        var maskId = createElementID();
        maskElement.setAttribute("id", maskId);
        maskElement.appendChild(rect);
        this.layerElement.setAttribute("clip-path", "url(" + getLocationHref() + "#" + maskId + ")");
        defs.appendChild(maskElement);
        this.layers = animData.layers;
        this.elements = createSizedArray(animData.layers.length);
      };
      SVGRendererBase.prototype.destroy = function() {
        if (this.animationItem.wrapper) {
          this.animationItem.wrapper.innerText = "";
        }
        this.layerElement = null;
        this.globalData.defs = null;
        var i3;
        var len = this.layers ? this.layers.length : 0;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3] && this.elements[i3].destroy) {
            this.elements[i3].destroy();
          }
        }
        this.elements.length = 0;
        this.destroyed = true;
        this.animationItem = null;
      };
      SVGRendererBase.prototype.updateContainerSize = function() {
      };
      SVGRendererBase.prototype.findIndexByInd = function(ind) {
        var i3 = 0;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.layers[i3].ind === ind) {
            return i3;
          }
        }
        return -1;
      };
      SVGRendererBase.prototype.buildItem = function(pos) {
        var elements = this.elements;
        if (elements[pos] || this.layers[pos].ty === 99) {
          return;
        }
        elements[pos] = true;
        var element = this.createItem(this.layers[pos]);
        elements[pos] = element;
        if (getExpressionsPlugin()) {
          if (this.layers[pos].ty === 0) {
            this.globalData.projectInterface.registerComposition(element);
          }
          element.initExpressions();
        }
        this.appendElementInPos(element, pos);
        if (this.layers[pos].tt) {
          var elementIndex = "tp" in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;
          if (elementIndex === -1) {
            return;
          }
          if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {
            this.buildItem(elementIndex);
            this.addPendingElement(element);
          } else {
            var matteElement = elements[elementIndex];
            var matteMask = matteElement.getMatte(this.layers[pos].tt);
            element.setMatte(matteMask);
          }
        }
      };
      SVGRendererBase.prototype.checkPendingElements = function() {
        while (this.pendingElements.length) {
          var element = this.pendingElements.pop();
          element.checkParenting();
          if (element.data.tt) {
            var i3 = 0;
            var len = this.elements.length;
            while (i3 < len) {
              if (this.elements[i3] === element) {
                var elementIndex = "tp" in element.data ? this.findIndexByInd(element.data.tp) : i3 - 1;
                var matteElement = this.elements[elementIndex];
                var matteMask = matteElement.getMatte(this.layers[i3].tt);
                element.setMatte(matteMask);
                break;
              }
              i3 += 1;
            }
          }
        }
      };
      SVGRendererBase.prototype.renderFrame = function(num) {
        if (this.renderedFrame === num || this.destroyed) {
          return;
        }
        if (num === null) {
          num = this.renderedFrame;
        } else {
          this.renderedFrame = num;
        }
        this.globalData.frameNum = num;
        this.globalData.frameId += 1;
        this.globalData.projectInterface.currentFrame = num;
        this.globalData._mdf = false;
        var i3;
        var len = this.layers.length;
        if (!this.completeLayers) {
          this.checkLayers(num);
        }
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].prepareFrame(num - this.layers[i3].st);
          }
        }
        if (this.globalData._mdf) {
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.completeLayers || this.elements[i3]) {
              this.elements[i3].renderFrame();
            }
          }
        }
      };
      SVGRendererBase.prototype.appendElementInPos = function(element, pos) {
        var newElement = element.getBaseElement();
        if (!newElement) {
          return;
        }
        var i3 = 0;
        var nextElement;
        while (i3 < pos) {
          if (this.elements[i3] && this.elements[i3] !== true && this.elements[i3].getBaseElement()) {
            nextElement = this.elements[i3].getBaseElement();
          }
          i3 += 1;
        }
        if (nextElement) {
          this.layerElement.insertBefore(newElement, nextElement);
        } else {
          this.layerElement.appendChild(newElement);
        }
      };
      SVGRendererBase.prototype.hide = function() {
        this.layerElement.style.display = "none";
      };
      SVGRendererBase.prototype.show = function() {
        this.layerElement.style.display = "block";
      };
      function ICompElement() {
      }
      extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);
      ICompElement.prototype.initElement = function(data2, globalData2, comp2) {
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.initTransform(data2, globalData2, comp2);
        this.initRenderable();
        this.initHierarchy();
        this.initRendererElement();
        this.createContainerElements();
        this.createRenderableComponents();
        if (this.data.xt || !globalData2.progressiveLoad) {
          this.buildAllItems();
        }
        this.hide();
      };
      ICompElement.prototype.prepareFrame = function(num) {
        this._mdf = false;
        this.prepareRenderableFrame(num);
        this.prepareProperties(num, this.isInRange);
        if (!this.isInRange && !this.data.xt) {
          return;
        }
        if (!this.tm._placeholder) {
          var timeRemapped = this.tm.v;
          if (timeRemapped === this.data.op) {
            timeRemapped = this.data.op - 1;
          }
          this.renderedFrame = timeRemapped;
        } else {
          this.renderedFrame = num / this.data.sr;
        }
        var i3;
        var len = this.elements.length;
        if (!this.completeLayers) {
          this.checkLayers(this.renderedFrame);
        }
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].prepareFrame(this.renderedFrame - this.layers[i3].st);
            if (this.elements[i3]._mdf) {
              this._mdf = true;
            }
          }
        }
      };
      ICompElement.prototype.renderInnerContent = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].renderFrame();
          }
        }
      };
      ICompElement.prototype.setElements = function(elems) {
        this.elements = elems;
      };
      ICompElement.prototype.getElements = function() {
        return this.elements;
      };
      ICompElement.prototype.destroyElements = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3]) {
            this.elements[i3].destroy();
          }
        }
      };
      ICompElement.prototype.destroy = function() {
        this.destroyElements();
        this.destroyBaseElement();
      };
      function SVGCompElement(data2, globalData2, comp2) {
        this.layers = data2.layers;
        this.supports3d = true;
        this.completeLayers = false;
        this.pendingElements = [];
        this.elements = this.layers ? createSizedArray(this.layers.length) : [];
        this.initElement(data2, globalData2, comp2);
        this.tm = data2.tm ? PropertyFactory.getProp(this, data2.tm, 0, globalData2.frameRate, this) : {
          _placeholder: true
        };
      }
      extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);
      SVGCompElement.prototype.createComp = function(data2) {
        return new SVGCompElement(data2, this.globalData, this);
      };
      function SVGRenderer(animationItem, config) {
        this.animationItem = animationItem;
        this.layers = null;
        this.renderedFrame = -1;
        this.svgElement = createNS("svg");
        var ariaLabel = "";
        if (config && config.title) {
          var titleElement = createNS("title");
          var titleId = createElementID();
          titleElement.setAttribute("id", titleId);
          titleElement.textContent = config.title;
          this.svgElement.appendChild(titleElement);
          ariaLabel += titleId;
        }
        if (config && config.description) {
          var descElement = createNS("desc");
          var descId = createElementID();
          descElement.setAttribute("id", descId);
          descElement.textContent = config.description;
          this.svgElement.appendChild(descElement);
          ariaLabel += " " + descId;
        }
        if (ariaLabel) {
          this.svgElement.setAttribute("aria-labelledby", ariaLabel);
        }
        var defs = createNS("defs");
        this.svgElement.appendChild(defs);
        var maskElement = createNS("g");
        this.svgElement.appendChild(maskElement);
        this.layerElement = maskElement;
        this.renderConfig = {
          preserveAspectRatio: config && config.preserveAspectRatio || "xMidYMid meet",
          imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || "xMidYMid slice",
          contentVisibility: config && config.contentVisibility || "visible",
          progressiveLoad: config && config.progressiveLoad || false,
          hideOnTransparent: !(config && config.hideOnTransparent === false),
          viewBoxOnly: config && config.viewBoxOnly || false,
          viewBoxSize: config && config.viewBoxSize || false,
          className: config && config.className || "",
          id: config && config.id || "",
          focusable: config && config.focusable,
          filterSize: {
            width: config && config.filterSize && config.filterSize.width || "100%",
            height: config && config.filterSize && config.filterSize.height || "100%",
            x: config && config.filterSize && config.filterSize.x || "0%",
            y: config && config.filterSize && config.filterSize.y || "0%"
          },
          width: config && config.width,
          height: config && config.height,
          runExpressions: !config || config.runExpressions === void 0 || config.runExpressions
        };
        this.globalData = {
          _mdf: false,
          frameNum: -1,
          defs,
          renderConfig: this.renderConfig
        };
        this.elements = [];
        this.pendingElements = [];
        this.destroyed = false;
        this.rendererType = "svg";
      }
      extendPrototype([SVGRendererBase], SVGRenderer);
      SVGRenderer.prototype.createComp = function(data2) {
        return new SVGCompElement(data2, this.globalData, this);
      };
      function ShapeTransformManager() {
        this.sequences = {};
        this.sequenceList = [];
        this.transform_key_count = 0;
      }
      ShapeTransformManager.prototype = {
        addTransformSequence: function addTransformSequence(transforms) {
          var i3;
          var len = transforms.length;
          var key2 = "_";
          for (i3 = 0; i3 < len; i3 += 1) {
            key2 += transforms[i3].transform.key + "_";
          }
          var sequence = this.sequences[key2];
          if (!sequence) {
            sequence = {
              transforms: [].concat(transforms),
              finalTransform: new Matrix(),
              _mdf: false
            };
            this.sequences[key2] = sequence;
            this.sequenceList.push(sequence);
          }
          return sequence;
        },
        processSequence: function processSequence(sequence, isFirstFrame) {
          var i3 = 0;
          var len = sequence.transforms.length;
          var _mdf = isFirstFrame;
          while (i3 < len && !isFirstFrame) {
            if (sequence.transforms[i3].transform.mProps._mdf) {
              _mdf = true;
              break;
            }
            i3 += 1;
          }
          if (_mdf) {
            sequence.finalTransform.reset();
            for (i3 = len - 1; i3 >= 0; i3 -= 1) {
              sequence.finalTransform.multiply(sequence.transforms[i3].transform.mProps.v);
            }
          }
          sequence._mdf = _mdf;
        },
        processSequences: function processSequences(isFirstFrame) {
          var i3;
          var len = this.sequenceList.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.processSequence(this.sequenceList[i3], isFirstFrame);
          }
        },
        getNewKey: function getNewKey() {
          this.transform_key_count += 1;
          return "_" + this.transform_key_count;
        }
      };
      var lumaLoader = function lumaLoader2() {
        var id = "__lottie_element_luma_buffer";
        var lumaBuffer = null;
        var lumaBufferCtx = null;
        var svg = null;
        function createLumaSvgFilter() {
          var _svg = createNS("svg");
          var fil = createNS("filter");
          var matrix = createNS("feColorMatrix");
          fil.setAttribute("id", id);
          matrix.setAttribute("type", "matrix");
          matrix.setAttribute("color-interpolation-filters", "sRGB");
          matrix.setAttribute("values", "0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0");
          fil.appendChild(matrix);
          _svg.appendChild(fil);
          _svg.setAttribute("id", id + "_svg");
          if (featureSupport.svgLumaHidden) {
            _svg.style.display = "none";
          }
          return _svg;
        }
        function loadLuma() {
          if (!lumaBuffer) {
            svg = createLumaSvgFilter();
            document.body.appendChild(svg);
            lumaBuffer = createTag("canvas");
            lumaBufferCtx = lumaBuffer.getContext("2d");
            lumaBufferCtx.filter = "url(#" + id + ")";
            lumaBufferCtx.fillStyle = "rgba(0,0,0,0)";
            lumaBufferCtx.fillRect(0, 0, 1, 1);
          }
        }
        function getLuma(canvas) {
          if (!lumaBuffer) {
            loadLuma();
          }
          lumaBuffer.width = canvas.width;
          lumaBuffer.height = canvas.height;
          lumaBufferCtx.filter = "url(#" + id + ")";
          return lumaBuffer;
        }
        return {
          load: loadLuma,
          get: getLuma
        };
      };
      function createCanvas(width2, height2) {
        if (featureSupport.offscreenCanvas) {
          return new OffscreenCanvas(width2, height2);
        }
        var canvas = createTag("canvas");
        canvas.width = width2;
        canvas.height = height2;
        return canvas;
      }
      var assetLoader = function() {
        return {
          loadLumaCanvas: lumaLoader.load,
          getLumaCanvas: lumaLoader.get,
          createCanvas
        };
      }();
      var registeredEffects = {};
      function CVEffects(elem2) {
        var i3;
        var len = elem2.data.ef ? elem2.data.ef.length : 0;
        this.filters = [];
        var filterManager;
        for (i3 = 0; i3 < len; i3 += 1) {
          filterManager = null;
          var type = elem2.data.ef[i3].ty;
          if (registeredEffects[type]) {
            var Effect = registeredEffects[type].effect;
            filterManager = new Effect(elem2.effectsManager.effectElements[i3], elem2);
          }
          if (filterManager) {
            this.filters.push(filterManager);
          }
        }
        if (this.filters.length) {
          elem2.addRenderableComponent(this);
        }
      }
      CVEffects.prototype.renderFrame = function(_isFirstFrame) {
        var i3;
        var len = this.filters.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.filters[i3].renderFrame(_isFirstFrame);
        }
      };
      CVEffects.prototype.getEffects = function(type) {
        var i3;
        var len = this.filters.length;
        var effects = [];
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.filters[i3].type === type) {
            effects.push(this.filters[i3]);
          }
        }
        return effects;
      };
      function registerEffect(id, effect2) {
        registeredEffects[id] = {
          effect: effect2
        };
      }
      function CVMaskElement(data2, element) {
        this.data = data2;
        this.element = element;
        this.masksProperties = this.data.masksProperties || [];
        this.viewData = createSizedArray(this.masksProperties.length);
        var i3;
        var len = this.masksProperties.length;
        var hasMasks = false;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.masksProperties[i3].mode !== "n") {
            hasMasks = true;
          }
          this.viewData[i3] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i3], 3);
        }
        this.hasMasks = hasMasks;
        if (hasMasks) {
          this.element.addRenderableComponent(this);
        }
      }
      CVMaskElement.prototype.renderFrame = function() {
        if (!this.hasMasks) {
          return;
        }
        var transform2 = this.element.finalTransform.mat;
        var ctx = this.element.canvasContext;
        var i3;
        var len = this.masksProperties.length;
        var pt3;
        var pts;
        var data2;
        ctx.beginPath();
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.masksProperties[i3].mode !== "n") {
            if (this.masksProperties[i3].inv) {
              ctx.moveTo(0, 0);
              ctx.lineTo(this.element.globalData.compSize.w, 0);
              ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);
              ctx.lineTo(0, this.element.globalData.compSize.h);
              ctx.lineTo(0, 0);
            }
            data2 = this.viewData[i3].v;
            pt3 = transform2.applyToPointArray(data2.v[0][0], data2.v[0][1], 0);
            ctx.moveTo(pt3[0], pt3[1]);
            var j4;
            var jLen = data2._length;
            for (j4 = 1; j4 < jLen; j4 += 1) {
              pts = transform2.applyToTriplePoints(data2.o[j4 - 1], data2.i[j4], data2.v[j4]);
              ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);
            }
            pts = transform2.applyToTriplePoints(data2.o[j4 - 1], data2.i[0], data2.v[0]);
            ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);
          }
        }
        this.element.globalData.renderer.save(true);
        ctx.clip();
      };
      CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;
      CVMaskElement.prototype.destroy = function() {
        this.element = null;
      };
      function CVBaseElement() {
      }
      var operationsMap = {
        1: "source-in",
        2: "source-out",
        3: "source-in",
        4: "source-out"
      };
      CVBaseElement.prototype = {
        createElements: function createElements() {
        },
        initRendererElement: function initRendererElement() {
        },
        createContainerElements: function createContainerElements() {
          if (this.data.tt >= 1) {
            this.buffers = [];
            var canvasContext = this.globalData.canvasContext;
            var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);
            this.buffers.push(bufferCanvas);
            var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);
            this.buffers.push(bufferCanvas2);
            if (this.data.tt >= 3 && !document._isProxy) {
              assetLoader.loadLumaCanvas();
            }
          }
          this.canvasContext = this.globalData.canvasContext;
          this.transformCanvas = this.globalData.transformCanvas;
          this.renderableEffectsManager = new CVEffects(this);
          this.searchEffectTransforms();
        },
        createContent: function createContent() {
        },
        setBlendMode: function setBlendMode() {
          var globalData2 = this.globalData;
          if (globalData2.blendMode !== this.data.bm) {
            globalData2.blendMode = this.data.bm;
            var blendModeValue = getBlendMode(this.data.bm);
            globalData2.canvasContext.globalCompositeOperation = blendModeValue;
          }
        },
        createRenderableComponents: function createRenderableComponents() {
          this.maskManager = new CVMaskElement(this.data, this);
          this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);
        },
        hideElement: function hideElement() {
          if (!this.hidden && (!this.isInRange || this.isTransparent)) {
            this.hidden = true;
          }
        },
        showElement: function showElement() {
          if (this.isInRange && !this.isTransparent) {
            this.hidden = false;
            this._isFirstFrame = true;
            this.maskManager._isFirstFrame = true;
          }
        },
        clearCanvas: function clearCanvas(canvasContext) {
          canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);
        },
        prepareLayer: function prepareLayer() {
          if (this.data.tt >= 1) {
            var buffer = this.buffers[0];
            var bufferCtx = buffer.getContext("2d");
            this.clearCanvas(bufferCtx);
            bufferCtx.drawImage(this.canvasContext.canvas, 0, 0);
            this.currentTransform = this.canvasContext.getTransform();
            this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);
            this.clearCanvas(this.canvasContext);
            this.canvasContext.setTransform(this.currentTransform);
          }
        },
        exitLayer: function exitLayer() {
          if (this.data.tt >= 1) {
            var buffer = this.buffers[1];
            var bufferCtx = buffer.getContext("2d");
            this.clearCanvas(bufferCtx);
            bufferCtx.drawImage(this.canvasContext.canvas, 0, 0);
            this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);
            this.clearCanvas(this.canvasContext);
            this.canvasContext.setTransform(this.currentTransform);
            var mask2 = this.comp.getElementById("tp" in this.data ? this.data.tp : this.data.ind - 1);
            mask2.renderFrame(true);
            this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);
            if (this.data.tt >= 3 && !document._isProxy) {
              var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);
              var lumaBufferCtx = lumaBuffer.getContext("2d");
              lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);
              this.clearCanvas(this.canvasContext);
              this.canvasContext.drawImage(lumaBuffer, 0, 0);
            }
            this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];
            this.canvasContext.drawImage(buffer, 0, 0);
            this.canvasContext.globalCompositeOperation = "destination-over";
            this.canvasContext.drawImage(this.buffers[0], 0, 0);
            this.canvasContext.setTransform(this.currentTransform);
            this.canvasContext.globalCompositeOperation = "source-over";
          }
        },
        renderFrame: function renderFrame(forceRender) {
          if (this.hidden || this.data.hd) {
            return;
          }
          if (this.data.td === 1 && !forceRender) {
            return;
          }
          this.renderTransform();
          this.renderRenderable();
          this.renderLocalTransform();
          this.setBlendMode();
          var forceRealStack = this.data.ty === 0;
          this.prepareLayer();
          this.globalData.renderer.save(forceRealStack);
          this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);
          this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);
          this.renderInnerContent();
          this.globalData.renderer.restore(forceRealStack);
          this.exitLayer();
          if (this.maskManager.hasMasks) {
            this.globalData.renderer.restore(true);
          }
          if (this._isFirstFrame) {
            this._isFirstFrame = false;
          }
        },
        destroy: function destroy() {
          this.canvasContext = null;
          this.data = null;
          this.globalData = null;
          this.maskManager.destroy();
        },
        mHelper: new Matrix()
      };
      CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;
      CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;
      function CVShapeData(element, data2, styles, transformsManager) {
        this.styledShapes = [];
        this.tr = [0, 0, 0, 0, 0, 0];
        var ty = 4;
        if (data2.ty === "rc") {
          ty = 5;
        } else if (data2.ty === "el") {
          ty = 6;
        } else if (data2.ty === "sr") {
          ty = 7;
        }
        this.sh = ShapePropertyFactory.getShapeProp(element, data2, ty, element);
        var i3;
        var len = styles.length;
        var styledShape;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (!styles[i3].closed) {
            styledShape = {
              transforms: transformsManager.addTransformSequence(styles[i3].transforms),
              trNodes: []
            };
            this.styledShapes.push(styledShape);
            styles[i3].elements.push(styledShape);
          }
        }
      }
      CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;
      function CVShapeElement(data2, globalData2, comp2) {
        this.shapes = [];
        this.shapesData = data2.shapes;
        this.stylesList = [];
        this.itemsData = [];
        this.prevViewData = [];
        this.shapeModifiers = [];
        this.processedElements = [];
        this.transformsManager = new ShapeTransformManager();
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);
      CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;
      CVShapeElement.prototype.transformHelper = {
        opacity: 1,
        _opMdf: false
      };
      CVShapeElement.prototype.dashResetter = [];
      CVShapeElement.prototype.createContent = function() {
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);
      };
      CVShapeElement.prototype.createStyleElement = function(data2, transforms) {
        var styleElem = {
          data: data2,
          type: data2.ty,
          preTransforms: this.transformsManager.addTransformSequence(transforms),
          transforms: [],
          elements: [],
          closed: data2.hd === true
        };
        var elementData = {};
        if (data2.ty === "fl" || data2.ty === "st") {
          elementData.c = PropertyFactory.getProp(this, data2.c, 1, 255, this);
          if (!elementData.c.k) {
            styleElem.co = "rgb(" + bmFloor(elementData.c.v[0]) + "," + bmFloor(elementData.c.v[1]) + "," + bmFloor(elementData.c.v[2]) + ")";
          }
        } else if (data2.ty === "gf" || data2.ty === "gs") {
          elementData.s = PropertyFactory.getProp(this, data2.s, 1, null, this);
          elementData.e = PropertyFactory.getProp(this, data2.e, 1, null, this);
          elementData.h = PropertyFactory.getProp(this, data2.h || {
            k: 0
          }, 0, 0.01, this);
          elementData.a = PropertyFactory.getProp(this, data2.a || {
            k: 0
          }, 0, degToRads, this);
          elementData.g = new GradientProperty(this, data2.g, this);
        }
        elementData.o = PropertyFactory.getProp(this, data2.o, 0, 0.01, this);
        if (data2.ty === "st" || data2.ty === "gs") {
          styleElem.lc = lineCapEnum[data2.lc || 2];
          styleElem.lj = lineJoinEnum[data2.lj || 2];
          if (data2.lj == 1) {
            styleElem.ml = data2.ml;
          }
          elementData.w = PropertyFactory.getProp(this, data2.w, 0, null, this);
          if (!elementData.w.k) {
            styleElem.wi = elementData.w.v;
          }
          if (data2.d) {
            var d3 = new DashProperty(this, data2.d, "canvas", this);
            elementData.d = d3;
            if (!elementData.d.k) {
              styleElem.da = elementData.d.dashArray;
              styleElem["do"] = elementData.d.dashoffset[0];
            }
          }
        } else {
          styleElem.r = data2.r === 2 ? "evenodd" : "nonzero";
        }
        this.stylesList.push(styleElem);
        elementData.style = styleElem;
        return elementData;
      };
      CVShapeElement.prototype.createGroupElement = function() {
        var elementData = {
          it: [],
          prevViewData: []
        };
        return elementData;
      };
      CVShapeElement.prototype.createTransformElement = function(data2) {
        var elementData = {
          transform: {
            opacity: 1,
            _opMdf: false,
            key: this.transformsManager.getNewKey(),
            op: PropertyFactory.getProp(this, data2.o, 0, 0.01, this),
            mProps: TransformPropertyFactory.getTransformProperty(this, data2, this)
          }
        };
        return elementData;
      };
      CVShapeElement.prototype.createShapeElement = function(data2) {
        var elementData = new CVShapeData(this, data2, this.stylesList, this.transformsManager);
        this.shapes.push(elementData);
        this.addShapeToModifiers(elementData);
        return elementData;
      };
      CVShapeElement.prototype.reloadShapes = function() {
        this._isFirstFrame = true;
        var i3;
        var len = this.itemsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.prevViewData[i3] = this.itemsData[i3];
        }
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);
        len = this.dynamicProperties.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.dynamicProperties[i3].getValue();
        }
        this.renderModifiers();
        this.transformsManager.processSequences(this._isFirstFrame);
      };
      CVShapeElement.prototype.addTransformToStyleList = function(transform2) {
        var i3;
        var len = this.stylesList.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (!this.stylesList[i3].closed) {
            this.stylesList[i3].transforms.push(transform2);
          }
        }
      };
      CVShapeElement.prototype.removeTransformFromStyleList = function() {
        var i3;
        var len = this.stylesList.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (!this.stylesList[i3].closed) {
            this.stylesList[i3].transforms.pop();
          }
        }
      };
      CVShapeElement.prototype.closeStyles = function(styles) {
        var i3;
        var len = styles.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          styles[i3].closed = true;
        }
      };
      CVShapeElement.prototype.searchShapes = function(arr, itemsData, prevViewData, shouldRender, transforms) {
        var i3;
        var len = arr.length - 1;
        var j4;
        var jLen;
        var ownStyles = [];
        var ownModifiers = [];
        var processedPos;
        var modifier;
        var currentTransform;
        var ownTransforms = [].concat(transforms);
        for (i3 = len; i3 >= 0; i3 -= 1) {
          processedPos = this.searchProcessedElement(arr[i3]);
          if (!processedPos) {
            arr[i3]._shouldRender = shouldRender;
          } else {
            itemsData[i3] = prevViewData[processedPos - 1];
          }
          if (arr[i3].ty === "fl" || arr[i3].ty === "st" || arr[i3].ty === "gf" || arr[i3].ty === "gs") {
            if (!processedPos) {
              itemsData[i3] = this.createStyleElement(arr[i3], ownTransforms);
            } else {
              itemsData[i3].style.closed = false;
            }
            ownStyles.push(itemsData[i3].style);
          } else if (arr[i3].ty === "gr") {
            if (!processedPos) {
              itemsData[i3] = this.createGroupElement(arr[i3]);
            } else {
              jLen = itemsData[i3].it.length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsData[i3].prevViewData[j4] = itemsData[i3].it[j4];
              }
            }
            this.searchShapes(arr[i3].it, itemsData[i3].it, itemsData[i3].prevViewData, shouldRender, ownTransforms);
          } else if (arr[i3].ty === "tr") {
            if (!processedPos) {
              currentTransform = this.createTransformElement(arr[i3]);
              itemsData[i3] = currentTransform;
            }
            ownTransforms.push(itemsData[i3]);
            this.addTransformToStyleList(itemsData[i3]);
          } else if (arr[i3].ty === "sh" || arr[i3].ty === "rc" || arr[i3].ty === "el" || arr[i3].ty === "sr") {
            if (!processedPos) {
              itemsData[i3] = this.createShapeElement(arr[i3]);
            }
          } else if (arr[i3].ty === "tm" || arr[i3].ty === "rd" || arr[i3].ty === "pb" || arr[i3].ty === "zz" || arr[i3].ty === "op") {
            if (!processedPos) {
              modifier = ShapeModifiers.getModifier(arr[i3].ty);
              modifier.init(this, arr[i3]);
              itemsData[i3] = modifier;
              this.shapeModifiers.push(modifier);
            } else {
              modifier = itemsData[i3];
              modifier.closed = false;
            }
            ownModifiers.push(modifier);
          } else if (arr[i3].ty === "rp") {
            if (!processedPos) {
              modifier = ShapeModifiers.getModifier(arr[i3].ty);
              itemsData[i3] = modifier;
              modifier.init(this, arr, i3, itemsData);
              this.shapeModifiers.push(modifier);
              shouldRender = false;
            } else {
              modifier = itemsData[i3];
              modifier.closed = true;
            }
            ownModifiers.push(modifier);
          }
          this.addProcessedElement(arr[i3], i3 + 1);
        }
        this.removeTransformFromStyleList();
        this.closeStyles(ownStyles);
        len = ownModifiers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          ownModifiers[i3].closed = true;
        }
      };
      CVShapeElement.prototype.renderInnerContent = function() {
        this.transformHelper.opacity = 1;
        this.transformHelper._opMdf = false;
        this.renderModifiers();
        this.transformsManager.processSequences(this._isFirstFrame);
        this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);
      };
      CVShapeElement.prototype.renderShapeTransform = function(parentTransform, groupTransform) {
        if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {
          groupTransform.opacity = parentTransform.opacity;
          groupTransform.opacity *= groupTransform.op.v;
          groupTransform._opMdf = true;
        }
      };
      CVShapeElement.prototype.drawLayer = function() {
        var i3;
        var len = this.stylesList.length;
        var j4;
        var jLen;
        var k3;
        var kLen;
        var elems;
        var nodes;
        var renderer2 = this.globalData.renderer;
        var ctx = this.globalData.canvasContext;
        var type;
        var currentStyle;
        for (i3 = 0; i3 < len; i3 += 1) {
          currentStyle = this.stylesList[i3];
          type = currentStyle.type;
          if (!((type === "st" || type === "gs") && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {
            renderer2.save();
            elems = currentStyle.elements;
            if (type === "st" || type === "gs") {
              renderer2.ctxStrokeStyle(type === "st" ? currentStyle.co : currentStyle.grd);
              renderer2.ctxLineWidth(currentStyle.wi);
              renderer2.ctxLineCap(currentStyle.lc);
              renderer2.ctxLineJoin(currentStyle.lj);
              renderer2.ctxMiterLimit(currentStyle.ml || 0);
            } else {
              renderer2.ctxFillStyle(type === "fl" ? currentStyle.co : currentStyle.grd);
            }
            renderer2.ctxOpacity(currentStyle.coOp);
            if (type !== "st" && type !== "gs") {
              ctx.beginPath();
            }
            renderer2.ctxTransform(currentStyle.preTransforms.finalTransform.props);
            jLen = elems.length;
            for (j4 = 0; j4 < jLen; j4 += 1) {
              if (type === "st" || type === "gs") {
                ctx.beginPath();
                if (currentStyle.da) {
                  ctx.setLineDash(currentStyle.da);
                  ctx.lineDashOffset = currentStyle["do"];
                }
              }
              nodes = elems[j4].trNodes;
              kLen = nodes.length;
              for (k3 = 0; k3 < kLen; k3 += 1) {
                if (nodes[k3].t === "m") {
                  ctx.moveTo(nodes[k3].p[0], nodes[k3].p[1]);
                } else if (nodes[k3].t === "c") {
                  ctx.bezierCurveTo(nodes[k3].pts[0], nodes[k3].pts[1], nodes[k3].pts[2], nodes[k3].pts[3], nodes[k3].pts[4], nodes[k3].pts[5]);
                } else {
                  ctx.closePath();
                }
              }
              if (type === "st" || type === "gs") {
                renderer2.ctxStroke();
                if (currentStyle.da) {
                  ctx.setLineDash(this.dashResetter);
                }
              }
            }
            if (type !== "st" && type !== "gs") {
              this.globalData.renderer.ctxFill(currentStyle.r);
            }
            renderer2.restore();
          }
        }
      };
      CVShapeElement.prototype.renderShape = function(parentTransform, items, data2, isMain) {
        var i3;
        var len = items.length - 1;
        var groupTransform;
        groupTransform = parentTransform;
        for (i3 = len; i3 >= 0; i3 -= 1) {
          if (items[i3].ty === "tr") {
            groupTransform = data2[i3].transform;
            this.renderShapeTransform(parentTransform, groupTransform);
          } else if (items[i3].ty === "sh" || items[i3].ty === "el" || items[i3].ty === "rc" || items[i3].ty === "sr") {
            this.renderPath(items[i3], data2[i3]);
          } else if (items[i3].ty === "fl") {
            this.renderFill(items[i3], data2[i3], groupTransform);
          } else if (items[i3].ty === "st") {
            this.renderStroke(items[i3], data2[i3], groupTransform);
          } else if (items[i3].ty === "gf" || items[i3].ty === "gs") {
            this.renderGradientFill(items[i3], data2[i3], groupTransform);
          } else if (items[i3].ty === "gr") {
            this.renderShape(groupTransform, items[i3].it, data2[i3].it);
          } else if (items[i3].ty === "tm") {
          }
        }
        if (isMain) {
          this.drawLayer();
        }
      };
      CVShapeElement.prototype.renderStyledShape = function(styledShape, shape) {
        if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {
          var shapeNodes = styledShape.trNodes;
          var paths = shape.paths;
          var i3;
          var len;
          var j4;
          var jLen = paths._length;
          shapeNodes.length = 0;
          var groupTransformMat = styledShape.transforms.finalTransform;
          for (j4 = 0; j4 < jLen; j4 += 1) {
            var pathNodes = paths.shapes[j4];
            if (pathNodes && pathNodes.v) {
              len = pathNodes._length;
              for (i3 = 1; i3 < len; i3 += 1) {
                if (i3 === 1) {
                  shapeNodes.push({
                    t: "m",
                    p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)
                  });
                }
                shapeNodes.push({
                  t: "c",
                  pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i3 - 1], pathNodes.i[i3], pathNodes.v[i3])
                });
              }
              if (len === 1) {
                shapeNodes.push({
                  t: "m",
                  p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)
                });
              }
              if (pathNodes.c && len) {
                shapeNodes.push({
                  t: "c",
                  pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i3 - 1], pathNodes.i[0], pathNodes.v[0])
                });
                shapeNodes.push({
                  t: "z"
                });
              }
            }
          }
          styledShape.trNodes = shapeNodes;
        }
      };
      CVShapeElement.prototype.renderPath = function(pathData, itemData) {
        if (pathData.hd !== true && pathData._shouldRender) {
          var i3;
          var len = itemData.styledShapes.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.renderStyledShape(itemData.styledShapes[i3], itemData.sh);
          }
        }
      };
      CVShapeElement.prototype.renderFill = function(styleData, itemData, groupTransform) {
        var styleElem = itemData.style;
        if (itemData.c._mdf || this._isFirstFrame) {
          styleElem.co = "rgb(" + bmFloor(itemData.c.v[0]) + "," + bmFloor(itemData.c.v[1]) + "," + bmFloor(itemData.c.v[2]) + ")";
        }
        if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {
          styleElem.coOp = itemData.o.v * groupTransform.opacity;
        }
      };
      CVShapeElement.prototype.renderGradientFill = function(styleData, itemData, groupTransform) {
        var styleElem = itemData.style;
        var grd;
        if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {
          var ctx = this.globalData.canvasContext;
          var pt1 = itemData.s.v;
          var pt22 = itemData.e.v;
          if (styleData.t === 1) {
            grd = ctx.createLinearGradient(pt1[0], pt1[1], pt22[0], pt22[1]);
          } else {
            var rad = Math.sqrt(Math.pow(pt1[0] - pt22[0], 2) + Math.pow(pt1[1] - pt22[1], 2));
            var ang = Math.atan2(pt22[1] - pt1[1], pt22[0] - pt1[0]);
            var percent = itemData.h.v;
            if (percent >= 1) {
              percent = 0.99;
            } else if (percent <= -1) {
              percent = -0.99;
            }
            var dist = rad * percent;
            var x5 = Math.cos(ang + itemData.a.v) * dist + pt1[0];
            var y7 = Math.sin(ang + itemData.a.v) * dist + pt1[1];
            grd = ctx.createRadialGradient(x5, y7, 0, pt1[0], pt1[1], rad);
          }
          var i3;
          var len = styleData.g.p;
          var cValues = itemData.g.c;
          var opacity = 1;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (itemData.g._hasOpacity && itemData.g._collapsable) {
              opacity = itemData.g.o[i3 * 2 + 1];
            }
            grd.addColorStop(cValues[i3 * 4] / 100, "rgba(" + cValues[i3 * 4 + 1] + "," + cValues[i3 * 4 + 2] + "," + cValues[i3 * 4 + 3] + "," + opacity + ")");
          }
          styleElem.grd = grd;
        }
        styleElem.coOp = itemData.o.v * groupTransform.opacity;
      };
      CVShapeElement.prototype.renderStroke = function(styleData, itemData, groupTransform) {
        var styleElem = itemData.style;
        var d3 = itemData.d;
        if (d3 && (d3._mdf || this._isFirstFrame)) {
          styleElem.da = d3.dashArray;
          styleElem["do"] = d3.dashoffset[0];
        }
        if (itemData.c._mdf || this._isFirstFrame) {
          styleElem.co = "rgb(" + bmFloor(itemData.c.v[0]) + "," + bmFloor(itemData.c.v[1]) + "," + bmFloor(itemData.c.v[2]) + ")";
        }
        if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {
          styleElem.coOp = itemData.o.v * groupTransform.opacity;
        }
        if (itemData.w._mdf || this._isFirstFrame) {
          styleElem.wi = itemData.w.v;
        }
      };
      CVShapeElement.prototype.destroy = function() {
        this.shapesData = null;
        this.globalData = null;
        this.canvasContext = null;
        this.stylesList.length = 0;
        this.itemsData.length = 0;
      };
      function CVTextElement(data2, globalData2, comp2) {
        this.textSpans = [];
        this.yOffset = 0;
        this.fillColorAnim = false;
        this.strokeColorAnim = false;
        this.strokeWidthAnim = false;
        this.stroke = false;
        this.fill = false;
        this.justifyOffset = 0;
        this.currentRender = null;
        this.renderType = "canvas";
        this.values = {
          fill: "rgba(0,0,0,0)",
          stroke: "rgba(0,0,0,0)",
          sWidth: 0,
          fValue: ""
        };
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);
      CVTextElement.prototype.tHelper = createTag("canvas").getContext("2d");
      CVTextElement.prototype.buildNewText = function() {
        var documentData = this.textProperty.currentData;
        this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);
        var hasFill = false;
        if (documentData.fc) {
          hasFill = true;
          this.values.fill = this.buildColor(documentData.fc);
        } else {
          this.values.fill = "rgba(0,0,0,0)";
        }
        this.fill = hasFill;
        var hasStroke = false;
        if (documentData.sc) {
          hasStroke = true;
          this.values.stroke = this.buildColor(documentData.sc);
          this.values.sWidth = documentData.sw;
        }
        var fontData = this.globalData.fontManager.getFontByName(documentData.f);
        var i3;
        var len;
        var letters = documentData.l;
        var matrixHelper = this.mHelper;
        this.stroke = hasStroke;
        this.values.fValue = documentData.finalSize + "px " + this.globalData.fontManager.getFontByName(documentData.f).fFamily;
        len = documentData.finalText.length;
        var charData;
        var shapeData;
        var k3;
        var kLen;
        var shapes;
        var j4;
        var jLen;
        var pathNodes;
        var commands;
        var pathArr;
        var singleShape = this.data.singleShape;
        var trackingOffset = documentData.tr * 1e-3 * documentData.finalSize;
        var xPos = 0;
        var yPos = 0;
        var firstLine = true;
        var cnt = 0;
        for (i3 = 0; i3 < len; i3 += 1) {
          charData = this.globalData.fontManager.getCharData(documentData.finalText[i3], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);
          shapeData = charData && charData.data || {};
          matrixHelper.reset();
          if (singleShape && letters[i3].n) {
            xPos = -trackingOffset;
            yPos += documentData.yOffset;
            yPos += firstLine ? 1 : 0;
            firstLine = false;
          }
          shapes = shapeData.shapes ? shapeData.shapes[0].it : [];
          jLen = shapes.length;
          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);
          if (singleShape) {
            this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i3].line, xPos, yPos);
          }
          commands = createSizedArray(jLen - 1);
          var commandsCounter = 0;
          for (j4 = 0; j4 < jLen; j4 += 1) {
            if (shapes[j4].ty === "sh") {
              kLen = shapes[j4].ks.k.i.length;
              pathNodes = shapes[j4].ks.k;
              pathArr = [];
              for (k3 = 1; k3 < kLen; k3 += 1) {
                if (k3 === 1) {
                  pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));
                }
                pathArr.push(matrixHelper.applyToX(pathNodes.o[k3 - 1][0], pathNodes.o[k3 - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k3 - 1][0], pathNodes.o[k3 - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k3][0], pathNodes.i[k3][1], 0), matrixHelper.applyToY(pathNodes.i[k3][0], pathNodes.i[k3][1], 0), matrixHelper.applyToX(pathNodes.v[k3][0], pathNodes.v[k3][1], 0), matrixHelper.applyToY(pathNodes.v[k3][0], pathNodes.v[k3][1], 0));
              }
              pathArr.push(matrixHelper.applyToX(pathNodes.o[k3 - 1][0], pathNodes.o[k3 - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k3 - 1][0], pathNodes.o[k3 - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));
              commands[commandsCounter] = pathArr;
              commandsCounter += 1;
            }
          }
          if (singleShape) {
            xPos += letters[i3].l;
            xPos += trackingOffset;
          }
          if (this.textSpans[cnt]) {
            this.textSpans[cnt].elem = commands;
          } else {
            this.textSpans[cnt] = {
              elem: commands
            };
          }
          cnt += 1;
        }
      };
      CVTextElement.prototype.renderInnerContent = function() {
        this.validateText();
        var ctx = this.canvasContext;
        ctx.font = this.values.fValue;
        this.globalData.renderer.ctxLineCap("butt");
        this.globalData.renderer.ctxLineJoin("miter");
        this.globalData.renderer.ctxMiterLimit(4);
        if (!this.data.singleShape) {
          this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
        }
        var i3;
        var len;
        var j4;
        var jLen;
        var k3;
        var kLen;
        var renderedLetters = this.textAnimator.renderedLetters;
        var letters = this.textProperty.currentData.l;
        len = letters.length;
        var renderedLetter;
        var lastFill = null;
        var lastStroke = null;
        var lastStrokeW = null;
        var commands;
        var pathArr;
        var renderer2 = this.globalData.renderer;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (!letters[i3].n) {
            renderedLetter = renderedLetters[i3];
            if (renderedLetter) {
              renderer2.save();
              renderer2.ctxTransform(renderedLetter.p);
              renderer2.ctxOpacity(renderedLetter.o);
            }
            if (this.fill) {
              if (renderedLetter && renderedLetter.fc) {
                if (lastFill !== renderedLetter.fc) {
                  renderer2.ctxFillStyle(renderedLetter.fc);
                  lastFill = renderedLetter.fc;
                }
              } else if (lastFill !== this.values.fill) {
                lastFill = this.values.fill;
                renderer2.ctxFillStyle(this.values.fill);
              }
              commands = this.textSpans[i3].elem;
              jLen = commands.length;
              this.globalData.canvasContext.beginPath();
              for (j4 = 0; j4 < jLen; j4 += 1) {
                pathArr = commands[j4];
                kLen = pathArr.length;
                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);
                for (k3 = 2; k3 < kLen; k3 += 6) {
                  this.globalData.canvasContext.bezierCurveTo(pathArr[k3], pathArr[k3 + 1], pathArr[k3 + 2], pathArr[k3 + 3], pathArr[k3 + 4], pathArr[k3 + 5]);
                }
              }
              this.globalData.canvasContext.closePath();
              renderer2.ctxFill();
            }
            if (this.stroke) {
              if (renderedLetter && renderedLetter.sw) {
                if (lastStrokeW !== renderedLetter.sw) {
                  lastStrokeW = renderedLetter.sw;
                  renderer2.ctxLineWidth(renderedLetter.sw);
                }
              } else if (lastStrokeW !== this.values.sWidth) {
                lastStrokeW = this.values.sWidth;
                renderer2.ctxLineWidth(this.values.sWidth);
              }
              if (renderedLetter && renderedLetter.sc) {
                if (lastStroke !== renderedLetter.sc) {
                  lastStroke = renderedLetter.sc;
                  renderer2.ctxStrokeStyle(renderedLetter.sc);
                }
              } else if (lastStroke !== this.values.stroke) {
                lastStroke = this.values.stroke;
                renderer2.ctxStrokeStyle(this.values.stroke);
              }
              commands = this.textSpans[i3].elem;
              jLen = commands.length;
              this.globalData.canvasContext.beginPath();
              for (j4 = 0; j4 < jLen; j4 += 1) {
                pathArr = commands[j4];
                kLen = pathArr.length;
                this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);
                for (k3 = 2; k3 < kLen; k3 += 6) {
                  this.globalData.canvasContext.bezierCurveTo(pathArr[k3], pathArr[k3 + 1], pathArr[k3 + 2], pathArr[k3 + 3], pathArr[k3 + 4], pathArr[k3 + 5]);
                }
              }
              this.globalData.canvasContext.closePath();
              renderer2.ctxStroke();
            }
            if (renderedLetter) {
              this.globalData.renderer.restore();
            }
          }
        }
      };
      function CVImageElement(data2, globalData2, comp2) {
        this.assetData = globalData2.getAssetData(data2.refId);
        this.img = globalData2.imageLoader.getAsset(this.assetData);
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);
      CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;
      CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;
      CVImageElement.prototype.createContent = function() {
        if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {
          var canvas = createTag("canvas");
          canvas.width = this.assetData.w;
          canvas.height = this.assetData.h;
          var ctx = canvas.getContext("2d");
          var imgW = this.img.width;
          var imgH = this.img.height;
          var imgRel = imgW / imgH;
          var canvasRel = this.assetData.w / this.assetData.h;
          var widthCrop;
          var heightCrop;
          var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;
          if (imgRel > canvasRel && par === "xMidYMid slice" || imgRel < canvasRel && par !== "xMidYMid slice") {
            heightCrop = imgH;
            widthCrop = heightCrop * canvasRel;
          } else {
            widthCrop = imgW;
            heightCrop = widthCrop / canvasRel;
          }
          ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);
          this.img = canvas;
        }
      };
      CVImageElement.prototype.renderInnerContent = function() {
        this.canvasContext.drawImage(this.img, 0, 0);
      };
      CVImageElement.prototype.destroy = function() {
        this.img = null;
      };
      function CVSolidElement(data2, globalData2, comp2) {
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);
      CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;
      CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;
      CVSolidElement.prototype.renderInnerContent = function() {
        this.globalData.renderer.ctxFillStyle(this.data.sc);
        this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh);
      };
      function CanvasRendererBase() {
      }
      extendPrototype([BaseRenderer], CanvasRendererBase);
      CanvasRendererBase.prototype.createShape = function(data2) {
        return new CVShapeElement(data2, this.globalData, this);
      };
      CanvasRendererBase.prototype.createText = function(data2) {
        return new CVTextElement(data2, this.globalData, this);
      };
      CanvasRendererBase.prototype.createImage = function(data2) {
        return new CVImageElement(data2, this.globalData, this);
      };
      CanvasRendererBase.prototype.createSolid = function(data2) {
        return new CVSolidElement(data2, this.globalData, this);
      };
      CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;
      CanvasRendererBase.prototype.ctxTransform = function(props) {
        if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {
          return;
        }
        this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);
      };
      CanvasRendererBase.prototype.ctxOpacity = function(op) {
        this.canvasContext.globalAlpha *= op < 0 ? 0 : op;
      };
      CanvasRendererBase.prototype.ctxFillStyle = function(value2) {
        this.canvasContext.fillStyle = value2;
      };
      CanvasRendererBase.prototype.ctxStrokeStyle = function(value2) {
        this.canvasContext.strokeStyle = value2;
      };
      CanvasRendererBase.prototype.ctxLineWidth = function(value2) {
        this.canvasContext.lineWidth = value2;
      };
      CanvasRendererBase.prototype.ctxLineCap = function(value2) {
        this.canvasContext.lineCap = value2;
      };
      CanvasRendererBase.prototype.ctxLineJoin = function(value2) {
        this.canvasContext.lineJoin = value2;
      };
      CanvasRendererBase.prototype.ctxMiterLimit = function(value2) {
        this.canvasContext.miterLimit = value2;
      };
      CanvasRendererBase.prototype.ctxFill = function(rule) {
        this.canvasContext.fill(rule);
      };
      CanvasRendererBase.prototype.ctxFillRect = function(x5, y7, w4, h6) {
        this.canvasContext.fillRect(x5, y7, w4, h6);
      };
      CanvasRendererBase.prototype.ctxStroke = function() {
        this.canvasContext.stroke();
      };
      CanvasRendererBase.prototype.reset = function() {
        if (!this.renderConfig.clearCanvas) {
          this.canvasContext.restore();
          return;
        }
        this.contextData.reset();
      };
      CanvasRendererBase.prototype.save = function() {
        this.canvasContext.save();
      };
      CanvasRendererBase.prototype.restore = function(actionFlag) {
        if (!this.renderConfig.clearCanvas) {
          this.canvasContext.restore();
          return;
        }
        if (actionFlag) {
          this.globalData.blendMode = "source-over";
        }
        this.contextData.restore(actionFlag);
      };
      CanvasRendererBase.prototype.configAnimation = function(animData) {
        if (this.animationItem.wrapper) {
          this.animationItem.container = createTag("canvas");
          var containerStyle = this.animationItem.container.style;
          containerStyle.width = "100%";
          containerStyle.height = "100%";
          var origin = "0px 0px 0px";
          containerStyle.transformOrigin = origin;
          containerStyle.mozTransformOrigin = origin;
          containerStyle.webkitTransformOrigin = origin;
          containerStyle["-webkit-transform"] = origin;
          containerStyle.contentVisibility = this.renderConfig.contentVisibility;
          this.animationItem.wrapper.appendChild(this.animationItem.container);
          this.canvasContext = this.animationItem.container.getContext("2d");
          if (this.renderConfig.className) {
            this.animationItem.container.setAttribute("class", this.renderConfig.className);
          }
          if (this.renderConfig.id) {
            this.animationItem.container.setAttribute("id", this.renderConfig.id);
          }
        } else {
          this.canvasContext = this.renderConfig.context;
        }
        this.contextData.setContext(this.canvasContext);
        this.data = animData;
        this.layers = animData.layers;
        this.transformCanvas = {
          w: animData.w,
          h: animData.h,
          sx: 0,
          sy: 0,
          tx: 0,
          ty: 0
        };
        this.setupGlobalData(animData, document.body);
        this.globalData.canvasContext = this.canvasContext;
        this.globalData.renderer = this;
        this.globalData.isDashed = false;
        this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;
        this.globalData.transformCanvas = this.transformCanvas;
        this.elements = createSizedArray(animData.layers.length);
        this.updateContainerSize();
      };
      CanvasRendererBase.prototype.updateContainerSize = function(width2, height2) {
        this.reset();
        var elementWidth;
        var elementHeight;
        if (width2) {
          elementWidth = width2;
          elementHeight = height2;
          this.canvasContext.canvas.width = elementWidth;
          this.canvasContext.canvas.height = elementHeight;
        } else {
          if (this.animationItem.wrapper && this.animationItem.container) {
            elementWidth = this.animationItem.wrapper.offsetWidth;
            elementHeight = this.animationItem.wrapper.offsetHeight;
          } else {
            elementWidth = this.canvasContext.canvas.width;
            elementHeight = this.canvasContext.canvas.height;
          }
          this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;
          this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;
        }
        var elementRel;
        var animationRel;
        if (this.renderConfig.preserveAspectRatio.indexOf("meet") !== -1 || this.renderConfig.preserveAspectRatio.indexOf("slice") !== -1) {
          var par = this.renderConfig.preserveAspectRatio.split(" ");
          var fillType = par[1] || "meet";
          var pos = par[0] || "xMidYMid";
          var xPos = pos.substr(0, 4);
          var yPos = pos.substr(4);
          elementRel = elementWidth / elementHeight;
          animationRel = this.transformCanvas.w / this.transformCanvas.h;
          if (animationRel > elementRel && fillType === "meet" || animationRel < elementRel && fillType === "slice") {
            this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);
            this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);
          } else {
            this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);
            this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);
          }
          if (xPos === "xMid" && (animationRel < elementRel && fillType === "meet" || animationRel > elementRel && fillType === "slice")) {
            this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;
          } else if (xPos === "xMax" && (animationRel < elementRel && fillType === "meet" || animationRel > elementRel && fillType === "slice")) {
            this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;
          } else {
            this.transformCanvas.tx = 0;
          }
          if (yPos === "YMid" && (animationRel > elementRel && fillType === "meet" || animationRel < elementRel && fillType === "slice")) {
            this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;
          } else if (yPos === "YMax" && (animationRel > elementRel && fillType === "meet" || animationRel < elementRel && fillType === "slice")) {
            this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;
          } else {
            this.transformCanvas.ty = 0;
          }
        } else if (this.renderConfig.preserveAspectRatio === "none") {
          this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);
          this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);
          this.transformCanvas.tx = 0;
          this.transformCanvas.ty = 0;
        } else {
          this.transformCanvas.sx = this.renderConfig.dpr;
          this.transformCanvas.sy = this.renderConfig.dpr;
          this.transformCanvas.tx = 0;
          this.transformCanvas.ty = 0;
        }
        this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];
        this.ctxTransform(this.transformCanvas.props);
        this.canvasContext.beginPath();
        this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);
        this.canvasContext.closePath();
        this.canvasContext.clip();
        this.renderFrame(this.renderedFrame, true);
      };
      CanvasRendererBase.prototype.destroy = function() {
        if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {
          this.animationItem.wrapper.innerText = "";
        }
        var i3;
        var len = this.layers ? this.layers.length : 0;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.elements[i3] && this.elements[i3].destroy) {
            this.elements[i3].destroy();
          }
        }
        this.elements.length = 0;
        this.globalData.canvasContext = null;
        this.animationItem.container = null;
        this.destroyed = true;
      };
      CanvasRendererBase.prototype.renderFrame = function(num, forceRender) {
        if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {
          return;
        }
        this.renderedFrame = num;
        this.globalData.frameNum = num - this.animationItem._isFirstFrame;
        this.globalData.frameId += 1;
        this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;
        this.globalData.projectInterface.currentFrame = num;
        var i3;
        var len = this.layers.length;
        if (!this.completeLayers) {
          this.checkLayers(num);
        }
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].prepareFrame(num - this.layers[i3].st);
          }
        }
        if (this.globalData._mdf) {
          if (this.renderConfig.clearCanvas === true) {
            this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);
          } else {
            this.save();
          }
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            if (this.completeLayers || this.elements[i3]) {
              this.elements[i3].renderFrame();
            }
          }
          if (this.renderConfig.clearCanvas !== true) {
            this.restore();
          }
        }
      };
      CanvasRendererBase.prototype.buildItem = function(pos) {
        var elements = this.elements;
        if (elements[pos] || this.layers[pos].ty === 99) {
          return;
        }
        var element = this.createItem(this.layers[pos], this, this.globalData);
        elements[pos] = element;
        element.initExpressions();
      };
      CanvasRendererBase.prototype.checkPendingElements = function() {
        while (this.pendingElements.length) {
          var element = this.pendingElements.pop();
          element.checkParenting();
        }
      };
      CanvasRendererBase.prototype.hide = function() {
        this.animationItem.container.style.display = "none";
      };
      CanvasRendererBase.prototype.show = function() {
        this.animationItem.container.style.display = "block";
      };
      function CanvasContext() {
        this.opacity = -1;
        this.transform = createTypedArray("float32", 16);
        this.fillStyle = "";
        this.strokeStyle = "";
        this.lineWidth = "";
        this.lineCap = "";
        this.lineJoin = "";
        this.miterLimit = "";
        this.id = Math.random();
      }
      function CVContextData() {
        this.stack = [];
        this.cArrPos = 0;
        this.cTr = new Matrix();
        var i3;
        var len = 15;
        for (i3 = 0; i3 < len; i3 += 1) {
          var canvasContext = new CanvasContext();
          this.stack[i3] = canvasContext;
        }
        this._length = len;
        this.nativeContext = null;
        this.transformMat = new Matrix();
        this.currentOpacity = 1;
        this.currentFillStyle = "";
        this.appliedFillStyle = "";
        this.currentStrokeStyle = "";
        this.appliedStrokeStyle = "";
        this.currentLineWidth = "";
        this.appliedLineWidth = "";
        this.currentLineCap = "";
        this.appliedLineCap = "";
        this.currentLineJoin = "";
        this.appliedLineJoin = "";
        this.appliedMiterLimit = "";
        this.currentMiterLimit = "";
      }
      CVContextData.prototype.duplicate = function() {
        var newLength = this._length * 2;
        var i3 = 0;
        for (i3 = this._length; i3 < newLength; i3 += 1) {
          this.stack[i3] = new CanvasContext();
        }
        this._length = newLength;
      };
      CVContextData.prototype.reset = function() {
        this.cArrPos = 0;
        this.cTr.reset();
        this.stack[this.cArrPos].opacity = 1;
      };
      CVContextData.prototype.restore = function(forceRestore) {
        this.cArrPos -= 1;
        var currentContext = this.stack[this.cArrPos];
        var transform2 = currentContext.transform;
        var i3;
        var arr = this.cTr.props;
        for (i3 = 0; i3 < 16; i3 += 1) {
          arr[i3] = transform2[i3];
        }
        if (forceRestore) {
          this.nativeContext.restore();
          var prevStack = this.stack[this.cArrPos + 1];
          this.appliedFillStyle = prevStack.fillStyle;
          this.appliedStrokeStyle = prevStack.strokeStyle;
          this.appliedLineWidth = prevStack.lineWidth;
          this.appliedLineCap = prevStack.lineCap;
          this.appliedLineJoin = prevStack.lineJoin;
          this.appliedMiterLimit = prevStack.miterLimit;
        }
        this.nativeContext.setTransform(transform2[0], transform2[1], transform2[4], transform2[5], transform2[12], transform2[13]);
        if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {
          this.nativeContext.globalAlpha = currentContext.opacity;
          this.currentOpacity = currentContext.opacity;
        }
        this.currentFillStyle = currentContext.fillStyle;
        this.currentStrokeStyle = currentContext.strokeStyle;
        this.currentLineWidth = currentContext.lineWidth;
        this.currentLineCap = currentContext.lineCap;
        this.currentLineJoin = currentContext.lineJoin;
        this.currentMiterLimit = currentContext.miterLimit;
      };
      CVContextData.prototype.save = function(saveOnNativeFlag) {
        if (saveOnNativeFlag) {
          this.nativeContext.save();
        }
        var props = this.cTr.props;
        if (this._length <= this.cArrPos) {
          this.duplicate();
        }
        var currentStack = this.stack[this.cArrPos];
        var i3;
        for (i3 = 0; i3 < 16; i3 += 1) {
          currentStack.transform[i3] = props[i3];
        }
        this.cArrPos += 1;
        var newStack = this.stack[this.cArrPos];
        newStack.opacity = currentStack.opacity;
        newStack.fillStyle = currentStack.fillStyle;
        newStack.strokeStyle = currentStack.strokeStyle;
        newStack.lineWidth = currentStack.lineWidth;
        newStack.lineCap = currentStack.lineCap;
        newStack.lineJoin = currentStack.lineJoin;
        newStack.miterLimit = currentStack.miterLimit;
      };
      CVContextData.prototype.setOpacity = function(value2) {
        this.stack[this.cArrPos].opacity = value2;
      };
      CVContextData.prototype.setContext = function(value2) {
        this.nativeContext = value2;
      };
      CVContextData.prototype.fillStyle = function(value2) {
        if (this.stack[this.cArrPos].fillStyle !== value2) {
          this.currentFillStyle = value2;
          this.stack[this.cArrPos].fillStyle = value2;
        }
      };
      CVContextData.prototype.strokeStyle = function(value2) {
        if (this.stack[this.cArrPos].strokeStyle !== value2) {
          this.currentStrokeStyle = value2;
          this.stack[this.cArrPos].strokeStyle = value2;
        }
      };
      CVContextData.prototype.lineWidth = function(value2) {
        if (this.stack[this.cArrPos].lineWidth !== value2) {
          this.currentLineWidth = value2;
          this.stack[this.cArrPos].lineWidth = value2;
        }
      };
      CVContextData.prototype.lineCap = function(value2) {
        if (this.stack[this.cArrPos].lineCap !== value2) {
          this.currentLineCap = value2;
          this.stack[this.cArrPos].lineCap = value2;
        }
      };
      CVContextData.prototype.lineJoin = function(value2) {
        if (this.stack[this.cArrPos].lineJoin !== value2) {
          this.currentLineJoin = value2;
          this.stack[this.cArrPos].lineJoin = value2;
        }
      };
      CVContextData.prototype.miterLimit = function(value2) {
        if (this.stack[this.cArrPos].miterLimit !== value2) {
          this.currentMiterLimit = value2;
          this.stack[this.cArrPos].miterLimit = value2;
        }
      };
      CVContextData.prototype.transform = function(props) {
        this.transformMat.cloneFromProps(props);
        var currentTransform = this.cTr;
        this.transformMat.multiply(currentTransform);
        currentTransform.cloneFromProps(this.transformMat.props);
        var trProps = currentTransform.props;
        this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);
      };
      CVContextData.prototype.opacity = function(op) {
        var currentOpacity = this.stack[this.cArrPos].opacity;
        currentOpacity *= op < 0 ? 0 : op;
        if (this.stack[this.cArrPos].opacity !== currentOpacity) {
          if (this.currentOpacity !== op) {
            this.nativeContext.globalAlpha = op;
            this.currentOpacity = op;
          }
          this.stack[this.cArrPos].opacity = currentOpacity;
        }
      };
      CVContextData.prototype.fill = function(rule) {
        if (this.appliedFillStyle !== this.currentFillStyle) {
          this.appliedFillStyle = this.currentFillStyle;
          this.nativeContext.fillStyle = this.appliedFillStyle;
        }
        this.nativeContext.fill(rule);
      };
      CVContextData.prototype.fillRect = function(x5, y7, w4, h6) {
        if (this.appliedFillStyle !== this.currentFillStyle) {
          this.appliedFillStyle = this.currentFillStyle;
          this.nativeContext.fillStyle = this.appliedFillStyle;
        }
        this.nativeContext.fillRect(x5, y7, w4, h6);
      };
      CVContextData.prototype.stroke = function() {
        if (this.appliedStrokeStyle !== this.currentStrokeStyle) {
          this.appliedStrokeStyle = this.currentStrokeStyle;
          this.nativeContext.strokeStyle = this.appliedStrokeStyle;
        }
        if (this.appliedLineWidth !== this.currentLineWidth) {
          this.appliedLineWidth = this.currentLineWidth;
          this.nativeContext.lineWidth = this.appliedLineWidth;
        }
        if (this.appliedLineCap !== this.currentLineCap) {
          this.appliedLineCap = this.currentLineCap;
          this.nativeContext.lineCap = this.appliedLineCap;
        }
        if (this.appliedLineJoin !== this.currentLineJoin) {
          this.appliedLineJoin = this.currentLineJoin;
          this.nativeContext.lineJoin = this.appliedLineJoin;
        }
        if (this.appliedMiterLimit !== this.currentMiterLimit) {
          this.appliedMiterLimit = this.currentMiterLimit;
          this.nativeContext.miterLimit = this.appliedMiterLimit;
        }
        this.nativeContext.stroke();
      };
      function CVCompElement(data2, globalData2, comp2) {
        this.completeLayers = false;
        this.layers = data2.layers;
        this.pendingElements = [];
        this.elements = createSizedArray(this.layers.length);
        this.initElement(data2, globalData2, comp2);
        this.tm = data2.tm ? PropertyFactory.getProp(this, data2.tm, 0, globalData2.frameRate, this) : {
          _placeholder: true
        };
      }
      extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);
      CVCompElement.prototype.renderInnerContent = function() {
        var ctx = this.canvasContext;
        ctx.beginPath();
        ctx.moveTo(0, 0);
        ctx.lineTo(this.data.w, 0);
        ctx.lineTo(this.data.w, this.data.h);
        ctx.lineTo(0, this.data.h);
        ctx.lineTo(0, 0);
        ctx.clip();
        var i3;
        var len = this.layers.length;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].renderFrame();
          }
        }
      };
      CVCompElement.prototype.destroy = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.elements[i3]) {
            this.elements[i3].destroy();
          }
        }
        this.layers = null;
        this.elements = null;
      };
      CVCompElement.prototype.createComp = function(data2) {
        return new CVCompElement(data2, this.globalData, this);
      };
      function CanvasRenderer(animationItem, config) {
        this.animationItem = animationItem;
        this.renderConfig = {
          clearCanvas: config && config.clearCanvas !== void 0 ? config.clearCanvas : true,
          context: config && config.context || null,
          progressiveLoad: config && config.progressiveLoad || false,
          preserveAspectRatio: config && config.preserveAspectRatio || "xMidYMid meet",
          imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || "xMidYMid slice",
          contentVisibility: config && config.contentVisibility || "visible",
          className: config && config.className || "",
          id: config && config.id || "",
          runExpressions: !config || config.runExpressions === void 0 || config.runExpressions
        };
        this.renderConfig.dpr = config && config.dpr || 1;
        if (this.animationItem.wrapper) {
          this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;
        }
        this.renderedFrame = -1;
        this.globalData = {
          frameNum: -1,
          _mdf: false,
          renderConfig: this.renderConfig,
          currentGlobalAlpha: -1
        };
        this.contextData = new CVContextData();
        this.elements = [];
        this.pendingElements = [];
        this.transformMat = new Matrix();
        this.completeLayers = false;
        this.rendererType = "canvas";
        if (this.renderConfig.clearCanvas) {
          this.ctxTransform = this.contextData.transform.bind(this.contextData);
          this.ctxOpacity = this.contextData.opacity.bind(this.contextData);
          this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);
          this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);
          this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);
          this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);
          this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);
          this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);
          this.ctxFill = this.contextData.fill.bind(this.contextData);
          this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);
          this.ctxStroke = this.contextData.stroke.bind(this.contextData);
          this.save = this.contextData.save.bind(this.contextData);
        }
      }
      extendPrototype([CanvasRendererBase], CanvasRenderer);
      CanvasRenderer.prototype.createComp = function(data2) {
        return new CVCompElement(data2, this.globalData, this);
      };
      function HBaseElement() {
      }
      HBaseElement.prototype = {
        checkBlendMode: function checkBlendMode() {
        },
        initRendererElement: function initRendererElement() {
          this.baseElement = createTag(this.data.tg || "div");
          if (this.data.hasMask) {
            this.svgElement = createNS("svg");
            this.layerElement = createNS("g");
            this.maskedElement = this.layerElement;
            this.svgElement.appendChild(this.layerElement);
            this.baseElement.appendChild(this.svgElement);
          } else {
            this.layerElement = this.baseElement;
          }
          styleDiv(this.baseElement);
        },
        createContainerElements: function createContainerElements() {
          this.renderableEffectsManager = new CVEffects(this);
          this.transformedElement = this.baseElement;
          this.maskedElement = this.layerElement;
          if (this.data.ln) {
            this.layerElement.setAttribute("id", this.data.ln);
          }
          if (this.data.cl) {
            this.layerElement.setAttribute("class", this.data.cl);
          }
          if (this.data.bm !== 0) {
            this.setBlendMode();
          }
        },
        renderElement: function renderElement() {
          var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};
          if (this.finalTransform._matMdf) {
            var matrixValue = this.finalTransform.mat.toCSS();
            transformedElementStyle.transform = matrixValue;
            transformedElementStyle.webkitTransform = matrixValue;
          }
          if (this.finalTransform._opMdf) {
            transformedElementStyle.opacity = this.finalTransform.mProp.o.v;
          }
        },
        renderFrame: function renderFrame() {
          if (this.data.hd || this.hidden) {
            return;
          }
          this.renderTransform();
          this.renderRenderable();
          this.renderElement();
          this.renderInnerContent();
          if (this._isFirstFrame) {
            this._isFirstFrame = false;
          }
        },
        destroy: function destroy() {
          this.layerElement = null;
          this.transformedElement = null;
          if (this.matteElement) {
            this.matteElement = null;
          }
          if (this.maskManager) {
            this.maskManager.destroy();
            this.maskManager = null;
          }
        },
        createRenderableComponents: function createRenderableComponents() {
          this.maskManager = new MaskElement(this.data, this, this.globalData);
        },
        addEffects: function addEffects() {
        },
        setMatte: function setMatte() {
        }
      };
      HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;
      HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;
      HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;
      function HSolidElement(data2, globalData2, comp2) {
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);
      HSolidElement.prototype.createContent = function() {
        var rect;
        if (this.data.hasMask) {
          rect = createNS("rect");
          rect.setAttribute("width", this.data.sw);
          rect.setAttribute("height", this.data.sh);
          rect.setAttribute("fill", this.data.sc);
          this.svgElement.setAttribute("width", this.data.sw);
          this.svgElement.setAttribute("height", this.data.sh);
        } else {
          rect = createTag("div");
          rect.style.width = this.data.sw + "px";
          rect.style.height = this.data.sh + "px";
          rect.style.backgroundColor = this.data.sc;
        }
        this.layerElement.appendChild(rect);
      };
      function HShapeElement(data2, globalData2, comp2) {
        this.shapes = [];
        this.shapesData = data2.shapes;
        this.stylesList = [];
        this.shapeModifiers = [];
        this.itemsData = [];
        this.processedElements = [];
        this.animatedContents = [];
        this.shapesContainer = createNS("g");
        this.initElement(data2, globalData2, comp2);
        this.prevViewData = [];
        this.currentBBox = {
          x: 999999,
          y: -999999,
          h: 0,
          w: 0
        };
      }
      extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);
      HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;
      HShapeElement.prototype.createContent = function() {
        var cont;
        this.baseElement.style.fontSize = 0;
        if (this.data.hasMask) {
          this.layerElement.appendChild(this.shapesContainer);
          cont = this.svgElement;
        } else {
          cont = createNS("svg");
          var size = this.comp.data ? this.comp.data : this.globalData.compSize;
          cont.setAttribute("width", size.w);
          cont.setAttribute("height", size.h);
          cont.appendChild(this.shapesContainer);
          this.layerElement.appendChild(cont);
        }
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);
        this.filterUniqueShapes();
        this.shapeCont = cont;
      };
      HShapeElement.prototype.getTransformedPoint = function(transformers, point) {
        var i3;
        var len = transformers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          point = transformers[i3].mProps.v.applyToPointArray(point[0], point[1], 0);
        }
        return point;
      };
      HShapeElement.prototype.calculateShapeBoundingBox = function(item, boundingBox) {
        var shape = item.sh.v;
        var transformers = item.transformers;
        var i3;
        var len = shape._length;
        var vPoint;
        var oPoint;
        var nextIPoint;
        var nextVPoint;
        if (len <= 1) {
          return;
        }
        for (i3 = 0; i3 < len - 1; i3 += 1) {
          vPoint = this.getTransformedPoint(transformers, shape.v[i3]);
          oPoint = this.getTransformedPoint(transformers, shape.o[i3]);
          nextIPoint = this.getTransformedPoint(transformers, shape.i[i3 + 1]);
          nextVPoint = this.getTransformedPoint(transformers, shape.v[i3 + 1]);
          this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);
        }
        if (shape.c) {
          vPoint = this.getTransformedPoint(transformers, shape.v[i3]);
          oPoint = this.getTransformedPoint(transformers, shape.o[i3]);
          nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);
          nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);
          this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);
        }
      };
      HShapeElement.prototype.checkBounds = function(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {
        this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);
        var bounds = this.shapeBoundingBox;
        boundingBox.x = bmMin(bounds.left, boundingBox.x);
        boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);
        boundingBox.y = bmMin(bounds.top, boundingBox.y);
        boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);
      };
      HShapeElement.prototype.shapeBoundingBox = {
        left: 0,
        right: 0,
        top: 0,
        bottom: 0
      };
      HShapeElement.prototype.tempBoundingBox = {
        x: 0,
        xMax: 0,
        y: 0,
        yMax: 0,
        width: 0,
        height: 0
      };
      HShapeElement.prototype.getBoundsOfCurve = function(p0, p1, p22, p32) {
        var bounds = [[p0[0], p32[0]], [p0[1], p32[1]]];
        for (var a4, b3, c3, t2, b2ac, t1, t22, i3 = 0; i3 < 2; ++i3) {
          b3 = 6 * p0[i3] - 12 * p1[i3] + 6 * p22[i3];
          a4 = -3 * p0[i3] + 9 * p1[i3] - 9 * p22[i3] + 3 * p32[i3];
          c3 = 3 * p1[i3] - 3 * p0[i3];
          b3 |= 0;
          a4 |= 0;
          c3 |= 0;
          if (a4 === 0 && b3 === 0) {
          } else if (a4 === 0) {
            t2 = -c3 / b3;
            if (t2 > 0 && t2 < 1) {
              bounds[i3].push(this.calculateF(t2, p0, p1, p22, p32, i3));
            }
          } else {
            b2ac = b3 * b3 - 4 * c3 * a4;
            if (b2ac >= 0) {
              t1 = (-b3 + bmSqrt(b2ac)) / (2 * a4);
              if (t1 > 0 && t1 < 1)
                bounds[i3].push(this.calculateF(t1, p0, p1, p22, p32, i3));
              t22 = (-b3 - bmSqrt(b2ac)) / (2 * a4);
              if (t22 > 0 && t22 < 1)
                bounds[i3].push(this.calculateF(t22, p0, p1, p22, p32, i3));
            }
          }
        }
        this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);
        this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);
        this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);
        this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);
      };
      HShapeElement.prototype.calculateF = function(t2, p0, p1, p22, p32, i3) {
        return bmPow(1 - t2, 3) * p0[i3] + 3 * bmPow(1 - t2, 2) * t2 * p1[i3] + 3 * (1 - t2) * bmPow(t2, 2) * p22[i3] + bmPow(t2, 3) * p32[i3];
      };
      HShapeElement.prototype.calculateBoundingBox = function(itemsData, boundingBox) {
        var i3;
        var len = itemsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (itemsData[i3] && itemsData[i3].sh) {
            this.calculateShapeBoundingBox(itemsData[i3], boundingBox);
          } else if (itemsData[i3] && itemsData[i3].it) {
            this.calculateBoundingBox(itemsData[i3].it, boundingBox);
          } else if (itemsData[i3] && itemsData[i3].style && itemsData[i3].w) {
            this.expandStrokeBoundingBox(itemsData[i3].w, boundingBox);
          }
        }
      };
      HShapeElement.prototype.expandStrokeBoundingBox = function(widthProperty, boundingBox) {
        var width2 = 0;
        if (widthProperty.keyframes) {
          for (var i3 = 0; i3 < widthProperty.keyframes.length; i3 += 1) {
            var kfw = widthProperty.keyframes[i3].s;
            if (kfw > width2) {
              width2 = kfw;
            }
          }
          width2 *= widthProperty.mult;
        } else {
          width2 = widthProperty.v * widthProperty.mult;
        }
        boundingBox.x -= width2;
        boundingBox.xMax += width2;
        boundingBox.y -= width2;
        boundingBox.yMax += width2;
      };
      HShapeElement.prototype.currentBoxContains = function(box) {
        return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;
      };
      HShapeElement.prototype.renderInnerContent = function() {
        this._renderShapeFrame();
        if (!this.hidden && (this._isFirstFrame || this._mdf)) {
          var tempBoundingBox = this.tempBoundingBox;
          var max = 999999;
          tempBoundingBox.x = max;
          tempBoundingBox.xMax = -max;
          tempBoundingBox.y = max;
          tempBoundingBox.yMax = -max;
          this.calculateBoundingBox(this.itemsData, tempBoundingBox);
          tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;
          tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y;
          if (this.currentBoxContains(tempBoundingBox)) {
            return;
          }
          var changed = false;
          if (this.currentBBox.w !== tempBoundingBox.width) {
            this.currentBBox.w = tempBoundingBox.width;
            this.shapeCont.setAttribute("width", tempBoundingBox.width);
            changed = true;
          }
          if (this.currentBBox.h !== tempBoundingBox.height) {
            this.currentBBox.h = tempBoundingBox.height;
            this.shapeCont.setAttribute("height", tempBoundingBox.height);
            changed = true;
          }
          if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {
            this.currentBBox.w = tempBoundingBox.width;
            this.currentBBox.h = tempBoundingBox.height;
            this.currentBBox.x = tempBoundingBox.x;
            this.currentBBox.y = tempBoundingBox.y;
            this.shapeCont.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h);
            var shapeStyle = this.shapeCont.style;
            var shapeTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)";
            shapeStyle.transform = shapeTransform;
            shapeStyle.webkitTransform = shapeTransform;
          }
        }
      };
      function HTextElement(data2, globalData2, comp2) {
        this.textSpans = [];
        this.textPaths = [];
        this.currentBBox = {
          x: 999999,
          y: -999999,
          h: 0,
          w: 0
        };
        this.renderType = "svg";
        this.isMasked = false;
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);
      HTextElement.prototype.createContent = function() {
        this.isMasked = this.checkMasks();
        if (this.isMasked) {
          this.renderType = "svg";
          this.compW = this.comp.data.w;
          this.compH = this.comp.data.h;
          this.svgElement.setAttribute("width", this.compW);
          this.svgElement.setAttribute("height", this.compH);
          var g5 = createNS("g");
          this.maskedElement.appendChild(g5);
          this.innerElem = g5;
        } else {
          this.renderType = "html";
          this.innerElem = this.layerElement;
        }
        this.checkParenting();
      };
      HTextElement.prototype.buildNewText = function() {
        var documentData = this.textProperty.currentData;
        this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);
        var innerElemStyle = this.innerElem.style;
        var textColor = documentData.fc ? this.buildColor(documentData.fc) : "rgba(0,0,0,0)";
        innerElemStyle.fill = textColor;
        innerElemStyle.color = textColor;
        if (documentData.sc) {
          innerElemStyle.stroke = this.buildColor(documentData.sc);
          innerElemStyle.strokeWidth = documentData.sw + "px";
        }
        var fontData = this.globalData.fontManager.getFontByName(documentData.f);
        if (!this.globalData.fontManager.chars) {
          innerElemStyle.fontSize = documentData.finalSize + "px";
          innerElemStyle.lineHeight = documentData.finalSize + "px";
          if (fontData.fClass) {
            this.innerElem.className = fontData.fClass;
          } else {
            innerElemStyle.fontFamily = fontData.fFamily;
            var fWeight = documentData.fWeight;
            var fStyle = documentData.fStyle;
            innerElemStyle.fontStyle = fStyle;
            innerElemStyle.fontWeight = fWeight;
          }
        }
        var i3;
        var len;
        var letters = documentData.l;
        len = letters.length;
        var tSpan;
        var tParent;
        var tCont;
        var matrixHelper = this.mHelper;
        var shapes;
        var shapeStr = "";
        var cnt = 0;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.globalData.fontManager.chars) {
            if (!this.textPaths[cnt]) {
              tSpan = createNS("path");
              tSpan.setAttribute("stroke-linecap", lineCapEnum[1]);
              tSpan.setAttribute("stroke-linejoin", lineJoinEnum[2]);
              tSpan.setAttribute("stroke-miterlimit", "4");
            } else {
              tSpan = this.textPaths[cnt];
            }
            if (!this.isMasked) {
              if (this.textSpans[cnt]) {
                tParent = this.textSpans[cnt];
                tCont = tParent.children[0];
              } else {
                tParent = createTag("div");
                tParent.style.lineHeight = 0;
                tCont = createNS("svg");
                tCont.appendChild(tSpan);
                styleDiv(tParent);
              }
            }
          } else if (!this.isMasked) {
            if (this.textSpans[cnt]) {
              tParent = this.textSpans[cnt];
              tSpan = this.textPaths[cnt];
            } else {
              tParent = createTag("span");
              styleDiv(tParent);
              tSpan = createTag("span");
              styleDiv(tSpan);
              tParent.appendChild(tSpan);
            }
          } else {
            tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS("text");
          }
          if (this.globalData.fontManager.chars) {
            var charData = this.globalData.fontManager.getCharData(documentData.finalText[i3], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);
            var shapeData;
            if (charData) {
              shapeData = charData.data;
            } else {
              shapeData = null;
            }
            matrixHelper.reset();
            if (shapeData && shapeData.shapes && shapeData.shapes.length) {
              shapes = shapeData.shapes[0].it;
              matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);
              shapeStr = this.createPathShape(matrixHelper, shapes);
              tSpan.setAttribute("d", shapeStr);
            }
            if (!this.isMasked) {
              this.innerElem.appendChild(tParent);
              if (shapeData && shapeData.shapes) {
                document.body.appendChild(tCont);
                var boundingBox = tCont.getBBox();
                tCont.setAttribute("width", boundingBox.width + 2);
                tCont.setAttribute("height", boundingBox.height + 2);
                tCont.setAttribute("viewBox", boundingBox.x - 1 + " " + (boundingBox.y - 1) + " " + (boundingBox.width + 2) + " " + (boundingBox.height + 2));
                var tContStyle = tCont.style;
                var tContTranslation = "translate(" + (boundingBox.x - 1) + "px," + (boundingBox.y - 1) + "px)";
                tContStyle.transform = tContTranslation;
                tContStyle.webkitTransform = tContTranslation;
                letters[i3].yOffset = boundingBox.y - 1;
              } else {
                tCont.setAttribute("width", 1);
                tCont.setAttribute("height", 1);
              }
              tParent.appendChild(tCont);
            } else {
              this.innerElem.appendChild(tSpan);
            }
          } else {
            tSpan.textContent = letters[i3].val;
            tSpan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
            if (!this.isMasked) {
              this.innerElem.appendChild(tParent);
              var tStyle = tSpan.style;
              var tSpanTranslation = "translate3d(0," + -documentData.finalSize / 1.2 + "px,0)";
              tStyle.transform = tSpanTranslation;
              tStyle.webkitTransform = tSpanTranslation;
            } else {
              this.innerElem.appendChild(tSpan);
            }
          }
          if (!this.isMasked) {
            this.textSpans[cnt] = tParent;
          } else {
            this.textSpans[cnt] = tSpan;
          }
          this.textSpans[cnt].style.display = "block";
          this.textPaths[cnt] = tSpan;
          cnt += 1;
        }
        while (cnt < this.textSpans.length) {
          this.textSpans[cnt].style.display = "none";
          cnt += 1;
        }
      };
      HTextElement.prototype.renderInnerContent = function() {
        this.validateText();
        var svgStyle;
        if (this.data.singleShape) {
          if (!this._isFirstFrame && !this.lettersChangedFlag) {
            return;
          }
          if (this.isMasked && this.finalTransform._matMdf) {
            this.svgElement.setAttribute("viewBox", -this.finalTransform.mProp.p.v[0] + " " + -this.finalTransform.mProp.p.v[1] + " " + this.compW + " " + this.compH);
            svgStyle = this.svgElement.style;
            var translation = "translate(" + -this.finalTransform.mProp.p.v[0] + "px," + -this.finalTransform.mProp.p.v[1] + "px)";
            svgStyle.transform = translation;
            svgStyle.webkitTransform = translation;
          }
        }
        this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
        if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {
          return;
        }
        var i3;
        var len;
        var count = 0;
        var renderedLetters = this.textAnimator.renderedLetters;
        var letters = this.textProperty.currentData.l;
        len = letters.length;
        var renderedLetter;
        var textSpan;
        var textPath;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (letters[i3].n) {
            count += 1;
          } else {
            textSpan = this.textSpans[i3];
            textPath = this.textPaths[i3];
            renderedLetter = renderedLetters[count];
            count += 1;
            if (renderedLetter._mdf.m) {
              if (!this.isMasked) {
                textSpan.style.webkitTransform = renderedLetter.m;
                textSpan.style.transform = renderedLetter.m;
              } else {
                textSpan.setAttribute("transform", renderedLetter.m);
              }
            }
            textSpan.style.opacity = renderedLetter.o;
            if (renderedLetter.sw && renderedLetter._mdf.sw) {
              textPath.setAttribute("stroke-width", renderedLetter.sw);
            }
            if (renderedLetter.sc && renderedLetter._mdf.sc) {
              textPath.setAttribute("stroke", renderedLetter.sc);
            }
            if (renderedLetter.fc && renderedLetter._mdf.fc) {
              textPath.setAttribute("fill", renderedLetter.fc);
              textPath.style.color = renderedLetter.fc;
            }
          }
        }
        if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {
          var boundingBox = this.innerElem.getBBox();
          if (this.currentBBox.w !== boundingBox.width) {
            this.currentBBox.w = boundingBox.width;
            this.svgElement.setAttribute("width", boundingBox.width);
          }
          if (this.currentBBox.h !== boundingBox.height) {
            this.currentBBox.h = boundingBox.height;
            this.svgElement.setAttribute("height", boundingBox.height);
          }
          var margin = 1;
          if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {
            this.currentBBox.w = boundingBox.width + margin * 2;
            this.currentBBox.h = boundingBox.height + margin * 2;
            this.currentBBox.x = boundingBox.x - margin;
            this.currentBBox.y = boundingBox.y - margin;
            this.svgElement.setAttribute("viewBox", this.currentBBox.x + " " + this.currentBBox.y + " " + this.currentBBox.w + " " + this.currentBBox.h);
            svgStyle = this.svgElement.style;
            var svgTransform = "translate(" + this.currentBBox.x + "px," + this.currentBBox.y + "px)";
            svgStyle.transform = svgTransform;
            svgStyle.webkitTransform = svgTransform;
          }
        }
      };
      function HCameraElement(data2, globalData2, comp2) {
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.initHierarchy();
        var getProp = PropertyFactory.getProp;
        this.pe = getProp(this, data2.pe, 0, 0, this);
        if (data2.ks.p.s) {
          this.px = getProp(this, data2.ks.p.x, 1, 0, this);
          this.py = getProp(this, data2.ks.p.y, 1, 0, this);
          this.pz = getProp(this, data2.ks.p.z, 1, 0, this);
        } else {
          this.p = getProp(this, data2.ks.p, 1, 0, this);
        }
        if (data2.ks.a) {
          this.a = getProp(this, data2.ks.a, 1, 0, this);
        }
        if (data2.ks.or.k.length && data2.ks.or.k[0].to) {
          var i3;
          var len = data2.ks.or.k.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            data2.ks.or.k[i3].to = null;
            data2.ks.or.k[i3].ti = null;
          }
        }
        this.or = getProp(this, data2.ks.or, 1, degToRads, this);
        this.or.sh = true;
        this.rx = getProp(this, data2.ks.rx, 0, degToRads, this);
        this.ry = getProp(this, data2.ks.ry, 0, degToRads, this);
        this.rz = getProp(this, data2.ks.rz, 0, degToRads, this);
        this.mat = new Matrix();
        this._prevMat = new Matrix();
        this._isFirstFrame = true;
        this.finalTransform = {
          mProp: this
        };
      }
      extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);
      HCameraElement.prototype.setup = function() {
        var i3;
        var len = this.comp.threeDElements.length;
        var comp2;
        var perspectiveStyle;
        var containerStyle;
        for (i3 = 0; i3 < len; i3 += 1) {
          comp2 = this.comp.threeDElements[i3];
          if (comp2.type === "3d") {
            perspectiveStyle = comp2.perspectiveElem.style;
            containerStyle = comp2.container.style;
            var perspective = this.pe.v + "px";
            var origin = "0px 0px 0px";
            var matrix = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";
            perspectiveStyle.perspective = perspective;
            perspectiveStyle.webkitPerspective = perspective;
            containerStyle.transformOrigin = origin;
            containerStyle.mozTransformOrigin = origin;
            containerStyle.webkitTransformOrigin = origin;
            perspectiveStyle.transform = matrix;
            perspectiveStyle.webkitTransform = matrix;
          }
        }
      };
      HCameraElement.prototype.createElements = function() {
      };
      HCameraElement.prototype.hide = function() {
      };
      HCameraElement.prototype.renderFrame = function() {
        var _mdf = this._isFirstFrame;
        var i3;
        var len;
        if (this.hierarchy) {
          len = this.hierarchy.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            _mdf = this.hierarchy[i3].finalTransform.mProp._mdf || _mdf;
          }
        }
        if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {
          this.mat.reset();
          if (this.hierarchy) {
            len = this.hierarchy.length - 1;
            for (i3 = len; i3 >= 0; i3 -= 1) {
              var mTransf = this.hierarchy[i3].finalTransform.mProp;
              this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);
              this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);
              this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);
              this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);
              this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);
            }
          }
          if (this.p) {
            this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);
          } else {
            this.mat.translate(-this.px.v, -this.py.v, this.pz.v);
          }
          if (this.a) {
            var diffVector;
            if (this.p) {
              diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];
            } else {
              diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];
            }
            var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2));
            var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];
            var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);
            var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);
            var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);
            this.mat.rotateY(mRotationY).rotateX(-mRotationX);
          }
          this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);
          this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);
          this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);
          this.mat.translate(0, 0, this.pe.v);
          var hasMatrixChanged = !this._prevMat.equals(this.mat);
          if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {
            len = this.comp.threeDElements.length;
            var comp2;
            var perspectiveStyle;
            var containerStyle;
            for (i3 = 0; i3 < len; i3 += 1) {
              comp2 = this.comp.threeDElements[i3];
              if (comp2.type === "3d") {
                if (hasMatrixChanged) {
                  var matValue = this.mat.toCSS();
                  containerStyle = comp2.container.style;
                  containerStyle.transform = matValue;
                  containerStyle.webkitTransform = matValue;
                }
                if (this.pe._mdf) {
                  perspectiveStyle = comp2.perspectiveElem.style;
                  perspectiveStyle.perspective = this.pe.v + "px";
                  perspectiveStyle.webkitPerspective = this.pe.v + "px";
                }
              }
            }
            this.mat.clone(this._prevMat);
          }
        }
        this._isFirstFrame = false;
      };
      HCameraElement.prototype.prepareFrame = function(num) {
        this.prepareProperties(num, true);
      };
      HCameraElement.prototype.destroy = function() {
      };
      HCameraElement.prototype.getBaseElement = function() {
        return null;
      };
      function HImageElement(data2, globalData2, comp2) {
        this.assetData = globalData2.getAssetData(data2.refId);
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);
      HImageElement.prototype.createContent = function() {
        var assetPath = this.globalData.getAssetsPath(this.assetData);
        var img = new Image();
        if (this.data.hasMask) {
          this.imageElem = createNS("image");
          this.imageElem.setAttribute("width", this.assetData.w + "px");
          this.imageElem.setAttribute("height", this.assetData.h + "px");
          this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", assetPath);
          this.layerElement.appendChild(this.imageElem);
          this.baseElement.setAttribute("width", this.assetData.w);
          this.baseElement.setAttribute("height", this.assetData.h);
        } else {
          this.layerElement.appendChild(img);
        }
        img.crossOrigin = "anonymous";
        img.src = assetPath;
        if (this.data.ln) {
          this.baseElement.setAttribute("id", this.data.ln);
        }
      };
      function HybridRendererBase(animationItem, config) {
        this.animationItem = animationItem;
        this.layers = null;
        this.renderedFrame = -1;
        this.renderConfig = {
          className: config && config.className || "",
          imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || "xMidYMid slice",
          hideOnTransparent: !(config && config.hideOnTransparent === false),
          filterSize: {
            width: config && config.filterSize && config.filterSize.width || "400%",
            height: config && config.filterSize && config.filterSize.height || "400%",
            x: config && config.filterSize && config.filterSize.x || "-100%",
            y: config && config.filterSize && config.filterSize.y || "-100%"
          }
        };
        this.globalData = {
          _mdf: false,
          frameNum: -1,
          renderConfig: this.renderConfig
        };
        this.pendingElements = [];
        this.elements = [];
        this.threeDElements = [];
        this.destroyed = false;
        this.camera = null;
        this.supports3d = true;
        this.rendererType = "html";
      }
      extendPrototype([BaseRenderer], HybridRendererBase);
      HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;
      HybridRendererBase.prototype.checkPendingElements = function() {
        while (this.pendingElements.length) {
          var element = this.pendingElements.pop();
          element.checkParenting();
        }
      };
      HybridRendererBase.prototype.appendElementInPos = function(element, pos) {
        var newDOMElement = element.getBaseElement();
        if (!newDOMElement) {
          return;
        }
        var layer = this.layers[pos];
        if (!layer.ddd || !this.supports3d) {
          if (this.threeDElements) {
            this.addTo3dContainer(newDOMElement, pos);
          } else {
            var i3 = 0;
            var nextDOMElement;
            var nextLayer;
            var tmpDOMElement;
            while (i3 < pos) {
              if (this.elements[i3] && this.elements[i3] !== true && this.elements[i3].getBaseElement) {
                nextLayer = this.elements[i3];
                tmpDOMElement = this.layers[i3].ddd ? this.getThreeDContainerByPos(i3) : nextLayer.getBaseElement();
                nextDOMElement = tmpDOMElement || nextDOMElement;
              }
              i3 += 1;
            }
            if (nextDOMElement) {
              if (!layer.ddd || !this.supports3d) {
                this.layerElement.insertBefore(newDOMElement, nextDOMElement);
              }
            } else if (!layer.ddd || !this.supports3d) {
              this.layerElement.appendChild(newDOMElement);
            }
          }
        } else {
          this.addTo3dContainer(newDOMElement, pos);
        }
      };
      HybridRendererBase.prototype.createShape = function(data2) {
        if (!this.supports3d) {
          return new SVGShapeElement(data2, this.globalData, this);
        }
        return new HShapeElement(data2, this.globalData, this);
      };
      HybridRendererBase.prototype.createText = function(data2) {
        if (!this.supports3d) {
          return new SVGTextLottieElement(data2, this.globalData, this);
        }
        return new HTextElement(data2, this.globalData, this);
      };
      HybridRendererBase.prototype.createCamera = function(data2) {
        this.camera = new HCameraElement(data2, this.globalData, this);
        return this.camera;
      };
      HybridRendererBase.prototype.createImage = function(data2) {
        if (!this.supports3d) {
          return new IImageElement(data2, this.globalData, this);
        }
        return new HImageElement(data2, this.globalData, this);
      };
      HybridRendererBase.prototype.createSolid = function(data2) {
        if (!this.supports3d) {
          return new ISolidElement(data2, this.globalData, this);
        }
        return new HSolidElement(data2, this.globalData, this);
      };
      HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;
      HybridRendererBase.prototype.getThreeDContainerByPos = function(pos) {
        var i3 = 0;
        var len = this.threeDElements.length;
        while (i3 < len) {
          if (this.threeDElements[i3].startPos <= pos && this.threeDElements[i3].endPos >= pos) {
            return this.threeDElements[i3].perspectiveElem;
          }
          i3 += 1;
        }
        return null;
      };
      HybridRendererBase.prototype.createThreeDContainer = function(pos, type) {
        var perspectiveElem = createTag("div");
        var style;
        var containerStyle;
        styleDiv(perspectiveElem);
        var container = createTag("div");
        styleDiv(container);
        if (type === "3d") {
          style = perspectiveElem.style;
          style.width = this.globalData.compSize.w + "px";
          style.height = this.globalData.compSize.h + "px";
          var center = "50% 50%";
          style.webkitTransformOrigin = center;
          style.mozTransformOrigin = center;
          style.transformOrigin = center;
          containerStyle = container.style;
          var matrix = "matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";
          containerStyle.transform = matrix;
          containerStyle.webkitTransform = matrix;
        }
        perspectiveElem.appendChild(container);
        var threeDContainerData = {
          container,
          perspectiveElem,
          startPos: pos,
          endPos: pos,
          type
        };
        this.threeDElements.push(threeDContainerData);
        return threeDContainerData;
      };
      HybridRendererBase.prototype.build3dContainers = function() {
        var i3;
        var len = this.layers.length;
        var lastThreeDContainerData;
        var currentContainer = "";
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.layers[i3].ddd && this.layers[i3].ty !== 3) {
            if (currentContainer !== "3d") {
              currentContainer = "3d";
              lastThreeDContainerData = this.createThreeDContainer(i3, "3d");
            }
            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i3);
          } else {
            if (currentContainer !== "2d") {
              currentContainer = "2d";
              lastThreeDContainerData = this.createThreeDContainer(i3, "2d");
            }
            lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i3);
          }
        }
        len = this.threeDElements.length;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          this.resizerElem.appendChild(this.threeDElements[i3].perspectiveElem);
        }
      };
      HybridRendererBase.prototype.addTo3dContainer = function(elem2, pos) {
        var i3 = 0;
        var len = this.threeDElements.length;
        while (i3 < len) {
          if (pos <= this.threeDElements[i3].endPos) {
            var j4 = this.threeDElements[i3].startPos;
            var nextElement;
            while (j4 < pos) {
              if (this.elements[j4] && this.elements[j4].getBaseElement) {
                nextElement = this.elements[j4].getBaseElement();
              }
              j4 += 1;
            }
            if (nextElement) {
              this.threeDElements[i3].container.insertBefore(elem2, nextElement);
            } else {
              this.threeDElements[i3].container.appendChild(elem2);
            }
            break;
          }
          i3 += 1;
        }
      };
      HybridRendererBase.prototype.configAnimation = function(animData) {
        var resizerElem = createTag("div");
        var wrapper = this.animationItem.wrapper;
        var style = resizerElem.style;
        style.width = animData.w + "px";
        style.height = animData.h + "px";
        this.resizerElem = resizerElem;
        styleDiv(resizerElem);
        style.transformStyle = "flat";
        style.mozTransformStyle = "flat";
        style.webkitTransformStyle = "flat";
        if (this.renderConfig.className) {
          resizerElem.setAttribute("class", this.renderConfig.className);
        }
        wrapper.appendChild(resizerElem);
        style.overflow = "hidden";
        var svg = createNS("svg");
        svg.setAttribute("width", "1");
        svg.setAttribute("height", "1");
        styleDiv(svg);
        this.resizerElem.appendChild(svg);
        var defs = createNS("defs");
        svg.appendChild(defs);
        this.data = animData;
        this.setupGlobalData(animData, svg);
        this.globalData.defs = defs;
        this.layers = animData.layers;
        this.layerElement = this.resizerElem;
        this.build3dContainers();
        this.updateContainerSize();
      };
      HybridRendererBase.prototype.destroy = function() {
        if (this.animationItem.wrapper) {
          this.animationItem.wrapper.innerText = "";
        }
        this.animationItem.container = null;
        this.globalData.defs = null;
        var i3;
        var len = this.layers ? this.layers.length : 0;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3] && this.elements[i3].destroy) {
            this.elements[i3].destroy();
          }
        }
        this.elements.length = 0;
        this.destroyed = true;
        this.animationItem = null;
      };
      HybridRendererBase.prototype.updateContainerSize = function() {
        var elementWidth = this.animationItem.wrapper.offsetWidth;
        var elementHeight = this.animationItem.wrapper.offsetHeight;
        var elementRel = elementWidth / elementHeight;
        var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;
        var sx;
        var sy;
        var tx;
        var ty;
        if (animationRel > elementRel) {
          sx = elementWidth / this.globalData.compSize.w;
          sy = elementWidth / this.globalData.compSize.w;
          tx = 0;
          ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;
        } else {
          sx = elementHeight / this.globalData.compSize.h;
          sy = elementHeight / this.globalData.compSize.h;
          tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;
          ty = 0;
        }
        var style = this.resizerElem.style;
        style.webkitTransform = "matrix3d(" + sx + ",0,0,0,0," + sy + ",0,0,0,0,1,0," + tx + "," + ty + ",0,1)";
        style.transform = style.webkitTransform;
      };
      HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;
      HybridRendererBase.prototype.hide = function() {
        this.resizerElem.style.display = "none";
      };
      HybridRendererBase.prototype.show = function() {
        this.resizerElem.style.display = "block";
      };
      HybridRendererBase.prototype.initItems = function() {
        this.buildAllItems();
        if (this.camera) {
          this.camera.setup();
        } else {
          var cWidth = this.globalData.compSize.w;
          var cHeight = this.globalData.compSize.h;
          var i3;
          var len = this.threeDElements.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            var style = this.threeDElements[i3].perspectiveElem.style;
            style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + "px";
            style.perspective = style.webkitPerspective;
          }
        }
      };
      HybridRendererBase.prototype.searchExtraCompositions = function(assets) {
        var i3;
        var len = assets.length;
        var floatingContainer = createTag("div");
        for (i3 = 0; i3 < len; i3 += 1) {
          if (assets[i3].xt) {
            var comp2 = this.createComp(assets[i3], floatingContainer, this.globalData.comp, null);
            comp2.initExpressions();
            this.globalData.projectInterface.registerComposition(comp2);
          }
        }
      };
      function HCompElement(data2, globalData2, comp2) {
        this.layers = data2.layers;
        this.supports3d = !data2.hasMask;
        this.completeLayers = false;
        this.pendingElements = [];
        this.elements = this.layers ? createSizedArray(this.layers.length) : [];
        this.initElement(data2, globalData2, comp2);
        this.tm = data2.tm ? PropertyFactory.getProp(this, data2.tm, 0, globalData2.frameRate, this) : {
          _placeholder: true
        };
      }
      extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);
      HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;
      HCompElement.prototype.createContainerElements = function() {
        this._createBaseContainerElements();
        if (this.data.hasMask) {
          this.svgElement.setAttribute("width", this.data.w);
          this.svgElement.setAttribute("height", this.data.h);
          this.transformedElement = this.baseElement;
        } else {
          this.transformedElement = this.layerElement;
        }
      };
      HCompElement.prototype.addTo3dContainer = function(elem2, pos) {
        var j4 = 0;
        var nextElement;
        while (j4 < pos) {
          if (this.elements[j4] && this.elements[j4].getBaseElement) {
            nextElement = this.elements[j4].getBaseElement();
          }
          j4 += 1;
        }
        if (nextElement) {
          this.layerElement.insertBefore(elem2, nextElement);
        } else {
          this.layerElement.appendChild(elem2);
        }
      };
      HCompElement.prototype.createComp = function(data2) {
        if (!this.supports3d) {
          return new SVGCompElement(data2, this.globalData, this);
        }
        return new HCompElement(data2, this.globalData, this);
      };
      function HybridRenderer(animationItem, config) {
        this.animationItem = animationItem;
        this.layers = null;
        this.renderedFrame = -1;
        this.renderConfig = {
          className: config && config.className || "",
          imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || "xMidYMid slice",
          hideOnTransparent: !(config && config.hideOnTransparent === false),
          filterSize: {
            width: config && config.filterSize && config.filterSize.width || "400%",
            height: config && config.filterSize && config.filterSize.height || "400%",
            x: config && config.filterSize && config.filterSize.x || "-100%",
            y: config && config.filterSize && config.filterSize.y || "-100%"
          },
          runExpressions: !config || config.runExpressions === void 0 || config.runExpressions
        };
        this.globalData = {
          _mdf: false,
          frameNum: -1,
          renderConfig: this.renderConfig
        };
        this.pendingElements = [];
        this.elements = [];
        this.threeDElements = [];
        this.destroyed = false;
        this.camera = null;
        this.supports3d = true;
        this.rendererType = "html";
      }
      extendPrototype([HybridRendererBase], HybridRenderer);
      HybridRenderer.prototype.createComp = function(data2) {
        if (!this.supports3d) {
          return new SVGCompElement(data2, this.globalData, this);
        }
        return new HCompElement(data2, this.globalData, this);
      };
      var CompExpressionInterface = function() {
        return function(comp2) {
          function _thisLayerFunction(name3) {
            var i3 = 0;
            var len = comp2.layers.length;
            while (i3 < len) {
              if (comp2.layers[i3].nm === name3 || comp2.layers[i3].ind === name3) {
                return comp2.elements[i3].layerInterface;
              }
              i3 += 1;
            }
            return null;
          }
          Object.defineProperty(_thisLayerFunction, "_name", {
            value: comp2.data.nm
          });
          _thisLayerFunction.layer = _thisLayerFunction;
          _thisLayerFunction.pixelAspect = 1;
          _thisLayerFunction.height = comp2.data.h || comp2.globalData.compSize.h;
          _thisLayerFunction.width = comp2.data.w || comp2.globalData.compSize.w;
          _thisLayerFunction.pixelAspect = 1;
          _thisLayerFunction.frameDuration = 1 / comp2.globalData.frameRate;
          _thisLayerFunction.displayStartTime = 0;
          _thisLayerFunction.numLayers = comp2.layers.length;
          return _thisLayerFunction;
        };
      }();
      function _typeof$2(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$2 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$2 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$2(obj);
      }
      function seedRandom(pool, math) {
        var global2 = this, width2 = 256, chunks = 6, digits = 52, rngname = "random", startdenom = math.pow(width2, chunks), significance = math.pow(2, digits), overflow = significance * 2, mask2 = width2 - 1, nodecrypto;
        function seedrandom(seed, options, callback) {
          var key2 = [];
          options = options === true ? {
            entropy: true
          } : options || {};
          var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key2);
          var arc4 = new ARC4(key2);
          var prng = function prng2() {
            var n4 = arc4.g(chunks), d3 = startdenom, x5 = 0;
            while (n4 < significance) {
              n4 = (n4 + x5) * width2;
              d3 *= width2;
              x5 = arc4.g(1);
            }
            while (n4 >= overflow) {
              n4 /= 2;
              d3 /= 2;
              x5 >>>= 1;
            }
            return (n4 + x5) / d3;
          };
          prng.int32 = function() {
            return arc4.g(4) | 0;
          };
          prng.quick = function() {
            return arc4.g(4) / 4294967296;
          };
          prng["double"] = prng;
          mixkey(tostring(arc4.S), pool);
          return (options.pass || callback || function(prng2, seed2, is_math_call, state) {
            if (state) {
              if (state.S) {
                copy(state, arc4);
              }
              prng2.state = function() {
                return copy(arc4, {});
              };
            }
            if (is_math_call) {
              math[rngname] = prng2;
              return seed2;
            } else
              return prng2;
          })(prng, shortseed, "global" in options ? options.global : this == math, options.state);
        }
        math["seed" + rngname] = seedrandom;
        function ARC4(key2) {
          var t2, keylen = key2.length, me2 = this, i3 = 0, j4 = me2.i = me2.j = 0, s2 = me2.S = [];
          if (!keylen) {
            key2 = [keylen++];
          }
          while (i3 < width2) {
            s2[i3] = i3++;
          }
          for (i3 = 0; i3 < width2; i3++) {
            s2[i3] = s2[j4 = mask2 & j4 + key2[i3 % keylen] + (t2 = s2[i3])];
            s2[j4] = t2;
          }
          me2.g = function(count) {
            var t3, r3 = 0, i4 = me2.i, j5 = me2.j, s3 = me2.S;
            while (count--) {
              t3 = s3[i4 = mask2 & i4 + 1];
              r3 = r3 * width2 + s3[mask2 & (s3[i4] = s3[j5 = mask2 & j5 + t3]) + (s3[j5] = t3)];
            }
            me2.i = i4;
            me2.j = j5;
            return r3;
          };
        }
        function copy(f3, t2) {
          t2.i = f3.i;
          t2.j = f3.j;
          t2.S = f3.S.slice();
          return t2;
        }
        function flatten(obj, depth) {
          var result = [], typ = _typeof$2(obj), prop;
          if (depth && typ == "object") {
            for (prop in obj) {
              try {
                result.push(flatten(obj[prop], depth - 1));
              } catch (e2) {
              }
            }
          }
          return result.length ? result : typ == "string" ? obj : obj + "\0";
        }
        function mixkey(seed, key2) {
          var stringseed = seed + "", smear, j4 = 0;
          while (j4 < stringseed.length) {
            key2[mask2 & j4] = mask2 & (smear ^= key2[mask2 & j4] * 19) + stringseed.charCodeAt(j4++);
          }
          return tostring(key2);
        }
        function autoseed() {
          try {
            if (nodecrypto) {
              return tostring(nodecrypto.randomBytes(width2));
            }
            var out = new Uint8Array(width2);
            (global2.crypto || global2.msCrypto).getRandomValues(out);
            return tostring(out);
          } catch (e2) {
            var browser = global2.navigator, plugins = browser && browser.plugins;
            return [+/* @__PURE__ */ new Date(), global2, plugins, global2.screen, tostring(pool)];
          }
        }
        function tostring(a4) {
          return String.fromCharCode.apply(0, a4);
        }
        mixkey(math.random(), pool);
      }
      ;
      function initialize$2(BMMath2) {
        seedRandom([], BMMath2);
      }
      var propTypes = {
        SHAPE: "shape"
      };
      function _typeof$1(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof$1 = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof$1 = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof$1(obj);
      }
      var ExpressionManager = function() {
        "use strict";
        var ob = {};
        var Math = BMMath;
        var window = null;
        var document = null;
        var XMLHttpRequest = null;
        var fetch = null;
        var frames = null;
        var _lottieGlobal = {};
        initialize$2(BMMath);
        function resetFrame() {
          _lottieGlobal = {};
        }
        function $bm_isInstanceOfArray(arr) {
          return arr.constructor === Array || arr.constructor === Float32Array;
        }
        function isNumerable(tOfV, v2) {
          return tOfV === "number" || v2 instanceof Number || tOfV === "boolean" || tOfV === "string";
        }
        function $bm_neg(a4) {
          var tOfA = _typeof$1(a4);
          if (tOfA === "number" || a4 instanceof Number || tOfA === "boolean") {
            return -a4;
          }
          if ($bm_isInstanceOfArray(a4)) {
            var i3;
            var lenA = a4.length;
            var retArr = [];
            for (i3 = 0; i3 < lenA; i3 += 1) {
              retArr[i3] = -a4[i3];
            }
            return retArr;
          }
          if (a4.propType) {
            return a4.v;
          }
          return -a4;
        }
        var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, "easeIn").get;
        var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, "easeOut").get;
        var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, "easeInOut").get;
        function sum(a4, b3) {
          var tOfA = _typeof$1(a4);
          var tOfB = _typeof$1(b3);
          if (isNumerable(tOfA, a4) && isNumerable(tOfB, b3) || tOfA === "string" || tOfB === "string") {
            return a4 + b3;
          }
          if ($bm_isInstanceOfArray(a4) && isNumerable(tOfB, b3)) {
            a4 = a4.slice(0);
            a4[0] += b3;
            return a4;
          }
          if (isNumerable(tOfA, a4) && $bm_isInstanceOfArray(b3)) {
            b3 = b3.slice(0);
            b3[0] = a4 + b3[0];
            return b3;
          }
          if ($bm_isInstanceOfArray(a4) && $bm_isInstanceOfArray(b3)) {
            var i3 = 0;
            var lenA = a4.length;
            var lenB = b3.length;
            var retArr = [];
            while (i3 < lenA || i3 < lenB) {
              if ((typeof a4[i3] === "number" || a4[i3] instanceof Number) && (typeof b3[i3] === "number" || b3[i3] instanceof Number)) {
                retArr[i3] = a4[i3] + b3[i3];
              } else {
                retArr[i3] = b3[i3] === void 0 ? a4[i3] : a4[i3] || b3[i3];
              }
              i3 += 1;
            }
            return retArr;
          }
          return 0;
        }
        var add = sum;
        function sub(a4, b3) {
          var tOfA = _typeof$1(a4);
          var tOfB = _typeof$1(b3);
          if (isNumerable(tOfA, a4) && isNumerable(tOfB, b3)) {
            if (tOfA === "string") {
              a4 = parseInt(a4, 10);
            }
            if (tOfB === "string") {
              b3 = parseInt(b3, 10);
            }
            return a4 - b3;
          }
          if ($bm_isInstanceOfArray(a4) && isNumerable(tOfB, b3)) {
            a4 = a4.slice(0);
            a4[0] -= b3;
            return a4;
          }
          if (isNumerable(tOfA, a4) && $bm_isInstanceOfArray(b3)) {
            b3 = b3.slice(0);
            b3[0] = a4 - b3[0];
            return b3;
          }
          if ($bm_isInstanceOfArray(a4) && $bm_isInstanceOfArray(b3)) {
            var i3 = 0;
            var lenA = a4.length;
            var lenB = b3.length;
            var retArr = [];
            while (i3 < lenA || i3 < lenB) {
              if ((typeof a4[i3] === "number" || a4[i3] instanceof Number) && (typeof b3[i3] === "number" || b3[i3] instanceof Number)) {
                retArr[i3] = a4[i3] - b3[i3];
              } else {
                retArr[i3] = b3[i3] === void 0 ? a4[i3] : a4[i3] || b3[i3];
              }
              i3 += 1;
            }
            return retArr;
          }
          return 0;
        }
        function mul(a4, b3) {
          var tOfA = _typeof$1(a4);
          var tOfB = _typeof$1(b3);
          var arr;
          if (isNumerable(tOfA, a4) && isNumerable(tOfB, b3)) {
            return a4 * b3;
          }
          var i3;
          var len;
          if ($bm_isInstanceOfArray(a4) && isNumerable(tOfB, b3)) {
            len = a4.length;
            arr = createTypedArray("float32", len);
            for (i3 = 0; i3 < len; i3 += 1) {
              arr[i3] = a4[i3] * b3;
            }
            return arr;
          }
          if (isNumerable(tOfA, a4) && $bm_isInstanceOfArray(b3)) {
            len = b3.length;
            arr = createTypedArray("float32", len);
            for (i3 = 0; i3 < len; i3 += 1) {
              arr[i3] = a4 * b3[i3];
            }
            return arr;
          }
          return 0;
        }
        function div(a4, b3) {
          var tOfA = _typeof$1(a4);
          var tOfB = _typeof$1(b3);
          var arr;
          if (isNumerable(tOfA, a4) && isNumerable(tOfB, b3)) {
            return a4 / b3;
          }
          var i3;
          var len;
          if ($bm_isInstanceOfArray(a4) && isNumerable(tOfB, b3)) {
            len = a4.length;
            arr = createTypedArray("float32", len);
            for (i3 = 0; i3 < len; i3 += 1) {
              arr[i3] = a4[i3] / b3;
            }
            return arr;
          }
          if (isNumerable(tOfA, a4) && $bm_isInstanceOfArray(b3)) {
            len = b3.length;
            arr = createTypedArray("float32", len);
            for (i3 = 0; i3 < len; i3 += 1) {
              arr[i3] = a4 / b3[i3];
            }
            return arr;
          }
          return 0;
        }
        function mod(a4, b3) {
          if (typeof a4 === "string") {
            a4 = parseInt(a4, 10);
          }
          if (typeof b3 === "string") {
            b3 = parseInt(b3, 10);
          }
          return a4 % b3;
        }
        var $bm_sum = sum;
        var $bm_sub = sub;
        var $bm_mul = mul;
        var $bm_div = div;
        var $bm_mod = mod;
        function clamp(num, min, max) {
          if (min > max) {
            var mm = max;
            max = min;
            min = mm;
          }
          return Math.min(Math.max(num, min), max);
        }
        function radiansToDegrees(val2) {
          return val2 / degToRads;
        }
        var radians_to_degrees = radiansToDegrees;
        function degreesToRadians(val2) {
          return val2 * degToRads;
        }
        var degrees_to_radians = radiansToDegrees;
        var helperLengthArray = [0, 0, 0, 0, 0, 0];
        function length(arr1, arr2) {
          if (typeof arr1 === "number" || arr1 instanceof Number) {
            arr2 = arr2 || 0;
            return Math.abs(arr1 - arr2);
          }
          if (!arr2) {
            arr2 = helperLengthArray;
          }
          var i3;
          var len = Math.min(arr1.length, arr2.length);
          var addedLength = 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            addedLength += Math.pow(arr2[i3] - arr1[i3], 2);
          }
          return Math.sqrt(addedLength);
        }
        function normalize(vec) {
          return div(vec, length(vec));
        }
        function rgbToHsl(val2) {
          var r3 = val2[0];
          var g5 = val2[1];
          var b3 = val2[2];
          var max = Math.max(r3, g5, b3);
          var min = Math.min(r3, g5, b3);
          var h6;
          var s2;
          var l4 = (max + min) / 2;
          if (max === min) {
            h6 = 0;
            s2 = 0;
          } else {
            var d3 = max - min;
            s2 = l4 > 0.5 ? d3 / (2 - max - min) : d3 / (max + min);
            switch (max) {
              case r3:
                h6 = (g5 - b3) / d3 + (g5 < b3 ? 6 : 0);
                break;
              case g5:
                h6 = (b3 - r3) / d3 + 2;
                break;
              case b3:
                h6 = (r3 - g5) / d3 + 4;
                break;
              default:
                break;
            }
            h6 /= 6;
          }
          return [h6, s2, l4, val2[3]];
        }
        function hue2rgb(p6, q4, t2) {
          if (t2 < 0)
            t2 += 1;
          if (t2 > 1)
            t2 -= 1;
          if (t2 < 1 / 6)
            return p6 + (q4 - p6) * 6 * t2;
          if (t2 < 1 / 2)
            return q4;
          if (t2 < 2 / 3)
            return p6 + (q4 - p6) * (2 / 3 - t2) * 6;
          return p6;
        }
        function hslToRgb(val2) {
          var h6 = val2[0];
          var s2 = val2[1];
          var l4 = val2[2];
          var r3;
          var g5;
          var b3;
          if (s2 === 0) {
            r3 = l4;
            b3 = l4;
            g5 = l4;
          } else {
            var q4 = l4 < 0.5 ? l4 * (1 + s2) : l4 + s2 - l4 * s2;
            var p6 = 2 * l4 - q4;
            r3 = hue2rgb(p6, q4, h6 + 1 / 3);
            g5 = hue2rgb(p6, q4, h6);
            b3 = hue2rgb(p6, q4, h6 - 1 / 3);
          }
          return [r3, g5, b3, val2[3]];
        }
        function linear(t2, tMin, tMax, value1, value2) {
          if (value1 === void 0 || value2 === void 0) {
            value1 = tMin;
            value2 = tMax;
            tMin = 0;
            tMax = 1;
          }
          if (tMax < tMin) {
            var _tMin = tMax;
            tMax = tMin;
            tMin = _tMin;
          }
          if (t2 <= tMin) {
            return value1;
          }
          if (t2 >= tMax) {
            return value2;
          }
          var perc = tMax === tMin ? 0 : (t2 - tMin) / (tMax - tMin);
          if (!value1.length) {
            return value1 + (value2 - value1) * perc;
          }
          var i3;
          var len = value1.length;
          var arr = createTypedArray("float32", len);
          for (i3 = 0; i3 < len; i3 += 1) {
            arr[i3] = value1[i3] + (value2[i3] - value1[i3]) * perc;
          }
          return arr;
        }
        function random(min, max) {
          if (max === void 0) {
            if (min === void 0) {
              min = 0;
              max = 1;
            } else {
              max = min;
              min = void 0;
            }
          }
          if (max.length) {
            var i3;
            var len = max.length;
            if (!min) {
              min = createTypedArray("float32", len);
            }
            var arr = createTypedArray("float32", len);
            var rnd = BMMath.random();
            for (i3 = 0; i3 < len; i3 += 1) {
              arr[i3] = min[i3] + rnd * (max[i3] - min[i3]);
            }
            return arr;
          }
          if (min === void 0) {
            min = 0;
          }
          var rndm = BMMath.random();
          return min + rndm * (max - min);
        }
        function createPath(points, inTangents, outTangents, closed) {
          var i3;
          var len = points.length;
          var path = shapePool.newElement();
          path.setPathData(!!closed, len);
          var arrPlaceholder = [0, 0];
          var inVertexPoint;
          var outVertexPoint;
          for (i3 = 0; i3 < len; i3 += 1) {
            inVertexPoint = inTangents && inTangents[i3] ? inTangents[i3] : arrPlaceholder;
            outVertexPoint = outTangents && outTangents[i3] ? outTangents[i3] : arrPlaceholder;
            path.setTripleAt(points[i3][0], points[i3][1], outVertexPoint[0] + points[i3][0], outVertexPoint[1] + points[i3][1], inVertexPoint[0] + points[i3][0], inVertexPoint[1] + points[i3][1], i3, true);
          }
          return path;
        }
        function initiateExpression(elem, data, property) {
          function noOp(_value) {
            return _value;
          }
          if (!elem.globalData.renderConfig.runExpressions) {
            return noOp;
          }
          var val = data.x;
          var needsVelocity = /velocity(?![\w\d])/.test(val);
          var _needsRandom = val.indexOf("random") !== -1;
          var elemType = elem.data.ty;
          var transform;
          var $bm_transform;
          var content;
          var effect;
          var thisProperty = property;
          thisProperty.valueAtTime = thisProperty.getValueAtTime;
          Object.defineProperty(thisProperty, "value", {
            get: function get2() {
              return thisProperty.v;
            }
          });
          elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;
          elem.comp.displayStartTime = 0;
          var inPoint = elem.data.ip / elem.comp.globalData.frameRate;
          var outPoint = elem.data.op / elem.comp.globalData.frameRate;
          var width = elem.data.sw ? elem.data.sw : 0;
          var height = elem.data.sh ? elem.data.sh : 0;
          var name = elem.data.nm;
          var loopIn;
          var loop_in;
          var loopOut;
          var loop_out;
          var smooth;
          var toWorld;
          var fromWorld;
          var fromComp;
          var toComp;
          var fromCompToSurface;
          var position;
          var rotation;
          var anchorPoint;
          var scale;
          var thisLayer;
          var thisComp;
          var mask;
          var valueAtTime;
          var velocityAtTime;
          var scoped_bm_rt;
          var expression_function = eval("[function _expression_function(){" + val + ";scoped_bm_rt=$bm_rt}]")[0];
          var numKeys = property.kf ? data.k.length : 0;
          var active = !this.data || this.data.hd !== true;
          var wiggle = function wiggle2(freq, amp) {
            var iWiggle;
            var j4;
            var lenWiggle = this.pv.length ? this.pv.length : 1;
            var addedAmps = createTypedArray("float32", lenWiggle);
            freq = 5;
            var iterations = Math.floor(time * freq);
            iWiggle = 0;
            j4 = 0;
            while (iWiggle < iterations) {
              for (j4 = 0; j4 < lenWiggle; j4 += 1) {
                addedAmps[j4] += -amp + amp * 2 * BMMath.random();
              }
              iWiggle += 1;
            }
            var periods = time * freq;
            var perc = periods - Math.floor(periods);
            var arr = createTypedArray("float32", lenWiggle);
            if (lenWiggle > 1) {
              for (j4 = 0; j4 < lenWiggle; j4 += 1) {
                arr[j4] = this.pv[j4] + addedAmps[j4] + (-amp + amp * 2 * BMMath.random()) * perc;
              }
              return arr;
            }
            return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;
          }.bind(this);
          if (thisProperty.loopIn) {
            loopIn = thisProperty.loopIn.bind(thisProperty);
            loop_in = loopIn;
          }
          if (thisProperty.loopOut) {
            loopOut = thisProperty.loopOut.bind(thisProperty);
            loop_out = loopOut;
          }
          if (thisProperty.smooth) {
            smooth = thisProperty.smooth.bind(thisProperty);
          }
          function loopInDuration(type, duration) {
            return loopIn(type, duration, true);
          }
          function loopOutDuration(type, duration) {
            return loopOut(type, duration, true);
          }
          if (this.getValueAtTime) {
            valueAtTime = this.getValueAtTime.bind(this);
          }
          if (this.getVelocityAtTime) {
            velocityAtTime = this.getVelocityAtTime.bind(this);
          }
          var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);
          function lookAt(elem1, elem2) {
            var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];
            var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;
            var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;
            return [yaw, pitch, 0];
          }
          function easeOut(t2, tMin, tMax, val1, val2) {
            return applyEase(easeOutBez, t2, tMin, tMax, val1, val2);
          }
          function easeIn(t2, tMin, tMax, val1, val2) {
            return applyEase(easeInBez, t2, tMin, tMax, val1, val2);
          }
          function ease(t2, tMin, tMax, val1, val2) {
            return applyEase(easeInOutBez, t2, tMin, tMax, val1, val2);
          }
          function applyEase(fn2, t2, tMin, tMax, val1, val2) {
            if (val1 === void 0) {
              val1 = tMin;
              val2 = tMax;
            } else {
              t2 = (t2 - tMin) / (tMax - tMin);
            }
            if (t2 > 1) {
              t2 = 1;
            } else if (t2 < 0) {
              t2 = 0;
            }
            var mult = fn2(t2);
            if ($bm_isInstanceOfArray(val1)) {
              var iKey;
              var lenKey = val1.length;
              var arr = createTypedArray("float32", lenKey);
              for (iKey = 0; iKey < lenKey; iKey += 1) {
                arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];
              }
              return arr;
            }
            return (val2 - val1) * mult + val1;
          }
          function nearestKey(time2) {
            var iKey;
            var lenKey = data.k.length;
            var index2;
            var keyTime;
            if (!data.k.length || typeof data.k[0] === "number") {
              index2 = 0;
              keyTime = 0;
            } else {
              index2 = -1;
              time2 *= elem.comp.globalData.frameRate;
              if (time2 < data.k[0].t) {
                index2 = 1;
                keyTime = data.k[0].t;
              } else {
                for (iKey = 0; iKey < lenKey - 1; iKey += 1) {
                  if (time2 === data.k[iKey].t) {
                    index2 = iKey + 1;
                    keyTime = data.k[iKey].t;
                    break;
                  } else if (time2 > data.k[iKey].t && time2 < data.k[iKey + 1].t) {
                    if (time2 - data.k[iKey].t > data.k[iKey + 1].t - time2) {
                      index2 = iKey + 2;
                      keyTime = data.k[iKey + 1].t;
                    } else {
                      index2 = iKey + 1;
                      keyTime = data.k[iKey].t;
                    }
                    break;
                  }
                }
                if (index2 === -1) {
                  index2 = iKey + 1;
                  keyTime = data.k[iKey].t;
                }
              }
            }
            var obKey = {};
            obKey.index = index2;
            obKey.time = keyTime / elem.comp.globalData.frameRate;
            return obKey;
          }
          function key(ind) {
            var obKey;
            var iKey;
            var lenKey;
            if (!data.k.length || typeof data.k[0] === "number") {
              throw new Error("The property has no keyframe at index " + ind);
            }
            ind -= 1;
            obKey = {
              time: data.k[ind].t / elem.comp.globalData.frameRate,
              value: []
            };
            var arr = Object.prototype.hasOwnProperty.call(data.k[ind], "s") ? data.k[ind].s : data.k[ind - 1].e;
            lenKey = arr.length;
            for (iKey = 0; iKey < lenKey; iKey += 1) {
              obKey[iKey] = arr[iKey];
              obKey.value[iKey] = arr[iKey];
            }
            return obKey;
          }
          function framesToTime(fr2, fps) {
            if (!fps) {
              fps = elem.comp.globalData.frameRate;
            }
            return fr2 / fps;
          }
          function timeToFrames(t2, fps) {
            if (!t2 && t2 !== 0) {
              t2 = time;
            }
            if (!fps) {
              fps = elem.comp.globalData.frameRate;
            }
            return t2 * fps;
          }
          function seedRandom(seed) {
            BMMath.seedrandom(randSeed + seed);
          }
          function sourceRectAtTime() {
            return elem.sourceRectAtTime();
          }
          function substring(init2, end) {
            if (typeof value === "string") {
              if (end === void 0) {
                return value.substring(init2);
              }
              return value.substring(init2, end);
            }
            return "";
          }
          function substr(init2, end) {
            if (typeof value === "string") {
              if (end === void 0) {
                return value.substr(init2);
              }
              return value.substr(init2, end);
            }
            return "";
          }
          function posterizeTime(framesPerSecond) {
            time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;
            value = valueAtTime(time);
          }
          var time;
          var velocity;
          var value;
          var text;
          var textIndex;
          var textTotal;
          var selectorValue;
          var index = elem.data.ind;
          var hasParent = !!(elem.hierarchy && elem.hierarchy.length);
          var parent;
          var randSeed = Math.floor(Math.random() * 1e6);
          var globalData = elem.globalData;
          function executeExpression(_value) {
            value = _value;
            if (this.frameExpressionId === elem.globalData.frameId && this.propType !== "textSelector") {
              return value;
            }
            if (this.propType === "textSelector") {
              textIndex = this.textIndex;
              textTotal = this.textTotal;
              selectorValue = this.selectorValue;
            }
            if (!thisLayer) {
              text = elem.layerInterface.text;
              thisLayer = elem.layerInterface;
              thisComp = elem.comp.compInterface;
              toWorld = thisLayer.toWorld.bind(thisLayer);
              fromWorld = thisLayer.fromWorld.bind(thisLayer);
              fromComp = thisLayer.fromComp.bind(thisLayer);
              toComp = thisLayer.toComp.bind(thisLayer);
              mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;
              fromCompToSurface = fromComp;
            }
            if (!transform) {
              transform = elem.layerInterface("ADBE Transform Group");
              $bm_transform = transform;
              if (transform) {
                anchorPoint = transform.anchorPoint;
              }
            }
            if (elemType === 4 && !content) {
              content = thisLayer("ADBE Root Vectors Group");
            }
            if (!effect) {
              effect = thisLayer(4);
            }
            hasParent = !!(elem.hierarchy && elem.hierarchy.length);
            if (hasParent && !parent) {
              parent = elem.hierarchy[0].layerInterface;
            }
            time = this.comp.renderedFrame / this.comp.globalData.frameRate;
            if (_needsRandom) {
              seedRandom(randSeed + time);
            }
            if (needsVelocity) {
              velocity = velocityAtTime(time);
            }
            expression_function();
            this.frameExpressionId = elem.globalData.frameId;
            scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;
            return scoped_bm_rt;
          }
          executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];
          return executeExpression;
        }
        ob.initiateExpression = initiateExpression;
        ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];
        ob.resetFrame = resetFrame;
        return ob;
      }();
      var Expressions = function() {
        var ob2 = {};
        ob2.initExpressions = initExpressions;
        ob2.resetFrame = ExpressionManager.resetFrame;
        function initExpressions(animation) {
          var stackCount = 0;
          var registers = [];
          function pushExpression() {
            stackCount += 1;
          }
          function popExpression() {
            stackCount -= 1;
            if (stackCount === 0) {
              releaseInstances();
            }
          }
          function registerExpressionProperty(expression) {
            if (registers.indexOf(expression) === -1) {
              registers.push(expression);
            }
          }
          function releaseInstances() {
            var i3;
            var len = registers.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              registers[i3].release();
            }
            registers.length = 0;
          }
          animation.renderer.compInterface = CompExpressionInterface(animation.renderer);
          animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);
          animation.renderer.globalData.pushExpression = pushExpression;
          animation.renderer.globalData.popExpression = popExpression;
          animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;
        }
        return ob2;
      }();
      var MaskManagerInterface = function() {
        function MaskInterface(mask2, data2) {
          this._mask = mask2;
          this._data = data2;
        }
        Object.defineProperty(MaskInterface.prototype, "maskPath", {
          get: function get2() {
            if (this._mask.prop.k) {
              this._mask.prop.getValue();
            }
            return this._mask.prop;
          }
        });
        Object.defineProperty(MaskInterface.prototype, "maskOpacity", {
          get: function get2() {
            if (this._mask.op.k) {
              this._mask.op.getValue();
            }
            return this._mask.op.v * 100;
          }
        });
        var MaskManager = function MaskManager2(maskManager) {
          var _masksInterfaces = createSizedArray(maskManager.viewData.length);
          var i3;
          var len = maskManager.viewData.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            _masksInterfaces[i3] = new MaskInterface(maskManager.viewData[i3], maskManager.masksProperties[i3]);
          }
          var maskFunction = function maskFunction2(name3) {
            i3 = 0;
            while (i3 < len) {
              if (maskManager.masksProperties[i3].nm === name3) {
                return _masksInterfaces[i3];
              }
              i3 += 1;
            }
            return null;
          };
          return maskFunction;
        };
        return MaskManager;
      }();
      var ExpressionPropertyInterface = function() {
        var defaultUnidimensionalValue = {
          pv: 0,
          v: 0,
          mult: 1
        };
        var defaultMultidimensionalValue = {
          pv: [0, 0, 0],
          v: [0, 0, 0],
          mult: 1
        };
        function completeProperty(expressionValue, property2, type) {
          Object.defineProperty(expressionValue, "velocity", {
            get: function get2() {
              return property2.getVelocityAtTime(property2.comp.currentFrame);
            }
          });
          expressionValue.numKeys = property2.keyframes ? property2.keyframes.length : 0;
          expressionValue.key = function(pos) {
            if (!expressionValue.numKeys) {
              return 0;
            }
            var value2 = "";
            if ("s" in property2.keyframes[pos - 1]) {
              value2 = property2.keyframes[pos - 1].s;
            } else if ("e" in property2.keyframes[pos - 2]) {
              value2 = property2.keyframes[pos - 2].e;
            } else {
              value2 = property2.keyframes[pos - 2].s;
            }
            var valueProp = type === "unidimensional" ? new Number(value2) : Object.assign({}, value2);
            valueProp.time = property2.keyframes[pos - 1].t / property2.elem.comp.globalData.frameRate;
            valueProp.value = type === "unidimensional" ? value2[0] : value2;
            return valueProp;
          };
          expressionValue.valueAtTime = property2.getValueAtTime;
          expressionValue.speedAtTime = property2.getSpeedAtTime;
          expressionValue.velocityAtTime = property2.getVelocityAtTime;
          expressionValue.propertyGroup = property2.propertyGroup;
        }
        function UnidimensionalPropertyInterface(property2) {
          if (!property2 || !("pv" in property2)) {
            property2 = defaultUnidimensionalValue;
          }
          var mult = 1 / property2.mult;
          var val2 = property2.pv * mult;
          var expressionValue = new Number(val2);
          expressionValue.value = val2;
          completeProperty(expressionValue, property2, "unidimensional");
          return function() {
            if (property2.k) {
              property2.getValue();
            }
            val2 = property2.v * mult;
            if (expressionValue.value !== val2) {
              expressionValue = new Number(val2);
              expressionValue.value = val2;
              completeProperty(expressionValue, property2, "unidimensional");
            }
            return expressionValue;
          };
        }
        function MultidimensionalPropertyInterface(property2) {
          if (!property2 || !("pv" in property2)) {
            property2 = defaultMultidimensionalValue;
          }
          var mult = 1 / property2.mult;
          var len = property2.data && property2.data.l || property2.pv.length;
          var expressionValue = createTypedArray("float32", len);
          var arrValue = createTypedArray("float32", len);
          expressionValue.value = arrValue;
          completeProperty(expressionValue, property2, "multidimensional");
          return function() {
            if (property2.k) {
              property2.getValue();
            }
            for (var i3 = 0; i3 < len; i3 += 1) {
              arrValue[i3] = property2.v[i3] * mult;
              expressionValue[i3] = arrValue[i3];
            }
            return expressionValue;
          };
        }
        function defaultGetter() {
          return defaultUnidimensionalValue;
        }
        return function(property2) {
          if (!property2) {
            return defaultGetter;
          }
          if (property2.propType === "unidimensional") {
            return UnidimensionalPropertyInterface(property2);
          }
          return MultidimensionalPropertyInterface(property2);
        };
      }();
      var TransformExpressionInterface = function() {
        return function(transform2) {
          function _thisFunction(name3) {
            switch (name3) {
              case "scale":
              case "Scale":
              case "ADBE Scale":
              case 6:
                return _thisFunction.scale;
              case "rotation":
              case "Rotation":
              case "ADBE Rotation":
              case "ADBE Rotate Z":
              case 10:
                return _thisFunction.rotation;
              case "ADBE Rotate X":
                return _thisFunction.xRotation;
              case "ADBE Rotate Y":
                return _thisFunction.yRotation;
              case "position":
              case "Position":
              case "ADBE Position":
              case 2:
                return _thisFunction.position;
              case "ADBE Position_0":
                return _thisFunction.xPosition;
              case "ADBE Position_1":
                return _thisFunction.yPosition;
              case "ADBE Position_2":
                return _thisFunction.zPosition;
              case "anchorPoint":
              case "AnchorPoint":
              case "Anchor Point":
              case "ADBE AnchorPoint":
              case 1:
                return _thisFunction.anchorPoint;
              case "opacity":
              case "Opacity":
              case 11:
                return _thisFunction.opacity;
              default:
                return null;
            }
          }
          Object.defineProperty(_thisFunction, "rotation", {
            get: ExpressionPropertyInterface(transform2.r || transform2.rz)
          });
          Object.defineProperty(_thisFunction, "zRotation", {
            get: ExpressionPropertyInterface(transform2.rz || transform2.r)
          });
          Object.defineProperty(_thisFunction, "xRotation", {
            get: ExpressionPropertyInterface(transform2.rx)
          });
          Object.defineProperty(_thisFunction, "yRotation", {
            get: ExpressionPropertyInterface(transform2.ry)
          });
          Object.defineProperty(_thisFunction, "scale", {
            get: ExpressionPropertyInterface(transform2.s)
          });
          var _px;
          var _py;
          var _pz;
          var _transformFactory;
          if (transform2.p) {
            _transformFactory = ExpressionPropertyInterface(transform2.p);
          } else {
            _px = ExpressionPropertyInterface(transform2.px);
            _py = ExpressionPropertyInterface(transform2.py);
            if (transform2.pz) {
              _pz = ExpressionPropertyInterface(transform2.pz);
            }
          }
          Object.defineProperty(_thisFunction, "position", {
            get: function get2() {
              if (transform2.p) {
                return _transformFactory();
              }
              return [_px(), _py(), _pz ? _pz() : 0];
            }
          });
          Object.defineProperty(_thisFunction, "xPosition", {
            get: ExpressionPropertyInterface(transform2.px)
          });
          Object.defineProperty(_thisFunction, "yPosition", {
            get: ExpressionPropertyInterface(transform2.py)
          });
          Object.defineProperty(_thisFunction, "zPosition", {
            get: ExpressionPropertyInterface(transform2.pz)
          });
          Object.defineProperty(_thisFunction, "anchorPoint", {
            get: ExpressionPropertyInterface(transform2.a)
          });
          Object.defineProperty(_thisFunction, "opacity", {
            get: ExpressionPropertyInterface(transform2.o)
          });
          Object.defineProperty(_thisFunction, "skew", {
            get: ExpressionPropertyInterface(transform2.sk)
          });
          Object.defineProperty(_thisFunction, "skewAxis", {
            get: ExpressionPropertyInterface(transform2.sa)
          });
          Object.defineProperty(_thisFunction, "orientation", {
            get: ExpressionPropertyInterface(transform2.or)
          });
          return _thisFunction;
        };
      }();
      var LayerExpressionInterface = function() {
        function getMatrix(time2) {
          var toWorldMat = new Matrix();
          if (time2 !== void 0) {
            var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time2);
            propMatrix.clone(toWorldMat);
          } else {
            var transformMat = this._elem.finalTransform.mProp;
            transformMat.applyToMatrix(toWorldMat);
          }
          return toWorldMat;
        }
        function toWorldVec(arr, time2) {
          var toWorldMat = this.getMatrix(time2);
          toWorldMat.props[12] = 0;
          toWorldMat.props[13] = 0;
          toWorldMat.props[14] = 0;
          return this.applyPoint(toWorldMat, arr);
        }
        function toWorld2(arr, time2) {
          var toWorldMat = this.getMatrix(time2);
          return this.applyPoint(toWorldMat, arr);
        }
        function fromWorldVec(arr, time2) {
          var toWorldMat = this.getMatrix(time2);
          toWorldMat.props[12] = 0;
          toWorldMat.props[13] = 0;
          toWorldMat.props[14] = 0;
          return this.invertPoint(toWorldMat, arr);
        }
        function fromWorld2(arr, time2) {
          var toWorldMat = this.getMatrix(time2);
          return this.invertPoint(toWorldMat, arr);
        }
        function applyPoint(matrix, arr) {
          if (this._elem.hierarchy && this._elem.hierarchy.length) {
            var i3;
            var len = this._elem.hierarchy.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this._elem.hierarchy[i3].finalTransform.mProp.applyToMatrix(matrix);
            }
          }
          return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);
        }
        function invertPoint(matrix, arr) {
          if (this._elem.hierarchy && this._elem.hierarchy.length) {
            var i3;
            var len = this._elem.hierarchy.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this._elem.hierarchy[i3].finalTransform.mProp.applyToMatrix(matrix);
            }
          }
          return matrix.inversePoint(arr);
        }
        function fromComp2(arr) {
          var toWorldMat = new Matrix();
          toWorldMat.reset();
          this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);
          if (this._elem.hierarchy && this._elem.hierarchy.length) {
            var i3;
            var len = this._elem.hierarchy.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this._elem.hierarchy[i3].finalTransform.mProp.applyToMatrix(toWorldMat);
            }
            return toWorldMat.inversePoint(arr);
          }
          return toWorldMat.inversePoint(arr);
        }
        function sampleImage() {
          return [1, 1, 1, 1];
        }
        return function(elem2) {
          var transformInterface;
          function _registerMaskInterface(maskManager) {
            _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem2);
          }
          function _registerEffectsInterface(effects) {
            _thisLayerFunction.effect = effects;
          }
          function _thisLayerFunction(name3) {
            switch (name3) {
              case "ADBE Root Vectors Group":
              case "Contents":
              case 2:
                return _thisLayerFunction.shapeInterface;
              case 1:
              case 6:
              case "Transform":
              case "transform":
              case "ADBE Transform Group":
                return transformInterface;
              case 4:
              case "ADBE Effect Parade":
              case "effects":
              case "Effects":
                return _thisLayerFunction.effect;
              case "ADBE Text Properties":
                return _thisLayerFunction.textInterface;
              default:
                return null;
            }
          }
          _thisLayerFunction.getMatrix = getMatrix;
          _thisLayerFunction.invertPoint = invertPoint;
          _thisLayerFunction.applyPoint = applyPoint;
          _thisLayerFunction.toWorld = toWorld2;
          _thisLayerFunction.toWorldVec = toWorldVec;
          _thisLayerFunction.fromWorld = fromWorld2;
          _thisLayerFunction.fromWorldVec = fromWorldVec;
          _thisLayerFunction.toComp = toWorld2;
          _thisLayerFunction.fromComp = fromComp2;
          _thisLayerFunction.sampleImage = sampleImage;
          _thisLayerFunction.sourceRectAtTime = elem2.sourceRectAtTime.bind(elem2);
          _thisLayerFunction._elem = elem2;
          transformInterface = TransformExpressionInterface(elem2.finalTransform.mProp);
          var anchorPointDescriptor = getDescriptor(transformInterface, "anchorPoint");
          Object.defineProperties(_thisLayerFunction, {
            hasParent: {
              get: function get2() {
                return elem2.hierarchy.length;
              }
            },
            parent: {
              get: function get2() {
                return elem2.hierarchy[0].layerInterface;
              }
            },
            rotation: getDescriptor(transformInterface, "rotation"),
            scale: getDescriptor(transformInterface, "scale"),
            position: getDescriptor(transformInterface, "position"),
            opacity: getDescriptor(transformInterface, "opacity"),
            anchorPoint: anchorPointDescriptor,
            anchor_point: anchorPointDescriptor,
            transform: {
              get: function get2() {
                return transformInterface;
              }
            },
            active: {
              get: function get2() {
                return elem2.isInRange;
              }
            }
          });
          _thisLayerFunction.startTime = elem2.data.st;
          _thisLayerFunction.index = elem2.data.ind;
          _thisLayerFunction.source = elem2.data.refId;
          _thisLayerFunction.height = elem2.data.ty === 0 ? elem2.data.h : 100;
          _thisLayerFunction.width = elem2.data.ty === 0 ? elem2.data.w : 100;
          _thisLayerFunction.inPoint = elem2.data.ip / elem2.comp.globalData.frameRate;
          _thisLayerFunction.outPoint = elem2.data.op / elem2.comp.globalData.frameRate;
          _thisLayerFunction._name = elem2.data.nm;
          _thisLayerFunction.registerMaskInterface = _registerMaskInterface;
          _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;
          return _thisLayerFunction;
        };
      }();
      var propertyGroupFactory = function() {
        return function(interfaceFunction, parentPropertyGroup) {
          return function(val2) {
            val2 = val2 === void 0 ? 1 : val2;
            if (val2 <= 0) {
              return interfaceFunction;
            }
            return parentPropertyGroup(val2 - 1);
          };
        };
      }();
      var PropertyInterface = function() {
        return function(propertyName, propertyGroup) {
          var interfaceFunction = {
            _name: propertyName
          };
          function _propertyGroup(val2) {
            val2 = val2 === void 0 ? 1 : val2;
            if (val2 <= 0) {
              return interfaceFunction;
            }
            return propertyGroup(val2 - 1);
          }
          return _propertyGroup;
        };
      }();
      var EffectsExpressionInterface = function() {
        var ob2 = {
          createEffectsInterface
        };
        function createEffectsInterface(elem2, propertyGroup) {
          if (elem2.effectsManager) {
            var effectElements = [];
            var effectsData = elem2.data.ef;
            var i3;
            var len = elem2.effectsManager.effectElements.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              effectElements.push(createGroupInterface(effectsData[i3], elem2.effectsManager.effectElements[i3], propertyGroup, elem2));
            }
            var effects = elem2.data.ef || [];
            var groupInterface = function groupInterface2(name3) {
              i3 = 0;
              len = effects.length;
              while (i3 < len) {
                if (name3 === effects[i3].nm || name3 === effects[i3].mn || name3 === effects[i3].ix) {
                  return effectElements[i3];
                }
                i3 += 1;
              }
              return null;
            };
            Object.defineProperty(groupInterface, "numProperties", {
              get: function get2() {
                return effects.length;
              }
            });
            return groupInterface;
          }
          return null;
        }
        function createGroupInterface(data2, elements, propertyGroup, elem2) {
          function groupInterface(name3) {
            var effects = data2.ef;
            var i4 = 0;
            var len2 = effects.length;
            while (i4 < len2) {
              if (name3 === effects[i4].nm || name3 === effects[i4].mn || name3 === effects[i4].ix) {
                if (effects[i4].ty === 5) {
                  return effectElements[i4];
                }
                return effectElements[i4]();
              }
              i4 += 1;
            }
            throw new Error();
          }
          var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);
          var effectElements = [];
          var i3;
          var len = data2.ef.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (data2.ef[i3].ty === 5) {
              effectElements.push(createGroupInterface(data2.ef[i3], elements.effectElements[i3], elements.effectElements[i3].propertyGroup, elem2));
            } else {
              effectElements.push(createValueInterface(elements.effectElements[i3], data2.ef[i3].ty, elem2, _propertyGroup));
            }
          }
          if (data2.mn === "ADBE Color Control") {
            Object.defineProperty(groupInterface, "color", {
              get: function get2() {
                return effectElements[0]();
              }
            });
          }
          Object.defineProperties(groupInterface, {
            numProperties: {
              get: function get2() {
                return data2.np;
              }
            },
            _name: {
              value: data2.nm
            },
            propertyGroup: {
              value: _propertyGroup
            }
          });
          groupInterface.enabled = data2.en !== 0;
          groupInterface.active = groupInterface.enabled;
          return groupInterface;
        }
        function createValueInterface(element, type, elem2, propertyGroup) {
          var expressionProperty = ExpressionPropertyInterface(element.p);
          function interfaceFunction() {
            if (type === 10) {
              return elem2.comp.compInterface(element.p.v);
            }
            return expressionProperty();
          }
          if (element.p.setGroupProperty) {
            element.p.setGroupProperty(PropertyInterface("", propertyGroup));
          }
          return interfaceFunction;
        }
        return ob2;
      }();
      var ShapePathInterface = function() {
        return function pathInterfaceFactory(shape, view, propertyGroup) {
          var prop = view.sh;
          function interfaceFunction(val2) {
            if (val2 === "Shape" || val2 === "shape" || val2 === "Path" || val2 === "path" || val2 === "ADBE Vector Shape" || val2 === 2) {
              return interfaceFunction.path;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          prop.setGroupProperty(PropertyInterface("Path", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            path: {
              get: function get2() {
                if (prop.k) {
                  prop.getValue();
                }
                return prop;
              }
            },
            shape: {
              get: function get2() {
                if (prop.k) {
                  prop.getValue();
                }
                return prop;
              }
            },
            _name: {
              value: shape.nm
            },
            ix: {
              value: shape.ix
            },
            propertyIndex: {
              value: shape.ix
            },
            mn: {
              value: shape.mn
            },
            propertyGroup: {
              value: propertyGroup
            }
          });
          return interfaceFunction;
        };
      }();
      var ShapeExpressionInterface = function() {
        function iterateElements(shapes, view, propertyGroup) {
          var arr = [];
          var i3;
          var len = shapes ? shapes.length : 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (shapes[i3].ty === "gr") {
              arr.push(groupInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "fl") {
              arr.push(fillInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "st") {
              arr.push(strokeInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "tm") {
              arr.push(trimInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "tr") {
            } else if (shapes[i3].ty === "el") {
              arr.push(ellipseInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "sr") {
              arr.push(starInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "sh") {
              arr.push(ShapePathInterface(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "rc") {
              arr.push(rectInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "rd") {
              arr.push(roundedInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "rp") {
              arr.push(repeaterInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else if (shapes[i3].ty === "gf") {
              arr.push(gradientFillInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            } else {
              arr.push(defaultInterfaceFactory(shapes[i3], view[i3], propertyGroup));
            }
          }
          return arr;
        }
        function contentsInterfaceFactory(shape, view, propertyGroup) {
          var interfaces2;
          var interfaceFunction = function _interfaceFunction(value2) {
            var i3 = 0;
            var len = interfaces2.length;
            while (i3 < len) {
              if (interfaces2[i3]._name === value2 || interfaces2[i3].mn === value2 || interfaces2[i3].propertyIndex === value2 || interfaces2[i3].ix === value2 || interfaces2[i3].ind === value2) {
                return interfaces2[i3];
              }
              i3 += 1;
            }
            if (typeof value2 === "number") {
              return interfaces2[value2 - 1];
            }
            return null;
          };
          interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          interfaces2 = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);
          interfaceFunction.numProperties = interfaces2.length;
          var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);
          interfaceFunction.transform = transformInterface;
          interfaceFunction.propertyIndex = shape.cix;
          interfaceFunction._name = shape.nm;
          return interfaceFunction;
        }
        function groupInterfaceFactory(shape, view, propertyGroup) {
          var interfaceFunction = function _interfaceFunction(value2) {
            switch (value2) {
              case "ADBE Vectors Group":
              case "Contents":
              case 2:
                return interfaceFunction.content;
              default:
                return interfaceFunction.transform;
            }
          };
          interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var content2 = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);
          var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);
          interfaceFunction.content = content2;
          interfaceFunction.transform = transformInterface;
          Object.defineProperty(interfaceFunction, "_name", {
            get: function get2() {
              return shape.nm;
            }
          });
          interfaceFunction.numProperties = shape.np;
          interfaceFunction.propertyIndex = shape.ix;
          interfaceFunction.nm = shape.nm;
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function fillInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(val2) {
            if (val2 === "Color" || val2 === "color") {
              return interfaceFunction.color;
            }
            if (val2 === "Opacity" || val2 === "opacity") {
              return interfaceFunction.opacity;
            }
            return null;
          }
          Object.defineProperties(interfaceFunction, {
            color: {
              get: ExpressionPropertyInterface(view.c)
            },
            opacity: {
              get: ExpressionPropertyInterface(view.o)
            },
            _name: {
              value: shape.nm
            },
            mn: {
              value: shape.mn
            }
          });
          view.c.setGroupProperty(PropertyInterface("Color", propertyGroup));
          view.o.setGroupProperty(PropertyInterface("Opacity", propertyGroup));
          return interfaceFunction;
        }
        function gradientFillInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(val2) {
            if (val2 === "Start Point" || val2 === "start point") {
              return interfaceFunction.startPoint;
            }
            if (val2 === "End Point" || val2 === "end point") {
              return interfaceFunction.endPoint;
            }
            if (val2 === "Opacity" || val2 === "opacity") {
              return interfaceFunction.opacity;
            }
            return null;
          }
          Object.defineProperties(interfaceFunction, {
            startPoint: {
              get: ExpressionPropertyInterface(view.s)
            },
            endPoint: {
              get: ExpressionPropertyInterface(view.e)
            },
            opacity: {
              get: ExpressionPropertyInterface(view.o)
            },
            type: {
              get: function get2() {
                return "a";
              }
            },
            _name: {
              value: shape.nm
            },
            mn: {
              value: shape.mn
            }
          });
          view.s.setGroupProperty(PropertyInterface("Start Point", propertyGroup));
          view.e.setGroupProperty(PropertyInterface("End Point", propertyGroup));
          view.o.setGroupProperty(PropertyInterface("Opacity", propertyGroup));
          return interfaceFunction;
        }
        function defaultInterfaceFactory() {
          function interfaceFunction() {
            return null;
          }
          return interfaceFunction;
        }
        function strokeInterfaceFactory(shape, view, propertyGroup) {
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);
          function addPropertyToDashOb(i4) {
            Object.defineProperty(dashOb, shape.d[i4].nm, {
              get: ExpressionPropertyInterface(view.d.dataProps[i4].p)
            });
          }
          var i3;
          var len = shape.d ? shape.d.length : 0;
          var dashOb = {};
          for (i3 = 0; i3 < len; i3 += 1) {
            addPropertyToDashOb(i3);
            view.d.dataProps[i3].p.setGroupProperty(_dashPropertyGroup);
          }
          function interfaceFunction(val2) {
            if (val2 === "Color" || val2 === "color") {
              return interfaceFunction.color;
            }
            if (val2 === "Opacity" || val2 === "opacity") {
              return interfaceFunction.opacity;
            }
            if (val2 === "Stroke Width" || val2 === "stroke width") {
              return interfaceFunction.strokeWidth;
            }
            return null;
          }
          Object.defineProperties(interfaceFunction, {
            color: {
              get: ExpressionPropertyInterface(view.c)
            },
            opacity: {
              get: ExpressionPropertyInterface(view.o)
            },
            strokeWidth: {
              get: ExpressionPropertyInterface(view.w)
            },
            dash: {
              get: function get2() {
                return dashOb;
              }
            },
            _name: {
              value: shape.nm
            },
            mn: {
              value: shape.mn
            }
          });
          view.c.setGroupProperty(PropertyInterface("Color", _propertyGroup));
          view.o.setGroupProperty(PropertyInterface("Opacity", _propertyGroup));
          view.w.setGroupProperty(PropertyInterface("Stroke Width", _propertyGroup));
          return interfaceFunction;
        }
        function trimInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(val2) {
            if (val2 === shape.e.ix || val2 === "End" || val2 === "end") {
              return interfaceFunction.end;
            }
            if (val2 === shape.s.ix) {
              return interfaceFunction.start;
            }
            if (val2 === shape.o.ix) {
              return interfaceFunction.offset;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          interfaceFunction.propertyIndex = shape.ix;
          view.s.setGroupProperty(PropertyInterface("Start", _propertyGroup));
          view.e.setGroupProperty(PropertyInterface("End", _propertyGroup));
          view.o.setGroupProperty(PropertyInterface("Offset", _propertyGroup));
          interfaceFunction.propertyIndex = shape.ix;
          interfaceFunction.propertyGroup = propertyGroup;
          Object.defineProperties(interfaceFunction, {
            start: {
              get: ExpressionPropertyInterface(view.s)
            },
            end: {
              get: ExpressionPropertyInterface(view.e)
            },
            offset: {
              get: ExpressionPropertyInterface(view.o)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function transformInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.a.ix === value2 || value2 === "Anchor Point") {
              return interfaceFunction.anchorPoint;
            }
            if (shape.o.ix === value2 || value2 === "Opacity") {
              return interfaceFunction.opacity;
            }
            if (shape.p.ix === value2 || value2 === "Position") {
              return interfaceFunction.position;
            }
            if (shape.r.ix === value2 || value2 === "Rotation" || value2 === "ADBE Vector Rotation") {
              return interfaceFunction.rotation;
            }
            if (shape.s.ix === value2 || value2 === "Scale") {
              return interfaceFunction.scale;
            }
            if (shape.sk && shape.sk.ix === value2 || value2 === "Skew") {
              return interfaceFunction.skew;
            }
            if (shape.sa && shape.sa.ix === value2 || value2 === "Skew Axis") {
              return interfaceFunction.skewAxis;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          view.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity", _propertyGroup));
          view.transform.mProps.p.setGroupProperty(PropertyInterface("Position", _propertyGroup));
          view.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point", _propertyGroup));
          view.transform.mProps.s.setGroupProperty(PropertyInterface("Scale", _propertyGroup));
          view.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation", _propertyGroup));
          if (view.transform.mProps.sk) {
            view.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew", _propertyGroup));
            view.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle", _propertyGroup));
          }
          view.transform.op.setGroupProperty(PropertyInterface("Opacity", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            opacity: {
              get: ExpressionPropertyInterface(view.transform.mProps.o)
            },
            position: {
              get: ExpressionPropertyInterface(view.transform.mProps.p)
            },
            anchorPoint: {
              get: ExpressionPropertyInterface(view.transform.mProps.a)
            },
            scale: {
              get: ExpressionPropertyInterface(view.transform.mProps.s)
            },
            rotation: {
              get: ExpressionPropertyInterface(view.transform.mProps.r)
            },
            skew: {
              get: ExpressionPropertyInterface(view.transform.mProps.sk)
            },
            skewAxis: {
              get: ExpressionPropertyInterface(view.transform.mProps.sa)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.ty = "tr";
          interfaceFunction.mn = shape.mn;
          interfaceFunction.propertyGroup = propertyGroup;
          return interfaceFunction;
        }
        function ellipseInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.p.ix === value2) {
              return interfaceFunction.position;
            }
            if (shape.s.ix === value2) {
              return interfaceFunction.size;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          interfaceFunction.propertyIndex = shape.ix;
          var prop = view.sh.ty === "tm" ? view.sh.prop : view.sh;
          prop.s.setGroupProperty(PropertyInterface("Size", _propertyGroup));
          prop.p.setGroupProperty(PropertyInterface("Position", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            size: {
              get: ExpressionPropertyInterface(prop.s)
            },
            position: {
              get: ExpressionPropertyInterface(prop.p)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function starInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.p.ix === value2) {
              return interfaceFunction.position;
            }
            if (shape.r.ix === value2) {
              return interfaceFunction.rotation;
            }
            if (shape.pt.ix === value2) {
              return interfaceFunction.points;
            }
            if (shape.or.ix === value2 || value2 === "ADBE Vector Star Outer Radius") {
              return interfaceFunction.outerRadius;
            }
            if (shape.os.ix === value2) {
              return interfaceFunction.outerRoundness;
            }
            if (shape.ir && (shape.ir.ix === value2 || value2 === "ADBE Vector Star Inner Radius")) {
              return interfaceFunction.innerRadius;
            }
            if (shape.is && shape.is.ix === value2) {
              return interfaceFunction.innerRoundness;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var prop = view.sh.ty === "tm" ? view.sh.prop : view.sh;
          interfaceFunction.propertyIndex = shape.ix;
          prop.or.setGroupProperty(PropertyInterface("Outer Radius", _propertyGroup));
          prop.os.setGroupProperty(PropertyInterface("Outer Roundness", _propertyGroup));
          prop.pt.setGroupProperty(PropertyInterface("Points", _propertyGroup));
          prop.p.setGroupProperty(PropertyInterface("Position", _propertyGroup));
          prop.r.setGroupProperty(PropertyInterface("Rotation", _propertyGroup));
          if (shape.ir) {
            prop.ir.setGroupProperty(PropertyInterface("Inner Radius", _propertyGroup));
            prop.is.setGroupProperty(PropertyInterface("Inner Roundness", _propertyGroup));
          }
          Object.defineProperties(interfaceFunction, {
            position: {
              get: ExpressionPropertyInterface(prop.p)
            },
            rotation: {
              get: ExpressionPropertyInterface(prop.r)
            },
            points: {
              get: ExpressionPropertyInterface(prop.pt)
            },
            outerRadius: {
              get: ExpressionPropertyInterface(prop.or)
            },
            outerRoundness: {
              get: ExpressionPropertyInterface(prop.os)
            },
            innerRadius: {
              get: ExpressionPropertyInterface(prop.ir)
            },
            innerRoundness: {
              get: ExpressionPropertyInterface(prop.is)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function rectInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.p.ix === value2) {
              return interfaceFunction.position;
            }
            if (shape.r.ix === value2) {
              return interfaceFunction.roundness;
            }
            if (shape.s.ix === value2 || value2 === "Size" || value2 === "ADBE Vector Rect Size") {
              return interfaceFunction.size;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var prop = view.sh.ty === "tm" ? view.sh.prop : view.sh;
          interfaceFunction.propertyIndex = shape.ix;
          prop.p.setGroupProperty(PropertyInterface("Position", _propertyGroup));
          prop.s.setGroupProperty(PropertyInterface("Size", _propertyGroup));
          prop.r.setGroupProperty(PropertyInterface("Rotation", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            position: {
              get: ExpressionPropertyInterface(prop.p)
            },
            roundness: {
              get: ExpressionPropertyInterface(prop.r)
            },
            size: {
              get: ExpressionPropertyInterface(prop.s)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function roundedInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.r.ix === value2 || value2 === "Round Corners 1") {
              return interfaceFunction.radius;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var prop = view;
          interfaceFunction.propertyIndex = shape.ix;
          prop.rd.setGroupProperty(PropertyInterface("Radius", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            radius: {
              get: ExpressionPropertyInterface(prop.rd)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        function repeaterInterfaceFactory(shape, view, propertyGroup) {
          function interfaceFunction(value2) {
            if (shape.c.ix === value2 || value2 === "Copies") {
              return interfaceFunction.copies;
            }
            if (shape.o.ix === value2 || value2 === "Offset") {
              return interfaceFunction.offset;
            }
            return null;
          }
          var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);
          var prop = view;
          interfaceFunction.propertyIndex = shape.ix;
          prop.c.setGroupProperty(PropertyInterface("Copies", _propertyGroup));
          prop.o.setGroupProperty(PropertyInterface("Offset", _propertyGroup));
          Object.defineProperties(interfaceFunction, {
            copies: {
              get: ExpressionPropertyInterface(prop.c)
            },
            offset: {
              get: ExpressionPropertyInterface(prop.o)
            },
            _name: {
              value: shape.nm
            }
          });
          interfaceFunction.mn = shape.mn;
          return interfaceFunction;
        }
        return function(shapes, view, propertyGroup) {
          var interfaces2;
          function _interfaceFunction(value2) {
            if (typeof value2 === "number") {
              value2 = value2 === void 0 ? 1 : value2;
              if (value2 === 0) {
                return propertyGroup;
              }
              return interfaces2[value2 - 1];
            }
            var i3 = 0;
            var len = interfaces2.length;
            while (i3 < len) {
              if (interfaces2[i3]._name === value2) {
                return interfaces2[i3];
              }
              i3 += 1;
            }
            return null;
          }
          function parentGroupWrapper() {
            return propertyGroup;
          }
          _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);
          interfaces2 = iterateElements(shapes, view, _interfaceFunction.propertyGroup);
          _interfaceFunction.numProperties = interfaces2.length;
          _interfaceFunction._name = "Contents";
          return _interfaceFunction;
        };
      }();
      var TextExpressionInterface = function() {
        return function(elem2) {
          var _sourceText;
          function _thisLayerFunction(name3) {
            switch (name3) {
              case "ADBE Text Document":
                return _thisLayerFunction.sourceText;
              default:
                return null;
            }
          }
          Object.defineProperty(_thisLayerFunction, "sourceText", {
            get: function get2() {
              elem2.textProperty.getValue();
              var stringValue = elem2.textProperty.currentData.t;
              if (!_sourceText || stringValue !== _sourceText.value) {
                _sourceText = new String(stringValue);
                _sourceText.value = stringValue || new String(stringValue);
                Object.defineProperty(_sourceText, "style", {
                  get: function get3() {
                    return {
                      fillColor: elem2.textProperty.currentData.fc
                    };
                  }
                });
              }
              return _sourceText;
            }
          });
          return _thisLayerFunction;
        };
      }();
      function _typeof(obj) {
        "@babel/helpers - typeof";
        if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {
          _typeof = function _typeof2(obj2) {
            return typeof obj2;
          };
        } else {
          _typeof = function _typeof2(obj2) {
            return obj2 && typeof Symbol === "function" && obj2.constructor === Symbol && obj2 !== Symbol.prototype ? "symbol" : typeof obj2;
          };
        }
        return _typeof(obj);
      }
      var FootageInterface = function() {
        var outlineInterfaceFactory = function outlineInterfaceFactory2(elem2) {
          var currentPropertyName = "";
          var currentProperty = elem2.getFootageData();
          function init2() {
            currentPropertyName = "";
            currentProperty = elem2.getFootageData();
            return searchProperty;
          }
          function searchProperty(value2) {
            if (currentProperty[value2]) {
              currentPropertyName = value2;
              currentProperty = currentProperty[value2];
              if (_typeof(currentProperty) === "object") {
                return searchProperty;
              }
              return currentProperty;
            }
            var propertyNameIndex = value2.indexOf(currentPropertyName);
            if (propertyNameIndex !== -1) {
              var index2 = parseInt(value2.substr(propertyNameIndex + currentPropertyName.length), 10);
              currentProperty = currentProperty[index2];
              if (_typeof(currentProperty) === "object") {
                return searchProperty;
              }
              return currentProperty;
            }
            return "";
          }
          return init2;
        };
        var dataInterfaceFactory = function dataInterfaceFactory2(elem2) {
          function interfaceFunction(value2) {
            if (value2 === "Outline") {
              return interfaceFunction.outlineInterface();
            }
            return null;
          }
          interfaceFunction._name = "Outline";
          interfaceFunction.outlineInterface = outlineInterfaceFactory(elem2);
          return interfaceFunction;
        };
        return function(elem2) {
          function _interfaceFunction(value2) {
            if (value2 === "Data") {
              return _interfaceFunction.dataInterface;
            }
            return null;
          }
          _interfaceFunction._name = "Data";
          _interfaceFunction.dataInterface = dataInterfaceFactory(elem2);
          return _interfaceFunction;
        };
      }();
      var interfaces = {
        layer: LayerExpressionInterface,
        effects: EffectsExpressionInterface,
        comp: CompExpressionInterface,
        shape: ShapeExpressionInterface,
        text: TextExpressionInterface,
        footage: FootageInterface
      };
      function getInterface(type) {
        return interfaces[type] || null;
      }
      var expressionHelpers = function() {
        function searchExpressions(elem2, data2, prop) {
          if (data2.x) {
            prop.k = true;
            prop.x = true;
            prop.initiateExpression = ExpressionManager.initiateExpression;
            prop.effectsSequence.push(prop.initiateExpression(elem2, data2, prop).bind(prop));
          }
        }
        function getValueAtTime(frameNum) {
          frameNum *= this.elem.globalData.frameRate;
          frameNum -= this.offsetTime;
          if (frameNum !== this._cachingAtTime.lastFrame) {
            this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;
            this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);
            this._cachingAtTime.lastFrame = frameNum;
          }
          return this._cachingAtTime.value;
        }
        function getSpeedAtTime(frameNum) {
          var delta = -0.01;
          var v1 = this.getValueAtTime(frameNum);
          var v2 = this.getValueAtTime(frameNum + delta);
          var speed = 0;
          if (v1.length) {
            var i3;
            for (i3 = 0; i3 < v1.length; i3 += 1) {
              speed += Math.pow(v2[i3] - v1[i3], 2);
            }
            speed = Math.sqrt(speed) * 100;
          } else {
            speed = 0;
          }
          return speed;
        }
        function getVelocityAtTime(frameNum) {
          if (this.vel !== void 0) {
            return this.vel;
          }
          var delta = -1e-3;
          var v1 = this.getValueAtTime(frameNum);
          var v2 = this.getValueAtTime(frameNum + delta);
          var velocity2;
          if (v1.length) {
            velocity2 = createTypedArray("float32", v1.length);
            var i3;
            for (i3 = 0; i3 < v1.length; i3 += 1) {
              velocity2[i3] = (v2[i3] - v1[i3]) / delta;
            }
          } else {
            velocity2 = (v2 - v1) / delta;
          }
          return velocity2;
        }
        function getStaticValueAtTime() {
          return this.pv;
        }
        function setGroupProperty(propertyGroup) {
          this.propertyGroup = propertyGroup;
        }
        return {
          searchExpressions,
          getSpeedAtTime,
          getVelocityAtTime,
          getValueAtTime,
          getStaticValueAtTime,
          setGroupProperty
        };
      }();
      function addPropertyDecorator() {
        function loopOut2(type, duration, durationFlag) {
          if (!this.k || !this.keyframes) {
            return this.pv;
          }
          type = type ? type.toLowerCase() : "";
          var currentFrame = this.comp.renderedFrame;
          var keyframes = this.keyframes;
          var lastKeyFrame = keyframes[keyframes.length - 1].t;
          if (currentFrame <= lastKeyFrame) {
            return this.pv;
          }
          var cycleDuration;
          var firstKeyFrame;
          if (!durationFlag) {
            if (!duration || duration > keyframes.length - 1) {
              duration = keyframes.length - 1;
            }
            firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;
            cycleDuration = lastKeyFrame - firstKeyFrame;
          } else {
            if (!duration) {
              cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);
            } else {
              cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);
            }
            firstKeyFrame = lastKeyFrame - cycleDuration;
          }
          var i3;
          var len;
          var ret;
          if (type === "pingpong") {
            var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);
            if (iterations % 2 !== 0) {
              return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);
            }
          } else if (type === "offset") {
            var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);
            var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);
            var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);
            var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);
            if (this.pv.length) {
              ret = new Array(initV.length);
              len = ret.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                ret[i3] = (endV[i3] - initV[i3]) * repeats + current[i3];
              }
              return ret;
            }
            return (endV - initV) * repeats + current;
          } else if (type === "continue") {
            var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);
            var nextLastValue = this.getValueAtTime((lastKeyFrame - 1e-3) / this.comp.globalData.frameRate, 0);
            if (this.pv.length) {
              ret = new Array(lastValue.length);
              len = ret.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                ret[i3] = lastValue[i3] + (lastValue[i3] - nextLastValue[i3]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 5e-4;
              }
              return ret;
            }
            return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 1e-3);
          }
          return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);
        }
        function loopIn2(type, duration, durationFlag) {
          if (!this.k) {
            return this.pv;
          }
          type = type ? type.toLowerCase() : "";
          var currentFrame = this.comp.renderedFrame;
          var keyframes = this.keyframes;
          var firstKeyFrame = keyframes[0].t;
          if (currentFrame >= firstKeyFrame) {
            return this.pv;
          }
          var cycleDuration;
          var lastKeyFrame;
          if (!durationFlag) {
            if (!duration || duration > keyframes.length - 1) {
              duration = keyframes.length - 1;
            }
            lastKeyFrame = keyframes[duration].t;
            cycleDuration = lastKeyFrame - firstKeyFrame;
          } else {
            if (!duration) {
              cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);
            } else {
              cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);
            }
            lastKeyFrame = firstKeyFrame + cycleDuration;
          }
          var i3;
          var len;
          var ret;
          if (type === "pingpong") {
            var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);
            if (iterations % 2 === 0) {
              return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);
            }
          } else if (type === "offset") {
            var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);
            var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);
            var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);
            var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;
            if (this.pv.length) {
              ret = new Array(initV.length);
              len = ret.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                ret[i3] = current[i3] - (endV[i3] - initV[i3]) * repeats;
              }
              return ret;
            }
            return current - (endV - initV) * repeats;
          } else if (type === "continue") {
            var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);
            var nextFirstValue = this.getValueAtTime((firstKeyFrame + 1e-3) / this.comp.globalData.frameRate, 0);
            if (this.pv.length) {
              ret = new Array(firstValue.length);
              len = ret.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                ret[i3] = firstValue[i3] + (firstValue[i3] - nextFirstValue[i3]) * (firstKeyFrame - currentFrame) / 1e-3;
              }
              return ret;
            }
            return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 1e-3;
          }
          return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0);
        }
        function smooth2(width2, samples) {
          if (!this.k) {
            return this.pv;
          }
          width2 = (width2 || 0.4) * 0.5;
          samples = Math.floor(samples || 5);
          if (samples <= 1) {
            return this.pv;
          }
          var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;
          var initFrame2 = currentTime - width2;
          var endFrame = currentTime + width2;
          var sampleFrequency = samples > 1 ? (endFrame - initFrame2) / (samples - 1) : 1;
          var i3 = 0;
          var j4 = 0;
          var value2;
          if (this.pv.length) {
            value2 = createTypedArray("float32", this.pv.length);
          } else {
            value2 = 0;
          }
          var sampleValue;
          while (i3 < samples) {
            sampleValue = this.getValueAtTime(initFrame2 + i3 * sampleFrequency);
            if (this.pv.length) {
              for (j4 = 0; j4 < this.pv.length; j4 += 1) {
                value2[j4] += sampleValue[j4];
              }
            } else {
              value2 += sampleValue;
            }
            i3 += 1;
          }
          if (this.pv.length) {
            for (j4 = 0; j4 < this.pv.length; j4 += 1) {
              value2[j4] /= samples;
            }
          } else {
            value2 /= samples;
          }
          return value2;
        }
        function getTransformValueAtTime(time2) {
          if (!this._transformCachingAtTime) {
            this._transformCachingAtTime = {
              v: new Matrix()
            };
          }
          var matrix = this._transformCachingAtTime.v;
          matrix.cloneFromProps(this.pre.props);
          if (this.appliedTransformations < 1) {
            var anchor = this.a.getValueAtTime(time2);
            matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);
          }
          if (this.appliedTransformations < 2) {
            var scale2 = this.s.getValueAtTime(time2);
            matrix.scale(scale2[0] * this.s.mult, scale2[1] * this.s.mult, scale2[2] * this.s.mult);
          }
          if (this.sk && this.appliedTransformations < 3) {
            var skew = this.sk.getValueAtTime(time2);
            var skewAxis = this.sa.getValueAtTime(time2);
            matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);
          }
          if (this.r && this.appliedTransformations < 4) {
            var rotation2 = this.r.getValueAtTime(time2);
            matrix.rotate(-rotation2 * this.r.mult);
          } else if (!this.r && this.appliedTransformations < 4) {
            var rotationZ = this.rz.getValueAtTime(time2);
            var rotationY = this.ry.getValueAtTime(time2);
            var rotationX = this.rx.getValueAtTime(time2);
            var orientation = this.or.getValueAtTime(time2);
            matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);
          }
          if (this.data.p && this.data.p.s) {
            var positionX = this.px.getValueAtTime(time2);
            var positionY = this.py.getValueAtTime(time2);
            if (this.data.p.z) {
              var positionZ = this.pz.getValueAtTime(time2);
              matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);
            } else {
              matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);
            }
          } else {
            var position2 = this.p.getValueAtTime(time2);
            matrix.translate(position2[0] * this.p.mult, position2[1] * this.p.mult, -position2[2] * this.p.mult);
          }
          return matrix;
        }
        function getTransformStaticValueAtTime() {
          return this.v.clone(new Matrix());
        }
        var getTransformProperty = TransformPropertyFactory.getTransformProperty;
        TransformPropertyFactory.getTransformProperty = function(elem2, data2, container) {
          var prop = getTransformProperty(elem2, data2, container);
          if (prop.dynamicProperties.length) {
            prop.getValueAtTime = getTransformValueAtTime.bind(prop);
          } else {
            prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);
          }
          prop.setGroupProperty = expressionHelpers.setGroupProperty;
          return prop;
        };
        var propertyGetProp = PropertyFactory.getProp;
        PropertyFactory.getProp = function(elem2, data2, type, mult, container) {
          var prop = propertyGetProp(elem2, data2, type, mult, container);
          if (prop.kf) {
            prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);
          } else {
            prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);
          }
          prop.setGroupProperty = expressionHelpers.setGroupProperty;
          prop.loopOut = loopOut2;
          prop.loopIn = loopIn2;
          prop.smooth = smooth2;
          prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);
          prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);
          prop.numKeys = data2.a === 1 ? data2.k.length : 0;
          prop.propertyIndex = data2.ix;
          var value2 = 0;
          if (type !== 0) {
            value2 = createTypedArray("float32", data2.a === 1 ? data2.k[0].s.length : data2.k.length);
          }
          prop._cachingAtTime = {
            lastFrame: initialDefaultFrame,
            lastIndex: 0,
            value: value2
          };
          expressionHelpers.searchExpressions(elem2, data2, prop);
          if (prop.k) {
            container.addDynamicProperty(prop);
          }
          return prop;
        };
        function getShapeValueAtTime(frameNum) {
          if (!this._cachingAtTime) {
            this._cachingAtTime = {
              shapeValue: shapePool.clone(this.pv),
              lastIndex: 0,
              lastTime: initialDefaultFrame
            };
          }
          frameNum *= this.elem.globalData.frameRate;
          frameNum -= this.offsetTime;
          if (frameNum !== this._cachingAtTime.lastTime) {
            this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;
            this._cachingAtTime.lastTime = frameNum;
            this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);
          }
          return this._cachingAtTime.shapeValue;
        }
        var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();
        var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();
        function ShapeExpressions() {
        }
        ShapeExpressions.prototype = {
          vertices: function vertices(prop, time2) {
            if (this.k) {
              this.getValue();
            }
            var shapePath = this.v;
            if (time2 !== void 0) {
              shapePath = this.getValueAtTime(time2, 0);
            }
            var i3;
            var len = shapePath._length;
            var vertices2 = shapePath[prop];
            var points = shapePath.v;
            var arr = createSizedArray(len);
            for (i3 = 0; i3 < len; i3 += 1) {
              if (prop === "i" || prop === "o") {
                arr[i3] = [vertices2[i3][0] - points[i3][0], vertices2[i3][1] - points[i3][1]];
              } else {
                arr[i3] = [vertices2[i3][0], vertices2[i3][1]];
              }
            }
            return arr;
          },
          points: function points(time2) {
            return this.vertices("v", time2);
          },
          inTangents: function inTangents(time2) {
            return this.vertices("i", time2);
          },
          outTangents: function outTangents(time2) {
            return this.vertices("o", time2);
          },
          isClosed: function isClosed() {
            return this.v.c;
          },
          pointOnPath: function pointOnPath(perc, time2) {
            var shapePath = this.v;
            if (time2 !== void 0) {
              shapePath = this.getValueAtTime(time2, 0);
            }
            if (!this._segmentsLength) {
              this._segmentsLength = bez.getSegmentsLength(shapePath);
            }
            var segmentsLength = this._segmentsLength;
            var lengths = segmentsLength.lengths;
            var lengthPos = segmentsLength.totalLength * perc;
            var i3 = 0;
            var len = lengths.length;
            var accumulatedLength = 0;
            var pt3;
            while (i3 < len) {
              if (accumulatedLength + lengths[i3].addedLength > lengthPos) {
                var initIndex = i3;
                var endIndex = shapePath.c && i3 === len - 1 ? 0 : i3 + 1;
                var segmentPerc = (lengthPos - accumulatedLength) / lengths[i3].addedLength;
                pt3 = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i3]);
                break;
              } else {
                accumulatedLength += lengths[i3].addedLength;
              }
              i3 += 1;
            }
            if (!pt3) {
              pt3 = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];
            }
            return pt3;
          },
          vectorOnPath: function vectorOnPath(perc, time2, vectorType) {
            if (perc == 1) {
              perc = this.v.c;
            } else if (perc == 0) {
              perc = 0.999;
            }
            var pt1 = this.pointOnPath(perc, time2);
            var pt22 = this.pointOnPath(perc + 1e-3, time2);
            var xLength = pt22[0] - pt1[0];
            var yLength = pt22[1] - pt1[1];
            var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));
            if (magnitude === 0) {
              return [0, 0];
            }
            var unitVector = vectorType === "tangent" ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];
            return unitVector;
          },
          tangentOnPath: function tangentOnPath(perc, time2) {
            return this.vectorOnPath(perc, time2, "tangent");
          },
          normalOnPath: function normalOnPath(perc, time2) {
            return this.vectorOnPath(perc, time2, "normal");
          },
          setGroupProperty: expressionHelpers.setGroupProperty,
          getValueAtTime: expressionHelpers.getStaticValueAtTime
        };
        extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);
        extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);
        KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;
        KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;
        var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;
        ShapePropertyFactory.getShapeProp = function(elem2, data2, type, arr, trims) {
          var prop = propertyGetShapeProp(elem2, data2, type, arr, trims);
          prop.propertyIndex = data2.ix;
          prop.lock = false;
          if (type === 3) {
            expressionHelpers.searchExpressions(elem2, data2.pt, prop);
          } else if (type === 4) {
            expressionHelpers.searchExpressions(elem2, data2.ks, prop);
          }
          if (prop.k) {
            elem2.addDynamicProperty(prop);
          }
          return prop;
        };
      }
      function initialize$1() {
        addPropertyDecorator();
      }
      function addDecorator() {
        function searchExpressions() {
          if (this.data.d.x) {
            this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);
            this.addEffect(this.getExpressionValue.bind(this));
            return true;
          }
          return null;
        }
        TextProperty.prototype.getExpressionValue = function(currentValue, text2) {
          var newValue = this.calculateExpression(text2);
          if (currentValue.t !== newValue) {
            var newData = {};
            this.copyData(newData, currentValue);
            newData.t = newValue.toString();
            newData.__complete = false;
            return newData;
          }
          return currentValue;
        };
        TextProperty.prototype.searchProperty = function() {
          var isKeyframed = this.searchKeyframes();
          var hasExpressions = this.searchExpressions();
          this.kf = isKeyframed || hasExpressions;
          return this.kf;
        };
        TextProperty.prototype.searchExpressions = searchExpressions;
      }
      function initialize() {
        addDecorator();
      }
      function SVGComposableEffect() {
      }
      SVGComposableEffect.prototype = {
        createMergeNode: function createMergeNode(resultId, ins) {
          var feMerge = createNS("feMerge");
          feMerge.setAttribute("result", resultId);
          var feMergeNode;
          var i3;
          for (i3 = 0; i3 < ins.length; i3 += 1) {
            feMergeNode = createNS("feMergeNode");
            feMergeNode.setAttribute("in", ins[i3]);
            feMerge.appendChild(feMergeNode);
            feMerge.appendChild(feMergeNode);
          }
          return feMerge;
        }
      };
      var linearFilterValue = "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";
      function SVGTintFilter(filter, filterManager, elem2, id, source) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "linearRGB");
        feColorMatrix.setAttribute("values", linearFilterValue + " 1 0");
        this.linearFilter = feColorMatrix;
        feColorMatrix.setAttribute("result", id + "_tint_1");
        filter.appendChild(feColorMatrix);
        feColorMatrix = createNS("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
        feColorMatrix.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0");
        feColorMatrix.setAttribute("result", id + "_tint_2");
        filter.appendChild(feColorMatrix);
        this.matrixFilter = feColorMatrix;
        var feMerge = this.createMergeNode(id, [source, id + "_tint_1", id + "_tint_2"]);
        filter.appendChild(feMerge);
      }
      extendPrototype([SVGComposableEffect], SVGTintFilter);
      SVGTintFilter.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var colorBlack = this.filterManager.effectElements[0].p.v;
          var colorWhite = this.filterManager.effectElements[1].p.v;
          var opacity = this.filterManager.effectElements[2].p.v / 100;
          this.linearFilter.setAttribute("values", linearFilterValue + " " + opacity + " 0");
          this.matrixFilter.setAttribute("values", colorWhite[0] - colorBlack[0] + " 0 0 0 " + colorBlack[0] + " " + (colorWhite[1] - colorBlack[1]) + " 0 0 0 " + colorBlack[1] + " " + (colorWhite[2] - colorBlack[2]) + " 0 0 0 " + colorBlack[2] + " 0 0 0 1 0");
        }
      };
      function SVGFillFilter(filter, filterManager, elem2, id) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
        feColorMatrix.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0");
        feColorMatrix.setAttribute("result", id);
        filter.appendChild(feColorMatrix);
        this.matrixFilter = feColorMatrix;
      }
      SVGFillFilter.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var color = this.filterManager.effectElements[2].p.v;
          var opacity = this.filterManager.effectElements[6].p.v;
          this.matrixFilter.setAttribute("values", "0 0 0 0 " + color[0] + " 0 0 0 0 " + color[1] + " 0 0 0 0 " + color[2] + " 0 0 0 " + opacity + " 0");
        }
      };
      function SVGStrokeEffect(fil, filterManager, elem2) {
        this.initialized = false;
        this.filterManager = filterManager;
        this.elem = elem2;
        this.paths = [];
      }
      SVGStrokeEffect.prototype.initialize = function() {
        var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;
        var path;
        var groupPath;
        var i3;
        var len;
        if (this.filterManager.effectElements[1].p.v === 1) {
          len = this.elem.maskManager.masksProperties.length;
          i3 = 0;
        } else {
          i3 = this.filterManager.effectElements[0].p.v - 1;
          len = i3 + 1;
        }
        groupPath = createNS("g");
        groupPath.setAttribute("fill", "none");
        groupPath.setAttribute("stroke-linecap", "round");
        groupPath.setAttribute("stroke-dashoffset", 1);
        for (i3; i3 < len; i3 += 1) {
          path = createNS("path");
          groupPath.appendChild(path);
          this.paths.push({
            p: path,
            m: i3
          });
        }
        if (this.filterManager.effectElements[10].p.v === 3) {
          var mask2 = createNS("mask");
          var id = createElementID();
          mask2.setAttribute("id", id);
          mask2.setAttribute("mask-type", "alpha");
          mask2.appendChild(groupPath);
          this.elem.globalData.defs.appendChild(mask2);
          var g5 = createNS("g");
          g5.setAttribute("mask", "url(" + getLocationHref() + "#" + id + ")");
          while (elemChildren[0]) {
            g5.appendChild(elemChildren[0]);
          }
          this.elem.layerElement.appendChild(g5);
          this.masker = mask2;
          groupPath.setAttribute("stroke", "#fff");
        } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {
          if (this.filterManager.effectElements[10].p.v === 2) {
            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;
            while (elemChildren.length) {
              this.elem.layerElement.removeChild(elemChildren[0]);
            }
          }
          this.elem.layerElement.appendChild(groupPath);
          this.elem.layerElement.removeAttribute("mask");
          groupPath.setAttribute("stroke", "#fff");
        }
        this.initialized = true;
        this.pathMasker = groupPath;
      };
      SVGStrokeEffect.prototype.renderFrame = function(forceRender) {
        if (!this.initialized) {
          this.initialize();
        }
        var i3;
        var len = this.paths.length;
        var mask2;
        var path;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.paths[i3].m !== -1) {
            mask2 = this.elem.maskManager.viewData[this.paths[i3].m];
            path = this.paths[i3].p;
            if (forceRender || this.filterManager._mdf || mask2.prop._mdf) {
              path.setAttribute("d", mask2.lastPath);
            }
            if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask2.prop._mdf) {
              var dasharrayValue;
              if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {
                var s2 = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;
                var e2 = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;
                var l4 = path.getTotalLength();
                dasharrayValue = "0 0 0 " + l4 * s2 + " ";
                var lineLength = l4 * (e2 - s2);
                var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;
                var units = Math.floor(lineLength / segment);
                var j4;
                for (j4 = 0; j4 < units; j4 += 1) {
                  dasharrayValue += "1 " + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + " ";
                }
                dasharrayValue += "0 " + l4 * 10 + " 0 0";
              } else {
                dasharrayValue = "1 " + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;
              }
              path.setAttribute("stroke-dasharray", dasharrayValue);
            }
          }
        }
        if (forceRender || this.filterManager.effectElements[4].p._mdf) {
          this.pathMasker.setAttribute("stroke-width", this.filterManager.effectElements[4].p.v * 2);
        }
        if (forceRender || this.filterManager.effectElements[6].p._mdf) {
          this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v);
        }
        if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {
          if (forceRender || this.filterManager.effectElements[3].p._mdf) {
            var color = this.filterManager.effectElements[3].p.v;
            this.pathMasker.setAttribute("stroke", "rgb(" + bmFloor(color[0] * 255) + "," + bmFloor(color[1] * 255) + "," + bmFloor(color[2] * 255) + ")");
          }
        }
      };
      function SVGTritoneFilter(filter, filterManager, elem2, id) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "linearRGB");
        feColorMatrix.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0");
        filter.appendChild(feColorMatrix);
        var feComponentTransfer = createNS("feComponentTransfer");
        feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
        feComponentTransfer.setAttribute("result", id);
        this.matrixFilter = feComponentTransfer;
        var feFuncR = createNS("feFuncR");
        feFuncR.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncR);
        this.feFuncR = feFuncR;
        var feFuncG = createNS("feFuncG");
        feFuncG.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncG);
        this.feFuncG = feFuncG;
        var feFuncB = createNS("feFuncB");
        feFuncB.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncB);
        this.feFuncB = feFuncB;
        filter.appendChild(feComponentTransfer);
      }
      SVGTritoneFilter.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var color1 = this.filterManager.effectElements[0].p.v;
          var color2 = this.filterManager.effectElements[1].p.v;
          var color3 = this.filterManager.effectElements[2].p.v;
          var tableR = color3[0] + " " + color2[0] + " " + color1[0];
          var tableG = color3[1] + " " + color2[1] + " " + color1[1];
          var tableB = color3[2] + " " + color2[2] + " " + color1[2];
          this.feFuncR.setAttribute("tableValues", tableR);
          this.feFuncG.setAttribute("tableValues", tableG);
          this.feFuncB.setAttribute("tableValues", tableB);
        }
      };
      function SVGProLevelsFilter(filter, filterManager, elem2, id) {
        this.filterManager = filterManager;
        var effectElements = this.filterManager.effectElements;
        var feComponentTransfer = createNS("feComponentTransfer");
        if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {
          this.feFuncR = this.createFeFunc("feFuncR", feComponentTransfer);
        }
        if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {
          this.feFuncG = this.createFeFunc("feFuncG", feComponentTransfer);
        }
        if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {
          this.feFuncB = this.createFeFunc("feFuncB", feComponentTransfer);
        }
        if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {
          this.feFuncA = this.createFeFunc("feFuncA", feComponentTransfer);
        }
        if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {
          feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
          filter.appendChild(feComponentTransfer);
        }
        if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {
          feComponentTransfer = createNS("feComponentTransfer");
          feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
          feComponentTransfer.setAttribute("result", id);
          filter.appendChild(feComponentTransfer);
          this.feFuncRComposed = this.createFeFunc("feFuncR", feComponentTransfer);
          this.feFuncGComposed = this.createFeFunc("feFuncG", feComponentTransfer);
          this.feFuncBComposed = this.createFeFunc("feFuncB", feComponentTransfer);
        }
      }
      SVGProLevelsFilter.prototype.createFeFunc = function(type, feComponentTransfer) {
        var feFunc = createNS(type);
        feFunc.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFunc);
        return feFunc;
      };
      SVGProLevelsFilter.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {
        var cnt = 0;
        var segments = 256;
        var perc;
        var min = Math.min(inputBlack, inputWhite);
        var max = Math.max(inputBlack, inputWhite);
        var table = Array.call(null, {
          length: segments
        });
        var colorValue;
        var pos = 0;
        var outputDelta = outputWhite - outputBlack;
        var inputDelta = inputWhite - inputBlack;
        while (cnt <= 256) {
          perc = cnt / 256;
          if (perc <= min) {
            colorValue = inputDelta < 0 ? outputWhite : outputBlack;
          } else if (perc >= max) {
            colorValue = inputDelta < 0 ? outputBlack : outputWhite;
          } else {
            colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);
          }
          table[pos] = colorValue;
          pos += 1;
          cnt += 256 / (segments - 1);
        }
        return table.join(" ");
      };
      SVGProLevelsFilter.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var val2;
          var effectElements = this.filterManager.effectElements;
          if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {
            val2 = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);
            this.feFuncRComposed.setAttribute("tableValues", val2);
            this.feFuncGComposed.setAttribute("tableValues", val2);
            this.feFuncBComposed.setAttribute("tableValues", val2);
          }
          if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {
            val2 = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);
            this.feFuncR.setAttribute("tableValues", val2);
          }
          if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {
            val2 = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);
            this.feFuncG.setAttribute("tableValues", val2);
          }
          if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {
            val2 = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);
            this.feFuncB.setAttribute("tableValues", val2);
          }
          if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {
            val2 = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);
            this.feFuncA.setAttribute("tableValues", val2);
          }
        }
      };
      function SVGDropShadowEffect(filter, filterManager, elem2, id, source) {
        var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;
        var filterSize = filterManager.data.fs || globalFilterSize;
        filter.setAttribute("x", filterSize.x || globalFilterSize.x);
        filter.setAttribute("y", filterSize.y || globalFilterSize.y);
        filter.setAttribute("width", filterSize.width || globalFilterSize.width);
        filter.setAttribute("height", filterSize.height || globalFilterSize.height);
        this.filterManager = filterManager;
        var feGaussianBlur = createNS("feGaussianBlur");
        feGaussianBlur.setAttribute("in", "SourceAlpha");
        feGaussianBlur.setAttribute("result", id + "_drop_shadow_1");
        feGaussianBlur.setAttribute("stdDeviation", "0");
        this.feGaussianBlur = feGaussianBlur;
        filter.appendChild(feGaussianBlur);
        var feOffset = createNS("feOffset");
        feOffset.setAttribute("dx", "25");
        feOffset.setAttribute("dy", "0");
        feOffset.setAttribute("in", id + "_drop_shadow_1");
        feOffset.setAttribute("result", id + "_drop_shadow_2");
        this.feOffset = feOffset;
        filter.appendChild(feOffset);
        var feFlood = createNS("feFlood");
        feFlood.setAttribute("flood-color", "#00ff00");
        feFlood.setAttribute("flood-opacity", "1");
        feFlood.setAttribute("result", id + "_drop_shadow_3");
        this.feFlood = feFlood;
        filter.appendChild(feFlood);
        var feComposite = createNS("feComposite");
        feComposite.setAttribute("in", id + "_drop_shadow_3");
        feComposite.setAttribute("in2", id + "_drop_shadow_2");
        feComposite.setAttribute("operator", "in");
        feComposite.setAttribute("result", id + "_drop_shadow_4");
        filter.appendChild(feComposite);
        var feMerge = this.createMergeNode(id, [id + "_drop_shadow_4", source]);
        filter.appendChild(feMerge);
      }
      extendPrototype([SVGComposableEffect], SVGDropShadowEffect);
      SVGDropShadowEffect.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          if (forceRender || this.filterManager.effectElements[4].p._mdf) {
            this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4);
          }
          if (forceRender || this.filterManager.effectElements[0].p._mdf) {
            var col = this.filterManager.effectElements[0].p.v;
            this.feFlood.setAttribute("flood-color", rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));
          }
          if (forceRender || this.filterManager.effectElements[1].p._mdf) {
            this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255);
          }
          if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
            var distance = this.filterManager.effectElements[3].p.v;
            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;
            var x5 = distance * Math.cos(angle);
            var y7 = distance * Math.sin(angle);
            this.feOffset.setAttribute("dx", x5);
            this.feOffset.setAttribute("dy", y7);
          }
        }
      };
      var _svgMatteSymbols = [];
      function SVGMatte3Effect(filterElem, filterManager, elem2) {
        this.initialized = false;
        this.filterManager = filterManager;
        this.filterElem = filterElem;
        this.elem = elem2;
        elem2.matteElement = createNS("g");
        elem2.matteElement.appendChild(elem2.layerElement);
        elem2.matteElement.appendChild(elem2.transformedElement);
        elem2.baseElement = elem2.matteElement;
      }
      SVGMatte3Effect.prototype.findSymbol = function(mask2) {
        var i3 = 0;
        var len = _svgMatteSymbols.length;
        while (i3 < len) {
          if (_svgMatteSymbols[i3] === mask2) {
            return _svgMatteSymbols[i3];
          }
          i3 += 1;
        }
        return null;
      };
      SVGMatte3Effect.prototype.replaceInParent = function(mask2, symbolId) {
        var parentNode = mask2.layerElement.parentNode;
        if (!parentNode) {
          return;
        }
        var children = parentNode.children;
        var i3 = 0;
        var len = children.length;
        while (i3 < len) {
          if (children[i3] === mask2.layerElement) {
            break;
          }
          i3 += 1;
        }
        var nextChild;
        if (i3 <= len - 2) {
          nextChild = children[i3 + 1];
        }
        var useElem = createNS("use");
        useElem.setAttribute("href", "#" + symbolId);
        if (nextChild) {
          parentNode.insertBefore(useElem, nextChild);
        } else {
          parentNode.appendChild(useElem);
        }
      };
      SVGMatte3Effect.prototype.setElementAsMask = function(elem2, mask2) {
        if (!this.findSymbol(mask2)) {
          var symbolId = createElementID();
          var masker = createNS("mask");
          masker.setAttribute("id", mask2.layerId);
          masker.setAttribute("mask-type", "alpha");
          _svgMatteSymbols.push(mask2);
          var defs = elem2.globalData.defs;
          defs.appendChild(masker);
          var symbol = createNS("symbol");
          symbol.setAttribute("id", symbolId);
          this.replaceInParent(mask2, symbolId);
          symbol.appendChild(mask2.layerElement);
          defs.appendChild(symbol);
          var useElem = createNS("use");
          useElem.setAttribute("href", "#" + symbolId);
          masker.appendChild(useElem);
          mask2.data.hd = false;
          mask2.show();
        }
        elem2.setMatte(mask2.layerId);
      };
      SVGMatte3Effect.prototype.initialize = function() {
        var ind = this.filterManager.effectElements[0].p.v;
        var elements = this.elem.comp.elements;
        var i3 = 0;
        var len = elements.length;
        while (i3 < len) {
          if (elements[i3] && elements[i3].data.ind === ind) {
            this.setElementAsMask(this.elem, elements[i3]);
          }
          i3 += 1;
        }
        this.initialized = true;
      };
      SVGMatte3Effect.prototype.renderFrame = function() {
        if (!this.initialized) {
          this.initialize();
        }
      };
      function SVGGaussianBlurEffect(filter, filterManager, elem2, id) {
        filter.setAttribute("x", "-100%");
        filter.setAttribute("y", "-100%");
        filter.setAttribute("width", "300%");
        filter.setAttribute("height", "300%");
        this.filterManager = filterManager;
        var feGaussianBlur = createNS("feGaussianBlur");
        feGaussianBlur.setAttribute("result", id);
        filter.appendChild(feGaussianBlur);
        this.feGaussianBlur = feGaussianBlur;
      }
      SVGGaussianBlurEffect.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var kBlurrinessToSigma = 0.3;
          var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;
          var dimensions = this.filterManager.effectElements[1].p.v;
          var sigmaX = dimensions == 3 ? 0 : sigma;
          var sigmaY = dimensions == 2 ? 0 : sigma;
          this.feGaussianBlur.setAttribute("stdDeviation", sigmaX + " " + sigmaY);
          var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? "wrap" : "duplicate";
          this.feGaussianBlur.setAttribute("edgeMode", edgeMode);
        }
      };
      function TransformEffect() {
      }
      TransformEffect.prototype.init = function(effectsManager) {
        this.effectsManager = effectsManager;
        this.type = effectTypes.TRANSFORM_EFFECT;
        this.matrix = new Matrix();
        this.opacity = -1;
        this._mdf = false;
        this._opMdf = false;
      };
      TransformEffect.prototype.renderFrame = function(forceFrame) {
        this._opMdf = false;
        this._mdf = false;
        if (forceFrame || this.effectsManager._mdf) {
          var effectElements = this.effectsManager.effectElements;
          var anchor = effectElements[0].p.v;
          var position2 = effectElements[1].p.v;
          var isUniformScale = effectElements[2].p.v === 1;
          var scaleHeight = effectElements[3].p.v;
          var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;
          var skew = effectElements[5].p.v;
          var skewAxis = effectElements[6].p.v;
          var rotation2 = effectElements[7].p.v;
          this.matrix.reset();
          this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);
          this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);
          this.matrix.rotate(-rotation2 * degToRads);
          this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);
          this.matrix.translate(position2[0], position2[1], 0);
          this._mdf = true;
          if (this.opacity !== effectElements[8].p.v) {
            this.opacity = effectElements[8].p.v;
            this._opMdf = true;
          }
        }
      };
      function SVGTransformEffect(_4, filterManager) {
        this.init(filterManager);
      }
      extendPrototype([TransformEffect], SVGTransformEffect);
      function CVTransformEffect(effectsManager) {
        this.init(effectsManager);
      }
      extendPrototype([TransformEffect], CVTransformEffect);
      registerRenderer("canvas", CanvasRenderer);
      registerRenderer("html", HybridRenderer);
      registerRenderer("svg", SVGRenderer);
      ShapeModifiers.registerModifier("tm", TrimModifier);
      ShapeModifiers.registerModifier("pb", PuckerAndBloatModifier);
      ShapeModifiers.registerModifier("rp", RepeaterModifier);
      ShapeModifiers.registerModifier("rd", RoundCornersModifier);
      ShapeModifiers.registerModifier("zz", ZigZagModifier);
      ShapeModifiers.registerModifier("op", OffsetPathModifier);
      setExpressionsPlugin(Expressions);
      setExpressionInterfaces(getInterface);
      initialize$1();
      initialize();
      registerEffect$1(20, SVGTintFilter, true);
      registerEffect$1(21, SVGFillFilter, true);
      registerEffect$1(22, SVGStrokeEffect, false);
      registerEffect$1(23, SVGTritoneFilter, true);
      registerEffect$1(24, SVGProLevelsFilter, true);
      registerEffect$1(25, SVGDropShadowEffect, true);
      registerEffect$1(28, SVGMatte3Effect, false);
      registerEffect$1(29, SVGGaussianBlurEffect, true);
      registerEffect$1(35, SVGTransformEffect, false);
      registerEffect(35, CVTransformEffect);
      return lottie;
    });
  }
});

// node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/App-a86735fb.js
var require_App_a86735fb = __commonJS({
  "node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/App-a86735fb.js"() {
    "use strict";
    var n4 = require_index_9f980d8f();
    var e2 = require_qr_code_styling();
    var t2 = require_lottie();
    function o3(n5) {
      return n5 && "object" == typeof n5 && "default" in n5 ? n5 : { default: n5 };
    }
    init_esm11(), init_esm(), require_es5();
    var l4 = o3(e2);
    var a4 = o3(t2);
    function i3(n5, e3) {
      void 0 === e3 && (e3 = {});
      var t3 = e3.insertAt;
      if (n5 && "undefined" != typeof document) {
        var o4 = document.head || document.getElementsByTagName("head")[0], l5 = document.createElement("style");
        l5.type = "text/css", "top" === t3 && o4.firstChild ? o4.insertBefore(l5, o4.firstChild) : o4.appendChild(l5), l5.styleSheet ? l5.styleSheet.cssText = n5 : l5.appendChild(document.createTextNode(n5));
      }
    }
    var d3 = ".defly-wallet-modal-header {\n  position: absolute;\n  top: -44px;\n  right: 0px;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.defly-wallet-modal-header--mobile {\n  position: static;\n}\n.defly-wallet-modal-header--mobile .defly-wallet-modal-header__close-button {\n  width: 24px;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: unset;\n  box-shadow: unset;\n}\n\n.defly-wallet-modal-header__brand {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: -0.13px;\n  color: #ffffff;\n}\n\n.defly-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.defly-wallet-modal-header__close-button {\n  width: 40px;\n  height: 40px;\n  margin: 0;\n  padding: 0;\n  background: #333333;\n  border: 1.5px solid rgba(255, 255, 255, 0.08);\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);\n  border-radius: 100%;\n}\n\n.defly-wallet-modal-header__close-button__close-icon {\n  width: 20px;\n  height: 20px;\n}";
    i3(d3);
    function s2() {
      return document.documentElement.clientWidth <= 935;
    }
    function c3() {
      document.documentElement.style.setProperty("--vh", 0.01 * window.innerHeight + "px");
    }
    var r3 = document.createElement("template");
    var p6 = n4.isMobile() ? "defly-wallet-modal-header defly-wallet-modal-header--mobile" : "defly-wallet-modal-header defly-wallet-modal-header--desktop";
    r3.innerHTML = `
  <div class="${p6}">
      ${s2() && n4.isMobile() ? "" : `<div class="defly-wallet-modal-header__brand">
              <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 36 36'%3e %3cg transform='translate(18090 -8429)'%3e %3cg transform='translate(-18227.732 8408.374)'%3e %3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e %3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e" />

              Defly Connect
            </div>
            `} 

      <button
        id="defly-wallet-modal-header-close-button"
        class="defly-wallet-button defly-wallet-modal-header__close-button">
        <img
          class="defly-wallet-modal-header__close-button__close-icon"
          src="${s2() && n4.isMobile() ? "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%23999999' stroke-width='2'/%3e%3c/svg%3e" : "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e"}"
        />
      </button>
    </div>
`;
    var m3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = d3, this.shadowRoot.append(r3.content.cloneNode(true), n5), this.onClose();
        }
      }
      onClose() {
        var e3;
        const t3 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("defly-wallet-modal-header-close-button"), o4 = this.getAttribute("modal-id");
        t3 && o4 === n4.DEFLY_WALLET_REDIRECT_MODAL_ID && t3.addEventListener("click", () => {
          n4.removeModalWrapperFromDOM(n4.DEFLY_WALLET_REDIRECT_MODAL_ID);
        });
      }
    };
    var f3 = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='36' height='36' viewBox='0 0 36 36'%3e%3cg transform='translate(18090 -8429)'%3e%3cg transform='translate(-18090 8428)'%3e%3crect width='36' height='36' rx='18' transform='translate(0 1)'/%3e%3c/g%3e%3cg transform='translate(-18227.732 8408.374)'%3e%3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e%3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e";
    var w4 = ".defly-wallet-download-qr-code-wrapper {\n  width: fit-content;\n  margin: 0 auto;\n  display: flex;\n  background-color: #ffffff;\n  box-shadow: 0 12px 32px rgba(26, 35, 91, 0.1);\n  border-radius: 30px;\n  align-items: center;\n  justify-content: center;\n  padding: 15px;\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-download-qr-code-wrapper {\n    margin-top: 32px;\n  }\n}";
    i3(w4);
    var x5 = n4.isAndroid() ? "algorand://" : "defly-wc://";
    var y7 = document.createElement("template");
    y7.innerHTML = '\n  <div id="defly-wallet-download-qr-code-wrapper" class="defly-wallet-download-qr-code-wrapper"></div>  \n';
    var h6 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = w4, this.shadowRoot.append(y7.content.cloneNode(true), n5);
        }
      }
      connectedCallback() {
        var n5;
        const e3 = new l4.default({ width: 250, height: 250, type: "svg", data: "https://defly.app/", image: f3, dotsOptions: { color: "#000", type: "dots" }, imageOptions: { crossOrigin: "anonymous", margin: 10 }, cornersSquareOptions: { type: "extra-rounded" }, cornersDotOptions: { type: "dot" } }), t3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-download-qr-code-wrapper");
        t3 && e3.append(t3);
      }
    };
    var g5 = ".defly-wallet-connect-modal-desktop-mode {\n  display: grid;\n  grid-template-columns: 50% auto;\n  gap: 24px;\n  align-items: center;\n}\n.defly-wallet-connect-modal-desktop-mode--default .defly-wallet-connect-modal-desktop-mode__default-view {\n  display: block;\n}\n.defly-wallet-connect-modal-desktop-mode--default .defly-wallet-connect-modal-desktop-mode__download-view {\n  display: none;\n}\n.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__default-view {\n  display: none;\n}\n.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__download-view {\n  display: block;\n}\n.defly-wallet-connect-modal-desktop-mode--download .defly-wallet-connect-modal-desktop-mode__download-view .defly-wallet-connect-modal-download-defly-view__footer a {\n  display: flex;\n  cursor: pointer;\n}\n.defly-wallet-connect-modal-desktop-mode--select-account {\n  width: 100%;\n  height: 100%;\n}\n.defly-wallet-connect-modal-desktop-mode--select-account.defly-wallet-connect-modal-desktop-mode--default {\n  overflow: hidden;\n}\n.defly-wallet-connect-modal-desktop-mode--select-account .defly-wallet-accordion {\n  overflow: hidden;\n}\n.defly-wallet-connect-modal-desktop-mode--select-account #defly-wallet-iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n}\n\n.defly-wallet-connect-modal-desktop-mode__accordion__description,\n.defly-wallet-connect-modal-desktop-mode__connect-button-wrapper {\n  padding: 0 40px 20px 64px;\n}\n\n.defly-wallet-connect-modal-desktop-mode__connect-button {\n  display: block;\n  width: 100%;\n  height: 48px;\n  border: unset;\n  border-radius: 6px;\n  background-color: #333333;\n  color: white;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 13px;\n}\n\n.defly-wallet-connect-qr-code-wrapper {\n  width: fit-content;\n  padding: 10px;\n  margin: 0 auto;\n  display: flex;\n  background-color: #ffffff;\n  box-shadow: 0 12px 32px rgba(26, 35, 91, 0.1);\n  border-radius: 30px;\n}\n\n.defly-wallet-connect-qr-code-wrapper {\n  margin-top: 30px;\n  cursor: pointer;\n}\n\n.defly-wallet-download-qr-code__image {\n  width: 300px;\n  height: 300px;\n}\n\n.defly-wallet-accordion-copy-button {\n  display: block;\n  width: 100%;\n  color: #696868;\n  text-align: center;\n  margin-top: 15px;\n  cursor: pointer;\n  font-size: 12px;\n  line-height: 16px;\n  letter-spacing: -0.1px;\n  font-weight: 400;\n  transition: all ease-in 0.2s;\n}\n.defly-wallet-accordion-copy-button:hover {\n  color: #999999;\n}\n\n.defly-wallet-connect-modal-desktop-mode__scan-defly-description {\n  color: #999999;\n  text-align: center;\n  margin: 15px 0 12px;\n  font-size: 22px;\n  font-weight: 600;\n  line-height: 26px;\n  letter-spacing: 0.2px;\n}\n.defly-wallet-connect-modal-desktop-mode__scan-defly-description a {\n  color: #999999;\n}\n.defly-wallet-connect-modal-desktop-mode__scan-defly-description a:hover {\n  color: #696868;\n}\n\n.defly-wallet-connect-modal-desktop-mode__download-defly-description {\n  color: #696868;\n  text-align: center;\n  margin: 32px 0 12px;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.04px;\n}\n\n.defly-wallet-connect-modal-download-defly-view__back-button {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 14px;\n  padding: 12px 24px;\n  color: #3c3c49;\n  background-color: #ffffff;\n  outline: none;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border: unset;\n  border-radius: 24px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  cursor: pointer;\n}\n\n.defly-wallet-connect-modal-download-defly-view {\n  padding: 20px;\n  background-color: #333333;\n  border-radius: 30px;\n}\n\n.defly-wallet-connect-modal-download-defly-view__title {\n  margin-bottom: 15px;\n  color: #999999;\n  font-weight: 600;\n  font-size: 22px;\n  line-height: 24px;\n  text-align: center;\n  letter-spacing: 0.2px;\n}\n\n.defly-wallet-connect-modal-download-defly-view__footer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 20px;\n}\n\n.defly-wallet-connect-modal-download-defly-view__footer__button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 16px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  text-decoration: none;\n  border-radius: 12px;\n  font-weight: 500;\n  font-size: 13px;\n  line-height: 200%;\n  letter-spacing: -0.04px;\n  cursor: pointer;\n}\n\n#defly-wallet-iframe {\n  width: 285px;\n  height: 376px;\n  margin: 0 auto;\n  border: none;\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-connect-modal-desktop-mode {\n    grid-template-columns: 1fr;\n    gap: 24px;\n  }\n  .defly-wallet-connect-qr-code-wrapper {\n    margin-top: 16px;\n  }\n  .defly-wallet-connect-modal-download-defly-view {\n    padding: 24px;\n  }\n  .defly-wallet-connect-modal-download-defly-view__footer {\n    margin-top: 40px;\n  }\n}";
    i3(g5);
    var u4 = ".defly-wallet-accordion-item:not(:last-of-type) {\n  margin-bottom: 20px;\n}\n.defly-wallet-accordion-item:not(:last-of-type) .defly-wallet-accordion-panel {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.defly-wallet-accordion-item .defly-wallet-accordion-item__content {\n  height: 0;\n  overflow: hidden;\n  color: #696868;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 16px;\n  letter-spacing: -0.1px;\n  transition: height ease-in 0.2s;\n}\n.defly-wallet-accordion-item--active .defly-wallet-accordion-item__content {\n  height: 494px;\n  transition: height ease-in 0.2s;\n}\n\n.defly-wallet-accordion-toggle {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 12px 24px;\n  color: #2c3559;\n  background-color: #ffffff;\n  border: none;\n  border-radius: 24px;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 18px;\n  letter-spacing: -0.1px;\n  font-weight: 600;\n  transition: all ease-in 0.2s;\n}\n.defly-wallet-accordion-toggle__text, .defly-wallet-accordion-toggle__content-with-label__text {\n  color: #6a6a81;\n}\n\n.defly-wallet-accordion-toggle__bold-color {\n  color: #3c3c49;\n  font-weight: 600;\n}\n\n.defly-wallet-accordion-toggle__content-with-label {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.defly-wallet-accordion-toggle__label {\n  padding: 4px 9px;\n  color: #00b19e;\n  background: rgba(0, 177, 158, 0.08);\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n}\n\n.defly-wallet-accordion-toggle__button {\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  cursor: pointer;\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-accordion-toggle {\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: -0.1px;\n  }\n}";
    i3(u4);
    var _4 = document.createElement("template");
    var k3 = document.createElement("style");
    var v2 = document.createElement("style");
    k3.textContent = g5, v2.textContent = u4;
    _4.innerHTML = `
  <div id="defly-wallet-connect-modal-desktop-mode" class="defly-wallet-connect-modal-desktop-mode defly-wallet-connect-modal-desktop-mode--default">
      <defly-wallet-connect-modal-information-section></defly-wallet-connect-modal-information-section>

      <div class="defly-wallet-connect-modal-desktop-mode__default-view">

        <div class="defly-wallet-accordion-item defly-wallet-accordion-item--active">

          <div class="defly-wallet-accordion-item__content">
            <div id="defly-wallet-connect-modal-connect-qr-code" class="defly-wallet-connect-qr-code-wrapper f_copy-button"></div>

            <div class="defly-wallet-accordion-copy-button f_copy-button">Tap to copy</div>
            <p class="defly-wallet-connect-modal-desktop-mode__scan-defly-description">
                Scan with <a href="https://defly.app/">Defly Wallet</a>
            </p>

            
          </div>
        </div>
      </div>

      <div class="defly-wallet-connect-modal-desktop-mode__download-view">
        <button id="defly-wallet-connect-modal-download-defly-view-back-button" class="defly-wallet-connect-modal-download-defly-view__back-button">
          <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e" alt="Back Arrow" /> Back
        </button>

        <div class="defly-wallet-connect-modal-download-defly-view">
          <h1 class="defly-wallet-connect-modal-download-defly-view__title">
            Download Defly Wallet
          </h1>

          <defly-wallet-download-qr-code></defly-wallet-download-qr-code>

          <div class="defly-wallet-connect-modal-download-defly-view__footer">
            <a
              href="https://apps.apple.com/us/app/defly/id1602672723"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e" alt="App Store icon" />
            </a>

            <a
              href="https://play.google.com/store/apps/details?id=io.blockshake.defly.app"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e" alt="Play Store icon" />
            </a>

          </div>
        </div>
      </div>
    </div>
  `;
    var b3 = class extends HTMLElement {
      constructor() {
        super(), this.attachShadow({ mode: "open" }), this.shadowRoot && (this.shadowRoot.append(_4.content.cloneNode(true), k3, v2), this.shadowRoot.addEventListener("click", (n5) => {
          this.handleAccordion(n5);
        }));
      }
      connectedCallback() {
        this.handleChangeView();
      }
      handleChangeView() {
        var n5, e3, t3;
        const o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-connect-modal-desktop-mode-download-defly-button"), l5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("defly-wallet-connect-modal-download-defly-view-back-button"), a5 = null === (t3 = this.shadowRoot) || void 0 === t3 ? void 0 : t3.querySelectorAll(".f_copy-button");
        o4 && o4.addEventListener("click", () => {
          this.onClickDownload();
        }), l5 && l5.addEventListener("click", () => {
          this.onClickBack();
        }), a5 && a5.length && a5.forEach((n6) => {
          n6.addEventListener("click", () => {
            this.onClickCopy();
          });
        }), this.renderQRCode();
      }
      handleAccordion(n5) {
        var e3, t3;
        if (n5.target instanceof Element) {
          if (!n5.target.classList.contains("defly-wallet-accordion-toggle__button"))
            return;
          if (this.shadowRoot && (null === (e3 = n5.target.parentElement) || void 0 === e3 ? void 0 : e3.parentElement)) {
            const e4 = null === (t3 = n5.target.parentElement) || void 0 === t3 ? void 0 : t3.parentElement;
            if (!e4)
              return;
            if (e4.classList.contains("defly-wallet-accordion-item--active"))
              return;
            const o4 = this.shadowRoot.querySelectorAll(".defly-wallet-accordion-item.defly-wallet-accordion-item--active");
            for (let n6 = 0; n6 < o4.length; n6++)
              o4[n6].classList.remove("defly-wallet-accordion-item--active");
            e4.classList.toggle("defly-wallet-accordion-item--active");
          }
        }
      }
      renderQRCode() {
        var n5;
        const e3 = this.getAttribute("uri");
        if (e3) {
          const t3 = new l4.default({ width: 330, height: 330, type: "svg", data: e3, image: f3, dotsOptions: { color: "#000", type: "dots" }, imageOptions: { imageSize: 0.21, crossOrigin: "anonymous" }, cornersSquareOptions: { type: "extra-rounded" }, cornersDotOptions: { type: "dot" } }), o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-connect-modal-connect-qr-code");
          o4 && t3.append(o4);
        }
      }
      onClickDownload() {
        if (this.shadowRoot) {
          const n5 = this.shadowRoot.getElementById("defly-wallet-connect-modal-desktop-mode");
          n5 && (n5.classList.remove("defly-wallet-connect-modal-desktop-mode--default"), n5.classList.add("defly-wallet-connect-modal-desktop-mode--download"));
        }
      }
      onClickCopy() {
        if (this.shadowRoot) {
          const n5 = this.getAttribute("uri");
          if (n5) {
            const e3 = document.createElement("textarea");
            e3.style.position = "fixed", e3.style.left = "0", e3.style.top = "0", e3.style.opacity = "0", e3.value = n5, document.body.appendChild(e3), e3.focus(), e3.select(), document.execCommand("copy"), document.body.removeChild(e3);
          }
        }
      }
      onClickBack() {
        if (this.shadowRoot) {
          const n5 = this.shadowRoot.getElementById("defly-wallet-connect-modal-desktop-mode");
          n5 && (n5.classList.add("defly-wallet-connect-modal-desktop-mode--default"), n5.classList.remove("defly-wallet-connect-modal-desktop-mode--download"));
        }
      }
    };
    function E5(e3 = true) {
      let t3 = x5;
      const o4 = n4.detectBrowser();
      return e3 && o4 && (t3 = `${t3}?browser=${encodeURIComponent(o4)}`), t3;
    }
    var C3 = ".defly-wallet-connect-modal-touch-screen-mode {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 46px;\n  padding: 4px;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode--pending-message-view {\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding-bottom: 70px;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button,\n.defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button {\n  display: block;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 15px;\n  line-height: 26px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  margin: 0 40px;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button {\n  margin-bottom: 45px;\n  background: linear-gradient(90deg, #3E38B9, #413AAA);\n  color: #ffffff;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button {\n  margin-bottom: 20px;\n  background-color: #494949;\n  color: #ffffff;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box {\n  position: relative;\n  margin-bottom: 5px;\n}\n\n.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text {\n  color: #999999;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.04px;\n  text-align: center;\n}\n.defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text a {\n  color: inherit;\n}";
    i3(C3);
    var L3 = document.createElement("template");
    var D4 = class extends HTMLElement {
      constructor() {
        var e3;
        if (super(), this.attachShadow({ mode: "open" }), L3.innerHTML = '\n  <div class="defly-wallet-connect-modal-touch-screen-mode">\n    <defly-wallet-connect-modal-information-section></defly-wallet-connect-modal-information-section>\n\n    <div>\n      <a\n        id="defly-wallet-connect-modal-touch-screen-mode-launch-defly-wallet-button"\n        class="defly-wallet-connect-modal-touch-screen-mode__launch-defly-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Launch Defly Wallet\n      </a>\n\n      <div\n        class="defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box">\n        <p class="defly-wallet-connect-modal-touch-screen-mode__new-to-defly-box__text">\n          New to <a href="https://defly.app/">Defly Wallet</a>?\n        </p>\n      </div>\n\n      <a\n        href="https://defly.app/download.html"\n        class="defly-wallet-connect-modal-touch-screen-mode__install-defly-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Install Defly Wallet\n      </a>\n    </div>\n  </div>\n', this.shadowRoot) {
          const t3 = document.createElement("style");
          t3.textContent = C3, this.shadowRoot.append(L3.content.cloneNode(true), t3);
          const o4 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("defly-wallet-connect-modal-touch-screen-mode-launch-defly-wallet-button"), l5 = this.getAttribute("uri");
          o4 && l5 && (o4.setAttribute("href", function(e4) {
            let t4 = E5(false);
            n4.isIOS() && !t4.includes("-wc") && (t4 = t4.replace("://", "-wc://"));
            let o5 = `${t4}wc?uri=${encodeURIComponent(e4)}`;
            const l6 = n4.detectBrowser();
            return n4.isAndroid() && (o5 = e4), l6 && (o5 = `${o5}&browser=${encodeURIComponent(l6)}`), o5;
          }(l5)), o4.addEventListener("click", () => {
            this.onClickLaunch();
          }));
        }
      }
      onClickLaunch() {
        if (L3.innerHTML = `
    <div class="defly-wallet-connect-modal-touch-screen-mode defly-wallet-connect-modal-touch-screen-mode--pending-message-view">
      <defly-wallet-connect-modal-pending-message-section should-use-sound="${this.getAttribute("should-use-sound")}"></defly-wallet-connect-modal-pending-message-section>
    </div>
  `, this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = C3, this.shadowRoot.innerHTML = "", this.shadowRoot.append(L3.content.cloneNode(true), n5);
        }
      }
    };
    var A3 = '@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");\n@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");\n.defly-wallet-modal {\n  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;\n  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.defly-wallet-modal--select-account .defly-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 20px;\n  width: calc(100% - 40px);\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body::before {\n  background-image: unset;\n}\n.defly-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.defly-wallet-modal ul,\n.defly-wallet-modal ol,\n.defly-wallet-modal li {\n  list-style-type: none;\n}\n\n.defly-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.defly-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.defly-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 979px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 40px;\n  animation: 0.3s DeflyWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-modal--desktop .defly-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DeflyWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DeflyWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}';
    i3(A3);
    var S3 = document.createElement("template");
    var M3 = n4.isMobile() ? `${n4.DEFLY_WALLET_MODAL_CLASSNAME} ${n4.DEFLY_WALLET_MODAL_CLASSNAME}--mobile` : `${n4.DEFLY_WALLET_MODAL_CLASSNAME} ${n4.DEFLY_WALLET_MODAL_CLASSNAME}--desktop`;
    var B3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = A3, n4.isMobile() ? (S3.innerHTML = `
        <div class="${M3}">
          <div class="defly-wallet-modal__body" part="body">
            <defly-wallet-modal-header modal-id="${n4.DEFLY_WALLET_CONNECT_MODAL_ID}"></defly-wallet-modal-header/>
      
            <defly-wallet-modal-touch-screen-mode uri="${this.getAttribute("uri")}" should-use-sound="${this.getAttribute("should-use-sound")}"></defly-wallet-modal-touch-screen-mode>
          </div>
        </div>
      `, this.shadowRoot.append(S3.content.cloneNode(true), e3)) : (S3.innerHTML = `
          <div class="${M3}">
            <div class="defly-wallet-modal__body">
              <defly-wallet-modal-header modal-id="${n4.DEFLY_WALLET_CONNECT_MODAL_ID}"></defly-wallet-modal-header/>
        
              <defly-wallet-modal-desktop-mode id="defly-wallet-modal-desktop-mode" uri="${this.getAttribute("uri")}">
              </defly-wallet-modal-desktop-mode>
            </div>
          </div>
        `, this.shadowRoot.append(S3.content.cloneNode(true), e3));
        }
      }
    };
    var F3 = '@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");\n@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");\n.defly-wallet-modal {\n  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;\n  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.defly-wallet-modal--select-account .defly-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 20px;\n  width: calc(100% - 40px);\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body::before {\n  background-image: unset;\n}\n.defly-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.defly-wallet-modal ul,\n.defly-wallet-modal ol,\n.defly-wallet-modal li {\n  list-style-type: none;\n}\n\n.defly-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.defly-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.defly-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 979px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 40px;\n  animation: 0.3s DeflyWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-modal--desktop .defly-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DeflyWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DeflyWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.defly-wallet-redirect-modal {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.defly-wallet-redirect-modal__content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.defly-wallet-redirect-modal__content__title {\n  margin: 20px 0 8px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 22px;\n  letter-spacing: -0.26px;\n}\n\n.defly-wallet-redirect-modal__content__description,\n.defly-wallet-redirect-modal__content__install-defly-text {\n  color: #3c3c49;\n  max-width: 271px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.defly-wallet-redirect-modal__content__description {\n  margin-bottom: 24px;\n}\n\n.defly-wallet-redirect-modal__content__install-defly-text__link {\n  color: #6b46fe;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.defly-wallet-redirect-modal__launch-defly-wallet-button {\n  display: block;\n  padding: 14px;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n}';
    i3(F3);
    var R3 = document.createElement("template");
    R3.innerHTML = `
  <div class="defly-wallet-modal defly-wallet-modal--mobile">
    <div class="defly-wallet-modal__body">
    <defly-wallet-modal-header modal-id="${n4.DEFLY_WALLET_REDIRECT_MODAL_ID}"></pera-wallet-modal-header/>
      <div class="defly-wallet-redirect-modal">
        <div class="defly-wallet-redirect-modal__content">
          <img src="data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' width='120' height='38' viewBox='0 0 120 38'%3e %3cdefs%3e %3cclipPath id='a'%3e %3crect width='120' height='38' fill='white'/%3e %3c/clipPath%3e %3c/defs%3e %3cg transform='translate(18090 -8428)'%3e %3cg transform='translate(-18090 8428)' clip-path='url(%23a)'%3e %3crect width='36' height='36' rx='7.768' transform='translate(0 1)' fill='%23222222'/%3e %3cpath d='M112.25%2c37h-11.5A5.976%2c5.976%2c0%2c0%2c1%2c95%2c30.818V9.182A5.976%2c5.976%2c0%2c0%2c1%2c100.75%2c3h11.5A5.976%2c5.976%2c0%2c0%2c1%2c118%2c9.182V30.818A5.976%2c5.976%2c0%2c0%2c1%2c112.25%2c37Z' transform='translate(0 -1)' fill='rgba(107%2c70%2c254%2c0.1)'/%3e %3cpath d='M112.25%2c38.5h-11.5a7.484%2c7.484%2c0%2c0%2c1-7.25-7.682V9.182A7.484%2c7.484%2c0%2c0%2c1%2c100.75%2c1.5h11.5a7.484%2c7.484%2c0%2c0%2c1%2c7.25%2c7.682V30.818A7.484%2c7.484%2c0%2c0%2c1%2c112.25%2c38.5Zm-11.5-34A4.487%2c4.487%2c0%2c0%2c0%2c96.5%2c9.182V30.818a4.487%2c4.487%2c0%2c0%2c0%2c4.25%2c4.682h11.5a4.487%2c4.487%2c0%2c0%2c0%2c4.25-4.682V9.182A4.487%2c4.487%2c0%2c0%2c0%2c112.25%2c4.5Z' transform='translate(0 -1)' fill='white'/%3e %3cpath d='M78.927%2c16.594H52v-3H71.683l-2.534-2.534L71.27%2c8.939Z' fill='white'/%3e %3cpath d='M59.73%2c30.655%2c52.073%2c23H79v3H59.317l2.534%2c2.534Z' fill='white'/%3e %3cpath d='M109.565%2c30.175h-5.826a1.5%2c1.5%2c0%2c1%2c1%2c0-3h5.826a1.5%2c1.5%2c0%2c0%2c1%2c0%2c3Z' fill='white'/%3e %3c/g%3e %3cg transform='translate(-18227.544 8408.866)'%3e %3cpath d='M168.632%2c47.566%2c155.742%2c26l-12.89%2c21.566%2c12.89-7.354Z' transform='translate(0)' fill='white'/%3e %3cpath d='M191.634%2c257.081l-10.639-5.607-10.639%2c5.607%2c10.639-3.464Z' transform='translate(-25.252 -207.321)' fill='white'/%3e %3c/g%3e %3c/g%3e%3c/svg%3e" />

          <h1 class="defly-wallet-redirect-modal__content__title">
            Can't Launch Defly
          </h1>

          <p class="defly-wallet-redirect-modal__content__description">
            We couldn't redirect you to Defly Wallet automatically. Please try again.
          </p>

          <p class="defly-wallet-redirect-modal__content__install-defly-text">
            Don't have Defly Wallet installed yet?
            <br />
            
            <a
              id="defly-wallet-redirect-modal-download-defly-link"
              class="defly-wallet-redirect-modal__content__install-defly-text__link"
              href="https://defly.app/ "
              rel="noopener noreferrer"
              target="_blank">
              Tap here to install.
            </a>
          </p>
        </div>

        <a
          id="defly-wallet-redirect-modal-launch-defly-link"
          class="defly-wallet-redirect-modal__launch-defly-wallet-button"
          rel="noopener noreferrer"
          target="_blank">
          Launch Defly Wallet
        </a>
      </div>
    </div>
  </div>
`;
    var T2 = class extends HTMLElement {
      constructor() {
        var n5, e3;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const t3 = document.createElement("style");
          t3.textContent = F3, this.shadowRoot.append(R3.content.cloneNode(true), t3);
          const o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-redirect-modal-download-defly-link");
          null == o4 || o4.addEventListener("click", () => {
            this.onClose();
          });
          const l5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("defly-wallet-redirect-modal-launch-defly-link");
          null == l5 || l5.addEventListener("click", () => {
            this.onClose(), window.open(E5(), "_blank");
          });
        }
      }
      connectedCallback() {
        const n5 = window.open(E5(), "_blank");
        n5 && !n5.closed && this.onClose();
      }
      onClose() {
        n4.removeModalWrapperFromDOM(n4.DEFLY_WALLET_REDIRECT_MODAL_ID);
      }
    };
    var I = "data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='101.962' height='90.114' viewBox='0 0 101.962 90.114'%3e %3cg transform='translate(0.004)'%3e %3cpath d='M244.81%2c107.44%2c193.834%2c26l-50.986%2c81.44%2c50.986-27.77Z' transform='translate(-142.852 -26)' fill='white'/%3e %3cpath d='M254.505%2c273.648l-42.072-22.175-42.076%2c22.175%2c42.076-13.7Z' transform='translate(-161.446 -183.534)' fill='white'/%3e %3c/g%3e%3c/svg%3e";
    var z3 = ".defly-wallet-connect-modal-information-section {\n  padding: 12px;\n  display: flex;\n  align-items: center;\n  flex-flow: column;\n  justify-content: center;\n}\n.defly-wallet-connect-modal-information-section--mobile {\n  padding: 0;\n  margin-top: 20px;\n}\n.defly-wallet-connect-modal-information-section--mobile .defly-wallet-connect-modal-information-section__defly-icon {\n  margin-bottom: 21px;\n  max-width: 70px;\n}\n.defly-wallet-connect-modal-information-section--mobile .defly-wallet-connect-modal-information-section__title {\n  font-size: 34px;\n  line-height: 32px;\n}\n\n.defly-wallet-connect-modal-information-section__defly-icon {\n  margin-bottom: 32px;\n}\n\n.defly-wallet-connect-modal-information-section__title {\n  margin-top: 0;\n  margin-bottom: 0;\n  color: #fff;\n  font-size: 52px;\n  line-height: 48px;\n  font-weight: 900;\n  white-space: pre-line;\n  text-align: center;\n  letter-spacing: 0;\n  font-family: var(--defly-wallet-connect-modal-headline-family), sans-serif;\n}\n\n.defly-wallet-connect-modal-information-section__download-defly-button {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 20px auto 0;\n  padding: 0;\n  color: #999999;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 20px;\n  letter-spacing: 0.01px;\n  cursor: pointer;\n}\n.defly-wallet-connect-modal-information-section__download-defly-button:hover {\n  opacity: 0.8;\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-connect-modal-information-section--desktop {\n    padding: 0;\n  }\n  .defly-wallet-connect-modal-information-section--desktop .defly-wallet-connect-modal-information-section__defly-icon {\n    max-width: 70px;\n    margin-bottom: 21px;\n  }\n  .defly-wallet-connect-modal-information-section--desktop .defly-wallet-connect-modal-information-section__title {\n    font-size: 34px;\n    line-height: 32px;\n  }\n  .defly-wallet-connect-modal-information-section__download-defly-button {\n    display: none;\n  }\n}";
    i3(z3);
    var H4 = document.createElement("template");
    var O4 = n4.isMobile() ? "defly-wallet-connect-modal-information-section defly-wallet-connect-modal-information-section--mobile" : "defly-wallet-connect-modal-information-section defly-wallet-connect-modal-information-section--desktop";
    H4.innerHTML = `
  <section class="${O4}">
    <img src="${I}" class="defly-wallet-connect-modal-information-section__defly-icon" alt="Defly Wallet" />
    <h1 class="defly-wallet-connect-modal-information-section__title">Secure 
 wallet & 
 trading</h1>
 
    <button
        id="defly-wallet-connect-modal-information-section-download-defly-button"
        class="defly-wallet-connect-modal-information-section__download-defly-button">
        <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%23999999' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%23999999' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%23999999' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e" alt="QR Icon" />
        Download
      </button>
  </section>
`;
    var W4 = class extends HTMLElement {
      constructor() {
        var n5;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = z3, this.shadowRoot.append(H4.content.cloneNode(true), e3);
          const t3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-connect-modal-information-section-download-defly-button");
          t3 && t3.addEventListener("click", () => {
            this.onClickDownload();
          });
        }
      }
      onClickDownload() {
        if (this.shadowRoot) {
          const n5 = this.shadowRoot.host.parentElement;
          n5 && (n5.classList.remove("defly-wallet-connect-modal-desktop-mode--default"), n5.classList.add("defly-wallet-connect-modal-desktop-mode--download"));
        }
      }
    };
    var V2 = '@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");\n@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");\n.defly-wallet-modal {\n  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;\n  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.defly-wallet-modal--select-account .defly-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 20px;\n  width: calc(100% - 40px);\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body::before {\n  background-image: unset;\n}\n.defly-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.defly-wallet-modal ul,\n.defly-wallet-modal ol,\n.defly-wallet-modal li {\n  list-style-type: none;\n}\n\n.defly-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.defly-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.defly-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 979px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 40px;\n  animation: 0.3s DeflyWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-modal--desktop .defly-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DeflyWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DeflyWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.defly-wallet-connect-modal-pending-message-section {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto 48px;\n  gap: 56px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.defly-wallet-connect-modal-pending-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 10px;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__image {\n  margin: 0 auto;\n  display: block;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__title {\n  margin: 16px 0 12px;\n  color: #ffffff;\n  text-align: center;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.26px;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__description {\n  color: #999999;\n  font-size: 14px;\n  text-align: center;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.01px;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__button {\n  display: block;\n  width: 100%;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border: none;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  padding: 16px;\n  background: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {\n  width: 24px;\n  height: 24px;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.1px;\n  color: #3c3c49;\n}\n.defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {\n  /* stylelint-disable value-no-vendor-prefix */\n  /* stylelint-disable  property-no-vendor-prefix */\n  display: -webkit-box;\n  max-width: 100%;\n  -webkit-line-clamp: 2;\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  /* stylelint-enable value-no-vendor-prefix */\n  /* stylelint-enable property-no-vendor-prefix */\n  margin: 0;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n  color: #9d9dae;\n}\n\n.defly-wallet-connect-modal-pending-message__animation-wrapper {\n  width: 56px;\n  height: 56px;\n  background-color: #6b46fe;\n  border-radius: 50%;\n}\n\n.defly-wallet-connect-modal-pending-message__text {\n  max-width: 271px;\n  margin-top: 20px;\n  color: #ffffff;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 28px;\n  letter-spacing: -0.26px;\n}\n\n.defly-wallet-connect-modal-pending-message__cancel-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 14px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  border: none;\n}';
    i3(V2);
    var G3 = document.createElement("template");
    G3.innerHTML = `
  <div class="defly-wallet-connect-modal-pending-message-section">
    <div class="defly-wallet-connect-modal-pending-message">
      <img src="${I}" alt="Defly Wallet Logo" />

      <div class="defly-wallet-connect-modal-pending-message__text">
        Please wait while we connect you to Defly Wallet...
      </div>
    </div>

    <button
      id="defly-wallet-connect-modal-pending-message-cancel-button"
      class="defly-wallet-button defly-wallet-connect-modal-pending-message__cancel-button">
        Cancel
    </button>
  </div>

  <div id="defly-wallet-connect-modal-pending-message-audio-wrapper"></div>
`;
    var Z3 = `
  <div class="defly-wallet-connect-modal-pending-message--try-again-view">
    <div>
      <img class="defly-wallet-connect-modal-pending-message--try-again-view__image" src="${I}" alt="Defly Wallet" />

      <h1 class="defly-wallet-connect-modal-pending-message--try-again-view__title">
        Couldn\u2019t establish connection
      </h1>

      <p class="defly-wallet-connect-modal-pending-message--try-again-view__description">
        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.
      </p>
    </div>

    <div>
      <a
        href=" https://docs.defly.app/app/dapp-browser"
        target="_blank"
        rel="noopener noreferrer"
        class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor">
        <img
          class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image"
          src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e"
          alt="Help Icon"
        />

        <div>
          <div
            class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper">
            <h1
              class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title">
                Resolving WalletConnect issues
            </h1>

            <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Send Icon"/>
          </div>

          <p
            class="defly-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description">
            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...
          </p>
        </div>
      </a>

      <button id="defly-wallet-connect-modal-pending-message-try-again-button" class="defly-wallet-connect-button defly-wallet-connect-modal-pending-message--try-again-view__button">
        Close & Try Again
      </button>
    </div>
  </div>
  `;
    var N12 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = V2, this.shadowRoot.append(G3.content.cloneNode(true), n5);
        }
      }
      connectedCallback() {
        var n5;
        const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-connect-modal-pending-message-cancel-button");
        null == e3 || e3.addEventListener("click", () => {
          this.onClose();
        }), this.addAudioForConnection(), setTimeout(() => {
          var n6;
          if (G3.innerHTML = Z3, this.shadowRoot) {
            const e4 = document.createElement("style");
            e4.textContent = V2, this.shadowRoot.innerHTML = "", this.shadowRoot.append(G3.content.cloneNode(true), e4);
            const t3 = null === (n6 = this.shadowRoot) || void 0 === n6 ? void 0 : n6.getElementById("defly-wallet-connect-modal-pending-message-try-again-button");
            null == t3 || t3.addEventListener("click", () => {
              this.onClose();
            });
          }
        }, 3e4);
      }
      onClose() {
        n4.removeModalWrapperFromDOM(n4.DEFLY_WALLET_CONNECT_MODAL_ID);
      }
      addAudioForConnection() {
        var e3;
        if ("true" === this.getAttribute("should-use-sound") && n4.isIOS()) {
          const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("defly-wallet-connect-modal-pending-message-audio-wrapper"), t3 = document.createElement("audio");
          t3.src = "https://defly-walletconnect.s3.eu-central-1.amazonaws.com/audio.mp3", t3.autoplay = true, t3.loop = true, null == n5 || n5.appendChild(t3);
        }
      }
    };
    var j4 = { v: "5.7.1", fr: 25, ip: 0, op: 100, w: 1e3, h: 1e3, nm: "Animation", ddd: 0, assets: [], layers: [{ ddd: 0, ind: 1, ty: 1, nm: "Circle", sr: 1, ks: { o: { a: 0, k: 73, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 1, k: [{ i: { x: 0.833, y: 0.833 }, o: { x: 0.167, y: 0.167 }, t: 18, s: [724, 614, 0], to: [-35, 2.333, 0], ti: [35, -2.333, 0] }, { i: { x: 0.833, y: 0.833 }, o: { x: 0.167, y: 0.167 }, t: 25, s: [514, 628, 0], to: [0, 0, 0], ti: [0, 0, 0] }, { i: { x: 0.833, y: 0.833 }, o: { x: 0.167, y: 0.167 }, t: 53, s: [514, 628, 0], to: [35, -2.333, 0], ti: [-35, 2.333, 0] }, { t: 62, s: [724, 614, 0] }], ix: 2 }, a: { a: 0, k: [608.861, 710.127, 0], ix: 1 }, s: { a: 0, k: [79, 79, 100], ix: 6 } }, ao: 0, hasMask: true, masksProperties: [{ inv: false, mode: "a", pt: { a: 0, k: { i: [[27.614, 0], [0, -27.614], [-27.614, 0], [0, 27.614]], o: [[-27.614, 0], [0, 27.614], [27.614, 0], [0, -27.614]], v: [[608, 662], [558, 712], [608, 762], [658, 712]], c: true }, ix: 1 }, o: { a: 0, k: 100, ix: 3 }, x: { a: 0, k: 0, ix: 4 }, nm: "Mask 1" }], ef: [{ ty: 21, nm: "Fill", np: 9, mn: "ADBE Fill", ix: 1, en: 1, ef: [{ ty: 10, nm: "Fill Mask", mn: "ADBE Fill-0001", ix: 1, v: { a: 0, k: 0, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Fill-0007", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 2, nm: "Color", mn: "ADBE Fill-0002", ix: 3, v: { a: 0, k: [0.748628020287, 0.656362950802, 0.86274510622, 1], ix: 3 } }, { ty: 7, nm: "Invert", mn: "ADBE Fill-0006", ix: 4, v: { a: 0, k: 0, ix: 4 } }, { ty: 0, nm: "Horizontal Feather", mn: "ADBE Fill-0003", ix: 5, v: { a: 0, k: 0, ix: 5 } }, { ty: 0, nm: "Vertical Feather", mn: "ADBE Fill-0004", ix: 6, v: { a: 0, k: 0, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Fill-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }] }], sw: 1e3, sh: 1e3, sc: "#ffffff", ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 2, ty: 4, nm: "Layer 1 Outlines 2", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [511.524, 444, 0], ix: 2 }, a: { a: 0, k: [157.775, 147.25, 0], ix: 1 }, s: { a: 0, k: [46, 46, 100], ix: 6 } }, ao: 0, ef: [{ ty: 21, nm: "Fill", np: 9, mn: "ADBE Fill", ix: 1, en: 1, ef: [{ ty: 10, nm: "Fill Mask", mn: "ADBE Fill-0001", ix: 1, v: { a: 0, k: 0, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Fill-0007", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 2, nm: "Color", mn: "ADBE Fill-0002", ix: 3, v: { a: 0, k: [0.054901964962, 0.050980396569, 0.06274510175, 1], ix: 3 } }, { ty: 7, nm: "Invert", mn: "ADBE Fill-0006", ix: 4, v: { a: 0, k: 0, ix: 4 } }, { ty: 0, nm: "Horizontal Feather", mn: "ADBE Fill-0003", ix: 5, v: { a: 0, k: 0, ix: 5 } }, { ty: 0, nm: "Vertical Feather", mn: "ADBE Fill-0004", ix: 6, v: { a: 0, k: 0, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Fill-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }] }], shapes: [{ ty: "gr", it: [{ ind: 0, ty: "sh", ix: 1, ks: { a: 0, k: { i: [[0, 0], [0, 0], [0, 0], [0, 0]], o: [[0, 0], [0, 0], [0, 0], [0, 0]], v: [[157.525, 133.595], [0, -133.596], [-157.525, 133.595], [0, 42.488]], c: true }, ix: 2 }, nm: "Path 1", mn: "ADBE Vector Shape - Group", hd: false }, { ty: "fl", c: { a: 0, k: [1, 1, 1, 1], ix: 4 }, o: { a: 0, k: 100, ix: 5 }, r: 1, bm: 0, nm: "Fill 1", mn: "ADBE Vector Graphic - Fill", hd: false }, { ty: "tr", p: { a: 0, k: [157.775, 133.846], ix: 2 }, a: { a: 0, k: [0, 0], ix: 1 }, s: { a: 0, k: [100, 100], ix: 3 }, r: { a: 0, k: 0, ix: 6 }, o: { a: 0, k: 100, ix: 7 }, sk: { a: 0, k: 0, ix: 4 }, sa: { a: 0, k: 0, ix: 5 }, nm: "Transform" }], nm: "Group 2", np: 2, cix: 2, bm: 0, ix: 1, mn: "ADBE Vector Group", hd: false }], ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 3, ty: 4, nm: "Layer 1 Outlines", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [511.524, 444, 0], ix: 2 }, a: { a: 0, k: [157.775, 147.25, 0], ix: 1 }, s: { a: 0, k: [46, 46, 100], ix: 6 } }, ao: 0, ef: [{ ty: 21, nm: "Fill", np: 9, mn: "ADBE Fill", ix: 1, en: 1, ef: [{ ty: 10, nm: "Fill Mask", mn: "ADBE Fill-0001", ix: 1, v: { a: 0, k: 0, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Fill-0007", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 2, nm: "Color", mn: "ADBE Fill-0002", ix: 3, v: { a: 0, k: [0.058823533356, 0.054901964962, 0.06274510175, 1], ix: 3 } }, { ty: 7, nm: "Invert", mn: "ADBE Fill-0006", ix: 4, v: { a: 0, k: 0, ix: 4 } }, { ty: 0, nm: "Horizontal Feather", mn: "ADBE Fill-0003", ix: 5, v: { a: 0, k: 0, ix: 5 } }, { ty: 0, nm: "Vertical Feather", mn: "ADBE Fill-0004", ix: 6, v: { a: 0, k: 0, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Fill-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }] }], shapes: [{ ty: "gr", it: [{ ind: 0, ty: "sh", ix: 1, ks: { a: 0, k: { i: [[0, 0], [0, 0], [0, 0], [0, 0]], o: [[0, 0], [0, 0], [0, 0], [0, 0]], v: [[130.021, 34.263], [0, -34.264], [-130.021, 34.263], [0, -8.067]], c: true }, ix: 2 }, nm: "Path 1", mn: "ADBE Vector Shape - Group", hd: false }, { ty: "fl", c: { a: 0, k: [1, 1, 1, 1], ix: 4 }, o: { a: 0, k: 100, ix: 5 }, r: 1, bm: 0, nm: "Fill 1", mn: "ADBE Vector Graphic - Fill", hd: false }, { ty: "tr", p: { a: 0, k: [157.775, 259.986], ix: 2 }, a: { a: 0, k: [0, 0], ix: 1 }, s: { a: 0, k: [100, 100], ix: 3 }, r: { a: 0, k: 0, ix: 6 }, o: { a: 0, k: 100, ix: 7 }, sk: { a: 0, k: 0, ix: 4 }, sa: { a: 0, k: 0, ix: 5 }, nm: "Transform" }], nm: "Group 1", np: 2, cix: 2, bm: 0, ix: 1, mn: "ADBE Vector Group", hd: false }], ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 4, ty: 1, nm: "White Solid 2", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [512, 508, 0], ix: 2 }, a: { a: 0, k: [500, 500, 0], ix: 1 }, s: { a: 0, k: [100, 100, 100], ix: 6 } }, ao: 0, hasMask: true, masksProperties: [{ inv: false, mode: "a", pt: { a: 0, k: { i: [[11.046, 0], [0, 0], [0, -11.046], [0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0]], o: [[0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0], [11.046, 0], [0, 0], [0, -11.046]], v: [[648, 314], [344, 314], [324, 334], [324, 546], [344, 566], [648, 566], [668, 546], [668, 334]], c: true }, ix: 1 }, o: { a: 0, k: 100, ix: 3 }, x: { a: 0, k: 0, ix: 4 }, nm: "Mask 1" }], ef: [{ ty: 22, nm: "Stroke", np: 13, mn: "ADBE Stroke", ix: 1, en: 1, ef: [{ ty: 10, nm: "Path", mn: "ADBE Stroke-0001", ix: 1, v: { a: 0, k: 1, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Stroke-0010", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 7, nm: "Stroke Sequentially", mn: "ADBE Stroke-0011", ix: 3, v: { a: 0, k: 1, ix: 3 } }, { ty: 2, nm: "Color", mn: "ADBE Stroke-0002", ix: 4, v: { a: 0, k: [0.525490224361, 0.231372565031, 0.972549080849, 1], ix: 4 } }, { ty: 0, nm: "Brush Size", mn: "ADBE Stroke-0003", ix: 5, v: { a: 0, k: 2, ix: 5 } }, { ty: 0, nm: "Brush Hardness", mn: "ADBE Stroke-0004", ix: 6, v: { a: 0, k: 0.75, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Stroke-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }, { ty: 0, nm: "Start", mn: "ADBE Stroke-0008", ix: 8, v: { a: 0, k: 0, ix: 8 } }, { ty: 0, nm: "End", mn: "ADBE Stroke-0009", ix: 9, v: { a: 0, k: 100, ix: 9 } }, { ty: 7, nm: "Spacing", mn: "ADBE Stroke-0006", ix: 10, v: { a: 0, k: 15, ix: 10 } }, { ty: 7, nm: "Paint Style", mn: "ADBE Stroke-0007", ix: 11, v: { a: 0, k: 1, ix: 11 } }] }], sw: 1e3, sh: 1e3, sc: "#ffffff", ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 5, ty: 1, nm: "White Solid 2", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [512, 388, 0], ix: 2 }, a: { a: 0, k: [500, 500, 0], ix: 1 }, s: { a: 0, k: [100, 100, 100], ix: 6 } }, ao: 0, hasMask: true, masksProperties: [{ inv: false, mode: "a", pt: { a: 0, k: { i: [[11.046, 0], [0, 0], [0, -11.046], [0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0]], o: [[0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0], [11.046, 0], [0, 0], [0, -11.046]], v: [[648, 314], [344, 314], [324, 334], [324, 386], [344, 406], [648, 406], [668, 386], [668, 334]], c: true }, ix: 1 }, o: { a: 0, k: 100, ix: 3 }, x: { a: 0, k: 0, ix: 4 }, nm: "Mask 1" }], ef: [{ ty: 22, nm: "Stroke", np: 13, mn: "ADBE Stroke", ix: 1, en: 1, ef: [{ ty: 10, nm: "Path", mn: "ADBE Stroke-0001", ix: 1, v: { a: 0, k: 1, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Stroke-0010", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 7, nm: "Stroke Sequentially", mn: "ADBE Stroke-0011", ix: 3, v: { a: 0, k: 1, ix: 3 } }, { ty: 2, nm: "Color", mn: "ADBE Stroke-0002", ix: 4, v: { a: 0, k: [0.525490224361, 0.231372565031, 0.972549080849, 1], ix: 4 } }, { ty: 0, nm: "Brush Size", mn: "ADBE Stroke-0003", ix: 5, v: { a: 0, k: 2, ix: 5 } }, { ty: 0, nm: "Brush Hardness", mn: "ADBE Stroke-0004", ix: 6, v: { a: 0, k: 0.75, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Stroke-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }, { ty: 0, nm: "Start", mn: "ADBE Stroke-0008", ix: 8, v: { a: 0, k: 0, ix: 8 } }, { ty: 0, nm: "End", mn: "ADBE Stroke-0009", ix: 9, v: { a: 0, k: 100, ix: 9 } }, { ty: 7, nm: "Spacing", mn: "ADBE Stroke-0006", ix: 10, v: { a: 0, k: 15, ix: 10 } }, { ty: 7, nm: "Paint Style", mn: "ADBE Stroke-0007", ix: 11, v: { a: 0, k: 1, ix: 11 } }] }], sw: 1e3, sh: 1e3, sc: "#ffffff", ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 7, ty: 1, nm: "Button", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [510, 736, 0], ix: 2 }, a: { a: 0, k: [497.468, 353.165, 0], ix: 1 }, s: { a: 1, k: [{ i: { x: [0.667, 0.667, 0.667], y: [1, 1, 1] }, o: { x: [0.333, 0.333, 0.333], y: [0, 0, 0] }, t: 32, s: [100, 100, 100] }, { i: { x: [0.667, 0.667, 0.667], y: [1, 1, 1] }, o: { x: [0.333, 0.333, 0.333], y: [0, 0, 0] }, t: 35, s: [79, 79, 100] }, { t: 43, s: [100, 100, 100] }], ix: 6 } }, ao: 0, hasMask: true, masksProperties: [{ inv: false, mode: "a", pt: { a: 0, k: { i: [[11.046, 0], [0, 0], [0, -11.046], [0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0]], o: [[0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0], [11.046, 0], [0, 0], [0, -11.046]], v: [[648, 314], [344, 314], [324, 334], [324, 386], [344, 406], [648, 406], [668, 386], [668, 334]], c: true }, ix: 1 }, o: { a: 0, k: 100, ix: 3 }, x: { a: 0, k: 0, ix: 4 }, nm: "Mask 1" }], ef: [{ ty: 21, nm: "Fill", np: 9, mn: "ADBE Fill", ix: 1, en: 1, ef: [{ ty: 10, nm: "Fill Mask", mn: "ADBE Fill-0001", ix: 1, v: { a: 0, k: 0, ix: 1 } }, { ty: 7, nm: "All Masks", mn: "ADBE Fill-0007", ix: 2, v: { a: 0, k: 0, ix: 2 } }, { ty: 2, nm: "Color", mn: "ADBE Fill-0002", ix: 3, v: { a: 0, k: [0.686274528503, 0.290196090937, 0.937254965305, 1], ix: 3 } }, { ty: 7, nm: "Invert", mn: "ADBE Fill-0006", ix: 4, v: { a: 0, k: 0, ix: 4 } }, { ty: 0, nm: "Horizontal Feather", mn: "ADBE Fill-0003", ix: 5, v: { a: 0, k: 0, ix: 5 } }, { ty: 0, nm: "Vertical Feather", mn: "ADBE Fill-0004", ix: 6, v: { a: 0, k: 0, ix: 6 } }, { ty: 0, nm: "Opacity", mn: "ADBE Fill-0005", ix: 7, v: { a: 0, k: 1, ix: 7 } }] }], sw: 1e3, sh: 1e3, sc: "#ffffff", ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 8, ty: 4, nm: "Shape Layer 1", parent: 9, sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 0, k: [500, 493.102, 0], ix: 2 }, a: { a: 0, k: [0, 0, 0], ix: 1 }, s: { a: 0, k: [100, 100, 100], ix: 6 } }, ao: 0, ef: [{ ty: 25, nm: "Drop Shadow", np: 8, mn: "ADBE Drop Shadow", ix: 1, en: 1, ef: [{ ty: 2, nm: "Shadow Color", mn: "ADBE Drop Shadow-0001", ix: 1, v: { a: 0, k: [0, 0, 0, 1], ix: 1 } }, { ty: 0, nm: "Opacity", mn: "ADBE Drop Shadow-0002", ix: 2, v: { a: 0, k: 87.5, ix: 2 } }, { ty: 0, nm: "Direction", mn: "ADBE Drop Shadow-0003", ix: 3, v: { a: 0, k: 173, ix: 3 } }, { ty: 0, nm: "Distance", mn: "ADBE Drop Shadow-0004", ix: 4, v: { a: 0, k: 8, ix: 4 } }, { ty: 0, nm: "Softness", mn: "ADBE Drop Shadow-0005", ix: 5, v: { a: 0, k: 125, ix: 5 } }, { ty: 7, nm: "Shadow Only", mn: "ADBE Drop Shadow-0006", ix: 6, v: { a: 0, k: 0, ix: 6 } }] }], shapes: [{ ty: "gr", it: [{ ty: "rc", d: 1, s: { a: 0, k: [452, 730], ix: 2 }, p: { a: 0, k: [0, 0], ix: 3 }, r: { a: 0, k: 20, ix: 4 }, nm: "Rectangle Path 1", mn: "ADBE Vector Shape - Rect", hd: false }, { ty: "st", c: { a: 0, k: [1, 1, 1, 1], ix: 3 }, o: { a: 0, k: 100, ix: 4 }, w: { a: 0, k: 0, ix: 5 }, lc: 1, lj: 1, ml: 4, bm: 0, nm: "Stroke 1", mn: "ADBE Vector Graphic - Stroke", hd: false }, { ty: "fl", c: { a: 0, k: [1, 1, 1, 1], ix: 4 }, o: { a: 0, k: 100, ix: 5 }, r: 1, bm: 0, nm: "Fill 1", mn: "ADBE Vector Graphic - Fill", hd: false }, { ty: "tr", p: { a: 0, k: [6, -7], ix: 2 }, a: { a: 0, k: [0, 0], ix: 1 }, s: { a: 0, k: [100, 100], ix: 3 }, r: { a: 0, k: 0, ix: 6 }, o: { a: 0, k: 100, ix: 7 }, sk: { a: 0, k: 0, ix: 4 }, sa: { a: 0, k: 0, ix: 5 }, nm: "Transform" }], nm: "Rectangle 1", np: 3, cix: 2, bm: 0, ix: 1, mn: "ADBE Vector Group", hd: false }], ip: 0, op: 754, st: 0, bm: 0 }, { ddd: 0, ind: 9, ty: 1, nm: "White Solid 1", sr: 1, ks: { o: { a: 0, k: 100, ix: 11 }, r: { a: 0, k: 0, ix: 10 }, p: { a: 1, k: [{ i: { x: 0.667, y: 1 }, o: { x: 0.333, y: 0 }, t: 1, s: [500, 562, 0], to: [0, -23.333, 0], ti: [0, 23.333, 0] }, { i: { x: 0.833, y: 0.833 }, o: { x: 0.167, y: 0.167 }, t: 13, s: [500, 422, 0], to: [0, 0, 0], ti: [0, 0, 0] }, { i: { x: 0.667, y: 1 }, o: { x: 0.333, y: 0 }, t: 65, s: [500, 422, 0], to: [0, 23.333, 0], ti: [0, -23.333, 0] }, { t: 79, s: [500, 562, 0] }], ix: 2 }, a: { a: 0, k: [500, 500, 0], ix: 1 }, s: { a: 0, k: [100, 100, 100], ix: 6 } }, ao: 0, hasMask: true, masksProperties: [{ inv: false, mode: "a", pt: { a: 0, k: { i: [[11.046, 0], [0, 0], [0, -11.046], [0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0]], o: [[0, 0], [-11.046, 0], [0, 0], [0, 11.046], [0, 0], [11.046, 0], [0, 0], [0, -11.046]], v: [[712, 122], [302, 122], [282, 142], [282, 830], [302, 850], [712, 850], [732, 830], [732, 142]], c: true }, ix: 1 }, o: { a: 0, k: 100, ix: 3 }, x: { a: 0, k: 0, ix: 4 }, nm: "Mask 1" }], ef: [{ ty: 25, nm: "Drop Shadow", np: 8, mn: "ADBE Drop Shadow", ix: 1, en: 1, ef: [{ ty: 2, nm: "Shadow Color", mn: "ADBE Drop Shadow-0001", ix: 1, v: { a: 0, k: [0, 0, 0, 1], ix: 1 } }, { ty: 0, nm: "Opacity", mn: "ADBE Drop Shadow-0002", ix: 2, v: { a: 0, k: 87.5, ix: 2 } }, { ty: 0, nm: "Direction", mn: "ADBE Drop Shadow-0003", ix: 3, v: { a: 0, k: 173, ix: 3 } }, { ty: 0, nm: "Distance", mn: "ADBE Drop Shadow-0004", ix: 4, v: { a: 0, k: 8, ix: 4 } }, { ty: 0, nm: "Softness", mn: "ADBE Drop Shadow-0005", ix: 5, v: { a: 0, k: 125, ix: 5 } }, { ty: 7, nm: "Shadow Only", mn: "ADBE Drop Shadow-0006", ix: 6, v: { a: 0, k: 0, ix: 6 } }] }], sw: 1e3, sh: 1e3, sc: "#ffffff", ip: 0, op: 754, st: 0, bm: 0 }], markers: [] };
    var q4 = '.defly-wallet-sign-txn-toast {\n  --defly-wallet-sign-txn-toast-width: 422px;\n  --defly-wallet-sign-txn-toast-height: 134px;\n  --defly-wallet-sign-txn-toast-font-family: "Inter", sans-serif;\n  position: fixed;\n  bottom: 28px;\n  right: 35px;\n  z-index: 11;\n  overflow: hidden;\n  width: var(--defly-wallet-sign-txn-toast-width);\n  height: var(--defly-wallet-sign-txn-toast-height);\n  background: #edeffb;\n  border-radius: 8px;\n  animation: 0.2s DeflyWalletSignTxnToastSlideIn ease-out;\n}\n.defly-wallet-sign-txn-toast * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--defly-wallet-sign-txn-toast-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.defly-wallet-sign-txn-toast ul,\n.defly-wallet-sign-txn-toast ol,\n.defly-wallet-sign-txn-toast li {\n  list-style-type: none;\n}\n\n.defly-wallet-sign-txn-toast__header__close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 20px;\n  height: 20px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.defly-wallet-sign-txn-toast__content__lottie-animation {\n  position: absolute;\n  top: -75px;\n  left: -100px;\n  width: 368px;\n  height: 368px;\n}\n\n.defly-wallet-sign-txn-toast__content__description {\n  position: absolute;\n  top: 40px;\n  right: 48px;\n  max-width: 197px;\n  color: #3c3c49;\n  font-size: 14px;\n  line-height: 22px;\n  letter-spacing: -0.1px;\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-sign-txn-toast {\n    display: none;\n  }\n}\n@keyframes DeflyWalletSignTxnToastSlideIn {\n  0% {\n    bottom: 12px;\n    opacity: 0;\n  }\n  100% {\n    bottom: 26px;\n    opacity: 1;\n  }\n}';
    i3(q4);
    var $2 = document.createElement("template");
    $2.innerHTML = `
  <div class="defly-wallet-sign-txn-toast">
    <div class="defly-wallet-sign-txn-toast__header">
      <button
        id="defly-wallet-sign-txn-toast-close-button"
        class="defly-wallet-sign-txn-toast__header__close-button">
        <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z' fill='%239099BD'/%3e%3c/svg%3e" />
      </button>
    </div>
    <div class="defly-wallet-sign-txn-toast__content">
      <div id="defly-wallet-sign-txn-toast-lottie-animation" style="width:368;height:368" class="defly-wallet-sign-txn-toast__content__lottie-animation"></div>
      <p class="defly-wallet-sign-txn-toast__content__description">
        Please launch <b>Defly Wallet</b> on your iOS or Android device to sign this transaction.
      </p>
    </div>
  </div>
`;
    var U5 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = q4, this.shadowRoot.append($2.content.cloneNode(true), e3);
          const t3 = this.shadowRoot.getElementById("defly-wallet-sign-txn-toast-close-button");
          null == t3 || t3.addEventListener("click", () => {
            n4.removeModalWrapperFromDOM(n4.DEFLY_WALLET_SIGN_TXN_TOAST_ID);
          }), this.renderLottieAnimation();
        }
      }
      renderLottieAnimation() {
        var n5;
        const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("defly-wallet-sign-txn-toast-lottie-animation");
        e3 && a4.default.loadAnimation({ container: e3, renderer: "svg", loop: true, autoplay: true, animationData: j4 });
      }
    };
    var P3 = '@import url("https://fonts.googleapis.com/css2?family=Spline+Sans:wght@400;500;600&display=swap");\n@import url("https://fonts.googleapis.com/css2?family=Hanken+Grotesk:wght@100;900&display=swap");\n.defly-wallet-modal {\n  --defly-wallet-modal-font-family: "Spline Sans", sans-serif;\n  --defly-wallet-connect-modal-headline-family: "Hanken Grotesk", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.defly-wallet-modal--select-account .defly-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 20px;\n  width: calc(100% - 40px);\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DeflyWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.defly-wallet-modal--mobile .defly-wallet-modal__body::before {\n  background-image: unset;\n}\n.defly-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.defly-wallet-modal ul,\n.defly-wallet-modal ol,\n.defly-wallet-modal li {\n  list-style-type: none;\n}\n\n.defly-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--defly-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.defly-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.defly-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 979px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 40px;\n  animation: 0.3s DeflyWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 935px) {\n  .defly-wallet-modal--desktop .defly-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DeflyWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DeflyWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-image: unset;\n  padding: 0;\n}\n.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body .defly-wallet-sign-txn-modal__body__content {\n  width: 100%;\n  height: 100%;\n}\n.defly-wallet-sign-txn-modal.defly-wallet-modal .defly-wallet-modal__body #defly-wallet-iframe {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  margin: 0 auto;\n  border: none;\n}';
    i3(P3);
    var Y = document.createElement("template");
    Y.innerHTML = `
  <div class="${n4.DEFLY_WALLET_MODAL_CLASSNAME} defly-wallet-sign-txn-modal">
    <div class="defly-wallet-modal__body">
      <defly-wallet-modal-header modal-id="${n4.DEFLY_WALLET_SIGN_TXN_MODAL_ID}"></defly-wallet-modal-header/>

      <div class="defly-wallet-sign-txn-modal__body__content" />
    </div>
  </div>
`;
    var Q4 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = P3, this.shadowRoot.append(Y.content.cloneNode(true), n5);
        }
      }
    };
    window.addEventListener("DOMContentLoaded", () => {
      c3();
    }), window.addEventListener("resize", () => {
      c3();
    }), window.customElements.define("defly-wallet-connect-modal", B3), window.customElements.define("defly-wallet-modal-desktop-mode", b3), window.customElements.define("defly-wallet-modal-header", m3), window.customElements.define("defly-wallet-modal-touch-screen-mode", D4), window.customElements.define("defly-wallet-redirect-modal", T2), window.customElements.define("defly-wallet-connect-modal-information-section", W4), window.customElements.define("defly-wallet-connect-modal-pending-message-section", N12), window.customElements.define("defly-wallet-sign-txn-toast", U5), window.customElements.define("defly-wallet-sign-txn-modal", Q4), window.customElements.define("defly-wallet-download-qr-code", h6);
  }
});

// node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/index-9f980d8f.js
var require_index_9f980d8f = __commonJS({
  "node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/index-9f980d8f.js"(exports2) {
    "use strict";
    var e2 = (init_esm11(), __toCommonJS(esm_exports6));
    var t2 = (init_esm(), __toCommonJS(esm_exports));
    var n4 = require_es5();
    function o3(e3) {
      return e3 && "object" == typeof e3 && "default" in e3 ? e3 : { default: e3 };
    }
    var r3 = o3(e2);
    var i3 = o3(t2);
    var l4 = o3(n4);
    function s2(e3, t3, n5, o4) {
      return new (n5 || (n5 = Promise))(function(r4, i4) {
        function l5(e4) {
          try {
            c4(o4.next(e4));
          } catch (e5) {
            i4(e5);
          }
        }
        function s3(e4) {
          try {
            c4(o4.throw(e4));
          } catch (e5) {
            i4(e5);
          }
        }
        function c4(e4) {
          var t4;
          e4.done ? r4(e4.value) : (t4 = e4.value, t4 instanceof n5 ? t4 : new n5(function(e5) {
            e5(t4);
          })).then(l5, s3);
        }
        c4((o4 = o4.apply(e3, t3 || [])).next());
      });
    }
    var c3 = class extends Error {
      constructor(e3, t3, ...n5) {
        super(...n5), Error.captureStackTrace && Error.captureStackTrace(this, c3), this.name = "DeflyWalletConnectError", this.data = e3, this.message = t3;
      }
    };
    var d3 = "defly-wallet-connect-modal-wrapper";
    var a4 = "defly-wallet-redirect-modal-wrapper";
    var u4 = "defly-wallet-sign-txn-toast-wrapper";
    var h6 = "defly-wallet-modal";
    function f3(e3) {
      const t3 = document.createElement("div");
      return t3.setAttribute("id", e3), document.body.appendChild(t3), t3;
    }
    function v2(e3) {
      const t3 = document.getElementById(e3);
      t3 && t3.remove();
    }
    var g5 = { WALLET: "DeflyWallet.Wallet", WALLETCONNECT: "walletconnect" };
    function m3() {
      return "undefined" == typeof localStorage ? void 0 : localStorage;
    }
    function y7() {
      const e3 = function() {
        var e4;
        const t4 = null === (e4 = m3()) || void 0 === e4 ? void 0 : e4.getItem(g5.WALLET);
        return t4 ? JSON.parse(t4) : null;
      }();
      let t3 = null;
      return "defly-wallet" === (null == e3 ? void 0 : e3.type) && (t3 = "mobile"), t3;
    }
    function w4(e3) {
      const t3 = e3.slice();
      for (let e4 = t3.length - 1; e4 > 0; e4--) {
        const n5 = Math.floor(Math.random() * (e4 + 1));
        [t3[e4], t3[n5]] = [t3[n5], t3[e4]];
      }
      return t3;
    }
    var p6 = "https://static.defly.app/wc-bridge-servers.json";
    function T2() {
      return function(e3, t3 = {}) {
        return fetch(e3, t3).then((e4) => e4.json()).then((e4) => e4);
      }(p6, { cache: "no-store" });
    }
    function S3() {
      return s2(this, void 0, void 0, function* () {
        let e3 = { bridgeURL: "", shouldUseSound: true, silent: false };
        try {
          const t3 = yield T2();
          void 0 !== t3.use_sound && (e3.shouldUseSound = t3.use_sound), void 0 !== t3.silent && (e3.silent = t3.silent), e3 = Object.assign(Object.assign({}, e3), { bridgeURL: w4(t3.servers || [])[0] || "" });
        } catch (e4) {
          console.log(e4);
        }
        return e3;
      });
    }
    function L3(e3) {
      return Uint8Array.from(window.atob(e3), (e4) => e4.charCodeAt(0));
    }
    function E5() {
      return "undefined" != typeof navigator;
    }
    function A3() {
      return E5() && /iPhone|iPod|iPad|Android/i.test(navigator.userAgent);
    }
    function b3({ shouldUseSound: e3 }) {
      return { open: (t3 = { shouldUseSound: e3 }, (e4) => {
        if (!document.getElementById(d3)) {
          const n5 = f3(d3), o4 = `${e4}&algorand=true`, { shouldUseSound: r4 } = t3;
          n5.innerHTML = `<defly-wallet-connect-modal uri="${o4}" should-use-sound="${r4}"></defly-wallet-connect-modal>`;
        }
      }), close: () => v2(d3) };
      var t3;
    }
    "undefined" != typeof window && (window.global = window, window.Buffer = window.Buffer || (init_buffer2(), __toCommonJS(buffer_exports)).Buffer, Promise.resolve().then(function() {
      return require_App_a86735fb();
    })), exports2.DEFLY_WALLET_CONNECT_MODAL_ID = d3, exports2.DEFLY_WALLET_MODAL_CLASSNAME = h6, exports2.DEFLY_WALLET_REDIRECT_MODAL_ID = a4, exports2.DEFLY_WALLET_SIGN_TXN_MODAL_ID = "defly-wallet-sign-txn-modal-wrapper", exports2.DEFLY_WALLET_SIGN_TXN_TOAST_ID = u4, exports2.DeflyWalletConnect = class {
      constructor(e3) {
        this.bridge = (null == e3 ? void 0 : e3.bridge) || "", this.connector = null, this.shouldShowSignTxnToast = void 0 === (null == e3 ? void 0 : e3.shouldShowSignTxnToast) || e3.shouldShowSignTxnToast, this.chainId = null == e3 ? void 0 : e3.chainId;
      }
      get platform() {
        return y7();
      }
      get isConnected() {
        return "mobile" === this.platform && !!this.connector;
      }
      connect() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5;
          try {
            if (null === (n5 = this.connector) || void 0 === n5 ? void 0 : n5.connected)
              try {
                yield this.connector.killSession();
              } catch (e4) {
              }
            const { bridgeURL: o4, shouldUseSound: i4 } = yield S3();
            this.connector = new r3.default({ bridge: this.bridge || o4 || "https://bridge.walletconnect.org", qrcodeModal: b3({ shouldUseSound: i4 }) }), yield this.connector.createSession({ chainId: this.chainId || 4160 }), function(e4) {
              var t4, n6, o5, r4;
              const i5 = document.getElementById(d3), l5 = null === (n6 = null === (t4 = null == i5 ? void 0 : i5.querySelector("defly-wallet-connect-modal")) || void 0 === t4 ? void 0 : t4.shadowRoot) || void 0 === n6 ? void 0 : n6.querySelector(`.${h6}`), s3 = null === (r4 = null === (o5 = null == l5 ? void 0 : l5.querySelector("defly-wallet-modal-header")) || void 0 === o5 ? void 0 : o5.shadowRoot) || void 0 === r4 ? void 0 : r4.getElementById("defly-wallet-modal-header-close-button");
              null == s3 || s3.addEventListener("click", () => {
                e4(), v2(d3);
              });
            }(() => t3(new c3({ type: "CONNECT_MODAL_CLOSED" }, "Connect modal is closed by user"))), this.connector.on("connect", (n6, o5) => {
              var r4, i5;
              n6 && t3(n6), e3((null === (r4 = this.connector) || void 0 === r4 ? void 0 : r4.accounts) || []), function(e4, t4) {
                var n7;
                null === (n7 = m3()) || void 0 === n7 || n7.setItem(g5.WALLET, JSON.stringify({ type: t4 || "defly-wallet", accounts: e4, selectedAccount: e4[0] }));
              }((null === (i5 = this.connector) || void 0 === i5 ? void 0 : i5.accounts) || []);
            });
          } catch (e4) {
            t3(new c3({ type: "SESSION_CONNECT", detail: e4 }, e4.message || "There was an error while connecting to Defly Wallet"));
          }
        }));
      }
      reconnectSession() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5, o4;
          try {
            this.connector && e3(this.connector.accounts || []), this.bridge = (null === (n5 = function() {
              var e4;
              const t4 = null === (e4 = m3()) || void 0 === e4 ? void 0 : e4.getItem(g5.WALLETCONNECT);
              return t4 ? JSON.parse(t4) : null;
            }()) || void 0 === n5 ? void 0 : n5.bridge) || "", this.bridge && (this.connector = new r3.default({ bridge: this.bridge }), e3((null === (o4 = this.connector) || void 0 === o4 ? void 0 : o4.accounts) || [])), this.isConnected || e3([]);
          } catch (e4) {
            yield this.disconnect(), t3(new c3({ type: "SESSION_RECONNECT", detail: e4 }, e4.message || "There was an error while reconnecting to Defly Wallet"));
          }
        }));
      }
      disconnect() {
        var e3;
        return s2(this, void 0, void 0, function* () {
          let t3;
          this.isConnected && "mobile" === this.platform && (t3 = null === (e3 = this.connector) || void 0 === e3 ? void 0 : e3.killSession(), null == t3 || t3.then(() => {
            this.connector = null;
          })), yield new Promise((e4, t4) => {
            var n5, o4;
            try {
              null === (n5 = m3()) || void 0 === n5 || n5.removeItem(g5.WALLETCONNECT), null === (o4 = m3()) || void 0 === o4 || o4.removeItem(g5.WALLET), e4(void 0);
            } catch (e5) {
              t4(e5);
            }
          });
        });
      }
      signTransactionWithMobile(e3) {
        return s2(this, void 0, void 0, function* () {
          const t3 = (n5 = "algo_signTxn", o4 = [e3], { id: Date.now() * Math.pow(10, 3) + Math.floor(Math.random() * Math.pow(10, 3)), jsonrpc: "2.0", method: n5, params: o4 });
          var n5, o4;
          try {
            try {
              const { silent: e4 } = yield S3(), n6 = (yield this.connector.sendCustomRequest(t3, { forcePushNotification: !e4 })).filter(Boolean);
              return "string" == typeof n6[0] ? n6.map(L3) : n6.map((e5) => Uint8Array.from(e5));
            } catch (e4) {
              return yield Promise.reject(new c3({ type: "SIGN_TRANSACTIONS", detail: e4 }, e4.message || "Failed to sign transaction"));
            }
          } finally {
            v2(a4), v2(u4);
          }
        });
      }
      signTransaction(e3, t3) {
        return s2(this, void 0, void 0, function* () {
          if ("mobile" === this.platform && (A3() ? f3(a4).innerHTML = "<defly-wallet-redirect-modal></defly-wallet-redirect-modal>" : !A3() && this.shouldShowSignTxnToast && (f3(u4).innerHTML = "<defly-wallet-sign-txn-toast></defly-wallet-sign-txn-toast>"), !this.connector))
            throw new Error("DeflyWalletConnect was not initialized correctly.");
          const n5 = e3.flatMap((e4) => e4.map((e5) => function(e6, t4) {
            let n6;
            t4 && !(e6.signers || []).includes(t4) && (n6 = []);
            const o4 = { txn: (r4 = e6.txn, Buffer.from(i3.default.encodeUnsignedTransaction(r4)).toString("base64")) };
            var r4;
            return Array.isArray(n6) && (o4.signers = n6), e6.authAddr && (o4.authAddr = e6.authAddr), e6.message && (o4.message = e6.message), e6.msig && (o4.msig = e6.msig), o4;
          }(e5, t3)));
          return this.signTransactionWithMobile(n5);
        });
      }
    }, exports2.closeDeflyWalletSignTxnToast = function() {
      v2(u4);
    }, exports2.detectBrowser = function() {
      if (!E5())
        return null;
      const { userAgent: e3 } = navigator;
      let t3;
      return t3 = e3.match(/DuckDuckGo/i) ? "DuckDuckGo" : e3.match(/OPX/i) ? "Opera GX" : navigator.brave ? "Brave" : l4.default.getParser(navigator.userAgent).getBrowserName(), t3;
    }, exports2.isAndroid = function() {
      return E5() && /Android/i.test(navigator.userAgent);
    }, exports2.isIOS = function() {
      return E5() && /iPhone|iPad|iPod/i.test(navigator.userAgent);
    }, exports2.isMobile = A3, exports2.removeModalWrapperFromDOM = v2;
  }
});

// node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/index.js
var require_dist = __commonJS({
  "node_modules/.pnpm/@blockshake+defly-connect@1.1.6_algosdk@2.7.0/node_modules/@blockshake/defly-connect/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var e2 = require_index_9f980d8f();
    init_esm11(), init_esm(), require_es5(), exports2.DeflyWalletConnect = e2.DeflyWalletConnect, exports2.closeDeflyWalletSignTxnToast = e2.closeDeflyWalletSignTxnToast;
  }
});

// node_modules/.pnpm/@evanhahn+lottie-web-light@5.8.1/node_modules/@evanhahn/lottie-web-light/index.js
var require_lottie_web_light = __commonJS({
  "node_modules/.pnpm/@evanhahn+lottie-web-light@5.8.1/node_modules/@evanhahn/lottie-web-light/index.js"(exports2, module2) {
    typeof navigator !== "undefined" && function(root, factory) {
      if (typeof define === "function" && define.amd) {
        define(function() {
          return factory(root);
        });
      } else if (typeof module2 === "object" && module2.exports) {
        module2.exports = factory(root);
      } else {
        root.lottie = factory(root);
        root.bodymovin = root.lottie;
      }
    }(window || {}, function(window2) {
      "use strict";
      var svgNS2 = "http://www.w3.org/2000/svg";
      var locationHref2 = "";
      var initialDefaultFrame2 = -999999;
      var _useWebWorker2 = false;
      var subframeEnabled2 = true;
      var idPrefix2 = "";
      var expressionsPlugin2;
      var isSafari2 = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
      var cachedColors = {};
      var bmRnd2;
      var bmPow2 = Math.pow;
      var bmSqrt2 = Math.sqrt;
      var bmFloor2 = Math.floor;
      var bmMax2 = Math.max;
      var bmMin2 = Math.min;
      var BMMath2 = {};
      (function() {
        var propertyNames = ["abs", "acos", "acosh", "asin", "asinh", "atan", "atanh", "atan2", "ceil", "cbrt", "expm1", "clz32", "cos", "cosh", "exp", "floor", "fround", "hypot", "imul", "log", "log1p", "log2", "log10", "max", "min", "pow", "random", "round", "sign", "sin", "sinh", "sqrt", "tan", "tanh", "trunc", "E", "LN10", "LN2", "LOG10E", "LOG2E", "PI", "SQRT1_2", "SQRT2"];
        var i3;
        var len = propertyNames.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          BMMath2[propertyNames[i3]] = Math[propertyNames[i3]];
        }
      })();
      function ProjectInterface2() {
        return {};
      }
      BMMath2.random = Math.random;
      BMMath2.abs = function(val2) {
        var tOfVal = typeof val2;
        if (tOfVal === "object" && val2.length) {
          var absArr = createSizedArray2(val2.length);
          var i3;
          var len = val2.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            absArr[i3] = Math.abs(val2[i3]);
          }
          return absArr;
        }
        return Math.abs(val2);
      };
      var defaultCurveSegments2 = 150;
      var degToRads2 = Math.PI / 180;
      var roundCorner2 = 0.5519;
      function roundValues2(flag) {
        if (flag) {
          bmRnd2 = Math.round;
        } else {
          bmRnd2 = function(val2) {
            return val2;
          };
        }
      }
      roundValues2(false);
      function styleDiv2(element) {
        element.style.position = "absolute";
        element.style.top = 0;
        element.style.left = 0;
        element.style.display = "block";
        element.style.transformOrigin = "0 0";
        element.style.webkitTransformOrigin = "0 0";
        element.style.backfaceVisibility = "visible";
        element.style.webkitBackfaceVisibility = "visible";
        element.style.transformStyle = "preserve-3d";
        element.style.webkitTransformStyle = "preserve-3d";
        element.style.mozTransformStyle = "preserve-3d";
      }
      function BMEnterFrameEvent2(type, currentTime, totalTime, frameMultiplier) {
        this.type = type;
        this.currentTime = currentTime;
        this.totalTime = totalTime;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMCompleteEvent2(type, frameMultiplier) {
        this.type = type;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMCompleteLoopEvent2(type, totalLoops, currentLoop, frameMultiplier) {
        this.type = type;
        this.currentLoop = currentLoop;
        this.totalLoops = totalLoops;
        this.direction = frameMultiplier < 0 ? -1 : 1;
      }
      function BMSegmentStartEvent2(type, firstFrame, totalFrames) {
        this.type = type;
        this.firstFrame = firstFrame;
        this.totalFrames = totalFrames;
      }
      function BMDestroyEvent2(type, target) {
        this.type = type;
        this.target = target;
      }
      function BMRenderFrameErrorEvent2(nativeError, currentTime) {
        this.type = "renderFrameError";
        this.nativeError = nativeError;
        this.currentTime = currentTime;
      }
      function BMConfigErrorEvent2(nativeError) {
        this.type = "configError";
        this.nativeError = nativeError;
      }
      function BMAnimationConfigErrorEvent2(type, nativeError) {
        this.type = type;
        this.nativeError = nativeError;
      }
      var createElementID2 = function() {
        var _count = 0;
        return function createID() {
          _count += 1;
          return idPrefix2 + "__lottie_element_" + _count;
        };
      }();
      function HSVtoRGB2(h6, s2, v2) {
        var r3;
        var g5;
        var b3;
        var i3;
        var f3;
        var p6;
        var q4;
        var t2;
        i3 = Math.floor(h6 * 6);
        f3 = h6 * 6 - i3;
        p6 = v2 * (1 - s2);
        q4 = v2 * (1 - f3 * s2);
        t2 = v2 * (1 - (1 - f3) * s2);
        switch (i3 % 6) {
          case 0:
            r3 = v2;
            g5 = t2;
            b3 = p6;
            break;
          case 1:
            r3 = q4;
            g5 = v2;
            b3 = p6;
            break;
          case 2:
            r3 = p6;
            g5 = v2;
            b3 = t2;
            break;
          case 3:
            r3 = p6;
            g5 = q4;
            b3 = v2;
            break;
          case 4:
            r3 = t2;
            g5 = p6;
            b3 = v2;
            break;
          case 5:
            r3 = v2;
            g5 = p6;
            b3 = q4;
            break;
          default:
            break;
        }
        return [
          r3,
          g5,
          b3
        ];
      }
      function RGBtoHSV2(r3, g5, b3) {
        var max = Math.max(r3, g5, b3);
        var min = Math.min(r3, g5, b3);
        var d3 = max - min;
        var h6;
        var s2 = max === 0 ? 0 : d3 / max;
        var v2 = max / 255;
        switch (max) {
          case min:
            h6 = 0;
            break;
          case r3:
            h6 = g5 - b3 + d3 * (g5 < b3 ? 6 : 0);
            h6 /= 6 * d3;
            break;
          case g5:
            h6 = b3 - r3 + d3 * 2;
            h6 /= 6 * d3;
            break;
          case b3:
            h6 = r3 - g5 + d3 * 4;
            h6 /= 6 * d3;
            break;
          default:
            break;
        }
        return [
          h6,
          s2,
          v2
        ];
      }
      function addSaturationToRGB2(color, offset) {
        var hsv = RGBtoHSV2(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[1] += offset;
        if (hsv[1] > 1) {
          hsv[1] = 1;
        } else if (hsv[1] <= 0) {
          hsv[1] = 0;
        }
        return HSVtoRGB2(hsv[0], hsv[1], hsv[2]);
      }
      function addBrightnessToRGB2(color, offset) {
        var hsv = RGBtoHSV2(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[2] += offset;
        if (hsv[2] > 1) {
          hsv[2] = 1;
        } else if (hsv[2] < 0) {
          hsv[2] = 0;
        }
        return HSVtoRGB2(hsv[0], hsv[1], hsv[2]);
      }
      function addHueToRGB2(color, offset) {
        var hsv = RGBtoHSV2(color[0] * 255, color[1] * 255, color[2] * 255);
        hsv[0] += offset / 360;
        if (hsv[0] > 1) {
          hsv[0] -= 1;
        } else if (hsv[0] < 0) {
          hsv[0] += 1;
        }
        return HSVtoRGB2(hsv[0], hsv[1], hsv[2]);
      }
      var rgbToHex2 = function() {
        var colorMap = [];
        var i3;
        var hex;
        for (i3 = 0; i3 < 256; i3 += 1) {
          hex = i3.toString(16);
          colorMap[i3] = hex.length === 1 ? "0" + hex : hex;
        }
        return function(r3, g5, b3) {
          if (r3 < 0) {
            r3 = 0;
          }
          if (g5 < 0) {
            g5 = 0;
          }
          if (b3 < 0) {
            b3 = 0;
          }
          return "#" + colorMap[r3] + colorMap[g5] + colorMap[b3];
        };
      }();
      function BaseEvent2() {
      }
      BaseEvent2.prototype = {
        triggerEvent: function(eventName, args) {
          if (this._cbs[eventName]) {
            var callbacks = this._cbs[eventName];
            for (var i3 = 0; i3 < callbacks.length; i3 += 1) {
              callbacks[i3](args);
            }
          }
        },
        addEventListener: function(eventName, callback) {
          if (!this._cbs[eventName]) {
            this._cbs[eventName] = [];
          }
          this._cbs[eventName].push(callback);
          return function() {
            this.removeEventListener(eventName, callback);
          }.bind(this);
        },
        removeEventListener: function(eventName, callback) {
          if (!callback) {
            this._cbs[eventName] = null;
          } else if (this._cbs[eventName]) {
            var i3 = 0;
            var len = this._cbs[eventName].length;
            while (i3 < len) {
              if (this._cbs[eventName][i3] === callback) {
                this._cbs[eventName].splice(i3, 1);
                i3 -= 1;
                len -= 1;
              }
              i3 += 1;
            }
            if (!this._cbs[eventName].length) {
              this._cbs[eventName] = null;
            }
          }
        }
      };
      var createTypedArray2 = function() {
        function createRegularArray(type, len) {
          var i3 = 0;
          var arr = [];
          var value2;
          switch (type) {
            case "int16":
            case "uint8c":
              value2 = 1;
              break;
            default:
              value2 = 1.1;
              break;
          }
          for (i3 = 0; i3 < len; i3 += 1) {
            arr.push(value2);
          }
          return arr;
        }
        function createTypedArrayFactory(type, len) {
          if (type === "float32") {
            return new Float32Array(len);
          }
          if (type === "int16") {
            return new Int16Array(len);
          }
          if (type === "uint8c") {
            return new Uint8ClampedArray(len);
          }
          return createRegularArray(type, len);
        }
        if (typeof Uint8ClampedArray === "function" && typeof Float32Array === "function") {
          return createTypedArrayFactory;
        }
        return createRegularArray;
      }();
      function createSizedArray2(len) {
        return Array.apply(null, { length: len });
      }
      function createNS2(type) {
        return document.createElementNS(svgNS2, type);
      }
      function createTag2(type) {
        return document.createElement(type);
      }
      function DynamicPropertyContainer2() {
      }
      DynamicPropertyContainer2.prototype = {
        addDynamicProperty: function(prop) {
          if (this.dynamicProperties.indexOf(prop) === -1) {
            this.dynamicProperties.push(prop);
            this.container.addDynamicProperty(this);
            this._isAnimated = true;
          }
        },
        iterateDynamicProperties: function() {
          this._mdf = false;
          var i3;
          var len = this.dynamicProperties.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.dynamicProperties[i3].getValue();
            if (this.dynamicProperties[i3]._mdf) {
              this._mdf = true;
            }
          }
        },
        initDynamicPropertyContainer: function(container) {
          this.container = container;
          this.dynamicProperties = [];
          this._mdf = false;
          this._isAnimated = false;
        }
      };
      var getBlendMode2 = function() {
        var blendModeEnums = {
          0: "source-over",
          1: "multiply",
          2: "screen",
          3: "overlay",
          4: "darken",
          5: "lighten",
          6: "color-dodge",
          7: "color-burn",
          8: "hard-light",
          9: "soft-light",
          10: "difference",
          11: "exclusion",
          12: "hue",
          13: "saturation",
          14: "color",
          15: "luminosity"
        };
        return function(mode) {
          return blendModeEnums[mode] || "";
        };
      }();
      var lineCapEnum2 = {
        1: "butt",
        2: "round",
        3: "square"
      };
      var lineJoinEnum2 = {
        1: "miter",
        2: "round",
        3: "bevel"
      };
      var Matrix2 = function() {
        var _cos = Math.cos;
        var _sin = Math.sin;
        var _tan = Math.tan;
        var _rnd = Math.round;
        function reset() {
          this.props[0] = 1;
          this.props[1] = 0;
          this.props[2] = 0;
          this.props[3] = 0;
          this.props[4] = 0;
          this.props[5] = 1;
          this.props[6] = 0;
          this.props[7] = 0;
          this.props[8] = 0;
          this.props[9] = 0;
          this.props[10] = 1;
          this.props[11] = 0;
          this.props[12] = 0;
          this.props[13] = 0;
          this.props[14] = 0;
          this.props[15] = 1;
          return this;
        }
        function rotate(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function rotateX(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);
        }
        function rotateY(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);
        }
        function rotateZ(angle) {
          if (angle === 0) {
            return this;
          }
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function shear(sx, sy) {
          return this._t(1, sy, sx, 1, 0, 0);
        }
        function skew(ax, ay) {
          return this.shear(_tan(ax), _tan(ay));
        }
        function skewFromAxis(ax, angle) {
          var mCos = _cos(angle);
          var mSin = _sin(angle);
          return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);
        }
        function scale2(sx, sy, sz) {
          if (!sz && sz !== 0) {
            sz = 1;
          }
          if (sx === 1 && sy === 1 && sz === 1) {
            return this;
          }
          return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);
        }
        function setTransform(a4, b3, c3, d3, e2, f3, g5, h6, i3, j4, k3, l4, m3, n4, o3, p6) {
          this.props[0] = a4;
          this.props[1] = b3;
          this.props[2] = c3;
          this.props[3] = d3;
          this.props[4] = e2;
          this.props[5] = f3;
          this.props[6] = g5;
          this.props[7] = h6;
          this.props[8] = i3;
          this.props[9] = j4;
          this.props[10] = k3;
          this.props[11] = l4;
          this.props[12] = m3;
          this.props[13] = n4;
          this.props[14] = o3;
          this.props[15] = p6;
          return this;
        }
        function translate(tx, ty, tz) {
          tz = tz || 0;
          if (tx !== 0 || ty !== 0 || tz !== 0) {
            return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);
          }
          return this;
        }
        function transform2(a22, b22, c22, d22, e2, f22, g22, h22, i22, j22, k22, l22, m22, n22, o22, p22) {
          var _p = this.props;
          if (a22 === 1 && b22 === 0 && c22 === 0 && d22 === 0 && e2 === 0 && f22 === 1 && g22 === 0 && h22 === 0 && i22 === 0 && j22 === 0 && k22 === 1 && l22 === 0) {
            _p[12] = _p[12] * a22 + _p[15] * m22;
            _p[13] = _p[13] * f22 + _p[15] * n22;
            _p[14] = _p[14] * k22 + _p[15] * o22;
            _p[15] *= p22;
            this._identityCalculated = false;
            return this;
          }
          var a1 = _p[0];
          var b1 = _p[1];
          var c1 = _p[2];
          var d1 = _p[3];
          var e1 = _p[4];
          var f1 = _p[5];
          var g1 = _p[6];
          var h1 = _p[7];
          var i1 = _p[8];
          var j1 = _p[9];
          var k1 = _p[10];
          var l1 = _p[11];
          var m1 = _p[12];
          var n1 = _p[13];
          var o1 = _p[14];
          var p1 = _p[15];
          _p[0] = a1 * a22 + b1 * e2 + c1 * i22 + d1 * m22;
          _p[1] = a1 * b22 + b1 * f22 + c1 * j22 + d1 * n22;
          _p[2] = a1 * c22 + b1 * g22 + c1 * k22 + d1 * o22;
          _p[3] = a1 * d22 + b1 * h22 + c1 * l22 + d1 * p22;
          _p[4] = e1 * a22 + f1 * e2 + g1 * i22 + h1 * m22;
          _p[5] = e1 * b22 + f1 * f22 + g1 * j22 + h1 * n22;
          _p[6] = e1 * c22 + f1 * g22 + g1 * k22 + h1 * o22;
          _p[7] = e1 * d22 + f1 * h22 + g1 * l22 + h1 * p22;
          _p[8] = i1 * a22 + j1 * e2 + k1 * i22 + l1 * m22;
          _p[9] = i1 * b22 + j1 * f22 + k1 * j22 + l1 * n22;
          _p[10] = i1 * c22 + j1 * g22 + k1 * k22 + l1 * o22;
          _p[11] = i1 * d22 + j1 * h22 + k1 * l22 + l1 * p22;
          _p[12] = m1 * a22 + n1 * e2 + o1 * i22 + p1 * m22;
          _p[13] = m1 * b22 + n1 * f22 + o1 * j22 + p1 * n22;
          _p[14] = m1 * c22 + n1 * g22 + o1 * k22 + p1 * o22;
          _p[15] = m1 * d22 + n1 * h22 + o1 * l22 + p1 * p22;
          this._identityCalculated = false;
          return this;
        }
        function isIdentity() {
          if (!this._identityCalculated) {
            this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);
            this._identityCalculated = true;
          }
          return this._identity;
        }
        function equals4(matr) {
          var i3 = 0;
          while (i3 < 16) {
            if (matr.props[i3] !== this.props[i3]) {
              return false;
            }
            i3 += 1;
          }
          return true;
        }
        function clone(matr) {
          var i3;
          for (i3 = 0; i3 < 16; i3 += 1) {
            matr.props[i3] = this.props[i3];
          }
          return matr;
        }
        function cloneFromProps(props) {
          var i3;
          for (i3 = 0; i3 < 16; i3 += 1) {
            this.props[i3] = props[i3];
          }
        }
        function applyToPoint(x5, y7, z3) {
          return {
            x: x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12],
            y: x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13],
            z: x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14]
          };
        }
        function applyToX(x5, y7, z3) {
          return x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12];
        }
        function applyToY(x5, y7, z3) {
          return x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13];
        }
        function applyToZ(x5, y7, z3) {
          return x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14];
        }
        function getInverseMatrix() {
          var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];
          var a4 = this.props[5] / determinant;
          var b3 = -this.props[1] / determinant;
          var c3 = -this.props[4] / determinant;
          var d3 = this.props[0] / determinant;
          var e2 = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;
          var f3 = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;
          var inverseMatrix = new Matrix2();
          inverseMatrix.props[0] = a4;
          inverseMatrix.props[1] = b3;
          inverseMatrix.props[4] = c3;
          inverseMatrix.props[5] = d3;
          inverseMatrix.props[12] = e2;
          inverseMatrix.props[13] = f3;
          return inverseMatrix;
        }
        function inversePoint(pt3) {
          var inverseMatrix = this.getInverseMatrix();
          return inverseMatrix.applyToPointArray(pt3[0], pt3[1], pt3[2] || 0);
        }
        function inversePoints(pts) {
          var i3;
          var len = pts.length;
          var retPts = [];
          for (i3 = 0; i3 < len; i3 += 1) {
            retPts[i3] = inversePoint(pts[i3]);
          }
          return retPts;
        }
        function applyToTriplePoints(pt1, pt22, pt3) {
          var arr = createTypedArray2("float32", 6);
          if (this.isIdentity()) {
            arr[0] = pt1[0];
            arr[1] = pt1[1];
            arr[2] = pt22[0];
            arr[3] = pt22[1];
            arr[4] = pt3[0];
            arr[5] = pt3[1];
          } else {
            var p0 = this.props[0];
            var p1 = this.props[1];
            var p42 = this.props[4];
            var p52 = this.props[5];
            var p12 = this.props[12];
            var p13 = this.props[13];
            arr[0] = pt1[0] * p0 + pt1[1] * p42 + p12;
            arr[1] = pt1[0] * p1 + pt1[1] * p52 + p13;
            arr[2] = pt22[0] * p0 + pt22[1] * p42 + p12;
            arr[3] = pt22[0] * p1 + pt22[1] * p52 + p13;
            arr[4] = pt3[0] * p0 + pt3[1] * p42 + p12;
            arr[5] = pt3[0] * p1 + pt3[1] * p52 + p13;
          }
          return arr;
        }
        function applyToPointArray(x5, y7, z3) {
          var arr;
          if (this.isIdentity()) {
            arr = [x5, y7, z3];
          } else {
            arr = [
              x5 * this.props[0] + y7 * this.props[4] + z3 * this.props[8] + this.props[12],
              x5 * this.props[1] + y7 * this.props[5] + z3 * this.props[9] + this.props[13],
              x5 * this.props[2] + y7 * this.props[6] + z3 * this.props[10] + this.props[14]
            ];
          }
          return arr;
        }
        function applyToPointStringified(x5, y7) {
          if (this.isIdentity()) {
            return x5 + "," + y7;
          }
          var _p = this.props;
          return Math.round((x5 * _p[0] + y7 * _p[4] + _p[12]) * 100) / 100 + "," + Math.round((x5 * _p[1] + y7 * _p[5] + _p[13]) * 100) / 100;
        }
        function toCSS() {
          var i3 = 0;
          var props = this.props;
          var cssValue = "matrix3d(";
          var v2 = 1e4;
          while (i3 < 16) {
            cssValue += _rnd(props[i3] * v2) / v2;
            cssValue += i3 === 15 ? ")" : ",";
            i3 += 1;
          }
          return cssValue;
        }
        function roundMatrixProperty(val2) {
          var v2 = 1e4;
          if (val2 < 1e-6 && val2 > 0 || val2 > -1e-6 && val2 < 0) {
            return _rnd(val2 * v2) / v2;
          }
          return val2;
        }
        function to2dCSS() {
          var props = this.props;
          var _a = roundMatrixProperty(props[0]);
          var _b = roundMatrixProperty(props[1]);
          var _c3 = roundMatrixProperty(props[4]);
          var _d = roundMatrixProperty(props[5]);
          var _e3 = roundMatrixProperty(props[12]);
          var _f = roundMatrixProperty(props[13]);
          return "matrix(" + _a + "," + _b + "," + _c3 + "," + _d + "," + _e3 + "," + _f + ")";
        }
        return function() {
          this.reset = reset;
          this.rotate = rotate;
          this.rotateX = rotateX;
          this.rotateY = rotateY;
          this.rotateZ = rotateZ;
          this.skew = skew;
          this.skewFromAxis = skewFromAxis;
          this.shear = shear;
          this.scale = scale2;
          this.setTransform = setTransform;
          this.translate = translate;
          this.transform = transform2;
          this.applyToPoint = applyToPoint;
          this.applyToX = applyToX;
          this.applyToY = applyToY;
          this.applyToZ = applyToZ;
          this.applyToPointArray = applyToPointArray;
          this.applyToTriplePoints = applyToTriplePoints;
          this.applyToPointStringified = applyToPointStringified;
          this.toCSS = toCSS;
          this.to2dCSS = to2dCSS;
          this.clone = clone;
          this.cloneFromProps = cloneFromProps;
          this.equals = equals4;
          this.inversePoints = inversePoints;
          this.inversePoint = inversePoint;
          this.getInverseMatrix = getInverseMatrix;
          this._t = this.transform;
          this.isIdentity = isIdentity;
          this._identity = true;
          this._identityCalculated = false;
          this.props = createTypedArray2("float32", 16);
          this.reset();
        };
      }();
      (function(pool, math) {
        var global2 = this, width2 = 256, chunks = 6, digits = 52, rngname = "random", startdenom = math.pow(width2, chunks), significance = math.pow(2, digits), overflow = significance * 2, mask2 = width2 - 1, nodecrypto;
        function seedrandom(seed, options, callback) {
          var key2 = [];
          options = options === true ? { entropy: true } : options || {};
          var shortseed = mixkey(flatten(
            options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed,
            3
          ), key2);
          var arc4 = new ARC4(key2);
          var prng = function() {
            var n4 = arc4.g(chunks), d3 = startdenom, x5 = 0;
            while (n4 < significance) {
              n4 = (n4 + x5) * width2;
              d3 *= width2;
              x5 = arc4.g(1);
            }
            while (n4 >= overflow) {
              n4 /= 2;
              d3 /= 2;
              x5 >>>= 1;
            }
            return (n4 + x5) / d3;
          };
          prng.int32 = function() {
            return arc4.g(4) | 0;
          };
          prng.quick = function() {
            return arc4.g(4) / 4294967296;
          };
          prng.double = prng;
          mixkey(tostring(arc4.S), pool);
          return (options.pass || callback || function(prng2, seed2, is_math_call, state) {
            if (state) {
              if (state.S) {
                copy(state, arc4);
              }
              prng2.state = function() {
                return copy(arc4, {});
              };
            }
            if (is_math_call) {
              math[rngname] = prng2;
              return seed2;
            } else
              return prng2;
          })(
            prng,
            shortseed,
            "global" in options ? options.global : this == math,
            options.state
          );
        }
        math["seed" + rngname] = seedrandom;
        function ARC4(key2) {
          var t2, keylen = key2.length, me2 = this, i3 = 0, j4 = me2.i = me2.j = 0, s2 = me2.S = [];
          if (!keylen) {
            key2 = [keylen++];
          }
          while (i3 < width2) {
            s2[i3] = i3++;
          }
          for (i3 = 0; i3 < width2; i3++) {
            s2[i3] = s2[j4 = mask2 & j4 + key2[i3 % keylen] + (t2 = s2[i3])];
            s2[j4] = t2;
          }
          me2.g = function(count) {
            var t3, r3 = 0, i4 = me2.i, j5 = me2.j, s3 = me2.S;
            while (count--) {
              t3 = s3[i4 = mask2 & i4 + 1];
              r3 = r3 * width2 + s3[mask2 & (s3[i4] = s3[j5 = mask2 & j5 + t3]) + (s3[j5] = t3)];
            }
            me2.i = i4;
            me2.j = j5;
            return r3;
          };
        }
        function copy(f3, t2) {
          t2.i = f3.i;
          t2.j = f3.j;
          t2.S = f3.S.slice();
          return t2;
        }
        function flatten(obj, depth) {
          var result = [], typ = typeof obj, prop;
          if (depth && typ == "object") {
            for (prop in obj) {
              try {
                result.push(flatten(obj[prop], depth - 1));
              } catch (e2) {
              }
            }
          }
          return result.length ? result : typ == "string" ? obj : obj + "\0";
        }
        function mixkey(seed, key2) {
          var stringseed = seed + "", smear, j4 = 0;
          while (j4 < stringseed.length) {
            key2[mask2 & j4] = mask2 & (smear ^= key2[mask2 & j4] * 19) + stringseed.charCodeAt(j4++);
          }
          return tostring(key2);
        }
        function autoseed() {
          try {
            if (nodecrypto) {
              return tostring(nodecrypto.randomBytes(width2));
            }
            var out = new Uint8Array(width2);
            (global2.crypto || global2.msCrypto).getRandomValues(out);
            return tostring(out);
          } catch (e2) {
            var browser = global2.navigator, plugins = browser && browser.plugins;
            return [+/* @__PURE__ */ new Date(), global2, plugins, global2.screen, tostring(pool)];
          }
        }
        function tostring(a4) {
          return String.fromCharCode.apply(0, a4);
        }
        mixkey(math.random(), pool);
      })(
        [],
        // pool: entropy pool starts empty
        BMMath2
        // math: package containing random, pow, and seedrandom
      );
      var BezierFactory2 = function() {
        var ob2 = {};
        ob2.getBezierEasing = getBezierEasing;
        var beziers = {};
        function getBezierEasing(a4, b3, c3, d3, nm) {
          var str = nm || ("bez_" + a4 + "_" + b3 + "_" + c3 + "_" + d3).replace(/\./g, "p");
          if (beziers[str]) {
            return beziers[str];
          }
          var bezEasing = new BezierEasing([a4, b3, c3, d3]);
          beziers[str] = bezEasing;
          return bezEasing;
        }
        var NEWTON_ITERATIONS = 4;
        var NEWTON_MIN_SLOPE = 1e-3;
        var SUBDIVISION_PRECISION = 1e-7;
        var SUBDIVISION_MAX_ITERATIONS = 10;
        var kSplineTableSize = 11;
        var kSampleStepSize = 1 / (kSplineTableSize - 1);
        var float32ArraySupported = typeof Float32Array === "function";
        function A3(aA1, aA2) {
          return 1 - 3 * aA2 + 3 * aA1;
        }
        function B3(aA1, aA2) {
          return 3 * aA2 - 6 * aA1;
        }
        function C3(aA1) {
          return 3 * aA1;
        }
        function calcBezier(aT, aA1, aA2) {
          return ((A3(aA1, aA2) * aT + B3(aA1, aA2)) * aT + C3(aA1)) * aT;
        }
        function getSlope(aT, aA1, aA2) {
          return 3 * A3(aA1, aA2) * aT * aT + 2 * B3(aA1, aA2) * aT + C3(aA1);
        }
        function binarySubdivide(aX, aA, aB, mX1, mX2) {
          var currentX, currentT, i3 = 0;
          do {
            currentT = aA + (aB - aA) / 2;
            currentX = calcBezier(currentT, mX1, mX2) - aX;
            if (currentX > 0) {
              aB = currentT;
            } else {
              aA = currentT;
            }
          } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i3 < SUBDIVISION_MAX_ITERATIONS);
          return currentT;
        }
        function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {
          for (var i3 = 0; i3 < NEWTON_ITERATIONS; ++i3) {
            var currentSlope = getSlope(aGuessT, mX1, mX2);
            if (currentSlope === 0)
              return aGuessT;
            var currentX = calcBezier(aGuessT, mX1, mX2) - aX;
            aGuessT -= currentX / currentSlope;
          }
          return aGuessT;
        }
        function BezierEasing(points) {
          this._p = points;
          this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);
          this._precomputed = false;
          this.get = this.get.bind(this);
        }
        BezierEasing.prototype = {
          get: function(x5) {
            var mX1 = this._p[0], mY1 = this._p[1], mX2 = this._p[2], mY2 = this._p[3];
            if (!this._precomputed)
              this._precompute();
            if (mX1 === mY1 && mX2 === mY2)
              return x5;
            if (x5 === 0)
              return 0;
            if (x5 === 1)
              return 1;
            return calcBezier(this._getTForX(x5), mY1, mY2);
          },
          // Private part
          _precompute: function() {
            var mX1 = this._p[0], mY1 = this._p[1], mX2 = this._p[2], mY2 = this._p[3];
            this._precomputed = true;
            if (mX1 !== mY1 || mX2 !== mY2) {
              this._calcSampleValues();
            }
          },
          _calcSampleValues: function() {
            var mX1 = this._p[0], mX2 = this._p[2];
            for (var i3 = 0; i3 < kSplineTableSize; ++i3) {
              this._mSampleValues[i3] = calcBezier(i3 * kSampleStepSize, mX1, mX2);
            }
          },
          /**
               * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.
               */
          _getTForX: function(aX) {
            var mX1 = this._p[0], mX2 = this._p[2], mSampleValues = this._mSampleValues;
            var intervalStart = 0;
            var currentSample = 1;
            var lastSample = kSplineTableSize - 1;
            for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {
              intervalStart += kSampleStepSize;
            }
            --currentSample;
            var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);
            var guessForT = intervalStart + dist * kSampleStepSize;
            var initialSlope = getSlope(guessForT, mX1, mX2);
            if (initialSlope >= NEWTON_MIN_SLOPE) {
              return newtonRaphsonIterate(aX, guessForT, mX1, mX2);
            }
            if (initialSlope === 0) {
              return guessForT;
            }
            return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);
          }
        };
        return ob2;
      }();
      (function() {
        var lastTime = 0;
        var vendors = ["ms", "moz", "webkit", "o"];
        for (var x5 = 0; x5 < vendors.length && !window2.requestAnimationFrame; ++x5) {
          window2.requestAnimationFrame = window2[vendors[x5] + "RequestAnimationFrame"];
          window2.cancelAnimationFrame = window2[vendors[x5] + "CancelAnimationFrame"] || window2[vendors[x5] + "CancelRequestAnimationFrame"];
        }
        if (!window2.requestAnimationFrame) {
          window2.requestAnimationFrame = function(callback) {
            var currTime = (/* @__PURE__ */ new Date()).getTime();
            var timeToCall = Math.max(0, 16 - (currTime - lastTime));
            var id = setTimeout(
              function() {
                callback(currTime + timeToCall);
              },
              timeToCall
            );
            lastTime = currTime + timeToCall;
            return id;
          };
        }
        if (!window2.cancelAnimationFrame) {
          window2.cancelAnimationFrame = function(id) {
            clearTimeout(id);
          };
        }
      })();
      function extendPrototype2(sources, destination) {
        var i3;
        var len = sources.length;
        var sourcePrototype;
        for (i3 = 0; i3 < len; i3 += 1) {
          sourcePrototype = sources[i3].prototype;
          for (var attr in sourcePrototype) {
            if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr))
              destination.prototype[attr] = sourcePrototype[attr];
          }
        }
      }
      function getDescriptor2(object, prop) {
        return Object.getOwnPropertyDescriptor(object, prop);
      }
      function createProxyFunction2(prototype) {
        function ProxyFunction() {
        }
        ProxyFunction.prototype = prototype;
        return ProxyFunction;
      }
      function bezFunction2() {
        var math = Math;
        function pointOnLine2D(x1, y1, x22, y22, x32, y32) {
          var det1 = x1 * y22 + y1 * x32 + x22 * y32 - x32 * y22 - y32 * x1 - x22 * y1;
          return det1 > -1e-3 && det1 < 1e-3;
        }
        function pointOnLine3D(x1, y1, z1, x22, y22, z22, x32, y32, z3) {
          if (z1 === 0 && z22 === 0 && z3 === 0) {
            return pointOnLine2D(x1, y1, x22, y22, x32, y32);
          }
          var dist1 = math.sqrt(math.pow(x22 - x1, 2) + math.pow(y22 - y1, 2) + math.pow(z22 - z1, 2));
          var dist2 = math.sqrt(math.pow(x32 - x1, 2) + math.pow(y32 - y1, 2) + math.pow(z3 - z1, 2));
          var dist3 = math.sqrt(math.pow(x32 - x22, 2) + math.pow(y32 - y22, 2) + math.pow(z3 - z22, 2));
          var diffDist;
          if (dist1 > dist2) {
            if (dist1 > dist3) {
              diffDist = dist1 - dist2 - dist3;
            } else {
              diffDist = dist3 - dist2 - dist1;
            }
          } else if (dist3 > dist2) {
            diffDist = dist3 - dist2 - dist1;
          } else {
            diffDist = dist2 - dist1 - dist3;
          }
          return diffDist > -1e-4 && diffDist < 1e-4;
        }
        var getBezierLength = function() {
          return function(pt1, pt22, pt3, pt4) {
            var curveSegments = defaultCurveSegments2;
            var k3;
            var i3;
            var len;
            var ptCoord;
            var perc;
            var addedLength = 0;
            var ptDistance;
            var point = [];
            var lastPoint = [];
            var lengthData = bezierLengthPool2.newElement();
            len = pt3.length;
            for (k3 = 0; k3 < curveSegments; k3 += 1) {
              perc = k3 / (curveSegments - 1);
              ptDistance = 0;
              for (i3 = 0; i3 < len; i3 += 1) {
                ptCoord = bmPow2(1 - perc, 3) * pt1[i3] + 3 * bmPow2(1 - perc, 2) * perc * pt3[i3] + 3 * (1 - perc) * bmPow2(perc, 2) * pt4[i3] + bmPow2(perc, 3) * pt22[i3];
                point[i3] = ptCoord;
                if (lastPoint[i3] !== null) {
                  ptDistance += bmPow2(point[i3] - lastPoint[i3], 2);
                }
                lastPoint[i3] = point[i3];
              }
              if (ptDistance) {
                ptDistance = bmSqrt2(ptDistance);
                addedLength += ptDistance;
              }
              lengthData.percents[k3] = perc;
              lengthData.lengths[k3] = addedLength;
            }
            lengthData.addedLength = addedLength;
            return lengthData;
          };
        }();
        function getSegmentsLength(shapeData) {
          var segmentsLength = segmentsLengthPool2.newElement();
          var closed = shapeData.c;
          var pathV = shapeData.v;
          var pathO = shapeData.o;
          var pathI = shapeData.i;
          var i3;
          var len = shapeData._length;
          var lengths = segmentsLength.lengths;
          var totalLength = 0;
          for (i3 = 0; i3 < len - 1; i3 += 1) {
            lengths[i3] = getBezierLength(pathV[i3], pathV[i3 + 1], pathO[i3], pathI[i3 + 1]);
            totalLength += lengths[i3].addedLength;
          }
          if (closed && len) {
            lengths[i3] = getBezierLength(pathV[i3], pathV[0], pathO[i3], pathI[0]);
            totalLength += lengths[i3].addedLength;
          }
          segmentsLength.totalLength = totalLength;
          return segmentsLength;
        }
        function BezierData(length3) {
          this.segmentLength = 0;
          this.points = new Array(length3);
        }
        function PointData(partial, point) {
          this.partialLength = partial;
          this.point = point;
        }
        var buildBezierData = function() {
          var storedData = {};
          return function(pt1, pt22, pt3, pt4) {
            var bezierName = (pt1[0] + "_" + pt1[1] + "_" + pt22[0] + "_" + pt22[1] + "_" + pt3[0] + "_" + pt3[1] + "_" + pt4[0] + "_" + pt4[1]).replace(/\./g, "p");
            if (!storedData[bezierName]) {
              var curveSegments = defaultCurveSegments2;
              var k3;
              var i3;
              var len;
              var ptCoord;
              var perc;
              var addedLength = 0;
              var ptDistance;
              var point;
              var lastPoint = null;
              if (pt1.length === 2 && (pt1[0] !== pt22[0] || pt1[1] !== pt22[1]) && pointOnLine2D(pt1[0], pt1[1], pt22[0], pt22[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt22[0], pt22[1], pt22[0] + pt4[0], pt22[1] + pt4[1])) {
                curveSegments = 2;
              }
              var bezierData = new BezierData(curveSegments);
              len = pt3.length;
              for (k3 = 0; k3 < curveSegments; k3 += 1) {
                point = createSizedArray2(len);
                perc = k3 / (curveSegments - 1);
                ptDistance = 0;
                for (i3 = 0; i3 < len; i3 += 1) {
                  ptCoord = bmPow2(1 - perc, 3) * pt1[i3] + 3 * bmPow2(1 - perc, 2) * perc * (pt1[i3] + pt3[i3]) + 3 * (1 - perc) * bmPow2(perc, 2) * (pt22[i3] + pt4[i3]) + bmPow2(perc, 3) * pt22[i3];
                  point[i3] = ptCoord;
                  if (lastPoint !== null) {
                    ptDistance += bmPow2(point[i3] - lastPoint[i3], 2);
                  }
                }
                ptDistance = bmSqrt2(ptDistance);
                addedLength += ptDistance;
                bezierData.points[k3] = new PointData(ptDistance, point);
                lastPoint = point;
              }
              bezierData.segmentLength = addedLength;
              storedData[bezierName] = bezierData;
            }
            return storedData[bezierName];
          };
        }();
        function getDistancePerc(perc, bezierData) {
          var percents = bezierData.percents;
          var lengths = bezierData.lengths;
          var len = percents.length;
          var initPos = bmFloor2((len - 1) * perc);
          var lengthPos = perc * bezierData.addedLength;
          var lPerc = 0;
          if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {
            return percents[initPos];
          }
          var dir = lengths[initPos] > lengthPos ? -1 : 1;
          var flag = true;
          while (flag) {
            if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {
              lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);
              flag = false;
            } else {
              initPos += dir;
            }
            if (initPos < 0 || initPos >= len - 1) {
              if (initPos === len - 1) {
                return percents[initPos];
              }
              flag = false;
            }
          }
          return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;
        }
        function getPointInSegment(pt1, pt22, pt3, pt4, percent, bezierData) {
          var t1 = getDistancePerc(percent, bezierData);
          var u1 = 1 - t1;
          var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt22[0]) * 1e3) / 1e3;
          var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt22[1]) * 1e3) / 1e3;
          return [ptX, ptY];
        }
        var bezierSegmentPoints = createTypedArray2("float32", 8);
        function getNewSegment(pt1, pt22, pt3, pt4, startPerc, endPerc, bezierData) {
          if (startPerc < 0) {
            startPerc = 0;
          } else if (startPerc > 1) {
            startPerc = 1;
          }
          var t0 = getDistancePerc(startPerc, bezierData);
          endPerc = endPerc > 1 ? 1 : endPerc;
          var t1 = getDistancePerc(endPerc, bezierData);
          var i3;
          var len = pt1.length;
          var u0 = 1 - t0;
          var u1 = 1 - t1;
          var u0u0u0 = u0 * u0 * u0;
          var t0u0u0_3 = t0 * u0 * u0 * 3;
          var t0t0u0_3 = t0 * t0 * u0 * 3;
          var t0t0t0 = t0 * t0 * t0;
          var u0u0u1 = u0 * u0 * u1;
          var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1;
          var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1;
          var t0t0t1 = t0 * t0 * t1;
          var u0u1u1 = u0 * u1 * u1;
          var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1;
          var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1;
          var t0t1t1 = t0 * t1 * t1;
          var u1u1u1 = u1 * u1 * u1;
          var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1;
          var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1;
          var t1t1t1 = t1 * t1 * t1;
          for (i3 = 0; i3 < len; i3 += 1) {
            bezierSegmentPoints[i3 * 4] = math.round((u0u0u0 * pt1[i3] + t0u0u0_3 * pt3[i3] + t0t0u0_3 * pt4[i3] + t0t0t0 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 1] = math.round((u0u0u1 * pt1[i3] + t0u0u1_3 * pt3[i3] + t0t0u1_3 * pt4[i3] + t0t0t1 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 2] = math.round((u0u1u1 * pt1[i3] + t0u1u1_3 * pt3[i3] + t0t1u1_3 * pt4[i3] + t0t1t1 * pt22[i3]) * 1e3) / 1e3;
            bezierSegmentPoints[i3 * 4 + 3] = math.round((u1u1u1 * pt1[i3] + t1u1u1_3 * pt3[i3] + t1t1u1_3 * pt4[i3] + t1t1t1 * pt22[i3]) * 1e3) / 1e3;
          }
          return bezierSegmentPoints;
        }
        return {
          getSegmentsLength,
          getNewSegment,
          getPointInSegment,
          buildBezierData,
          pointOnLine2D,
          pointOnLine3D
        };
      }
      var bez2 = bezFunction2();
      var dataManager2 = function() {
        var _counterId = 1;
        var processes = [];
        var workerFn;
        var workerInstance;
        var workerProxy = {
          onmessage: function() {
          },
          postMessage: function(path) {
            workerFn({
              data: path
            });
          }
        };
        var _workerSelf = {
          postMessage: function(data2) {
            workerProxy.onmessage({
              data: data2
            });
          }
        };
        function createWorker(fn2) {
          if (window2.Worker && window2.Blob && _useWebWorker2) {
            var blob = new Blob(["var _workerSelf = self; self.onmessage = ", fn2.toString()], { type: "text/javascript" });
            var url = URL.createObjectURL(blob);
            return new Worker(url);
          }
          workerFn = fn2;
          return workerProxy;
        }
        function setupWorker() {
          if (!workerInstance) {
            workerInstance = createWorker(function workerStart(e2) {
              function dataFunctionManager() {
                function completeLayers(layers, comps) {
                  var layerData;
                  var i3;
                  var len = layers.length;
                  var j4;
                  var jLen;
                  var k3;
                  var kLen;
                  for (i3 = 0; i3 < len; i3 += 1) {
                    layerData = layers[i3];
                    if ("ks" in layerData && !layerData.completed) {
                      layerData.completed = true;
                      if (layerData.tt) {
                        layers[i3 - 1].td = layerData.tt;
                      }
                      if (layerData.hasMask) {
                        var maskProps = layerData.masksProperties;
                        jLen = maskProps.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (maskProps[j4].pt.k.i) {
                            convertPathsToAbsoluteValues(maskProps[j4].pt.k);
                          } else {
                            kLen = maskProps[j4].pt.k.length;
                            for (k3 = 0; k3 < kLen; k3 += 1) {
                              if (maskProps[j4].pt.k[k3].s) {
                                convertPathsToAbsoluteValues(maskProps[j4].pt.k[k3].s[0]);
                              }
                              if (maskProps[j4].pt.k[k3].e) {
                                convertPathsToAbsoluteValues(maskProps[j4].pt.k[k3].e[0]);
                              }
                            }
                          }
                        }
                      }
                      if (layerData.ty === 0) {
                        layerData.layers = findCompLayers(layerData.refId, comps);
                        completeLayers(layerData.layers, comps);
                      } else if (layerData.ty === 4) {
                        completeShapes(layerData.shapes);
                      } else if (layerData.ty === 5) {
                        completeText(layerData);
                      }
                    }
                  }
                }
                function findCompLayers(id, comps) {
                  var i3 = 0;
                  var len = comps.length;
                  while (i3 < len) {
                    if (comps[i3].id === id) {
                      if (!comps[i3].layers.__used) {
                        comps[i3].layers.__used = true;
                        return comps[i3].layers;
                      }
                      return JSON.parse(JSON.stringify(comps[i3].layers));
                    }
                    i3 += 1;
                  }
                  return null;
                }
                function completeShapes(arr) {
                  var i3;
                  var len = arr.length;
                  var j4;
                  var jLen;
                  for (i3 = len - 1; i3 >= 0; i3 -= 1) {
                    if (arr[i3].ty === "sh") {
                      if (arr[i3].ks.k.i) {
                        convertPathsToAbsoluteValues(arr[i3].ks.k);
                      } else {
                        jLen = arr[i3].ks.k.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (arr[i3].ks.k[j4].s) {
                            convertPathsToAbsoluteValues(arr[i3].ks.k[j4].s[0]);
                          }
                          if (arr[i3].ks.k[j4].e) {
                            convertPathsToAbsoluteValues(arr[i3].ks.k[j4].e[0]);
                          }
                        }
                      }
                    } else if (arr[i3].ty === "gr") {
                      completeShapes(arr[i3].it);
                    }
                  }
                }
                function convertPathsToAbsoluteValues(path) {
                  var i3;
                  var len = path.i.length;
                  for (i3 = 0; i3 < len; i3 += 1) {
                    path.i[i3][0] += path.v[i3][0];
                    path.i[i3][1] += path.v[i3][1];
                    path.o[i3][0] += path.v[i3][0];
                    path.o[i3][1] += path.v[i3][1];
                  }
                }
                function checkVersion(minimum, animVersionString) {
                  var animVersion = animVersionString ? animVersionString.split(".") : [100, 100, 100];
                  if (minimum[0] > animVersion[0]) {
                    return true;
                  }
                  if (animVersion[0] > minimum[0]) {
                    return false;
                  }
                  if (minimum[1] > animVersion[1]) {
                    return true;
                  }
                  if (animVersion[1] > minimum[1]) {
                    return false;
                  }
                  if (minimum[2] > animVersion[2]) {
                    return true;
                  }
                  if (animVersion[2] > minimum[2]) {
                    return false;
                  }
                  return null;
                }
                var checkText = function() {
                  var minimumVersion = [4, 4, 14];
                  function updateTextLayer(textLayer) {
                    var documentData = textLayer.t.d;
                    textLayer.t.d = {
                      k: [
                        {
                          s: documentData,
                          t: 0
                        }
                      ]
                    };
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 5) {
                        updateTextLayer(layers[i3]);
                      }
                    }
                  }
                  return function(animationData3) {
                    if (checkVersion(minimumVersion, animationData3.v)) {
                      iterateLayers(animationData3.layers);
                      if (animationData3.assets) {
                        var i3;
                        var len = animationData3.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData3.assets[i3].layers) {
                            iterateLayers(animationData3.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkChars = function() {
                  var minimumVersion = [4, 7, 99];
                  return function(animationData3) {
                    if (animationData3.chars && !checkVersion(minimumVersion, animationData3.v)) {
                      var i3;
                      var len = animationData3.chars.length;
                      var j4;
                      var jLen;
                      var pathData;
                      var paths;
                      for (i3 = 0; i3 < len; i3 += 1) {
                        if (animationData3.chars[i3].data && animationData3.chars[i3].data.shapes) {
                          paths = animationData3.chars[i3].data.shapes[0].it;
                          jLen = paths.length;
                          for (j4 = 0; j4 < jLen; j4 += 1) {
                            pathData = paths[j4].ks.k;
                            if (!pathData.__converted) {
                              convertPathsToAbsoluteValues(paths[j4].ks.k);
                              pathData.__converted = true;
                            }
                          }
                        }
                      }
                    }
                  };
                }();
                var checkPathProperties = function() {
                  var minimumVersion = [5, 7, 15];
                  function updateTextLayer(textLayer) {
                    var pathData = textLayer.t.p;
                    if (typeof pathData.a === "number") {
                      pathData.a = {
                        a: 0,
                        k: pathData.a
                      };
                    }
                    if (typeof pathData.p === "number") {
                      pathData.p = {
                        a: 0,
                        k: pathData.p
                      };
                    }
                    if (typeof pathData.r === "number") {
                      pathData.r = {
                        a: 0,
                        k: pathData.r
                      };
                    }
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 5) {
                        updateTextLayer(layers[i3]);
                      }
                    }
                  }
                  return function(animationData3) {
                    if (checkVersion(minimumVersion, animationData3.v)) {
                      iterateLayers(animationData3.layers);
                      if (animationData3.assets) {
                        var i3;
                        var len = animationData3.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData3.assets[i3].layers) {
                            iterateLayers(animationData3.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkColors = function() {
                  var minimumVersion = [4, 1, 9];
                  function iterateShapes(shapes) {
                    var i3;
                    var len = shapes.length;
                    var j4;
                    var jLen;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (shapes[i3].ty === "gr") {
                        iterateShapes(shapes[i3].it);
                      } else if (shapes[i3].ty === "fl" || shapes[i3].ty === "st") {
                        if (shapes[i3].c.k && shapes[i3].c.k[0].i) {
                          jLen = shapes[i3].c.k.length;
                          for (j4 = 0; j4 < jLen; j4 += 1) {
                            if (shapes[i3].c.k[j4].s) {
                              shapes[i3].c.k[j4].s[0] /= 255;
                              shapes[i3].c.k[j4].s[1] /= 255;
                              shapes[i3].c.k[j4].s[2] /= 255;
                              shapes[i3].c.k[j4].s[3] /= 255;
                            }
                            if (shapes[i3].c.k[j4].e) {
                              shapes[i3].c.k[j4].e[0] /= 255;
                              shapes[i3].c.k[j4].e[1] /= 255;
                              shapes[i3].c.k[j4].e[2] /= 255;
                              shapes[i3].c.k[j4].e[3] /= 255;
                            }
                          }
                        } else {
                          shapes[i3].c.k[0] /= 255;
                          shapes[i3].c.k[1] /= 255;
                          shapes[i3].c.k[2] /= 255;
                          shapes[i3].c.k[3] /= 255;
                        }
                      }
                    }
                  }
                  function iterateLayers(layers) {
                    var i3;
                    var len = layers.length;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      if (layers[i3].ty === 4) {
                        iterateShapes(layers[i3].shapes);
                      }
                    }
                  }
                  return function(animationData3) {
                    if (checkVersion(minimumVersion, animationData3.v)) {
                      iterateLayers(animationData3.layers);
                      if (animationData3.assets) {
                        var i3;
                        var len = animationData3.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData3.assets[i3].layers) {
                            iterateLayers(animationData3.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                var checkShapes = function() {
                  var minimumVersion = [4, 4, 18];
                  function completeClosingShapes(arr) {
                    var i3;
                    var len = arr.length;
                    var j4;
                    var jLen;
                    for (i3 = len - 1; i3 >= 0; i3 -= 1) {
                      if (arr[i3].ty === "sh") {
                        if (arr[i3].ks.k.i) {
                          arr[i3].ks.k.c = arr[i3].closed;
                        } else {
                          jLen = arr[i3].ks.k.length;
                          for (j4 = 0; j4 < jLen; j4 += 1) {
                            if (arr[i3].ks.k[j4].s) {
                              arr[i3].ks.k[j4].s[0].c = arr[i3].closed;
                            }
                            if (arr[i3].ks.k[j4].e) {
                              arr[i3].ks.k[j4].e[0].c = arr[i3].closed;
                            }
                          }
                        }
                      } else if (arr[i3].ty === "gr") {
                        completeClosingShapes(arr[i3].it);
                      }
                    }
                  }
                  function iterateLayers(layers) {
                    var layerData;
                    var i3;
                    var len = layers.length;
                    var j4;
                    var jLen;
                    var k3;
                    var kLen;
                    for (i3 = 0; i3 < len; i3 += 1) {
                      layerData = layers[i3];
                      if (layerData.hasMask) {
                        var maskProps = layerData.masksProperties;
                        jLen = maskProps.length;
                        for (j4 = 0; j4 < jLen; j4 += 1) {
                          if (maskProps[j4].pt.k.i) {
                            maskProps[j4].pt.k.c = maskProps[j4].cl;
                          } else {
                            kLen = maskProps[j4].pt.k.length;
                            for (k3 = 0; k3 < kLen; k3 += 1) {
                              if (maskProps[j4].pt.k[k3].s) {
                                maskProps[j4].pt.k[k3].s[0].c = maskProps[j4].cl;
                              }
                              if (maskProps[j4].pt.k[k3].e) {
                                maskProps[j4].pt.k[k3].e[0].c = maskProps[j4].cl;
                              }
                            }
                          }
                        }
                      }
                      if (layerData.ty === 4) {
                        completeClosingShapes(layerData.shapes);
                      }
                    }
                  }
                  return function(animationData3) {
                    if (checkVersion(minimumVersion, animationData3.v)) {
                      iterateLayers(animationData3.layers);
                      if (animationData3.assets) {
                        var i3;
                        var len = animationData3.assets.length;
                        for (i3 = 0; i3 < len; i3 += 1) {
                          if (animationData3.assets[i3].layers) {
                            iterateLayers(animationData3.assets[i3].layers);
                          }
                        }
                      }
                    }
                  };
                }();
                function completeData(animationData3) {
                  if (animationData3.__complete) {
                    return;
                  }
                  checkColors(animationData3);
                  checkText(animationData3);
                  checkChars(animationData3);
                  checkPathProperties(animationData3);
                  checkShapes(animationData3);
                  completeLayers(animationData3.layers, animationData3.assets);
                  animationData3.__complete = true;
                }
                function completeText(data2) {
                  if (data2.t.a.length === 0 && !("m" in data2.t.p)) {
                    data2.singleShape = true;
                  }
                }
                var moduleOb = {};
                moduleOb.completeData = completeData;
                moduleOb.checkColors = checkColors;
                moduleOb.checkChars = checkChars;
                moduleOb.checkPathProperties = checkPathProperties;
                moduleOb.checkShapes = checkShapes;
                moduleOb.completeLayers = completeLayers;
                return moduleOb;
              }
              if (!_workerSelf.dataManager) {
                _workerSelf.dataManager = dataFunctionManager();
              }
              if (!_workerSelf.assetLoader) {
                _workerSelf.assetLoader = function() {
                  function formatResponse(xhr) {
                    var contentTypeHeader = xhr.getResponseHeader("content-type");
                    if (contentTypeHeader && xhr.responseType === "json" && contentTypeHeader.indexOf("json") !== -1) {
                      return xhr.response;
                    }
                    if (xhr.response && typeof xhr.response === "object") {
                      return xhr.response;
                    }
                    if (xhr.response && typeof xhr.response === "string") {
                      return JSON.parse(xhr.response);
                    }
                    if (xhr.responseText) {
                      return JSON.parse(xhr.responseText);
                    }
                    return null;
                  }
                  function loadAsset(path, fullPath, callback, errorCallback) {
                    var response;
                    var xhr = new XMLHttpRequest();
                    try {
                      xhr.responseType = "json";
                    } catch (err) {
                    }
                    xhr.onreadystatechange = function() {
                      if (xhr.readyState === 4) {
                        if (xhr.status === 200) {
                          response = formatResponse(xhr);
                          callback(response);
                        } else {
                          try {
                            response = formatResponse(xhr);
                            callback(response);
                          } catch (err) {
                            if (errorCallback) {
                              errorCallback(err);
                            }
                          }
                        }
                      }
                    };
                    try {
                      xhr.open("GET", path, true);
                    } catch (error) {
                      xhr.open("GET", fullPath + "/" + path, true);
                    }
                    xhr.send();
                  }
                  return {
                    load: loadAsset
                  };
                }();
              }
              if (e2.data.type === "loadAnimation") {
                _workerSelf.assetLoader.load(
                  e2.data.path,
                  e2.data.fullPath,
                  function(data2) {
                    _workerSelf.dataManager.completeData(data2);
                    _workerSelf.postMessage({
                      id: e2.data.id,
                      payload: data2,
                      status: "success"
                    });
                  },
                  function() {
                    _workerSelf.postMessage({
                      id: e2.data.id,
                      status: "error"
                    });
                  }
                );
              } else if (e2.data.type === "complete") {
                var animation = e2.data.animation;
                _workerSelf.dataManager.completeData(animation);
                _workerSelf.postMessage({
                  id: e2.data.id,
                  payload: animation,
                  status: "success"
                });
              } else if (e2.data.type === "loadData") {
                _workerSelf.assetLoader.load(
                  e2.data.path,
                  e2.data.fullPath,
                  function(data2) {
                    _workerSelf.postMessage({
                      id: e2.data.id,
                      payload: data2,
                      status: "success"
                    });
                  },
                  function() {
                    _workerSelf.postMessage({
                      id: e2.data.id,
                      status: "error"
                    });
                  }
                );
              }
            });
            workerInstance.onmessage = function(event) {
              var data2 = event.data;
              var id = data2.id;
              var process2 = processes[id];
              processes[id] = null;
              if (data2.status === "success") {
                process2.onComplete(data2.payload);
              } else if (process2.onError) {
                process2.onError();
              }
            };
          }
        }
        function createProcess(onComplete, onError) {
          _counterId += 1;
          var id = "processId_" + _counterId;
          processes[id] = {
            onComplete,
            onError
          };
          return id;
        }
        function loadAnimation3(path, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "loadAnimation",
            path,
            fullPath: window2.location.origin + window2.location.pathname,
            id: processId
          });
        }
        function loadData(path, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "loadData",
            path,
            fullPath: window2.location.origin + window2.location.pathname,
            id: processId
          });
        }
        function completeAnimation(anim, onComplete, onError) {
          setupWorker();
          var processId = createProcess(onComplete, onError);
          workerInstance.postMessage({
            type: "complete",
            animation: anim,
            id: processId
          });
        }
        return {
          loadAnimation: loadAnimation3,
          loadData,
          completeAnimation
        };
      }();
      function getFontProperties2(fontData) {
        var styles = fontData.fStyle ? fontData.fStyle.split(" ") : [];
        var fWeight = "normal";
        var fStyle = "normal";
        var len = styles.length;
        var styleName;
        for (var i3 = 0; i3 < len; i3 += 1) {
          styleName = styles[i3].toLowerCase();
          switch (styleName) {
            case "italic":
              fStyle = "italic";
              break;
            case "bold":
              fWeight = "700";
              break;
            case "black":
              fWeight = "900";
              break;
            case "medium":
              fWeight = "500";
              break;
            case "regular":
            case "normal":
              fWeight = "400";
              break;
            case "light":
            case "thin":
              fWeight = "200";
              break;
            default:
              break;
          }
        }
        return {
          style: fStyle,
          weight: fontData.fWeight || fWeight
        };
      }
      var FontManager2 = function() {
        var maxWaitingTime = 5e3;
        var emptyChar = {
          w: 0,
          size: 0,
          shapes: []
        };
        var combinedCharacters = [];
        combinedCharacters = combinedCharacters.concat([
          2304,
          2305,
          2306,
          2307,
          2362,
          2363,
          2364,
          2364,
          2366,
          2367,
          2368,
          2369,
          2370,
          2371,
          2372,
          2373,
          2374,
          2375,
          2376,
          2377,
          2378,
          2379,
          2380,
          2381,
          2382,
          2383,
          2387,
          2388,
          2389,
          2390,
          2391,
          2402,
          2403
        ]);
        var surrogateModifiers = [
          "d83cdffb",
          "d83cdffc",
          "d83cdffd",
          "d83cdffe",
          "d83cdfff"
        ];
        var zeroWidthJoiner = [65039, 8205];
        function trimFontOptions(font) {
          var familyArray = font.split(",");
          var i3;
          var len = familyArray.length;
          var enabledFamilies = [];
          for (i3 = 0; i3 < len; i3 += 1) {
            if (familyArray[i3] !== "sans-serif" && familyArray[i3] !== "monospace") {
              enabledFamilies.push(familyArray[i3]);
            }
          }
          return enabledFamilies.join(",");
        }
        function setUpNode(font, family) {
          var parentNode = createTag2("span");
          parentNode.setAttribute("aria-hidden", true);
          parentNode.style.fontFamily = family;
          var node = createTag2("span");
          node.innerText = "giItT1WQy@!-/#";
          parentNode.style.position = "absolute";
          parentNode.style.left = "-10000px";
          parentNode.style.top = "-10000px";
          parentNode.style.fontSize = "300px";
          parentNode.style.fontVariant = "normal";
          parentNode.style.fontStyle = "normal";
          parentNode.style.fontWeight = "normal";
          parentNode.style.letterSpacing = "0";
          parentNode.appendChild(node);
          document.body.appendChild(parentNode);
          var width2 = node.offsetWidth;
          node.style.fontFamily = trimFontOptions(font) + ", " + family;
          return { node, w: width2, parent: parentNode };
        }
        function checkLoadedFonts() {
          var i3;
          var len = this.fonts.length;
          var node;
          var w4;
          var loadedCount = len;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.fonts[i3].loaded) {
              loadedCount -= 1;
            } else if (this.fonts[i3].fOrigin === "n" || this.fonts[i3].origin === 0) {
              this.fonts[i3].loaded = true;
            } else {
              node = this.fonts[i3].monoCase.node;
              w4 = this.fonts[i3].monoCase.w;
              if (node.offsetWidth !== w4) {
                loadedCount -= 1;
                this.fonts[i3].loaded = true;
              } else {
                node = this.fonts[i3].sansCase.node;
                w4 = this.fonts[i3].sansCase.w;
                if (node.offsetWidth !== w4) {
                  loadedCount -= 1;
                  this.fonts[i3].loaded = true;
                }
              }
              if (this.fonts[i3].loaded) {
                this.fonts[i3].sansCase.parent.parentNode.removeChild(this.fonts[i3].sansCase.parent);
                this.fonts[i3].monoCase.parent.parentNode.removeChild(this.fonts[i3].monoCase.parent);
              }
            }
          }
          if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {
            setTimeout(this.checkLoadedFontsBinded, 20);
          } else {
            setTimeout(this.setIsLoadedBinded, 10);
          }
        }
        function createHelper(def, fontData) {
          var tHelper = createNS2("text");
          tHelper.style.fontSize = "100px";
          var fontProps = getFontProperties2(fontData);
          tHelper.setAttribute("font-family", fontData.fFamily);
          tHelper.setAttribute("font-style", fontProps.style);
          tHelper.setAttribute("font-weight", fontProps.weight);
          tHelper.textContent = "1";
          if (fontData.fClass) {
            tHelper.style.fontFamily = "inherit";
            tHelper.setAttribute("class", fontData.fClass);
          } else {
            tHelper.style.fontFamily = fontData.fFamily;
          }
          def.appendChild(tHelper);
          var tCanvasHelper = createTag2("canvas").getContext("2d");
          tCanvasHelper.font = fontData.fWeight + " " + fontData.fStyle + " 100px " + fontData.fFamily;
          return tHelper;
        }
        function addFonts(fontData, defs) {
          if (!fontData) {
            this.isLoaded = true;
            return;
          }
          if (this.chars) {
            this.isLoaded = true;
            this.fonts = fontData.list;
            return;
          }
          var fontArr = fontData.list;
          var i3;
          var len = fontArr.length;
          var _pendingFonts = len;
          for (i3 = 0; i3 < len; i3 += 1) {
            var shouldLoadFont = true;
            var loadedSelector;
            var j4;
            fontArr[i3].loaded = false;
            fontArr[i3].monoCase = setUpNode(fontArr[i3].fFamily, "monospace");
            fontArr[i3].sansCase = setUpNode(fontArr[i3].fFamily, "sans-serif");
            if (!fontArr[i3].fPath) {
              fontArr[i3].loaded = true;
              _pendingFonts -= 1;
            } else if (fontArr[i3].fOrigin === "p" || fontArr[i3].origin === 3) {
              loadedSelector = document.querySelectorAll('style[f-forigin="p"][f-family="' + fontArr[i3].fFamily + '"], style[f-origin="3"][f-family="' + fontArr[i3].fFamily + '"]');
              if (loadedSelector.length > 0) {
                shouldLoadFont = false;
              }
              if (shouldLoadFont) {
                var s2 = createTag2("style");
                s2.setAttribute("f-forigin", fontArr[i3].fOrigin);
                s2.setAttribute("f-origin", fontArr[i3].origin);
                s2.setAttribute("f-family", fontArr[i3].fFamily);
                s2.type = "text/css";
                s2.innerText = "@font-face {font-family: " + fontArr[i3].fFamily + "; font-style: normal; src: url('" + fontArr[i3].fPath + "');}";
                defs.appendChild(s2);
              }
            } else if (fontArr[i3].fOrigin === "g" || fontArr[i3].origin === 1) {
              loadedSelector = document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]');
              for (j4 = 0; j4 < loadedSelector.length; j4 += 1) {
                if (loadedSelector[j4].href.indexOf(fontArr[i3].fPath) !== -1) {
                  shouldLoadFont = false;
                }
              }
              if (shouldLoadFont) {
                var l4 = createTag2("link");
                l4.setAttribute("f-forigin", fontArr[i3].fOrigin);
                l4.setAttribute("f-origin", fontArr[i3].origin);
                l4.type = "text/css";
                l4.rel = "stylesheet";
                l4.href = fontArr[i3].fPath;
                document.body.appendChild(l4);
              }
            } else if (fontArr[i3].fOrigin === "t" || fontArr[i3].origin === 2) {
              loadedSelector = document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]');
              for (j4 = 0; j4 < loadedSelector.length; j4 += 1) {
                if (fontArr[i3].fPath === loadedSelector[j4].src) {
                  shouldLoadFont = false;
                }
              }
              if (shouldLoadFont) {
                var sc = createTag2("link");
                sc.setAttribute("f-forigin", fontArr[i3].fOrigin);
                sc.setAttribute("f-origin", fontArr[i3].origin);
                sc.setAttribute("rel", "stylesheet");
                sc.setAttribute("href", fontArr[i3].fPath);
                defs.appendChild(sc);
              }
            }
            fontArr[i3].helper = createHelper(defs, fontArr[i3]);
            fontArr[i3].cache = {};
            this.fonts.push(fontArr[i3]);
          }
          if (_pendingFonts === 0) {
            this.isLoaded = true;
          } else {
            setTimeout(this.checkLoadedFonts.bind(this), 100);
          }
        }
        function addChars(chars) {
          if (!chars) {
            return;
          }
          if (!this.chars) {
            this.chars = [];
          }
          var i3;
          var len = chars.length;
          var j4;
          var jLen = this.chars.length;
          var found;
          for (i3 = 0; i3 < len; i3 += 1) {
            j4 = 0;
            found = false;
            while (j4 < jLen) {
              if (this.chars[j4].style === chars[i3].style && this.chars[j4].fFamily === chars[i3].fFamily && this.chars[j4].ch === chars[i3].ch) {
                found = true;
              }
              j4 += 1;
            }
            if (!found) {
              this.chars.push(chars[i3]);
              jLen += 1;
            }
          }
        }
        function getCharData(char, style, font) {
          var i3 = 0;
          var len = this.chars.length;
          while (i3 < len) {
            if (this.chars[i3].ch === char && this.chars[i3].style === style && this.chars[i3].fFamily === font) {
              return this.chars[i3];
            }
            i3 += 1;
          }
          if ((typeof char === "string" && char.charCodeAt(0) !== 13 || !char) && console && console.warn && !this._warned) {
            this._warned = true;
            console.warn("Missing character from exported characters list: ", char, style, font);
          }
          return emptyChar;
        }
        function measureText(char, fontName, size) {
          var fontData = this.getFontByName(fontName);
          var index3 = char.charCodeAt(0);
          if (!fontData.cache[index3 + 1]) {
            var tHelper = fontData.helper;
            if (char === " ") {
              tHelper.textContent = "|" + char + "|";
              var doubleSize = tHelper.getComputedTextLength();
              tHelper.textContent = "||";
              var singleSize = tHelper.getComputedTextLength();
              fontData.cache[index3 + 1] = (doubleSize - singleSize) / 100;
            } else {
              tHelper.textContent = char;
              fontData.cache[index3 + 1] = tHelper.getComputedTextLength() / 100;
            }
          }
          return fontData.cache[index3 + 1] * size;
        }
        function getFontByName(name3) {
          var i3 = 0;
          var len = this.fonts.length;
          while (i3 < len) {
            if (this.fonts[i3].fName === name3) {
              return this.fonts[i3];
            }
            i3 += 1;
          }
          return this.fonts[0];
        }
        function isModifier(firstCharCode, secondCharCode) {
          var sum2 = firstCharCode.toString(16) + secondCharCode.toString(16);
          return surrogateModifiers.indexOf(sum2) !== -1;
        }
        function isZeroWidthJoiner(firstCharCode, secondCharCode) {
          if (!secondCharCode) {
            return firstCharCode === zeroWidthJoiner[1];
          }
          return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];
        }
        function isCombinedCharacter(char) {
          return combinedCharacters.indexOf(char) !== -1;
        }
        function setIsLoaded() {
          this.isLoaded = true;
        }
        var Font = function() {
          this.fonts = [];
          this.chars = null;
          this.typekitLoaded = 0;
          this.isLoaded = false;
          this._warned = false;
          this.initTime = Date.now();
          this.setIsLoadedBinded = this.setIsLoaded.bind(this);
          this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);
        };
        Font.isModifier = isModifier;
        Font.isZeroWidthJoiner = isZeroWidthJoiner;
        Font.isCombinedCharacter = isCombinedCharacter;
        var fontPrototype = {
          addChars,
          addFonts,
          getCharData,
          getFontByName,
          measureText,
          checkLoadedFonts,
          setIsLoaded
        };
        Font.prototype = fontPrototype;
        return Font;
      }();
      var PropertyFactory2 = function() {
        var initFrame2 = initialDefaultFrame2;
        var mathAbs2 = Math.abs;
        function interpolateValue2(frameNum, caching) {
          var offsetTime = this.offsetTime;
          var newValue;
          if (this.propType === "multidimensional") {
            newValue = createTypedArray2("float32", this.pv.length);
          }
          var iterationIndex = caching.lastIndex;
          var i3 = iterationIndex;
          var len = this.keyframes.length - 1;
          var flag = true;
          var keyData;
          var nextKeyData;
          var keyframeMetadata;
          while (flag) {
            keyData = this.keyframes[i3];
            nextKeyData = this.keyframes[i3 + 1];
            if (i3 === len - 1 && frameNum >= nextKeyData.t - offsetTime) {
              if (keyData.h) {
                keyData = nextKeyData;
              }
              iterationIndex = 0;
              break;
            }
            if (nextKeyData.t - offsetTime > frameNum) {
              iterationIndex = i3;
              break;
            }
            if (i3 < len - 1) {
              i3 += 1;
            } else {
              iterationIndex = 0;
              flag = false;
            }
          }
          keyframeMetadata = this.keyframesMetadata[i3] || {};
          var k3;
          var kLen;
          var perc;
          var jLen;
          var j4;
          var fnc;
          var nextKeyTime = nextKeyData.t - offsetTime;
          var keyTime = keyData.t - offsetTime;
          var endValue;
          if (keyData.to) {
            if (!keyframeMetadata.bezierData) {
              keyframeMetadata.bezierData = bez2.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);
            }
            var bezierData = keyframeMetadata.bezierData;
            if (frameNum >= nextKeyTime || frameNum < keyTime) {
              var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;
              kLen = bezierData.points[ind].point.length;
              for (k3 = 0; k3 < kLen; k3 += 1) {
                newValue[k3] = bezierData.points[ind].point[k3];
              }
            } else {
              if (keyframeMetadata.__fnct) {
                fnc = keyframeMetadata.__fnct;
              } else {
                fnc = BezierFactory2.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;
                keyframeMetadata.__fnct = fnc;
              }
              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));
              var distanceInLine = bezierData.segmentLength * perc;
              var segmentPerc;
              var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i3 ? caching._lastAddedLength : 0;
              j4 = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i3 ? caching._lastPoint : 0;
              flag = true;
              jLen = bezierData.points.length;
              while (flag) {
                addedLength += bezierData.points[j4].partialLength;
                if (distanceInLine === 0 || perc === 0 || j4 === bezierData.points.length - 1) {
                  kLen = bezierData.points[j4].point.length;
                  for (k3 = 0; k3 < kLen; k3 += 1) {
                    newValue[k3] = bezierData.points[j4].point[k3];
                  }
                  break;
                } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j4 + 1].partialLength) {
                  segmentPerc = (distanceInLine - addedLength) / bezierData.points[j4 + 1].partialLength;
                  kLen = bezierData.points[j4].point.length;
                  for (k3 = 0; k3 < kLen; k3 += 1) {
                    newValue[k3] = bezierData.points[j4].point[k3] + (bezierData.points[j4 + 1].point[k3] - bezierData.points[j4].point[k3]) * segmentPerc;
                  }
                  break;
                }
                if (j4 < jLen - 1) {
                  j4 += 1;
                } else {
                  flag = false;
                }
              }
              caching._lastPoint = j4;
              caching._lastAddedLength = addedLength - bezierData.points[j4].partialLength;
              caching._lastKeyframeIndex = i3;
            }
          } else {
            var outX;
            var outY;
            var inX;
            var inY;
            var keyValue;
            len = keyData.s.length;
            endValue = nextKeyData.s || keyData.e;
            if (this.sh && keyData.h !== 1) {
              if (frameNum >= nextKeyTime) {
                newValue[0] = endValue[0];
                newValue[1] = endValue[1];
                newValue[2] = endValue[2];
              } else if (frameNum <= keyTime) {
                newValue[0] = keyData.s[0];
                newValue[1] = keyData.s[1];
                newValue[2] = keyData.s[2];
              } else {
                var quatStart = createQuaternion2(keyData.s);
                var quatEnd = createQuaternion2(endValue);
                var time2 = (frameNum - keyTime) / (nextKeyTime - keyTime);
                quaternionToEuler2(newValue, slerp2(quatStart, quatEnd, time2));
              }
            } else {
              for (i3 = 0; i3 < len; i3 += 1) {
                if (keyData.h !== 1) {
                  if (frameNum >= nextKeyTime) {
                    perc = 1;
                  } else if (frameNum < keyTime) {
                    perc = 0;
                  } else {
                    if (keyData.o.x.constructor === Array) {
                      if (!keyframeMetadata.__fnct) {
                        keyframeMetadata.__fnct = [];
                      }
                      if (!keyframeMetadata.__fnct[i3]) {
                        outX = keyData.o.x[i3] === void 0 ? keyData.o.x[0] : keyData.o.x[i3];
                        outY = keyData.o.y[i3] === void 0 ? keyData.o.y[0] : keyData.o.y[i3];
                        inX = keyData.i.x[i3] === void 0 ? keyData.i.x[0] : keyData.i.x[i3];
                        inY = keyData.i.y[i3] === void 0 ? keyData.i.y[0] : keyData.i.y[i3];
                        fnc = BezierFactory2.getBezierEasing(outX, outY, inX, inY).get;
                        keyframeMetadata.__fnct[i3] = fnc;
                      } else {
                        fnc = keyframeMetadata.__fnct[i3];
                      }
                    } else if (!keyframeMetadata.__fnct) {
                      outX = keyData.o.x;
                      outY = keyData.o.y;
                      inX = keyData.i.x;
                      inY = keyData.i.y;
                      fnc = BezierFactory2.getBezierEasing(outX, outY, inX, inY).get;
                      keyData.keyframeMetadata = fnc;
                    } else {
                      fnc = keyframeMetadata.__fnct;
                    }
                    perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));
                  }
                }
                endValue = nextKeyData.s || keyData.e;
                keyValue = keyData.h === 1 ? keyData.s[i3] : keyData.s[i3] + (endValue[i3] - keyData.s[i3]) * perc;
                if (this.propType === "multidimensional") {
                  newValue[i3] = keyValue;
                } else {
                  newValue = keyValue;
                }
              }
            }
          }
          caching.lastIndex = iterationIndex;
          return newValue;
        }
        function slerp2(a4, b3, t2) {
          var out = [];
          var ax = a4[0];
          var ay = a4[1];
          var az = a4[2];
          var aw = a4[3];
          var bx = b3[0];
          var by = b3[1];
          var bz = b3[2];
          var bw = b3[3];
          var omega;
          var cosom;
          var sinom;
          var scale0;
          var scale1;
          cosom = ax * bx + ay * by + az * bz + aw * bw;
          if (cosom < 0) {
            cosom = -cosom;
            bx = -bx;
            by = -by;
            bz = -bz;
            bw = -bw;
          }
          if (1 - cosom > 1e-6) {
            omega = Math.acos(cosom);
            sinom = Math.sin(omega);
            scale0 = Math.sin((1 - t2) * omega) / sinom;
            scale1 = Math.sin(t2 * omega) / sinom;
          } else {
            scale0 = 1 - t2;
            scale1 = t2;
          }
          out[0] = scale0 * ax + scale1 * bx;
          out[1] = scale0 * ay + scale1 * by;
          out[2] = scale0 * az + scale1 * bz;
          out[3] = scale0 * aw + scale1 * bw;
          return out;
        }
        function quaternionToEuler2(out, quat) {
          var qx = quat[0];
          var qy = quat[1];
          var qz = quat[2];
          var qw = quat[3];
          var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);
          var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);
          var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);
          out[0] = heading / degToRads2;
          out[1] = attitude / degToRads2;
          out[2] = bank / degToRads2;
        }
        function createQuaternion2(values) {
          var heading = values[0] * degToRads2;
          var attitude = values[1] * degToRads2;
          var bank = values[2] * degToRads2;
          var c1 = Math.cos(heading / 2);
          var c22 = Math.cos(attitude / 2);
          var c3 = Math.cos(bank / 2);
          var s1 = Math.sin(heading / 2);
          var s2 = Math.sin(attitude / 2);
          var s3 = Math.sin(bank / 2);
          var w4 = c1 * c22 * c3 - s1 * s2 * s3;
          var x5 = s1 * s2 * c3 + c1 * c22 * s3;
          var y7 = s1 * c22 * c3 + c1 * s2 * s3;
          var z3 = c1 * s2 * c3 - s1 * c22 * s3;
          return [x5, y7, z3, w4];
        }
        function getValueAtCurrentTime2() {
          var frameNum = this.comp.renderedFrame - this.offsetTime;
          var initTime = this.keyframes[0].t - this.offsetTime;
          var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
          if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame2 && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {
            if (this._caching.lastFrame >= frameNum) {
              this._caching._lastKeyframeIndex = -1;
              this._caching.lastIndex = 0;
            }
            var renderResult = this.interpolateValue(frameNum, this._caching);
            this.pv = renderResult;
          }
          this._caching.lastFrame = frameNum;
          return this.pv;
        }
        function setVValue2(val2) {
          var multipliedValue;
          if (this.propType === "unidimensional") {
            multipliedValue = val2 * this.mult;
            if (mathAbs2(this.v - multipliedValue) > 1e-5) {
              this.v = multipliedValue;
              this._mdf = true;
            }
          } else {
            var i3 = 0;
            var len = this.v.length;
            while (i3 < len) {
              multipliedValue = val2[i3] * this.mult;
              if (mathAbs2(this.v[i3] - multipliedValue) > 1e-5) {
                this.v[i3] = multipliedValue;
                this._mdf = true;
              }
              i3 += 1;
            }
          }
        }
        function processEffectsSequence2() {
          if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {
            return;
          }
          if (this.lock) {
            this.setVValue(this.pv);
            return;
          }
          this.lock = true;
          this._mdf = this._isFirstFrame;
          var i3;
          var len = this.effectsSequence.length;
          var finalValue = this.kf ? this.pv : this.data.k;
          for (i3 = 0; i3 < len; i3 += 1) {
            finalValue = this.effectsSequence[i3](finalValue);
          }
          this.setVValue(finalValue);
          this._isFirstFrame = false;
          this.lock = false;
          this.frameId = this.elem.globalData.frameId;
        }
        function addEffect2(effectFunction) {
          this.effectsSequence.push(effectFunction);
          this.container.addDynamicProperty(this);
        }
        function ValueProperty2(elem2, data2, mult, container) {
          this.propType = "unidimensional";
          this.mult = mult || 1;
          this.data = data2;
          this.v = mult ? data2.k * mult : data2.k;
          this.pv = data2.k;
          this._mdf = false;
          this.elem = elem2;
          this.container = container;
          this.comp = elem2.comp;
          this.k = false;
          this.kf = false;
          this.vel = 0;
          this.effectsSequence = [];
          this._isFirstFrame = true;
          this.getValue = processEffectsSequence2;
          this.setVValue = setVValue2;
          this.addEffect = addEffect2;
        }
        function MultiDimensionalProperty2(elem2, data2, mult, container) {
          this.propType = "multidimensional";
          this.mult = mult || 1;
          this.data = data2;
          this._mdf = false;
          this.elem = elem2;
          this.container = container;
          this.comp = elem2.comp;
          this.k = false;
          this.kf = false;
          this.frameId = -1;
          var i3;
          var len = data2.k.length;
          this.v = createTypedArray2("float32", len);
          this.pv = createTypedArray2("float32", len);
          this.vel = createTypedArray2("float32", len);
          for (i3 = 0; i3 < len; i3 += 1) {
            this.v[i3] = data2.k[i3] * this.mult;
            this.pv[i3] = data2.k[i3];
          }
          this._isFirstFrame = true;
          this.effectsSequence = [];
          this.getValue = processEffectsSequence2;
          this.setVValue = setVValue2;
          this.addEffect = addEffect2;
        }
        function KeyframedValueProperty2(elem2, data2, mult, container) {
          this.propType = "unidimensional";
          this.keyframes = data2.k;
          this.keyframesMetadata = [];
          this.offsetTime = elem2.data.st;
          this.frameId = -1;
          this._caching = {
            lastFrame: initFrame2,
            lastIndex: 0,
            value: 0,
            _lastKeyframeIndex: -1
          };
          this.k = true;
          this.kf = true;
          this.data = data2;
          this.mult = mult || 1;
          this.elem = elem2;
          this.container = container;
          this.comp = elem2.comp;
          this.v = initFrame2;
          this.pv = initFrame2;
          this._isFirstFrame = true;
          this.getValue = processEffectsSequence2;
          this.setVValue = setVValue2;
          this.interpolateValue = interpolateValue2;
          this.effectsSequence = [getValueAtCurrentTime2.bind(this)];
          this.addEffect = addEffect2;
        }
        function KeyframedMultidimensionalProperty2(elem2, data2, mult, container) {
          this.propType = "multidimensional";
          var i3;
          var len = data2.k.length;
          var s2;
          var e2;
          var to;
          var ti;
          for (i3 = 0; i3 < len - 1; i3 += 1) {
            if (data2.k[i3].to && data2.k[i3].s && data2.k[i3 + 1] && data2.k[i3 + 1].s) {
              s2 = data2.k[i3].s;
              e2 = data2.k[i3 + 1].s;
              to = data2.k[i3].to;
              ti = data2.k[i3].ti;
              if (s2.length === 2 && !(s2[0] === e2[0] && s2[1] === e2[1]) && bez2.pointOnLine2D(s2[0], s2[1], e2[0], e2[1], s2[0] + to[0], s2[1] + to[1]) && bez2.pointOnLine2D(s2[0], s2[1], e2[0], e2[1], e2[0] + ti[0], e2[1] + ti[1]) || s2.length === 3 && !(s2[0] === e2[0] && s2[1] === e2[1] && s2[2] === e2[2]) && bez2.pointOnLine3D(s2[0], s2[1], s2[2], e2[0], e2[1], e2[2], s2[0] + to[0], s2[1] + to[1], s2[2] + to[2]) && bez2.pointOnLine3D(s2[0], s2[1], s2[2], e2[0], e2[1], e2[2], e2[0] + ti[0], e2[1] + ti[1], e2[2] + ti[2])) {
                data2.k[i3].to = null;
                data2.k[i3].ti = null;
              }
              if (s2[0] === e2[0] && s2[1] === e2[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {
                if (s2.length === 2 || s2[2] === e2[2] && to[2] === 0 && ti[2] === 0) {
                  data2.k[i3].to = null;
                  data2.k[i3].ti = null;
                }
              }
            }
          }
          this.effectsSequence = [getValueAtCurrentTime2.bind(this)];
          this.data = data2;
          this.keyframes = data2.k;
          this.keyframesMetadata = [];
          this.offsetTime = elem2.data.st;
          this.k = true;
          this.kf = true;
          this._isFirstFrame = true;
          this.mult = mult || 1;
          this.elem = elem2;
          this.container = container;
          this.comp = elem2.comp;
          this.getValue = processEffectsSequence2;
          this.setVValue = setVValue2;
          this.interpolateValue = interpolateValue2;
          this.frameId = -1;
          var arrLen = data2.k[0].s.length;
          this.v = createTypedArray2("float32", arrLen);
          this.pv = createTypedArray2("float32", arrLen);
          for (i3 = 0; i3 < arrLen; i3 += 1) {
            this.v[i3] = initFrame2;
            this.pv[i3] = initFrame2;
          }
          this._caching = { lastFrame: initFrame2, lastIndex: 0, value: createTypedArray2("float32", arrLen) };
          this.addEffect = addEffect2;
        }
        function getProp(elem2, data2, type, mult, container) {
          var p6;
          if (!data2.k.length) {
            p6 = new ValueProperty2(elem2, data2, mult, container);
          } else if (typeof data2.k[0] === "number") {
            p6 = new MultiDimensionalProperty2(elem2, data2, mult, container);
          } else {
            switch (type) {
              case 0:
                p6 = new KeyframedValueProperty2(elem2, data2, mult, container);
                break;
              case 1:
                p6 = new KeyframedMultidimensionalProperty2(elem2, data2, mult, container);
                break;
              default:
                break;
            }
          }
          if (p6.effectsSequence.length) {
            container.addDynamicProperty(p6);
          }
          return p6;
        }
        var ob2 = {
          getProp
        };
        return ob2;
      }();
      var TransformPropertyFactory2 = function() {
        var defaultVector = [0, 0];
        function applyToMatrix(mat) {
          var _mdf = this._mdf;
          this.iterateDynamicProperties();
          this._mdf = this._mdf || _mdf;
          if (this.a) {
            mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
          }
          if (this.s) {
            mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
          }
          if (this.sk) {
            mat.skewFromAxis(-this.sk.v, this.sa.v);
          }
          if (this.r) {
            mat.rotate(-this.r.v);
          } else {
            mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
          }
          if (this.data.p.s) {
            if (this.data.p.z) {
              mat.translate(this.px.v, this.py.v, -this.pz.v);
            } else {
              mat.translate(this.px.v, this.py.v, 0);
            }
          } else {
            mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);
          }
        }
        function processKeys(forceRender) {
          if (this.elem.globalData.frameId === this.frameId) {
            return;
          }
          if (this._isDirty) {
            this.precalculateMatrix();
            this._isDirty = false;
          }
          this.iterateDynamicProperties();
          if (this._mdf || forceRender) {
            var frameRate;
            this.v.cloneFromProps(this.pre.props);
            if (this.appliedTransformations < 1) {
              this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
            }
            if (this.appliedTransformations < 2) {
              this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
            }
            if (this.sk && this.appliedTransformations < 3) {
              this.v.skewFromAxis(-this.sk.v, this.sa.v);
            }
            if (this.r && this.appliedTransformations < 4) {
              this.v.rotate(-this.r.v);
            } else if (!this.r && this.appliedTransformations < 4) {
              this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
            }
            if (this.autoOriented) {
              var v1;
              var v2;
              frameRate = this.elem.globalData.frameRate;
              if (this.p && this.p.keyframes && this.p.getValueAtTime) {
                if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {
                  v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);
                  v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);
                } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {
                  v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);
                  v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);
                } else {
                  v1 = this.p.pv;
                  v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);
                }
              } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {
                v1 = [];
                v2 = [];
                var px = this.px;
                var py = this.py;
                if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {
                  v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);
                  v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);
                  v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);
                  v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);
                } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {
                  v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);
                  v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);
                  v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);
                  v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);
                } else {
                  v1 = [px.pv, py.pv];
                  v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);
                  v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);
                }
              } else {
                v2 = defaultVector;
                v1 = v2;
              }
              this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));
            }
            if (this.data.p && this.data.p.s) {
              if (this.data.p.z) {
                this.v.translate(this.px.v, this.py.v, -this.pz.v);
              } else {
                this.v.translate(this.px.v, this.py.v, 0);
              }
            } else {
              this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);
            }
          }
          this.frameId = this.elem.globalData.frameId;
        }
        function precalculateMatrix() {
          if (!this.a.k) {
            this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);
            this.appliedTransformations = 1;
          } else {
            return;
          }
          if (!this.s.effectsSequence.length) {
            this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);
            this.appliedTransformations = 2;
          } else {
            return;
          }
          if (this.sk) {
            if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {
              this.pre.skewFromAxis(-this.sk.v, this.sa.v);
              this.appliedTransformations = 3;
            } else {
              return;
            }
          }
          if (this.r) {
            if (!this.r.effectsSequence.length) {
              this.pre.rotate(-this.r.v);
              this.appliedTransformations = 4;
            }
          } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {
            this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);
            this.appliedTransformations = 4;
          }
        }
        function autoOrient() {
        }
        function addDynamicProperty(prop) {
          this._addDynamicProperty(prop);
          this.elem.addDynamicProperty(prop);
          this._isDirty = true;
        }
        function TransformProperty(elem2, data2, container) {
          this.elem = elem2;
          this.frameId = -1;
          this.propType = "transform";
          this.data = data2;
          this.v = new Matrix2();
          this.pre = new Matrix2();
          this.appliedTransformations = 0;
          this.initDynamicPropertyContainer(container || elem2);
          if (data2.p && data2.p.s) {
            this.px = PropertyFactory2.getProp(elem2, data2.p.x, 0, 0, this);
            this.py = PropertyFactory2.getProp(elem2, data2.p.y, 0, 0, this);
            if (data2.p.z) {
              this.pz = PropertyFactory2.getProp(elem2, data2.p.z, 0, 0, this);
            }
          } else {
            this.p = PropertyFactory2.getProp(elem2, data2.p || { k: [0, 0, 0] }, 1, 0, this);
          }
          if (data2.rx) {
            this.rx = PropertyFactory2.getProp(elem2, data2.rx, 0, degToRads2, this);
            this.ry = PropertyFactory2.getProp(elem2, data2.ry, 0, degToRads2, this);
            this.rz = PropertyFactory2.getProp(elem2, data2.rz, 0, degToRads2, this);
            if (data2.or.k[0].ti) {
              var i3;
              var len = data2.or.k.length;
              for (i3 = 0; i3 < len; i3 += 1) {
                data2.or.k[i3].to = null;
                data2.or.k[i3].ti = null;
              }
            }
            this.or = PropertyFactory2.getProp(elem2, data2.or, 1, degToRads2, this);
            this.or.sh = true;
          } else {
            this.r = PropertyFactory2.getProp(elem2, data2.r || { k: 0 }, 0, degToRads2, this);
          }
          if (data2.sk) {
            this.sk = PropertyFactory2.getProp(elem2, data2.sk, 0, degToRads2, this);
            this.sa = PropertyFactory2.getProp(elem2, data2.sa, 0, degToRads2, this);
          }
          this.a = PropertyFactory2.getProp(elem2, data2.a || { k: [0, 0, 0] }, 1, 0, this);
          this.s = PropertyFactory2.getProp(elem2, data2.s || { k: [100, 100, 100] }, 1, 0.01, this);
          if (data2.o) {
            this.o = PropertyFactory2.getProp(elem2, data2.o, 0, 0.01, elem2);
          } else {
            this.o = { _mdf: false, v: 1 };
          }
          this._isDirty = true;
          if (!this.dynamicProperties.length) {
            this.getValue(true);
          }
        }
        TransformProperty.prototype = {
          applyToMatrix,
          getValue: processKeys,
          precalculateMatrix,
          autoOrient
        };
        extendPrototype2([DynamicPropertyContainer2], TransformProperty);
        TransformProperty.prototype.addDynamicProperty = addDynamicProperty;
        TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer2.prototype.addDynamicProperty;
        function getTransformProperty(elem2, data2, container) {
          return new TransformProperty(elem2, data2, container);
        }
        return {
          getTransformProperty
        };
      }();
      function ShapePath2() {
        this.c = false;
        this._length = 0;
        this._maxLength = 8;
        this.v = createSizedArray2(this._maxLength);
        this.o = createSizedArray2(this._maxLength);
        this.i = createSizedArray2(this._maxLength);
      }
      ShapePath2.prototype.setPathData = function(closed, len) {
        this.c = closed;
        this.setLength(len);
        var i3 = 0;
        while (i3 < len) {
          this.v[i3] = pointPool2.newElement();
          this.o[i3] = pointPool2.newElement();
          this.i[i3] = pointPool2.newElement();
          i3 += 1;
        }
      };
      ShapePath2.prototype.setLength = function(len) {
        while (this._maxLength < len) {
          this.doubleArrayLength();
        }
        this._length = len;
      };
      ShapePath2.prototype.doubleArrayLength = function() {
        this.v = this.v.concat(createSizedArray2(this._maxLength));
        this.i = this.i.concat(createSizedArray2(this._maxLength));
        this.o = this.o.concat(createSizedArray2(this._maxLength));
        this._maxLength *= 2;
      };
      ShapePath2.prototype.setXYAt = function(x5, y7, type, pos, replace) {
        var arr;
        this._length = Math.max(this._length, pos + 1);
        if (this._length >= this._maxLength) {
          this.doubleArrayLength();
        }
        switch (type) {
          case "v":
            arr = this.v;
            break;
          case "i":
            arr = this.i;
            break;
          case "o":
            arr = this.o;
            break;
          default:
            arr = [];
            break;
        }
        if (!arr[pos] || arr[pos] && !replace) {
          arr[pos] = pointPool2.newElement();
        }
        arr[pos][0] = x5;
        arr[pos][1] = y7;
      };
      ShapePath2.prototype.setTripleAt = function(vX, vY, oX, oY, iX, iY, pos, replace) {
        this.setXYAt(vX, vY, "v", pos, replace);
        this.setXYAt(oX, oY, "o", pos, replace);
        this.setXYAt(iX, iY, "i", pos, replace);
      };
      ShapePath2.prototype.reverse = function() {
        var newPath = new ShapePath2();
        newPath.setPathData(this.c, this._length);
        var vertices = this.v;
        var outPoints = this.o;
        var inPoints = this.i;
        var init2 = 0;
        if (this.c) {
          newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);
          init2 = 1;
        }
        var cnt = this._length - 1;
        var len = this._length;
        var i3;
        for (i3 = init2; i3 < len; i3 += 1) {
          newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i3, false);
          cnt -= 1;
        }
        return newPath;
      };
      var ShapePropertyFactory2 = function() {
        var initFrame2 = -999999;
        function interpolateShape(frameNum, previousValue, caching) {
          var iterationIndex = caching.lastIndex;
          var keyPropS;
          var keyPropE;
          var isHold;
          var j4;
          var k3;
          var jLen;
          var kLen;
          var perc;
          var vertexValue;
          var kf = this.keyframes;
          if (frameNum < kf[0].t - this.offsetTime) {
            keyPropS = kf[0].s[0];
            isHold = true;
            iterationIndex = 0;
          } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {
            keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];
            isHold = true;
          } else {
            var i3 = iterationIndex;
            var len = kf.length - 1;
            var flag = true;
            var keyData;
            var nextKeyData;
            var keyframeMetadata;
            while (flag) {
              keyData = kf[i3];
              nextKeyData = kf[i3 + 1];
              if (nextKeyData.t - this.offsetTime > frameNum) {
                break;
              }
              if (i3 < len - 1) {
                i3 += 1;
              } else {
                flag = false;
              }
            }
            keyframeMetadata = this.keyframesMetadata[i3] || {};
            isHold = keyData.h === 1;
            iterationIndex = i3;
            if (!isHold) {
              if (frameNum >= nextKeyData.t - this.offsetTime) {
                perc = 1;
              } else if (frameNum < keyData.t - this.offsetTime) {
                perc = 0;
              } else {
                var fnc;
                if (keyframeMetadata.__fnct) {
                  fnc = keyframeMetadata.__fnct;
                } else {
                  fnc = BezierFactory2.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;
                  keyframeMetadata.__fnct = fnc;
                }
                perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));
              }
              keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];
            }
            keyPropS = keyData.s[0];
          }
          jLen = previousValue._length;
          kLen = keyPropS.i[0].length;
          caching.lastIndex = iterationIndex;
          for (j4 = 0; j4 < jLen; j4 += 1) {
            for (k3 = 0; k3 < kLen; k3 += 1) {
              vertexValue = isHold ? keyPropS.i[j4][k3] : keyPropS.i[j4][k3] + (keyPropE.i[j4][k3] - keyPropS.i[j4][k3]) * perc;
              previousValue.i[j4][k3] = vertexValue;
              vertexValue = isHold ? keyPropS.o[j4][k3] : keyPropS.o[j4][k3] + (keyPropE.o[j4][k3] - keyPropS.o[j4][k3]) * perc;
              previousValue.o[j4][k3] = vertexValue;
              vertexValue = isHold ? keyPropS.v[j4][k3] : keyPropS.v[j4][k3] + (keyPropE.v[j4][k3] - keyPropS.v[j4][k3]) * perc;
              previousValue.v[j4][k3] = vertexValue;
            }
          }
        }
        function interpolateShapeCurrentTime() {
          var frameNum = this.comp.renderedFrame - this.offsetTime;
          var initTime = this.keyframes[0].t - this.offsetTime;
          var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;
          var lastFrame = this._caching.lastFrame;
          if (!(lastFrame !== initFrame2 && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {
            this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;
            this.interpolateShape(frameNum, this.pv, this._caching);
          }
          this._caching.lastFrame = frameNum;
          return this.pv;
        }
        function resetShape() {
          this.paths = this.localShapeCollection;
        }
        function shapesEqual(shape1, shape2) {
          if (shape1._length !== shape2._length || shape1.c !== shape2.c) {
            return false;
          }
          var i3;
          var len = shape1._length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (shape1.v[i3][0] !== shape2.v[i3][0] || shape1.v[i3][1] !== shape2.v[i3][1] || shape1.o[i3][0] !== shape2.o[i3][0] || shape1.o[i3][1] !== shape2.o[i3][1] || shape1.i[i3][0] !== shape2.i[i3][0] || shape1.i[i3][1] !== shape2.i[i3][1]) {
              return false;
            }
          }
          return true;
        }
        function setVValue2(newPath) {
          if (!shapesEqual(this.v, newPath)) {
            this.v = shapePool2.clone(newPath);
            this.localShapeCollection.releaseShapes();
            this.localShapeCollection.addShape(this.v);
            this._mdf = true;
            this.paths = this.localShapeCollection;
          }
        }
        function processEffectsSequence2() {
          if (this.elem.globalData.frameId === this.frameId) {
            return;
          }
          if (!this.effectsSequence.length) {
            this._mdf = false;
            return;
          }
          if (this.lock) {
            this.setVValue(this.pv);
            return;
          }
          this.lock = true;
          this._mdf = false;
          var finalValue;
          if (this.kf) {
            finalValue = this.pv;
          } else if (this.data.ks) {
            finalValue = this.data.ks.k;
          } else {
            finalValue = this.data.pt.k;
          }
          var i3;
          var len = this.effectsSequence.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            finalValue = this.effectsSequence[i3](finalValue);
          }
          this.setVValue(finalValue);
          this.lock = false;
          this.frameId = this.elem.globalData.frameId;
        }
        function ShapeProperty(elem2, data2, type) {
          this.propType = "shape";
          this.comp = elem2.comp;
          this.container = elem2;
          this.elem = elem2;
          this.data = data2;
          this.k = false;
          this.kf = false;
          this._mdf = false;
          var pathData = type === 3 ? data2.pt.k : data2.ks.k;
          this.v = shapePool2.clone(pathData);
          this.pv = shapePool2.clone(this.v);
          this.localShapeCollection = shapeCollectionPool2.newShapeCollection();
          this.paths = this.localShapeCollection;
          this.paths.addShape(this.v);
          this.reset = resetShape;
          this.effectsSequence = [];
        }
        function addEffect2(effectFunction) {
          this.effectsSequence.push(effectFunction);
          this.container.addDynamicProperty(this);
        }
        ShapeProperty.prototype.interpolateShape = interpolateShape;
        ShapeProperty.prototype.getValue = processEffectsSequence2;
        ShapeProperty.prototype.setVValue = setVValue2;
        ShapeProperty.prototype.addEffect = addEffect2;
        function KeyframedShapeProperty(elem2, data2, type) {
          this.propType = "shape";
          this.comp = elem2.comp;
          this.elem = elem2;
          this.container = elem2;
          this.offsetTime = elem2.data.st;
          this.keyframes = type === 3 ? data2.pt.k : data2.ks.k;
          this.keyframesMetadata = [];
          this.k = true;
          this.kf = true;
          var len = this.keyframes[0].s[0].i.length;
          this.v = shapePool2.newElement();
          this.v.setPathData(this.keyframes[0].s[0].c, len);
          this.pv = shapePool2.clone(this.v);
          this.localShapeCollection = shapeCollectionPool2.newShapeCollection();
          this.paths = this.localShapeCollection;
          this.paths.addShape(this.v);
          this.lastFrame = initFrame2;
          this.reset = resetShape;
          this._caching = { lastFrame: initFrame2, lastIndex: 0 };
          this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];
        }
        KeyframedShapeProperty.prototype.getValue = processEffectsSequence2;
        KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;
        KeyframedShapeProperty.prototype.setVValue = setVValue2;
        KeyframedShapeProperty.prototype.addEffect = addEffect2;
        var EllShapeProperty = function() {
          var cPoint = roundCorner2;
          function EllShapePropertyFactory(elem2, data2) {
            this.v = shapePool2.newElement();
            this.v.setPathData(true, 4);
            this.localShapeCollection = shapeCollectionPool2.newShapeCollection();
            this.paths = this.localShapeCollection;
            this.localShapeCollection.addShape(this.v);
            this.d = data2.d;
            this.elem = elem2;
            this.comp = elem2.comp;
            this.frameId = -1;
            this.initDynamicPropertyContainer(elem2);
            this.p = PropertyFactory2.getProp(elem2, data2.p, 1, 0, this);
            this.s = PropertyFactory2.getProp(elem2, data2.s, 1, 0, this);
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertEllToPath();
            }
          }
          EllShapePropertyFactory.prototype = {
            reset: resetShape,
            getValue: function() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertEllToPath();
              }
            },
            convertEllToPath: function() {
              var p0 = this.p.v[0];
              var p1 = this.p.v[1];
              var s0 = this.s.v[0] / 2;
              var s1 = this.s.v[1] / 2;
              var _cw = this.d !== 3;
              var _v = this.v;
              _v.v[0][0] = p0;
              _v.v[0][1] = p1 - s1;
              _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.v[1][1] = p1;
              _v.v[2][0] = p0;
              _v.v[2][1] = p1 + s1;
              _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.v[3][1] = p1;
              _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;
              _v.i[0][1] = p1 - s1;
              _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.i[1][1] = p1 - s1 * cPoint;
              _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;
              _v.i[2][1] = p1 + s1;
              _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.i[3][1] = p1 + s1 * cPoint;
              _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;
              _v.o[0][1] = p1 - s1;
              _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;
              _v.o[1][1] = p1 + s1 * cPoint;
              _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;
              _v.o[2][1] = p1 + s1;
              _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;
              _v.o[3][1] = p1 - s1 * cPoint;
            }
          };
          extendPrototype2([DynamicPropertyContainer2], EllShapePropertyFactory);
          return EllShapePropertyFactory;
        }();
        var StarShapeProperty = function() {
          function StarShapePropertyFactory(elem2, data2) {
            this.v = shapePool2.newElement();
            this.v.setPathData(true, 0);
            this.elem = elem2;
            this.comp = elem2.comp;
            this.data = data2;
            this.frameId = -1;
            this.d = data2.d;
            this.initDynamicPropertyContainer(elem2);
            if (data2.sy === 1) {
              this.ir = PropertyFactory2.getProp(elem2, data2.ir, 0, 0, this);
              this.is = PropertyFactory2.getProp(elem2, data2.is, 0, 0.01, this);
              this.convertToPath = this.convertStarToPath;
            } else {
              this.convertToPath = this.convertPolygonToPath;
            }
            this.pt = PropertyFactory2.getProp(elem2, data2.pt, 0, 0, this);
            this.p = PropertyFactory2.getProp(elem2, data2.p, 1, 0, this);
            this.r = PropertyFactory2.getProp(elem2, data2.r, 0, degToRads2, this);
            this.or = PropertyFactory2.getProp(elem2, data2.or, 0, 0, this);
            this.os = PropertyFactory2.getProp(elem2, data2.os, 0, 0.01, this);
            this.localShapeCollection = shapeCollectionPool2.newShapeCollection();
            this.localShapeCollection.addShape(this.v);
            this.paths = this.localShapeCollection;
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertToPath();
            }
          }
          StarShapePropertyFactory.prototype = {
            reset: resetShape,
            getValue: function() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertToPath();
              }
            },
            convertStarToPath: function() {
              var numPts = Math.floor(this.pt.v) * 2;
              var angle = Math.PI * 2 / numPts;
              var longFlag = true;
              var longRad = this.or.v;
              var shortRad = this.ir.v;
              var longRound = this.os.v;
              var shortRound = this.is.v;
              var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);
              var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);
              var i3;
              var rad;
              var roundness;
              var perimSegment;
              var currentAng = -Math.PI / 2;
              currentAng += this.r.v;
              var dir = this.data.d === 3 ? -1 : 1;
              this.v._length = 0;
              for (i3 = 0; i3 < numPts; i3 += 1) {
                rad = longFlag ? longRad : shortRad;
                roundness = longFlag ? longRound : shortRound;
                perimSegment = longFlag ? longPerimSegment : shortPerimSegment;
                var x5 = rad * Math.cos(currentAng);
                var y7 = rad * Math.sin(currentAng);
                var ox = x5 === 0 && y7 === 0 ? 0 : y7 / Math.sqrt(x5 * x5 + y7 * y7);
                var oy = x5 === 0 && y7 === 0 ? 0 : -x5 / Math.sqrt(x5 * x5 + y7 * y7);
                x5 += +this.p.v[0];
                y7 += +this.p.v[1];
                this.v.setTripleAt(x5, y7, x5 - ox * perimSegment * roundness * dir, y7 - oy * perimSegment * roundness * dir, x5 + ox * perimSegment * roundness * dir, y7 + oy * perimSegment * roundness * dir, i3, true);
                longFlag = !longFlag;
                currentAng += angle * dir;
              }
            },
            convertPolygonToPath: function() {
              var numPts = Math.floor(this.pt.v);
              var angle = Math.PI * 2 / numPts;
              var rad = this.or.v;
              var roundness = this.os.v;
              var perimSegment = 2 * Math.PI * rad / (numPts * 4);
              var i3;
              var currentAng = -Math.PI * 0.5;
              var dir = this.data.d === 3 ? -1 : 1;
              currentAng += this.r.v;
              this.v._length = 0;
              for (i3 = 0; i3 < numPts; i3 += 1) {
                var x5 = rad * Math.cos(currentAng);
                var y7 = rad * Math.sin(currentAng);
                var ox = x5 === 0 && y7 === 0 ? 0 : y7 / Math.sqrt(x5 * x5 + y7 * y7);
                var oy = x5 === 0 && y7 === 0 ? 0 : -x5 / Math.sqrt(x5 * x5 + y7 * y7);
                x5 += +this.p.v[0];
                y7 += +this.p.v[1];
                this.v.setTripleAt(x5, y7, x5 - ox * perimSegment * roundness * dir, y7 - oy * perimSegment * roundness * dir, x5 + ox * perimSegment * roundness * dir, y7 + oy * perimSegment * roundness * dir, i3, true);
                currentAng += angle * dir;
              }
              this.paths.length = 0;
              this.paths[0] = this.v;
            }
          };
          extendPrototype2([DynamicPropertyContainer2], StarShapePropertyFactory);
          return StarShapePropertyFactory;
        }();
        var RectShapeProperty = function() {
          function RectShapePropertyFactory(elem2, data2) {
            this.v = shapePool2.newElement();
            this.v.c = true;
            this.localShapeCollection = shapeCollectionPool2.newShapeCollection();
            this.localShapeCollection.addShape(this.v);
            this.paths = this.localShapeCollection;
            this.elem = elem2;
            this.comp = elem2.comp;
            this.frameId = -1;
            this.d = data2.d;
            this.initDynamicPropertyContainer(elem2);
            this.p = PropertyFactory2.getProp(elem2, data2.p, 1, 0, this);
            this.s = PropertyFactory2.getProp(elem2, data2.s, 1, 0, this);
            this.r = PropertyFactory2.getProp(elem2, data2.r, 0, 0, this);
            if (this.dynamicProperties.length) {
              this.k = true;
            } else {
              this.k = false;
              this.convertRectToPath();
            }
          }
          RectShapePropertyFactory.prototype = {
            convertRectToPath: function() {
              var p0 = this.p.v[0];
              var p1 = this.p.v[1];
              var v0 = this.s.v[0] / 2;
              var v1 = this.s.v[1] / 2;
              var round = bmMin2(v0, v1, this.r.v);
              var cPoint = round * (1 - roundCorner2);
              this.v._length = 0;
              if (this.d === 2 || this.d === 1) {
                this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);
                this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);
                if (round !== 0) {
                  this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);
                  this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);
                  this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);
                } else {
                  this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);
                  this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);
                }
              } else {
                this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);
                if (round !== 0) {
                  this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);
                  this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);
                  this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);
                  this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);
                  this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);
                } else {
                  this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);
                  this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);
                  this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);
                }
              }
            },
            getValue: function() {
              if (this.elem.globalData.frameId === this.frameId) {
                return;
              }
              this.frameId = this.elem.globalData.frameId;
              this.iterateDynamicProperties();
              if (this._mdf) {
                this.convertRectToPath();
              }
            },
            reset: resetShape
          };
          extendPrototype2([DynamicPropertyContainer2], RectShapePropertyFactory);
          return RectShapePropertyFactory;
        }();
        function getShapeProp(elem2, data2, type) {
          var prop;
          if (type === 3 || type === 4) {
            var dataProp = type === 3 ? data2.pt : data2.ks;
            var keys2 = dataProp.k;
            if (keys2.length) {
              prop = new KeyframedShapeProperty(elem2, data2, type);
            } else {
              prop = new ShapeProperty(elem2, data2, type);
            }
          } else if (type === 5) {
            prop = new RectShapeProperty(elem2, data2);
          } else if (type === 6) {
            prop = new EllShapeProperty(elem2, data2);
          } else if (type === 7) {
            prop = new StarShapeProperty(elem2, data2);
          }
          if (prop.k) {
            elem2.addDynamicProperty(prop);
          }
          return prop;
        }
        function getConstructorFunction() {
          return ShapeProperty;
        }
        function getKeyframedConstructorFunction() {
          return KeyframedShapeProperty;
        }
        var ob2 = {};
        ob2.getShapeProp = getShapeProp;
        ob2.getConstructorFunction = getConstructorFunction;
        ob2.getKeyframedConstructorFunction = getKeyframedConstructorFunction;
        return ob2;
      }();
      var ShapeModifiers2 = function() {
        var ob2 = {};
        var modifiers = {};
        ob2.registerModifier = registerModifier;
        ob2.getModifier = getModifier;
        function registerModifier(nm, factory) {
          if (!modifiers[nm]) {
            modifiers[nm] = factory;
          }
        }
        function getModifier(nm, elem2, data2) {
          return new modifiers[nm](elem2, data2);
        }
        return ob2;
      }();
      function ShapeModifier2() {
      }
      ShapeModifier2.prototype.initModifierProperties = function() {
      };
      ShapeModifier2.prototype.addShapeToModifier = function() {
      };
      ShapeModifier2.prototype.addShape = function(data2) {
        if (!this.closed) {
          data2.sh.container.addDynamicProperty(data2.sh);
          var shapeData = { shape: data2.sh, data: data2, localShapeCollection: shapeCollectionPool2.newShapeCollection() };
          this.shapes.push(shapeData);
          this.addShapeToModifier(shapeData);
          if (this._isAnimated) {
            data2.setAsAnimated();
          }
        }
      };
      ShapeModifier2.prototype.init = function(elem2, data2) {
        this.shapes = [];
        this.elem = elem2;
        this.initDynamicPropertyContainer(elem2);
        this.initModifierProperties(elem2, data2);
        this.frameId = initialDefaultFrame2;
        this.closed = false;
        this.k = false;
        if (this.dynamicProperties.length) {
          this.k = true;
        } else {
          this.getValue(true);
        }
      };
      ShapeModifier2.prototype.processKeys = function() {
        if (this.elem.globalData.frameId === this.frameId) {
          return;
        }
        this.frameId = this.elem.globalData.frameId;
        this.iterateDynamicProperties();
      };
      extendPrototype2([DynamicPropertyContainer2], ShapeModifier2);
      function TrimModifier2() {
      }
      extendPrototype2([ShapeModifier2], TrimModifier2);
      TrimModifier2.prototype.initModifierProperties = function(elem2, data2) {
        this.s = PropertyFactory2.getProp(elem2, data2.s, 0, 0.01, this);
        this.e = PropertyFactory2.getProp(elem2, data2.e, 0, 0.01, this);
        this.o = PropertyFactory2.getProp(elem2, data2.o, 0, 0, this);
        this.sValue = 0;
        this.eValue = 0;
        this.getValue = this.processKeys;
        this.m = data2.m;
        this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;
      };
      TrimModifier2.prototype.addShapeToModifier = function(shapeData) {
        shapeData.pathsData = [];
      };
      TrimModifier2.prototype.calculateShapeEdges = function(s2, e2, shapeLength, addedLength, totalModifierLength) {
        var segments = [];
        if (e2 <= 1) {
          segments.push({
            s: s2,
            e: e2
          });
        } else if (s2 >= 1) {
          segments.push({
            s: s2 - 1,
            e: e2 - 1
          });
        } else {
          segments.push({
            s: s2,
            e: 1
          });
          segments.push({
            s: 0,
            e: e2 - 1
          });
        }
        var shapeSegments = [];
        var i3;
        var len = segments.length;
        var segmentOb;
        for (i3 = 0; i3 < len; i3 += 1) {
          segmentOb = segments[i3];
          if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {
            var shapeS;
            var shapeE;
            if (segmentOb.s * totalModifierLength <= addedLength) {
              shapeS = 0;
            } else {
              shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;
            }
            if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {
              shapeE = 1;
            } else {
              shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;
            }
            shapeSegments.push([shapeS, shapeE]);
          }
        }
        if (!shapeSegments.length) {
          shapeSegments.push([0, 0]);
        }
        return shapeSegments;
      };
      TrimModifier2.prototype.releasePathsData = function(pathsData) {
        var i3;
        var len = pathsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          segmentsLengthPool2.release(pathsData[i3]);
        }
        pathsData.length = 0;
        return pathsData;
      };
      TrimModifier2.prototype.processShapes = function(_isFirstFrame) {
        var s2;
        var e2;
        if (this._mdf || _isFirstFrame) {
          var o3 = this.o.v % 360 / 360;
          if (o3 < 0) {
            o3 += 1;
          }
          if (this.s.v > 1) {
            s2 = 1 + o3;
          } else if (this.s.v < 0) {
            s2 = 0 + o3;
          } else {
            s2 = this.s.v + o3;
          }
          if (this.e.v > 1) {
            e2 = 1 + o3;
          } else if (this.e.v < 0) {
            e2 = 0 + o3;
          } else {
            e2 = this.e.v + o3;
          }
          if (s2 > e2) {
            var _s4 = s2;
            s2 = e2;
            e2 = _s4;
          }
          s2 = Math.round(s2 * 1e4) * 1e-4;
          e2 = Math.round(e2 * 1e4) * 1e-4;
          this.sValue = s2;
          this.eValue = e2;
        } else {
          s2 = this.sValue;
          e2 = this.eValue;
        }
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var pathsData;
        var pathData;
        var totalShapeLength;
        var totalModifierLength = 0;
        if (e2 === s2) {
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].localShapeCollection.releaseShapes();
            this.shapes[i3].shape._mdf = true;
            this.shapes[i3].shape.paths = this.shapes[i3].localShapeCollection;
            if (this._mdf) {
              this.shapes[i3].pathsData.length = 0;
            }
          }
        } else if (!(e2 === 1 && s2 === 0 || e2 === 0 && s2 === 1)) {
          var segments = [];
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {
              shapeData.shape.paths = shapeData.localShapeCollection;
            } else {
              shapePaths = shapeData.shape.paths;
              jLen = shapePaths._length;
              totalShapeLength = 0;
              if (!shapeData.shape._mdf && shapeData.pathsData.length) {
                totalShapeLength = shapeData.totalShapeLength;
              } else {
                pathsData = this.releasePathsData(shapeData.pathsData);
                for (j4 = 0; j4 < jLen; j4 += 1) {
                  pathData = bez2.getSegmentsLength(shapePaths.shapes[j4]);
                  pathsData.push(pathData);
                  totalShapeLength += pathData.totalLength;
                }
                shapeData.totalShapeLength = totalShapeLength;
                shapeData.pathsData = pathsData;
              }
              totalModifierLength += totalShapeLength;
              shapeData.shape._mdf = true;
            }
          }
          var shapeS = s2;
          var shapeE = e2;
          var addedLength = 0;
          var edges;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            shapeData = this.shapes[i3];
            if (shapeData.shape._mdf) {
              localShapeCollection = shapeData.localShapeCollection;
              localShapeCollection.releaseShapes();
              if (this.m === 2 && len > 1) {
                edges = this.calculateShapeEdges(s2, e2, shapeData.totalShapeLength, addedLength, totalModifierLength);
                addedLength += shapeData.totalShapeLength;
              } else {
                edges = [[shapeS, shapeE]];
              }
              jLen = edges.length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                shapeS = edges[j4][0];
                shapeE = edges[j4][1];
                segments.length = 0;
                if (shapeE <= 1) {
                  segments.push({
                    s: shapeData.totalShapeLength * shapeS,
                    e: shapeData.totalShapeLength * shapeE
                  });
                } else if (shapeS >= 1) {
                  segments.push({
                    s: shapeData.totalShapeLength * (shapeS - 1),
                    e: shapeData.totalShapeLength * (shapeE - 1)
                  });
                } else {
                  segments.push({
                    s: shapeData.totalShapeLength * shapeS,
                    e: shapeData.totalShapeLength
                  });
                  segments.push({
                    s: 0,
                    e: shapeData.totalShapeLength * (shapeE - 1)
                  });
                }
                var newShapesData = this.addShapes(shapeData, segments[0]);
                if (segments[0].s !== segments[0].e) {
                  if (segments.length > 1) {
                    var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];
                    if (lastShapeInCollection.c) {
                      var lastShape = newShapesData.pop();
                      this.addPaths(newShapesData, localShapeCollection);
                      newShapesData = this.addShapes(shapeData, segments[1], lastShape);
                    } else {
                      this.addPaths(newShapesData, localShapeCollection);
                      newShapesData = this.addShapes(shapeData, segments[1]);
                    }
                  }
                  this.addPaths(newShapesData, localShapeCollection);
                }
              }
              shapeData.shape.paths = localShapeCollection;
            }
          }
        } else if (this._mdf) {
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].pathsData.length = 0;
            this.shapes[i3].shape._mdf = true;
          }
        }
      };
      TrimModifier2.prototype.addPaths = function(newPaths, localShapeCollection) {
        var i3;
        var len = newPaths.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          localShapeCollection.addShape(newPaths[i3]);
        }
      };
      TrimModifier2.prototype.addSegment = function(pt1, pt22, pt3, pt4, shapePath, pos, newShape) {
        shapePath.setXYAt(pt22[0], pt22[1], "o", pos);
        shapePath.setXYAt(pt3[0], pt3[1], "i", pos + 1);
        if (newShape) {
          shapePath.setXYAt(pt1[0], pt1[1], "v", pos);
        }
        shapePath.setXYAt(pt4[0], pt4[1], "v", pos + 1);
      };
      TrimModifier2.prototype.addSegmentFromArray = function(points, shapePath, pos, newShape) {
        shapePath.setXYAt(points[1], points[5], "o", pos);
        shapePath.setXYAt(points[2], points[6], "i", pos + 1);
        if (newShape) {
          shapePath.setXYAt(points[0], points[4], "v", pos);
        }
        shapePath.setXYAt(points[3], points[7], "v", pos + 1);
      };
      TrimModifier2.prototype.addShapes = function(shapeData, shapeSegment, shapePath) {
        var pathsData = shapeData.pathsData;
        var shapePaths = shapeData.shape.paths.shapes;
        var i3;
        var len = shapeData.shape.paths._length;
        var j4;
        var jLen;
        var addedLength = 0;
        var currentLengthData;
        var segmentCount;
        var lengths;
        var segment;
        var shapes = [];
        var initPos;
        var newShape = true;
        if (!shapePath) {
          shapePath = shapePool2.newElement();
          segmentCount = 0;
          initPos = 0;
        } else {
          segmentCount = shapePath._length;
          initPos = shapePath._length;
        }
        shapes.push(shapePath);
        for (i3 = 0; i3 < len; i3 += 1) {
          lengths = pathsData[i3].lengths;
          shapePath.c = shapePaths[i3].c;
          jLen = shapePaths[i3].c ? lengths.length : lengths.length + 1;
          for (j4 = 1; j4 < jLen; j4 += 1) {
            currentLengthData = lengths[j4 - 1];
            if (addedLength + currentLengthData.addedLength < shapeSegment.s) {
              addedLength += currentLengthData.addedLength;
              shapePath.c = false;
            } else if (addedLength > shapeSegment.e) {
              shapePath.c = false;
              break;
            } else {
              if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {
                this.addSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[j4], shapePaths[i3].v[j4], shapePath, segmentCount, newShape);
                newShape = false;
              } else {
                segment = bez2.getNewSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].v[j4], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[j4], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j4 - 1]);
                this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);
                newShape = false;
                shapePath.c = false;
              }
              addedLength += currentLengthData.addedLength;
              segmentCount += 1;
            }
          }
          if (shapePaths[i3].c && lengths.length) {
            currentLengthData = lengths[j4 - 1];
            if (addedLength <= shapeSegment.e) {
              var segmentLength = lengths[j4 - 1].addedLength;
              if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {
                this.addSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[0], shapePaths[i3].v[0], shapePath, segmentCount, newShape);
                newShape = false;
              } else {
                segment = bez2.getNewSegment(shapePaths[i3].v[j4 - 1], shapePaths[i3].v[0], shapePaths[i3].o[j4 - 1], shapePaths[i3].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j4 - 1]);
                this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);
                newShape = false;
                shapePath.c = false;
              }
            } else {
              shapePath.c = false;
            }
            addedLength += currentLengthData.addedLength;
            segmentCount += 1;
          }
          if (shapePath._length) {
            shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], "i", initPos);
            shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], "o", shapePath._length - 1);
          }
          if (addedLength > shapeSegment.e) {
            break;
          }
          if (i3 < len - 1) {
            shapePath = shapePool2.newElement();
            newShape = true;
            shapes.push(shapePath);
            segmentCount = 0;
          }
        }
        return shapes;
      };
      ShapeModifiers2.registerModifier("tm", TrimModifier2);
      function RoundCornersModifier2() {
      }
      extendPrototype2([ShapeModifier2], RoundCornersModifier2);
      RoundCornersModifier2.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.rd = PropertyFactory2.getProp(elem2, data2.r, 0, null, this);
        this._isAnimated = !!this.rd.effectsSequence.length;
      };
      RoundCornersModifier2.prototype.processPath = function(path, round) {
        var clonedPath = shapePool2.newElement();
        clonedPath.c = path.c;
        var i3;
        var len = path._length;
        var currentV;
        var currentI;
        var currentO;
        var closerV;
        var distance;
        var newPosPerc;
        var index3 = 0;
        var vX;
        var vY;
        var oX;
        var oY;
        var iX;
        var iY;
        for (i3 = 0; i3 < len; i3 += 1) {
          currentV = path.v[i3];
          currentO = path.o[i3];
          currentI = path.i[i3];
          if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {
            if ((i3 === 0 || i3 === len - 1) && !path.c) {
              clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index3);
              index3 += 1;
            } else {
              if (i3 === 0) {
                closerV = path.v[len - 1];
              } else {
                closerV = path.v[i3 - 1];
              }
              distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));
              newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;
              iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;
              vX = iX;
              iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;
              vY = iY;
              oX = vX - (vX - currentV[0]) * roundCorner2;
              oY = vY - (vY - currentV[1]) * roundCorner2;
              clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index3);
              index3 += 1;
              if (i3 === len - 1) {
                closerV = path.v[0];
              } else {
                closerV = path.v[i3 + 1];
              }
              distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));
              newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;
              oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;
              vX = oX;
              oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;
              vY = oY;
              iX = vX - (vX - currentV[0]) * roundCorner2;
              iY = vY - (vY - currentV[1]) * roundCorner2;
              clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index3);
              index3 += 1;
            }
          } else {
            clonedPath.setTripleAt(path.v[i3][0], path.v[i3][1], path.o[i3][0], path.o[i3][1], path.i[i3][0], path.i[i3][1], index3);
            index3 += 1;
          }
        }
        return clonedPath;
      };
      RoundCornersModifier2.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var rd = this.rd.v;
        if (rd !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], rd));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      ShapeModifiers2.registerModifier("rd", RoundCornersModifier2);
      function PuckerAndBloatModifier2() {
      }
      extendPrototype2([ShapeModifier2], PuckerAndBloatModifier2);
      PuckerAndBloatModifier2.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.amount = PropertyFactory2.getProp(elem2, data2.a, 0, null, this);
        this._isAnimated = !!this.amount.effectsSequence.length;
      };
      PuckerAndBloatModifier2.prototype.processPath = function(path, amount) {
        var percent = amount / 100;
        var centerPoint = [0, 0];
        var pathLength = path._length;
        var i3 = 0;
        for (i3 = 0; i3 < pathLength; i3 += 1) {
          centerPoint[0] += path.v[i3][0];
          centerPoint[1] += path.v[i3][1];
        }
        centerPoint[0] /= pathLength;
        centerPoint[1] /= pathLength;
        var clonedPath = shapePool2.newElement();
        clonedPath.c = path.c;
        var vX;
        var vY;
        var oX;
        var oY;
        var iX;
        var iY;
        for (i3 = 0; i3 < pathLength; i3 += 1) {
          vX = path.v[i3][0] + (centerPoint[0] - path.v[i3][0]) * percent;
          vY = path.v[i3][1] + (centerPoint[1] - path.v[i3][1]) * percent;
          oX = path.o[i3][0] + (centerPoint[0] - path.o[i3][0]) * -percent;
          oY = path.o[i3][1] + (centerPoint[1] - path.o[i3][1]) * -percent;
          iX = path.i[i3][0] + (centerPoint[0] - path.i[i3][0]) * -percent;
          iY = path.i[i3][1] + (centerPoint[1] - path.i[i3][1]) * -percent;
          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i3);
        }
        return clonedPath;
      };
      PuckerAndBloatModifier2.prototype.processShapes = function(_isFirstFrame) {
        var shapePaths;
        var i3;
        var len = this.shapes.length;
        var j4;
        var jLen;
        var amount = this.amount.v;
        if (amount !== 0) {
          var shapeData;
          var localShapeCollection;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapeData = this.shapes[i3];
            localShapeCollection = shapeData.localShapeCollection;
            if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {
              localShapeCollection.releaseShapes();
              shapeData.shape._mdf = true;
              shapePaths = shapeData.shape.paths.shapes;
              jLen = shapeData.shape.paths._length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                localShapeCollection.addShape(this.processPath(shapePaths[j4], amount));
              }
            }
            shapeData.shape.paths = shapeData.localShapeCollection;
          }
        }
        if (!this.dynamicProperties.length) {
          this._mdf = false;
        }
      };
      ShapeModifiers2.registerModifier("pb", PuckerAndBloatModifier2);
      function RepeaterModifier2() {
      }
      extendPrototype2([ShapeModifier2], RepeaterModifier2);
      RepeaterModifier2.prototype.initModifierProperties = function(elem2, data2) {
        this.getValue = this.processKeys;
        this.c = PropertyFactory2.getProp(elem2, data2.c, 0, null, this);
        this.o = PropertyFactory2.getProp(elem2, data2.o, 0, null, this);
        this.tr = TransformPropertyFactory2.getTransformProperty(elem2, data2.tr, this);
        this.so = PropertyFactory2.getProp(elem2, data2.tr.so, 0, 0.01, this);
        this.eo = PropertyFactory2.getProp(elem2, data2.tr.eo, 0, 0.01, this);
        this.data = data2;
        if (!this.dynamicProperties.length) {
          this.getValue(true);
        }
        this._isAnimated = !!this.dynamicProperties.length;
        this.pMatrix = new Matrix2();
        this.rMatrix = new Matrix2();
        this.sMatrix = new Matrix2();
        this.tMatrix = new Matrix2();
        this.matrix = new Matrix2();
      };
      RepeaterModifier2.prototype.applyTransforms = function(pMatrix, rMatrix, sMatrix, transform2, perc, inv) {
        var dir = inv ? -1 : 1;
        var scaleX = transform2.s.v[0] + (1 - transform2.s.v[0]) * (1 - perc);
        var scaleY = transform2.s.v[1] + (1 - transform2.s.v[1]) * (1 - perc);
        pMatrix.translate(transform2.p.v[0] * dir * perc, transform2.p.v[1] * dir * perc, transform2.p.v[2]);
        rMatrix.translate(-transform2.a.v[0], -transform2.a.v[1], transform2.a.v[2]);
        rMatrix.rotate(-transform2.r.v * dir * perc);
        rMatrix.translate(transform2.a.v[0], transform2.a.v[1], transform2.a.v[2]);
        sMatrix.translate(-transform2.a.v[0], -transform2.a.v[1], transform2.a.v[2]);
        sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);
        sMatrix.translate(transform2.a.v[0], transform2.a.v[1], transform2.a.v[2]);
      };
      RepeaterModifier2.prototype.init = function(elem2, arr, pos, elemsData) {
        this.elem = elem2;
        this.arr = arr;
        this.pos = pos;
        this.elemsData = elemsData;
        this._currentCopies = 0;
        this._elements = [];
        this._groups = [];
        this.frameId = -1;
        this.initDynamicPropertyContainer(elem2);
        this.initModifierProperties(elem2, arr[pos]);
        while (pos > 0) {
          pos -= 1;
          this._elements.unshift(arr[pos]);
        }
        if (this.dynamicProperties.length) {
          this.k = true;
        } else {
          this.getValue(true);
        }
      };
      RepeaterModifier2.prototype.resetElements = function(elements) {
        var i3;
        var len = elements.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          elements[i3]._processed = false;
          if (elements[i3].ty === "gr") {
            this.resetElements(elements[i3].it);
          }
        }
      };
      RepeaterModifier2.prototype.cloneElements = function(elements) {
        var newElements = JSON.parse(JSON.stringify(elements));
        this.resetElements(newElements);
        return newElements;
      };
      RepeaterModifier2.prototype.changeGroupRender = function(elements, renderFlag) {
        var i3;
        var len = elements.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          elements[i3]._render = renderFlag;
          if (elements[i3].ty === "gr") {
            this.changeGroupRender(elements[i3].it, renderFlag);
          }
        }
      };
      RepeaterModifier2.prototype.processShapes = function(_isFirstFrame) {
        var items;
        var itemsTransform;
        var i3;
        var dir;
        var cont;
        var hasReloaded = false;
        if (this._mdf || _isFirstFrame) {
          var copies = Math.ceil(this.c.v);
          if (this._groups.length < copies) {
            while (this._groups.length < copies) {
              var group = {
                it: this.cloneElements(this._elements),
                ty: "gr"
              };
              group.it.push({
                a: { a: 0, ix: 1, k: [0, 0] },
                nm: "Transform",
                o: { a: 0, ix: 7, k: 100 },
                p: { a: 0, ix: 2, k: [0, 0] },
                r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] },
                s: { a: 0, ix: 3, k: [100, 100] },
                sa: { a: 0, ix: 5, k: 0 },
                sk: { a: 0, ix: 4, k: 0 },
                ty: "tr"
              });
              this.arr.splice(0, 0, group);
              this._groups.splice(0, 0, group);
              this._currentCopies += 1;
            }
            this.elem.reloadShapes();
            hasReloaded = true;
          }
          cont = 0;
          var renderFlag;
          for (i3 = 0; i3 <= this._groups.length - 1; i3 += 1) {
            renderFlag = cont < copies;
            this._groups[i3]._render = renderFlag;
            this.changeGroupRender(this._groups[i3].it, renderFlag);
            if (!renderFlag) {
              var elems = this.elemsData[i3].it;
              var transformData = elems[elems.length - 1];
              if (transformData.transform.op.v !== 0) {
                transformData.transform.op._mdf = true;
                transformData.transform.op.v = 0;
              } else {
                transformData.transform.op._mdf = false;
              }
            }
            cont += 1;
          }
          this._currentCopies = copies;
          var offset = this.o.v;
          var offsetModulo = offset % 1;
          var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);
          var pProps = this.pMatrix.props;
          var rProps = this.rMatrix.props;
          var sProps = this.sMatrix.props;
          this.pMatrix.reset();
          this.rMatrix.reset();
          this.sMatrix.reset();
          this.tMatrix.reset();
          this.matrix.reset();
          var iteration = 0;
          if (offset > 0) {
            while (iteration < roundOffset) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);
              iteration += 1;
            }
            if (offsetModulo) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);
              iteration += offsetModulo;
            }
          } else if (offset < 0) {
            while (iteration > roundOffset) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);
              iteration -= 1;
            }
            if (offsetModulo) {
              this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);
              iteration -= offsetModulo;
            }
          }
          i3 = this.data.m === 1 ? 0 : this._currentCopies - 1;
          dir = this.data.m === 1 ? 1 : -1;
          cont = this._currentCopies;
          var j4;
          var jLen;
          while (cont) {
            items = this.elemsData[i3].it;
            itemsTransform = items[items.length - 1].transform.mProps.v.props;
            jLen = itemsTransform.length;
            items[items.length - 1].transform.mProps._mdf = true;
            items[items.length - 1].transform.op._mdf = true;
            items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i3 / (this._currentCopies - 1));
            if (iteration !== 0) {
              if (i3 !== 0 && dir === 1 || i3 !== this._currentCopies - 1 && dir === -1) {
                this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);
              }
              this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);
              this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);
              this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsTransform[j4] = this.matrix.props[j4];
              }
              this.matrix.reset();
            } else {
              this.matrix.reset();
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsTransform[j4] = this.matrix.props[j4];
              }
            }
            iteration += 1;
            cont -= 1;
            i3 += dir;
          }
        } else {
          cont = this._currentCopies;
          i3 = 0;
          dir = 1;
          while (cont) {
            items = this.elemsData[i3].it;
            itemsTransform = items[items.length - 1].transform.mProps.v.props;
            items[items.length - 1].transform.mProps._mdf = false;
            items[items.length - 1].transform.op._mdf = false;
            cont -= 1;
            i3 += dir;
          }
        }
        return hasReloaded;
      };
      RepeaterModifier2.prototype.addShape = function() {
      };
      ShapeModifiers2.registerModifier("rp", RepeaterModifier2);
      function ShapeCollection2() {
        this._length = 0;
        this._maxLength = 4;
        this.shapes = createSizedArray2(this._maxLength);
      }
      ShapeCollection2.prototype.addShape = function(shapeData) {
        if (this._length === this._maxLength) {
          this.shapes = this.shapes.concat(createSizedArray2(this._maxLength));
          this._maxLength *= 2;
        }
        this.shapes[this._length] = shapeData;
        this._length += 1;
      };
      ShapeCollection2.prototype.releaseShapes = function() {
        var i3;
        for (i3 = 0; i3 < this._length; i3 += 1) {
          shapePool2.release(this.shapes[i3]);
        }
        this._length = 0;
      };
      function DashProperty2(elem2, data2, renderer3, container) {
        this.elem = elem2;
        this.frameId = -1;
        this.dataProps = createSizedArray2(data2.length);
        this.renderer = renderer3;
        this.k = false;
        this.dashStr = "";
        this.dashArray = createTypedArray2("float32", data2.length ? data2.length - 1 : 0);
        this.dashoffset = createTypedArray2("float32", 1);
        this.initDynamicPropertyContainer(container);
        var i3;
        var len = data2.length || 0;
        var prop;
        for (i3 = 0; i3 < len; i3 += 1) {
          prop = PropertyFactory2.getProp(elem2, data2[i3].v, 0, 0, this);
          this.k = prop.k || this.k;
          this.dataProps[i3] = { n: data2[i3].n, p: prop };
        }
        if (!this.k) {
          this.getValue(true);
        }
        this._isAnimated = this.k;
      }
      DashProperty2.prototype.getValue = function(forceRender) {
        if (this.elem.globalData.frameId === this.frameId && !forceRender) {
          return;
        }
        this.frameId = this.elem.globalData.frameId;
        this.iterateDynamicProperties();
        this._mdf = this._mdf || forceRender;
        if (this._mdf) {
          var i3 = 0;
          var len = this.dataProps.length;
          if (this.renderer === "svg") {
            this.dashStr = "";
          }
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.dataProps[i3].n !== "o") {
              if (this.renderer === "svg") {
                this.dashStr += " " + this.dataProps[i3].p.v;
              } else {
                this.dashArray[i3] = this.dataProps[i3].p.v;
              }
            } else {
              this.dashoffset[0] = this.dataProps[i3].p.v;
            }
          }
        }
      };
      extendPrototype2([DynamicPropertyContainer2], DashProperty2);
      function GradientProperty2(elem2, data2, container) {
        this.data = data2;
        this.c = createTypedArray2("uint8c", data2.p * 4);
        var cLength = data2.k.k[0].s ? data2.k.k[0].s.length - data2.p * 4 : data2.k.k.length - data2.p * 4;
        this.o = createTypedArray2("float32", cLength);
        this._cmdf = false;
        this._omdf = false;
        this._collapsable = this.checkCollapsable();
        this._hasOpacity = cLength;
        this.initDynamicPropertyContainer(container);
        this.prop = PropertyFactory2.getProp(elem2, data2.k, 1, null, this);
        this.k = this.prop.k;
        this.getValue(true);
      }
      GradientProperty2.prototype.comparePoints = function(values, points) {
        var i3 = 0;
        var len = this.o.length / 2;
        var diff;
        while (i3 < len) {
          diff = Math.abs(values[i3 * 4] - values[points * 4 + i3 * 2]);
          if (diff > 0.01) {
            return false;
          }
          i3 += 1;
        }
        return true;
      };
      GradientProperty2.prototype.checkCollapsable = function() {
        if (this.o.length / 2 !== this.c.length / 4) {
          return false;
        }
        if (this.data.k.k[0].s) {
          var i3 = 0;
          var len = this.data.k.k.length;
          while (i3 < len) {
            if (!this.comparePoints(this.data.k.k[i3].s, this.data.p)) {
              return false;
            }
            i3 += 1;
          }
        } else if (!this.comparePoints(this.data.k.k, this.data.p)) {
          return false;
        }
        return true;
      };
      GradientProperty2.prototype.getValue = function(forceRender) {
        this.prop.getValue();
        this._mdf = false;
        this._cmdf = false;
        this._omdf = false;
        if (this.prop._mdf || forceRender) {
          var i3;
          var len = this.data.p * 4;
          var mult;
          var val2;
          for (i3 = 0; i3 < len; i3 += 1) {
            mult = i3 % 4 === 0 ? 100 : 255;
            val2 = Math.round(this.prop.v[i3] * mult);
            if (this.c[i3] !== val2) {
              this.c[i3] = val2;
              this._cmdf = !forceRender;
            }
          }
          if (this.o.length) {
            len = this.prop.v.length;
            for (i3 = this.data.p * 4; i3 < len; i3 += 1) {
              mult = i3 % 2 === 0 ? 100 : 1;
              val2 = i3 % 2 === 0 ? Math.round(this.prop.v[i3] * 100) : this.prop.v[i3];
              if (this.o[i3 - this.data.p * 4] !== val2) {
                this.o[i3 - this.data.p * 4] = val2;
                this._omdf = !forceRender;
              }
            }
          }
          this._mdf = !forceRender;
        }
      };
      extendPrototype2([DynamicPropertyContainer2], GradientProperty2);
      var buildShapeString2 = function(pathNodes, length3, closed, mat) {
        if (length3 === 0) {
          return "";
        }
        var _o = pathNodes.o;
        var _i = pathNodes.i;
        var _v = pathNodes.v;
        var i3;
        var shapeString = " M" + mat.applyToPointStringified(_v[0][0], _v[0][1]);
        for (i3 = 1; i3 < length3; i3 += 1) {
          shapeString += " C" + mat.applyToPointStringified(_o[i3 - 1][0], _o[i3 - 1][1]) + " " + mat.applyToPointStringified(_i[i3][0], _i[i3][1]) + " " + mat.applyToPointStringified(_v[i3][0], _v[i3][1]);
        }
        if (closed && length3) {
          shapeString += " C" + mat.applyToPointStringified(_o[i3 - 1][0], _o[i3 - 1][1]) + " " + mat.applyToPointStringified(_i[0][0], _i[0][1]) + " " + mat.applyToPointStringified(_v[0][0], _v[0][1]);
          shapeString += "z";
        }
        return shapeString;
      };
      var audioControllerFactory2 = function() {
        function AudioController(audioFactory) {
          this.audios = [];
          this.audioFactory = audioFactory;
          this._volume = 1;
          this._isMuted = false;
        }
        AudioController.prototype = {
          addAudio: function(audio) {
            this.audios.push(audio);
          },
          pause: function() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].pause();
            }
          },
          resume: function() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].resume();
            }
          },
          setRate: function(rateValue) {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].setRate(rateValue);
            }
          },
          createAudio: function(assetPath) {
            if (this.audioFactory) {
              return this.audioFactory(assetPath);
            }
            if (Howl) {
              return new Howl({
                src: [assetPath]
              });
            }
            return {
              isPlaying: false,
              play: function() {
                this.isPlaying = true;
              },
              seek: function() {
                this.isPlaying = false;
              },
              playing: function() {
              },
              rate: function() {
              },
              setVolume: function() {
              }
            };
          },
          setAudioFactory: function(audioFactory) {
            this.audioFactory = audioFactory;
          },
          setVolume: function(value2) {
            this._volume = value2;
            this._updateVolume();
          },
          mute: function() {
            this._isMuted = true;
            this._updateVolume();
          },
          unmute: function() {
            this._isMuted = false;
            this._updateVolume();
          },
          getVolume: function() {
            return this._volume;
          },
          _updateVolume: function() {
            var i3;
            var len = this.audios.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              this.audios[i3].volume(this._volume * (this._isMuted ? 0 : 1));
            }
          }
        };
        return function() {
          return new AudioController();
        };
      }();
      var ImagePreloader2 = function() {
        var proxyImage = function() {
          var canvas = createTag2("canvas");
          canvas.width = 1;
          canvas.height = 1;
          var ctx = canvas.getContext("2d");
          ctx.fillStyle = "rgba(0,0,0,0)";
          ctx.fillRect(0, 0, 1, 1);
          return canvas;
        }();
        function imageLoaded() {
          this.loadedAssets += 1;
          if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {
            if (this.imagesLoadedCb) {
              this.imagesLoadedCb(null);
            }
          }
        }
        function footageLoaded() {
          this.loadedFootagesCount += 1;
          if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {
            if (this.imagesLoadedCb) {
              this.imagesLoadedCb(null);
            }
          }
        }
        function getAssetsPath(assetData, assetsPath, originalPath) {
          var path = "";
          if (assetData.e) {
            path = assetData.p;
          } else if (assetsPath) {
            var imagePath = assetData.p;
            if (imagePath.indexOf("images/") !== -1) {
              imagePath = imagePath.split("/")[1];
            }
            path = assetsPath + imagePath;
          } else {
            path = originalPath;
            path += assetData.u ? assetData.u : "";
            path += assetData.p;
          }
          return path;
        }
        function testImageLoaded(img) {
          var _count = 0;
          var intervalId = setInterval(function() {
            var box = img.getBBox();
            if (box.width || _count > 500) {
              this._imageLoaded();
              clearInterval(intervalId);
            }
            _count += 1;
          }.bind(this), 50);
        }
        function createImageData(assetData) {
          var path = getAssetsPath(assetData, this.assetsPath, this.path);
          var img = createNS2("image");
          if (isSafari2) {
            this.testImageLoaded(img);
          } else {
            img.addEventListener("load", this._imageLoaded, false);
          }
          img.addEventListener("error", function() {
            ob2.img = proxyImage;
            this._imageLoaded();
          }.bind(this), false);
          img.setAttributeNS("http://www.w3.org/1999/xlink", "href", path);
          if (this._elementHelper.append) {
            this._elementHelper.append(img);
          } else {
            this._elementHelper.appendChild(img);
          }
          var ob2 = {
            img,
            assetData
          };
          return ob2;
        }
        function createImgData(assetData) {
          var path = getAssetsPath(assetData, this.assetsPath, this.path);
          var img = createTag2("img");
          img.crossOrigin = "anonymous";
          img.addEventListener("load", this._imageLoaded, false);
          img.addEventListener("error", function() {
            ob2.img = proxyImage;
            this._imageLoaded();
          }.bind(this), false);
          img.src = path;
          var ob2 = {
            img,
            assetData
          };
          return ob2;
        }
        function createFootageData(data2) {
          var ob2 = {
            assetData: data2
          };
          var path = getAssetsPath(data2, this.assetsPath, this.path);
          dataManager2.loadData(path, function(footageData) {
            ob2.img = footageData;
            this._footageLoaded();
          }.bind(this), function() {
            ob2.img = {};
            this._footageLoaded();
          }.bind(this));
          return ob2;
        }
        function loadAssets(assets, cb) {
          this.imagesLoadedCb = cb;
          var i3;
          var len = assets.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (!assets[i3].layers) {
              if (!assets[i3].t || assets[i3].t === "seq") {
                this.totalImages += 1;
                this.images.push(this._createImageData(assets[i3]));
              } else if (assets[i3].t === 3) {
                this.totalFootages += 1;
                this.images.push(this.createFootageData(assets[i3]));
              }
            }
          }
        }
        function setPath(path) {
          this.path = path || "";
        }
        function setAssetsPath(path) {
          this.assetsPath = path || "";
        }
        function getAsset(assetData) {
          var i3 = 0;
          var len = this.images.length;
          while (i3 < len) {
            if (this.images[i3].assetData === assetData) {
              return this.images[i3].img;
            }
            i3 += 1;
          }
          return null;
        }
        function destroy() {
          this.imagesLoadedCb = null;
          this.images.length = 0;
        }
        function loadedImages() {
          return this.totalImages === this.loadedAssets;
        }
        function loadedFootages() {
          return this.totalFootages === this.loadedFootagesCount;
        }
        function setCacheType(type, elementHelper) {
          if (type === "svg") {
            this._elementHelper = elementHelper;
            this._createImageData = this.createImageData.bind(this);
          } else {
            this._createImageData = this.createImgData.bind(this);
          }
        }
        function ImagePreloaderFactory() {
          this._imageLoaded = imageLoaded.bind(this);
          this._footageLoaded = footageLoaded.bind(this);
          this.testImageLoaded = testImageLoaded.bind(this);
          this.createFootageData = createFootageData.bind(this);
          this.assetsPath = "";
          this.path = "";
          this.totalImages = 0;
          this.totalFootages = 0;
          this.loadedAssets = 0;
          this.loadedFootagesCount = 0;
          this.imagesLoadedCb = null;
          this.images = [];
        }
        ImagePreloaderFactory.prototype = {
          loadAssets,
          setAssetsPath,
          setPath,
          loadedImages,
          loadedFootages,
          destroy,
          getAsset,
          createImgData,
          createImageData,
          imageLoaded,
          footageLoaded,
          setCacheType
        };
        return ImagePreloaderFactory;
      }();
      var featureSupport2 = function() {
        var ob2 = {
          maskType: true
        };
        if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\/\d./i.test(navigator.userAgent)) {
          ob2.maskType = false;
        }
        return ob2;
      }();
      var filtersFactory2 = function() {
        var ob2 = {};
        ob2.createFilter = createFilter;
        ob2.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;
        function createFilter(filId, skipCoordinates) {
          var fil = createNS2("filter");
          fil.setAttribute("id", filId);
          if (skipCoordinates !== true) {
            fil.setAttribute("filterUnits", "objectBoundingBox");
            fil.setAttribute("x", "0%");
            fil.setAttribute("y", "0%");
            fil.setAttribute("width", "100%");
            fil.setAttribute("height", "100%");
          }
          return fil;
        }
        function createAlphaToLuminanceFilter() {
          var feColorMatrix = createNS2("feColorMatrix");
          feColorMatrix.setAttribute("type", "matrix");
          feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
          feColorMatrix.setAttribute("values", "0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1");
          return feColorMatrix;
        }
        return ob2;
      }();
      function TextAnimatorProperty2(textData, renderType, elem2) {
        this._isFirstFrame = true;
        this._hasMaskedPath = false;
        this._frameId = -1;
        this._textData = textData;
        this._renderType = renderType;
        this._elem = elem2;
        this._animatorsData = createSizedArray2(this._textData.a.length);
        this._pathData = {};
        this._moreOptions = {
          alignment: {}
        };
        this.renderedLetters = [];
        this.lettersChangedFlag = false;
        this.initDynamicPropertyContainer(elem2);
      }
      TextAnimatorProperty2.prototype.searchProperties = function() {
        var i3;
        var len = this._textData.a.length;
        var animatorProps;
        var getProp = PropertyFactory2.getProp;
        for (i3 = 0; i3 < len; i3 += 1) {
          animatorProps = this._textData.a[i3];
          this._animatorsData[i3] = new TextAnimatorDataProperty2(this._elem, animatorProps, this);
        }
        if (this._textData.p && "m" in this._textData.p) {
          this._pathData = {
            a: getProp(this._elem, this._textData.p.a, 0, 0, this),
            f: getProp(this._elem, this._textData.p.f, 0, 0, this),
            l: getProp(this._elem, this._textData.p.l, 0, 0, this),
            r: getProp(this._elem, this._textData.p.r, 0, 0, this),
            p: getProp(this._elem, this._textData.p.p, 0, 0, this),
            m: this._elem.maskManager.getMaskProperty(this._textData.p.m)
          };
          this._hasMaskedPath = true;
        } else {
          this._hasMaskedPath = false;
        }
        this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);
      };
      TextAnimatorProperty2.prototype.getMeasures = function(documentData, lettersChangedFlag) {
        this.lettersChangedFlag = lettersChangedFlag;
        if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {
          return;
        }
        this._isFirstFrame = false;
        var alignment = this._moreOptions.alignment.v;
        var animators = this._animatorsData;
        var textData = this._textData;
        var matrixHelper = this.mHelper;
        var renderType = this._renderType;
        var renderedLettersCount = this.renderedLetters.length;
        var xPos;
        var yPos;
        var i3;
        var len;
        var letters = documentData.l;
        var pathInfo;
        var currentLength;
        var currentPoint;
        var segmentLength;
        var flag;
        var pointInd;
        var segmentInd;
        var prevPoint;
        var points;
        var segments;
        var partialLength;
        var totalLength;
        var perc;
        var tanAngle;
        var mask2;
        if (this._hasMaskedPath) {
          mask2 = this._pathData.m;
          if (!this._pathData.n || this._pathData._mdf) {
            var paths = mask2.v;
            if (this._pathData.r.v) {
              paths = paths.reverse();
            }
            pathInfo = {
              tLength: 0,
              segments: []
            };
            len = paths._length - 1;
            var bezierData;
            totalLength = 0;
            for (i3 = 0; i3 < len; i3 += 1) {
              bezierData = bez2.buildBezierData(
                paths.v[i3],
                paths.v[i3 + 1],
                [paths.o[i3][0] - paths.v[i3][0], paths.o[i3][1] - paths.v[i3][1]],
                [paths.i[i3 + 1][0] - paths.v[i3 + 1][0], paths.i[i3 + 1][1] - paths.v[i3 + 1][1]]
              );
              pathInfo.tLength += bezierData.segmentLength;
              pathInfo.segments.push(bezierData);
              totalLength += bezierData.segmentLength;
            }
            i3 = len;
            if (mask2.v.c) {
              bezierData = bez2.buildBezierData(
                paths.v[i3],
                paths.v[0],
                [paths.o[i3][0] - paths.v[i3][0], paths.o[i3][1] - paths.v[i3][1]],
                [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]
              );
              pathInfo.tLength += bezierData.segmentLength;
              pathInfo.segments.push(bezierData);
              totalLength += bezierData.segmentLength;
            }
            this._pathData.pi = pathInfo;
          }
          pathInfo = this._pathData.pi;
          currentLength = this._pathData.f.v;
          segmentInd = 0;
          pointInd = 1;
          segmentLength = 0;
          flag = true;
          segments = pathInfo.segments;
          if (currentLength < 0 && mask2.v.c) {
            if (pathInfo.tLength < Math.abs(currentLength)) {
              currentLength = -Math.abs(currentLength) % pathInfo.tLength;
            }
            segmentInd = segments.length - 1;
            points = segments[segmentInd].points;
            pointInd = points.length - 1;
            while (currentLength < 0) {
              currentLength += points[pointInd].partialLength;
              pointInd -= 1;
              if (pointInd < 0) {
                segmentInd -= 1;
                points = segments[segmentInd].points;
                pointInd = points.length - 1;
              }
            }
          }
          points = segments[segmentInd].points;
          prevPoint = points[pointInd - 1];
          currentPoint = points[pointInd];
          partialLength = currentPoint.partialLength;
        }
        len = letters.length;
        xPos = 0;
        yPos = 0;
        var yOff = documentData.finalSize * 1.2 * 0.714;
        var firstLine = true;
        var animatorProps;
        var animatorSelector;
        var j4;
        var jLen;
        var letterValue;
        jLen = animators.length;
        var mult;
        var ind = -1;
        var offf;
        var xPathPos;
        var yPathPos;
        var initPathPos = currentLength;
        var initSegmentInd = segmentInd;
        var initPointInd = pointInd;
        var currentLine = -1;
        var elemOpacity;
        var sc;
        var sw;
        var fc;
        var k3;
        var letterSw;
        var letterSc;
        var letterFc;
        var letterM = "";
        var letterP = this.defaultPropsArray;
        var letterO;
        if (documentData.j === 2 || documentData.j === 1) {
          var animatorJustifyOffset = 0;
          var animatorFirstCharOffset = 0;
          var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;
          var lastIndex = 0;
          var isNewLine = true;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (letters[i3].n) {
              if (animatorJustifyOffset) {
                animatorJustifyOffset += animatorFirstCharOffset;
              }
              while (lastIndex < i3) {
                letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;
                lastIndex += 1;
              }
              animatorJustifyOffset = 0;
              isNewLine = true;
            } else {
              for (j4 = 0; j4 < jLen; j4 += 1) {
                animatorProps = animators[j4].a;
                if (animatorProps.t.propType) {
                  if (isNewLine && documentData.j === 2) {
                    animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;
                  }
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;
                  } else {
                    animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;
                  }
                }
              }
              isNewLine = false;
            }
          }
          if (animatorJustifyOffset) {
            animatorJustifyOffset += animatorFirstCharOffset;
          }
          while (lastIndex < i3) {
            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;
            lastIndex += 1;
          }
        }
        for (i3 = 0; i3 < len; i3 += 1) {
          matrixHelper.reset();
          elemOpacity = 1;
          if (letters[i3].n) {
            xPos = 0;
            yPos += documentData.yOffset;
            yPos += firstLine ? 1 : 0;
            currentLength = initPathPos;
            firstLine = false;
            if (this._hasMaskedPath) {
              segmentInd = initSegmentInd;
              pointInd = initPointInd;
              points = segments[segmentInd].points;
              prevPoint = points[pointInd - 1];
              currentPoint = points[pointInd];
              partialLength = currentPoint.partialLength;
              segmentLength = 0;
            }
            letterM = "";
            letterFc = "";
            letterSw = "";
            letterO = "";
            letterP = this.defaultPropsArray;
          } else {
            if (this._hasMaskedPath) {
              if (currentLine !== letters[i3].line) {
                switch (documentData.j) {
                  case 1:
                    currentLength += totalLength - documentData.lineWidths[letters[i3].line];
                    break;
                  case 2:
                    currentLength += (totalLength - documentData.lineWidths[letters[i3].line]) / 2;
                    break;
                  default:
                    break;
                }
                currentLine = letters[i3].line;
              }
              if (ind !== letters[i3].ind) {
                if (letters[ind]) {
                  currentLength += letters[ind].extra;
                }
                currentLength += letters[i3].an / 2;
                ind = letters[i3].ind;
              }
              currentLength += alignment[0] * letters[i3].an * 5e-3;
              var animatorOffset = 0;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                animatorProps = animators[j4].a;
                if (animatorProps.p.propType) {
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorOffset += animatorProps.p.v[0] * mult[0];
                  } else {
                    animatorOffset += animatorProps.p.v[0] * mult;
                  }
                }
                if (animatorProps.a.propType) {
                  animatorSelector = animators[j4].s;
                  mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                  if (mult.length) {
                    animatorOffset += animatorProps.a.v[0] * mult[0];
                  } else {
                    animatorOffset += animatorProps.a.v[0] * mult;
                  }
                }
              }
              flag = true;
              if (this._pathData.a.v) {
                currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);
                currentLength += this._pathData.f.v;
              }
              while (flag) {
                if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {
                  perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;
                  xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;
                  yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;
                  matrixHelper.translate(-alignment[0] * letters[i3].an * 5e-3, -(alignment[1] * yOff) * 0.01);
                  flag = false;
                } else if (points) {
                  segmentLength += currentPoint.partialLength;
                  pointInd += 1;
                  if (pointInd >= points.length) {
                    pointInd = 0;
                    segmentInd += 1;
                    if (!segments[segmentInd]) {
                      if (mask2.v.c) {
                        pointInd = 0;
                        segmentInd = 0;
                        points = segments[segmentInd].points;
                      } else {
                        segmentLength -= currentPoint.partialLength;
                        points = null;
                      }
                    } else {
                      points = segments[segmentInd].points;
                    }
                  }
                  if (points) {
                    prevPoint = currentPoint;
                    currentPoint = points[pointInd];
                    partialLength = currentPoint.partialLength;
                  }
                }
              }
              offf = letters[i3].an / 2 - letters[i3].add;
              matrixHelper.translate(-offf, 0, 0);
            } else {
              offf = letters[i3].an / 2 - letters[i3].add;
              matrixHelper.translate(-offf, 0, 0);
              matrixHelper.translate(-alignment[0] * letters[i3].an * 5e-3, -alignment[1] * yOff * 0.01, 0);
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.t.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (xPos !== 0 || documentData.j !== 0) {
                  if (this._hasMaskedPath) {
                    if (mult.length) {
                      currentLength += animatorProps.t.v * mult[0];
                    } else {
                      currentLength += animatorProps.t.v * mult;
                    }
                  } else if (mult.length) {
                    xPos += animatorProps.t.v * mult[0];
                  } else {
                    xPos += animatorProps.t.v * mult;
                  }
                }
              }
            }
            if (documentData.strokeWidthAnim) {
              sw = documentData.sw || 0;
            }
            if (documentData.strokeColorAnim) {
              if (documentData.sc) {
                sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];
              } else {
                sc = [0, 0, 0];
              }
            }
            if (documentData.fillColorAnim && documentData.fc) {
              fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.a.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (mult.length) {
                  matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);
                } else {
                  matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.s.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (mult.length) {
                  matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);
                } else {
                  matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              animatorSelector = animators[j4].s;
              mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
              if (animatorProps.sk.propType) {
                if (mult.length) {
                  matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);
                } else {
                  matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);
                }
              }
              if (animatorProps.r.propType) {
                if (mult.length) {
                  matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);
                } else {
                  matrixHelper.rotateZ(-animatorProps.r.v * mult);
                }
              }
              if (animatorProps.ry.propType) {
                if (mult.length) {
                  matrixHelper.rotateY(animatorProps.ry.v * mult[1]);
                } else {
                  matrixHelper.rotateY(animatorProps.ry.v * mult);
                }
              }
              if (animatorProps.rx.propType) {
                if (mult.length) {
                  matrixHelper.rotateX(animatorProps.rx.v * mult[0]);
                } else {
                  matrixHelper.rotateX(animatorProps.rx.v * mult);
                }
              }
              if (animatorProps.o.propType) {
                if (mult.length) {
                  elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];
                } else {
                  elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;
                }
              }
              if (documentData.strokeWidthAnim && animatorProps.sw.propType) {
                if (mult.length) {
                  sw += animatorProps.sw.v * mult[0];
                } else {
                  sw += animatorProps.sw.v * mult;
                }
              }
              if (documentData.strokeColorAnim && animatorProps.sc.propType) {
                for (k3 = 0; k3 < 3; k3 += 1) {
                  if (mult.length) {
                    sc[k3] += (animatorProps.sc.v[k3] - sc[k3]) * mult[0];
                  } else {
                    sc[k3] += (animatorProps.sc.v[k3] - sc[k3]) * mult;
                  }
                }
              }
              if (documentData.fillColorAnim && documentData.fc) {
                if (animatorProps.fc.propType) {
                  for (k3 = 0; k3 < 3; k3 += 1) {
                    if (mult.length) {
                      fc[k3] += (animatorProps.fc.v[k3] - fc[k3]) * mult[0];
                    } else {
                      fc[k3] += (animatorProps.fc.v[k3] - fc[k3]) * mult;
                    }
                  }
                }
                if (animatorProps.fh.propType) {
                  if (mult.length) {
                    fc = addHueToRGB2(fc, animatorProps.fh.v * mult[0]);
                  } else {
                    fc = addHueToRGB2(fc, animatorProps.fh.v * mult);
                  }
                }
                if (animatorProps.fs.propType) {
                  if (mult.length) {
                    fc = addSaturationToRGB2(fc, animatorProps.fs.v * mult[0]);
                  } else {
                    fc = addSaturationToRGB2(fc, animatorProps.fs.v * mult);
                  }
                }
                if (animatorProps.fb.propType) {
                  if (mult.length) {
                    fc = addBrightnessToRGB2(fc, animatorProps.fb.v * mult[0]);
                  } else {
                    fc = addBrightnessToRGB2(fc, animatorProps.fb.v * mult);
                  }
                }
              }
            }
            for (j4 = 0; j4 < jLen; j4 += 1) {
              animatorProps = animators[j4].a;
              if (animatorProps.p.propType) {
                animatorSelector = animators[j4].s;
                mult = animatorSelector.getMult(letters[i3].anIndexes[j4], textData.a[j4].s.totalChars);
                if (this._hasMaskedPath) {
                  if (mult.length) {
                    matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);
                  } else {
                    matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);
                  }
                } else if (mult.length) {
                  matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);
                } else {
                  matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);
                }
              }
            }
            if (documentData.strokeWidthAnim) {
              letterSw = sw < 0 ? 0 : sw;
            }
            if (documentData.strokeColorAnim) {
              letterSc = "rgb(" + Math.round(sc[0] * 255) + "," + Math.round(sc[1] * 255) + "," + Math.round(sc[2] * 255) + ")";
            }
            if (documentData.fillColorAnim && documentData.fc) {
              letterFc = "rgb(" + Math.round(fc[0] * 255) + "," + Math.round(fc[1] * 255) + "," + Math.round(fc[2] * 255) + ")";
            }
            if (this._hasMaskedPath) {
              matrixHelper.translate(0, -documentData.ls);
              matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);
              if (this._pathData.p.v) {
                tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);
                var rot = Math.atan(tanAngle) * 180 / Math.PI;
                if (currentPoint.point[0] < prevPoint.point[0]) {
                  rot += 180;
                }
                matrixHelper.rotate(-rot * Math.PI / 180);
              }
              matrixHelper.translate(xPathPos, yPathPos, 0);
              currentLength -= alignment[0] * letters[i3].an * 5e-3;
              if (letters[i3 + 1] && ind !== letters[i3 + 1].ind) {
                currentLength += letters[i3].an / 2;
                currentLength += documentData.tr * 1e-3 * documentData.finalSize;
              }
            } else {
              matrixHelper.translate(xPos, yPos, 0);
              if (documentData.ps) {
                matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);
              }
              switch (documentData.j) {
                case 1:
                  matrixHelper.translate(letters[i3].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i3].line]), 0, 0);
                  break;
                case 2:
                  matrixHelper.translate(letters[i3].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i3].line]) / 2, 0, 0);
                  break;
                default:
                  break;
              }
              matrixHelper.translate(0, -documentData.ls);
              matrixHelper.translate(offf, 0, 0);
              matrixHelper.translate(alignment[0] * letters[i3].an * 5e-3, alignment[1] * yOff * 0.01, 0);
              xPos += letters[i3].l + documentData.tr * 1e-3 * documentData.finalSize;
            }
            if (renderType === "html") {
              letterM = matrixHelper.toCSS();
            } else if (renderType === "svg") {
              letterM = matrixHelper.to2dCSS();
            } else {
              letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];
            }
            letterO = elemOpacity;
          }
          if (renderedLettersCount <= i3) {
            letterValue = new LetterProps2(letterO, letterSw, letterSc, letterFc, letterM, letterP);
            this.renderedLetters.push(letterValue);
            renderedLettersCount += 1;
            this.lettersChangedFlag = true;
          } else {
            letterValue = this.renderedLetters[i3];
            this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;
          }
        }
      };
      TextAnimatorProperty2.prototype.getValue = function() {
        if (this._elem.globalData.frameId === this._frameId) {
          return;
        }
        this._frameId = this._elem.globalData.frameId;
        this.iterateDynamicProperties();
      };
      TextAnimatorProperty2.prototype.mHelper = new Matrix2();
      TextAnimatorProperty2.prototype.defaultPropsArray = [];
      extendPrototype2([DynamicPropertyContainer2], TextAnimatorProperty2);
      function TextAnimatorDataProperty2(elem2, animatorProps, container) {
        var defaultData = { propType: false };
        var getProp = PropertyFactory2.getProp;
        var textAnimatorAnimatables = animatorProps.a;
        this.a = {
          r: textAnimatorAnimatables.r ? getProp(elem2, textAnimatorAnimatables.r, 0, degToRads2, container) : defaultData,
          rx: textAnimatorAnimatables.rx ? getProp(elem2, textAnimatorAnimatables.rx, 0, degToRads2, container) : defaultData,
          ry: textAnimatorAnimatables.ry ? getProp(elem2, textAnimatorAnimatables.ry, 0, degToRads2, container) : defaultData,
          sk: textAnimatorAnimatables.sk ? getProp(elem2, textAnimatorAnimatables.sk, 0, degToRads2, container) : defaultData,
          sa: textAnimatorAnimatables.sa ? getProp(elem2, textAnimatorAnimatables.sa, 0, degToRads2, container) : defaultData,
          s: textAnimatorAnimatables.s ? getProp(elem2, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,
          a: textAnimatorAnimatables.a ? getProp(elem2, textAnimatorAnimatables.a, 1, 0, container) : defaultData,
          o: textAnimatorAnimatables.o ? getProp(elem2, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,
          p: textAnimatorAnimatables.p ? getProp(elem2, textAnimatorAnimatables.p, 1, 0, container) : defaultData,
          sw: textAnimatorAnimatables.sw ? getProp(elem2, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,
          sc: textAnimatorAnimatables.sc ? getProp(elem2, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,
          fc: textAnimatorAnimatables.fc ? getProp(elem2, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,
          fh: textAnimatorAnimatables.fh ? getProp(elem2, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,
          fs: textAnimatorAnimatables.fs ? getProp(elem2, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,
          fb: textAnimatorAnimatables.fb ? getProp(elem2, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,
          t: textAnimatorAnimatables.t ? getProp(elem2, textAnimatorAnimatables.t, 0, 0, container) : defaultData
        };
        this.s = TextSelectorProp2.getTextSelectorProp(elem2, animatorProps.s, container);
        this.s.t = animatorProps.s.t;
      }
      function LetterProps2(o3, sw, sc, fc, m3, p6) {
        this.o = o3;
        this.sw = sw;
        this.sc = sc;
        this.fc = fc;
        this.m = m3;
        this.p = p6;
        this._mdf = {
          o: true,
          sw: !!sw,
          sc: !!sc,
          fc: !!fc,
          m: true,
          p: true
        };
      }
      LetterProps2.prototype.update = function(o3, sw, sc, fc, m3, p6) {
        this._mdf.o = false;
        this._mdf.sw = false;
        this._mdf.sc = false;
        this._mdf.fc = false;
        this._mdf.m = false;
        this._mdf.p = false;
        var updated = false;
        if (this.o !== o3) {
          this.o = o3;
          this._mdf.o = true;
          updated = true;
        }
        if (this.sw !== sw) {
          this.sw = sw;
          this._mdf.sw = true;
          updated = true;
        }
        if (this.sc !== sc) {
          this.sc = sc;
          this._mdf.sc = true;
          updated = true;
        }
        if (this.fc !== fc) {
          this.fc = fc;
          this._mdf.fc = true;
          updated = true;
        }
        if (this.m !== m3) {
          this.m = m3;
          this._mdf.m = true;
          updated = true;
        }
        if (p6.length && (this.p[0] !== p6[0] || this.p[1] !== p6[1] || this.p[4] !== p6[4] || this.p[5] !== p6[5] || this.p[12] !== p6[12] || this.p[13] !== p6[13])) {
          this.p = p6;
          this._mdf.p = true;
          updated = true;
        }
        return updated;
      };
      function TextProperty2(elem2, data2) {
        this._frameId = initialDefaultFrame2;
        this.pv = "";
        this.v = "";
        this.kf = false;
        this._isFirstFrame = true;
        this._mdf = false;
        this.data = data2;
        this.elem = elem2;
        this.comp = this.elem.comp;
        this.keysIndex = 0;
        this.canResize = false;
        this.minimumFontSize = 1;
        this.effectsSequence = [];
        this.currentData = {
          ascent: 0,
          boxWidth: this.defaultBoxWidth,
          f: "",
          fStyle: "",
          fWeight: "",
          fc: "",
          j: "",
          justifyOffset: "",
          l: [],
          lh: 0,
          lineWidths: [],
          ls: "",
          of: "",
          s: "",
          sc: "",
          sw: 0,
          t: 0,
          tr: 0,
          sz: 0,
          ps: null,
          fillColorAnim: false,
          strokeColorAnim: false,
          strokeWidthAnim: false,
          yOffset: 0,
          finalSize: 0,
          finalText: [],
          finalLineHeight: 0,
          __complete: false
        };
        this.copyData(this.currentData, this.data.d.k[0].s);
        if (!this.searchProperty()) {
          this.completeTextData(this.currentData);
        }
      }
      TextProperty2.prototype.defaultBoxWidth = [0, 0];
      TextProperty2.prototype.copyData = function(obj, data2) {
        for (var s2 in data2) {
          if (Object.prototype.hasOwnProperty.call(data2, s2)) {
            obj[s2] = data2[s2];
          }
        }
        return obj;
      };
      TextProperty2.prototype.setCurrentData = function(data2) {
        if (!data2.__complete) {
          this.completeTextData(data2);
        }
        this.currentData = data2;
        this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;
        this._mdf = true;
      };
      TextProperty2.prototype.searchProperty = function() {
        return this.searchKeyframes();
      };
      TextProperty2.prototype.searchKeyframes = function() {
        this.kf = this.data.d.k.length > 1;
        if (this.kf) {
          this.addEffect(this.getKeyframeValue.bind(this));
        }
        return this.kf;
      };
      TextProperty2.prototype.addEffect = function(effectFunction) {
        this.effectsSequence.push(effectFunction);
        this.elem.addDynamicProperty(this);
      };
      TextProperty2.prototype.getValue = function(_finalValue) {
        if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {
          return;
        }
        this.currentData.t = this.data.d.k[this.keysIndex].s.t;
        var currentValue = this.currentData;
        var currentIndex = this.keysIndex;
        if (this.lock) {
          this.setCurrentData(this.currentData);
          return;
        }
        this.lock = true;
        this._mdf = false;
        var i3;
        var len = this.effectsSequence.length;
        var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (currentIndex !== this.keysIndex) {
            finalValue = this.effectsSequence[i3](finalValue, finalValue.t);
          } else {
            finalValue = this.effectsSequence[i3](this.currentData, finalValue.t);
          }
        }
        if (currentValue !== finalValue) {
          this.setCurrentData(finalValue);
        }
        this.v = this.currentData;
        this.pv = this.v;
        this.lock = false;
        this.frameId = this.elem.globalData.frameId;
      };
      TextProperty2.prototype.getKeyframeValue = function() {
        var textKeys = this.data.d.k;
        var frameNum = this.elem.comp.renderedFrame;
        var i3 = 0;
        var len = textKeys.length;
        while (i3 <= len - 1) {
          if (i3 === len - 1 || textKeys[i3 + 1].t > frameNum) {
            break;
          }
          i3 += 1;
        }
        if (this.keysIndex !== i3) {
          this.keysIndex = i3;
        }
        return this.data.d.k[this.keysIndex].s;
      };
      TextProperty2.prototype.buildFinalText = function(text2) {
        var charactersArray = [];
        var i3 = 0;
        var len = text2.length;
        var charCode;
        var secondCharCode;
        var shouldCombine = false;
        while (i3 < len) {
          charCode = text2.charCodeAt(i3);
          if (FontManager2.isCombinedCharacter(charCode)) {
            charactersArray[charactersArray.length - 1] += text2.charAt(i3);
          } else if (charCode >= 55296 && charCode <= 56319) {
            secondCharCode = text2.charCodeAt(i3 + 1);
            if (secondCharCode >= 56320 && secondCharCode <= 57343) {
              if (shouldCombine || FontManager2.isModifier(charCode, secondCharCode)) {
                charactersArray[charactersArray.length - 1] += text2.substr(i3, 2);
                shouldCombine = false;
              } else {
                charactersArray.push(text2.substr(i3, 2));
              }
              i3 += 1;
            } else {
              charactersArray.push(text2.charAt(i3));
            }
          } else if (charCode > 56319) {
            secondCharCode = text2.charCodeAt(i3 + 1);
            if (FontManager2.isZeroWidthJoiner(charCode, secondCharCode)) {
              shouldCombine = true;
              charactersArray[charactersArray.length - 1] += text2.substr(i3, 2);
              i3 += 1;
            } else {
              charactersArray.push(text2.charAt(i3));
            }
          } else if (FontManager2.isZeroWidthJoiner(charCode)) {
            charactersArray[charactersArray.length - 1] += text2.charAt(i3);
            shouldCombine = true;
          } else {
            charactersArray.push(text2.charAt(i3));
          }
          i3 += 1;
        }
        return charactersArray;
      };
      TextProperty2.prototype.completeTextData = function(documentData) {
        documentData.__complete = true;
        var fontManager = this.elem.globalData.fontManager;
        var data2 = this.data;
        var letters = [];
        var i3;
        var len;
        var newLineFlag;
        var index3 = 0;
        var val2;
        var anchorGrouping = data2.m.g;
        var currentSize = 0;
        var currentPos = 0;
        var currentLine = 0;
        var lineWidths = [];
        var lineWidth = 0;
        var maxLineWidth = 0;
        var j4;
        var jLen;
        var fontData = fontManager.getFontByName(documentData.f);
        var charData;
        var cLength = 0;
        var fontProps = getFontProperties2(fontData);
        documentData.fWeight = fontProps.weight;
        documentData.fStyle = fontProps.style;
        documentData.finalSize = documentData.s;
        documentData.finalText = this.buildFinalText(documentData.t);
        len = documentData.finalText.length;
        documentData.finalLineHeight = documentData.lh;
        var trackingOffset = documentData.tr / 1e3 * documentData.finalSize;
        var charCode;
        if (documentData.sz) {
          var flag = true;
          var boxWidth = documentData.sz[0];
          var boxHeight = documentData.sz[1];
          var currentHeight;
          var finalText;
          while (flag) {
            finalText = this.buildFinalText(documentData.t);
            currentHeight = 0;
            lineWidth = 0;
            len = finalText.length;
            trackingOffset = documentData.tr / 1e3 * documentData.finalSize;
            var lastSpaceIndex = -1;
            for (i3 = 0; i3 < len; i3 += 1) {
              charCode = finalText[i3].charCodeAt(0);
              newLineFlag = false;
              if (finalText[i3] === " ") {
                lastSpaceIndex = i3;
              } else if (charCode === 13 || charCode === 3) {
                lineWidth = 0;
                newLineFlag = true;
                currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;
              }
              if (fontManager.chars) {
                charData = fontManager.getCharData(finalText[i3], fontData.fStyle, fontData.fFamily);
                cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;
              } else {
                cLength = fontManager.measureText(finalText[i3], documentData.f, documentData.finalSize);
              }
              if (lineWidth + cLength > boxWidth && finalText[i3] !== " ") {
                if (lastSpaceIndex === -1) {
                  len += 1;
                } else {
                  i3 = lastSpaceIndex;
                }
                currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;
                finalText.splice(i3, lastSpaceIndex === i3 ? 1 : 0, "\r");
                lastSpaceIndex = -1;
                lineWidth = 0;
              } else {
                lineWidth += cLength;
                lineWidth += trackingOffset;
              }
            }
            currentHeight += fontData.ascent * documentData.finalSize / 100;
            if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {
              documentData.finalSize -= 1;
              documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;
            } else {
              documentData.finalText = finalText;
              len = documentData.finalText.length;
              flag = false;
            }
          }
        }
        lineWidth = -trackingOffset;
        cLength = 0;
        var uncollapsedSpaces = 0;
        var currentChar;
        for (i3 = 0; i3 < len; i3 += 1) {
          newLineFlag = false;
          currentChar = documentData.finalText[i3];
          charCode = currentChar.charCodeAt(0);
          if (charCode === 13 || charCode === 3) {
            uncollapsedSpaces = 0;
            lineWidths.push(lineWidth);
            maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;
            lineWidth = -2 * trackingOffset;
            val2 = "";
            newLineFlag = true;
            currentLine += 1;
          } else {
            val2 = currentChar;
          }
          if (fontManager.chars) {
            charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);
            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;
          } else {
            cLength = fontManager.measureText(val2, documentData.f, documentData.finalSize);
          }
          if (currentChar === " ") {
            uncollapsedSpaces += cLength + trackingOffset;
          } else {
            lineWidth += cLength + trackingOffset + uncollapsedSpaces;
            uncollapsedSpaces = 0;
          }
          letters.push({
            l: cLength,
            an: cLength,
            add: currentSize,
            n: newLineFlag,
            anIndexes: [],
            val: val2,
            line: currentLine,
            animatorJustifyOffset: 0
          });
          if (anchorGrouping == 2) {
            currentSize += cLength;
            if (val2 === "" || val2 === " " || i3 === len - 1) {
              if (val2 === "" || val2 === " ") {
                currentSize -= cLength;
              }
              while (currentPos <= i3) {
                letters[currentPos].an = currentSize;
                letters[currentPos].ind = index3;
                letters[currentPos].extra = cLength;
                currentPos += 1;
              }
              index3 += 1;
              currentSize = 0;
            }
          } else if (anchorGrouping == 3) {
            currentSize += cLength;
            if (val2 === "" || i3 === len - 1) {
              if (val2 === "") {
                currentSize -= cLength;
              }
              while (currentPos <= i3) {
                letters[currentPos].an = currentSize;
                letters[currentPos].ind = index3;
                letters[currentPos].extra = cLength;
                currentPos += 1;
              }
              currentSize = 0;
              index3 += 1;
            }
          } else {
            letters[index3].ind = index3;
            letters[index3].extra = 0;
            index3 += 1;
          }
        }
        documentData.l = letters;
        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;
        lineWidths.push(lineWidth);
        if (documentData.sz) {
          documentData.boxWidth = documentData.sz[0];
          documentData.justifyOffset = 0;
        } else {
          documentData.boxWidth = maxLineWidth;
          switch (documentData.j) {
            case 1:
              documentData.justifyOffset = -documentData.boxWidth;
              break;
            case 2:
              documentData.justifyOffset = -documentData.boxWidth / 2;
              break;
            default:
              documentData.justifyOffset = 0;
          }
        }
        documentData.lineWidths = lineWidths;
        var animators = data2.a;
        var animatorData;
        var letterData;
        jLen = animators.length;
        var based;
        var ind;
        var indexes = [];
        for (j4 = 0; j4 < jLen; j4 += 1) {
          animatorData = animators[j4];
          if (animatorData.a.sc) {
            documentData.strokeColorAnim = true;
          }
          if (animatorData.a.sw) {
            documentData.strokeWidthAnim = true;
          }
          if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {
            documentData.fillColorAnim = true;
          }
          ind = 0;
          based = animatorData.s.b;
          for (i3 = 0; i3 < len; i3 += 1) {
            letterData = letters[i3];
            letterData.anIndexes[j4] = ind;
            if (based == 1 && letterData.val !== "" || based == 2 && letterData.val !== "" && letterData.val !== " " || based == 3 && (letterData.n || letterData.val == " " || i3 == len - 1) || based == 4 && (letterData.n || i3 == len - 1)) {
              if (animatorData.s.rn === 1) {
                indexes.push(ind);
              }
              ind += 1;
            }
          }
          data2.a[j4].s.totalChars = ind;
          var currentInd = -1;
          var newInd;
          if (animatorData.s.rn === 1) {
            for (i3 = 0; i3 < len; i3 += 1) {
              letterData = letters[i3];
              if (currentInd != letterData.anIndexes[j4]) {
                currentInd = letterData.anIndexes[j4];
                newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];
              }
              letterData.anIndexes[j4] = newInd;
            }
          }
        }
        documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;
        documentData.ls = documentData.ls || 0;
        documentData.ascent = fontData.ascent * documentData.finalSize / 100;
      };
      TextProperty2.prototype.updateDocumentData = function(newData, index3) {
        index3 = index3 === void 0 ? this.keysIndex : index3;
        var dData = this.copyData({}, this.data.d.k[index3].s);
        dData = this.copyData(dData, newData);
        this.data.d.k[index3].s = dData;
        this.recalculate(index3);
        this.elem.addDynamicProperty(this);
      };
      TextProperty2.prototype.recalculate = function(index3) {
        var dData = this.data.d.k[index3].s;
        dData.__complete = false;
        this.keysIndex = 0;
        this._isFirstFrame = true;
        this.getValue(dData);
      };
      TextProperty2.prototype.canResizeFont = function(_canResize) {
        this.canResize = _canResize;
        this.recalculate(this.keysIndex);
        this.elem.addDynamicProperty(this);
      };
      TextProperty2.prototype.setMinimumFontSize = function(_fontValue) {
        this.minimumFontSize = Math.floor(_fontValue) || 1;
        this.recalculate(this.keysIndex);
        this.elem.addDynamicProperty(this);
      };
      var TextSelectorProp2 = function() {
        var max = Math.max;
        var min = Math.min;
        var floor = Math.floor;
        function TextSelectorPropFactory(elem2, data2) {
          this._currentTextLength = -1;
          this.k = false;
          this.data = data2;
          this.elem = elem2;
          this.comp = elem2.comp;
          this.finalS = 0;
          this.finalE = 0;
          this.initDynamicPropertyContainer(elem2);
          this.s = PropertyFactory2.getProp(elem2, data2.s || { k: 0 }, 0, 0, this);
          if ("e" in data2) {
            this.e = PropertyFactory2.getProp(elem2, data2.e, 0, 0, this);
          } else {
            this.e = { v: 100 };
          }
          this.o = PropertyFactory2.getProp(elem2, data2.o || { k: 0 }, 0, 0, this);
          this.xe = PropertyFactory2.getProp(elem2, data2.xe || { k: 0 }, 0, 0, this);
          this.ne = PropertyFactory2.getProp(elem2, data2.ne || { k: 0 }, 0, 0, this);
          this.sm = PropertyFactory2.getProp(elem2, data2.sm || { k: 100 }, 0, 0, this);
          this.a = PropertyFactory2.getProp(elem2, data2.a, 0, 0.01, this);
          if (!this.dynamicProperties.length) {
            this.getValue();
          }
        }
        TextSelectorPropFactory.prototype = {
          getMult: function(ind) {
            if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {
              this.getValue();
            }
            var x1 = 0;
            var y1 = 0;
            var x22 = 1;
            var y22 = 1;
            if (this.ne.v > 0) {
              x1 = this.ne.v / 100;
            } else {
              y1 = -this.ne.v / 100;
            }
            if (this.xe.v > 0) {
              x22 = 1 - this.xe.v / 100;
            } else {
              y22 = 1 + this.xe.v / 100;
            }
            var easer = BezierFactory2.getBezierEasing(x1, y1, x22, y22).get;
            var mult = 0;
            var s2 = this.finalS;
            var e2 = this.finalE;
            var type = this.data.sh;
            if (type === 2) {
              if (e2 === s2) {
                mult = ind >= e2 ? 1 : 0;
              } else {
                mult = max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
              }
              mult = easer(mult);
            } else if (type === 3) {
              if (e2 === s2) {
                mult = ind >= e2 ? 0 : 1;
              } else {
                mult = 1 - max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
              }
              mult = easer(mult);
            } else if (type === 4) {
              if (e2 === s2) {
                mult = 0;
              } else {
                mult = max(0, min(0.5 / (e2 - s2) + (ind - s2) / (e2 - s2), 1));
                if (mult < 0.5) {
                  mult *= 2;
                } else {
                  mult = 1 - 2 * (mult - 0.5);
                }
              }
              mult = easer(mult);
            } else if (type === 5) {
              if (e2 === s2) {
                mult = 0;
              } else {
                var tot = e2 - s2;
                ind = min(max(0, ind + 0.5 - s2), e2 - s2);
                var x5 = -tot / 2 + ind;
                var a4 = tot / 2;
                mult = Math.sqrt(1 - x5 * x5 / (a4 * a4));
              }
              mult = easer(mult);
            } else if (type === 6) {
              if (e2 === s2) {
                mult = 0;
              } else {
                ind = min(max(0, ind + 0.5 - s2), e2 - s2);
                mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e2 - s2))) / 2;
              }
              mult = easer(mult);
            } else {
              if (ind >= floor(s2)) {
                if (ind - s2 < 0) {
                  mult = max(0, min(min(e2, 1) - (s2 - ind), 1));
                } else {
                  mult = max(0, min(e2 - ind, 1));
                }
              }
              mult = easer(mult);
            }
            if (this.sm.v !== 100) {
              var smoothness = this.sm.v * 0.01;
              if (smoothness === 0) {
                smoothness = 1e-8;
              }
              var threshold = 0.5 - smoothness * 0.5;
              if (mult < threshold) {
                mult = 0;
              } else {
                mult = (mult - threshold) / smoothness;
                if (mult > 1) {
                  mult = 1;
                }
              }
            }
            return mult * this.a.v;
          },
          getValue: function(newCharsFlag) {
            this.iterateDynamicProperties();
            this._mdf = newCharsFlag || this._mdf;
            this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;
            if (newCharsFlag && this.data.r === 2) {
              this.e.v = this._currentTextLength;
            }
            var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;
            var o3 = this.o.v / divisor;
            var s2 = this.s.v / divisor + o3;
            var e2 = this.e.v / divisor + o3;
            if (s2 > e2) {
              var _s4 = s2;
              s2 = e2;
              e2 = _s4;
            }
            this.finalS = s2;
            this.finalE = e2;
          }
        };
        extendPrototype2([DynamicPropertyContainer2], TextSelectorPropFactory);
        function getTextSelectorProp(elem2, data2, arr) {
          return new TextSelectorPropFactory(elem2, data2, arr);
        }
        return {
          getTextSelectorProp
        };
      }();
      var poolFactory2 = function() {
        return function(initialLength, _create, _release) {
          var _length = 0;
          var _maxLength = initialLength;
          var pool = createSizedArray2(_maxLength);
          var ob2 = {
            newElement,
            release
          };
          function newElement() {
            var element;
            if (_length) {
              _length -= 1;
              element = pool[_length];
            } else {
              element = _create();
            }
            return element;
          }
          function release(element) {
            if (_length === _maxLength) {
              pool = pooling2.double(pool);
              _maxLength *= 2;
            }
            if (_release) {
              _release(element);
            }
            pool[_length] = element;
            _length += 1;
          }
          return ob2;
        };
      }();
      var pooling2 = function() {
        function double(arr) {
          return arr.concat(createSizedArray2(arr.length));
        }
        return {
          double
        };
      }();
      var pointPool2 = function() {
        function create2() {
          return createTypedArray2("float32", 2);
        }
        return poolFactory2(8, create2);
      }();
      var shapePool2 = function() {
        function create2() {
          return new ShapePath2();
        }
        function release(shapePath) {
          var len = shapePath._length;
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            pointPool2.release(shapePath.v[i3]);
            pointPool2.release(shapePath.i[i3]);
            pointPool2.release(shapePath.o[i3]);
            shapePath.v[i3] = null;
            shapePath.i[i3] = null;
            shapePath.o[i3] = null;
          }
          shapePath._length = 0;
          shapePath.c = false;
        }
        function clone(shape) {
          var cloned = factory.newElement();
          var i3;
          var len = shape._length === void 0 ? shape.v.length : shape._length;
          cloned.setLength(len);
          cloned.c = shape.c;
          for (i3 = 0; i3 < len; i3 += 1) {
            cloned.setTripleAt(shape.v[i3][0], shape.v[i3][1], shape.o[i3][0], shape.o[i3][1], shape.i[i3][0], shape.i[i3][1], i3);
          }
          return cloned;
        }
        var factory = poolFactory2(4, create2, release);
        factory.clone = clone;
        return factory;
      }();
      var shapeCollectionPool2 = function() {
        var ob2 = {
          newShapeCollection,
          release
        };
        var _length = 0;
        var _maxLength = 4;
        var pool = createSizedArray2(_maxLength);
        function newShapeCollection() {
          var shapeCollection;
          if (_length) {
            _length -= 1;
            shapeCollection = pool[_length];
          } else {
            shapeCollection = new ShapeCollection2();
          }
          return shapeCollection;
        }
        function release(shapeCollection) {
          var i3;
          var len = shapeCollection._length;
          for (i3 = 0; i3 < len; i3 += 1) {
            shapePool2.release(shapeCollection.shapes[i3]);
          }
          shapeCollection._length = 0;
          if (_length === _maxLength) {
            pool = pooling2.double(pool);
            _maxLength *= 2;
          }
          pool[_length] = shapeCollection;
          _length += 1;
        }
        return ob2;
      }();
      var segmentsLengthPool2 = function() {
        function create2() {
          return {
            lengths: [],
            totalLength: 0
          };
        }
        function release(element) {
          var i3;
          var len = element.lengths.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            bezierLengthPool2.release(element.lengths[i3]);
          }
          element.lengths.length = 0;
        }
        return poolFactory2(8, create2, release);
      }();
      var bezierLengthPool2 = function() {
        function create2() {
          return {
            addedLength: 0,
            percents: createTypedArray2("float32", defaultCurveSegments2),
            lengths: createTypedArray2("float32", defaultCurveSegments2)
          };
        }
        return poolFactory2(8, create2);
      }();
      var markerParser2 = function() {
        function parsePayloadLines(payload) {
          var lines = payload.split("\r\n");
          var keys2 = {};
          var line;
          var keysCount = 0;
          for (var i3 = 0; i3 < lines.length; i3 += 1) {
            line = lines[i3].split(":");
            if (line.length === 2) {
              keys2[line[0]] = line[1].trim();
              keysCount += 1;
            }
          }
          if (keysCount === 0) {
            throw new Error();
          }
          return keys2;
        }
        return function(_markers) {
          var markers = [];
          for (var i3 = 0; i3 < _markers.length; i3 += 1) {
            var _marker = _markers[i3];
            var markerData = {
              time: _marker.tm,
              duration: _marker.dr
            };
            try {
              markerData.payload = JSON.parse(_markers[i3].cm);
            } catch (_4) {
              try {
                markerData.payload = parsePayloadLines(_markers[i3].cm);
              } catch (__) {
                markerData.payload = {
                  name: _markers[i3]
                };
              }
            }
            markers.push(markerData);
          }
          return markers;
        };
      }();
      function BaseRenderer2() {
      }
      BaseRenderer2.prototype.checkLayers = function(num) {
        var i3;
        var len = this.layers.length;
        var data2;
        this.completeLayers = true;
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (!this.elements[i3]) {
            data2 = this.layers[i3];
            if (data2.ip - data2.st <= num - this.layers[i3].st && data2.op - data2.st > num - this.layers[i3].st) {
              this.buildItem(i3);
            }
          }
          this.completeLayers = this.elements[i3] ? this.completeLayers : false;
        }
        this.checkPendingElements();
      };
      BaseRenderer2.prototype.createItem = function(layer) {
        switch (layer.ty) {
          case 2:
            return this.createImage(layer);
          case 0:
            return this.createComp(layer);
          case 1:
            return this.createSolid(layer);
          case 3:
            return this.createNull(layer);
          case 4:
            return this.createShape(layer);
          case 5:
            return this.createText(layer);
          case 6:
            return this.createAudio(layer);
          case 13:
            return this.createCamera(layer);
          case 15:
            return this.createFootage(layer);
          default:
            return this.createNull(layer);
        }
      };
      BaseRenderer2.prototype.createCamera = function() {
        throw new Error("You're using a 3d camera. Try the html renderer.");
      };
      BaseRenderer2.prototype.createAudio = function(data2) {
        return new AudioElement2(data2, this.globalData, this);
      };
      BaseRenderer2.prototype.createFootage = function(data2) {
        return new FootageElement(data2, this.globalData, this);
      };
      BaseRenderer2.prototype.buildAllItems = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.buildItem(i3);
        }
        this.checkPendingElements();
      };
      BaseRenderer2.prototype.includeLayers = function(newLayers) {
        this.completeLayers = false;
        var i3;
        var len = newLayers.length;
        var j4;
        var jLen = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          j4 = 0;
          while (j4 < jLen) {
            if (this.layers[j4].id === newLayers[i3].id) {
              this.layers[j4] = newLayers[i3];
              break;
            }
            j4 += 1;
          }
        }
      };
      BaseRenderer2.prototype.setProjectInterface = function(pInterface) {
        this.globalData.projectInterface = pInterface;
      };
      BaseRenderer2.prototype.initItems = function() {
        if (!this.globalData.progressiveLoad) {
          this.buildAllItems();
        }
      };
      BaseRenderer2.prototype.buildElementParenting = function(element, parentName, hierarchy) {
        var elements = this.elements;
        var layers = this.layers;
        var i3 = 0;
        var len = layers.length;
        while (i3 < len) {
          if (layers[i3].ind == parentName) {
            if (!elements[i3] || elements[i3] === true) {
              this.buildItem(i3);
              this.addPendingElement(element);
            } else {
              hierarchy.push(elements[i3]);
              elements[i3].setAsParent();
              if (layers[i3].parent !== void 0) {
                this.buildElementParenting(element, layers[i3].parent, hierarchy);
              } else {
                element.setHierarchy(hierarchy);
              }
            }
          }
          i3 += 1;
        }
      };
      BaseRenderer2.prototype.addPendingElement = function(element) {
        this.pendingElements.push(element);
      };
      BaseRenderer2.prototype.searchExtraCompositions = function(assets) {
        var i3;
        var len = assets.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (assets[i3].xt) {
            var comp2 = this.createComp(assets[i3]);
            comp2.initExpressions();
            this.globalData.projectInterface.registerComposition(comp2);
          }
        }
      };
      BaseRenderer2.prototype.setupGlobalData = function(animData, fontsContainer) {
        this.globalData.fontManager = new FontManager2();
        this.globalData.fontManager.addChars(animData.chars);
        this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);
        this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);
        this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);
        this.globalData.imageLoader = this.animationItem.imagePreloader;
        this.globalData.audioController = this.animationItem.audioController;
        this.globalData.frameId = 0;
        this.globalData.frameRate = animData.fr;
        this.globalData.nm = animData.nm;
        this.globalData.compSize = {
          w: animData.w,
          h: animData.h
        };
      };
      function SVGRenderer2(animationItem, config) {
        this.animationItem = animationItem;
        this.layers = null;
        this.renderedFrame = -1;
        this.svgElement = createNS2("svg");
        var ariaLabel = "";
        if (config && config.title) {
          var titleElement = createNS2("title");
          var titleId = createElementID2();
          titleElement.setAttribute("id", titleId);
          titleElement.textContent = config.title;
          this.svgElement.appendChild(titleElement);
          ariaLabel += titleId;
        }
        if (config && config.description) {
          var descElement = createNS2("desc");
          var descId = createElementID2();
          descElement.setAttribute("id", descId);
          descElement.textContent = config.description;
          this.svgElement.appendChild(descElement);
          ariaLabel += " " + descId;
        }
        if (ariaLabel) {
          this.svgElement.setAttribute("aria-labelledby", ariaLabel);
        }
        var defs = createNS2("defs");
        this.svgElement.appendChild(defs);
        var maskElement = createNS2("g");
        this.svgElement.appendChild(maskElement);
        this.layerElement = maskElement;
        this.renderConfig = {
          preserveAspectRatio: config && config.preserveAspectRatio || "xMidYMid meet",
          imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || "xMidYMid slice",
          contentVisibility: config && config.contentVisibility || "visible",
          progressiveLoad: config && config.progressiveLoad || false,
          hideOnTransparent: !(config && config.hideOnTransparent === false),
          viewBoxOnly: config && config.viewBoxOnly || false,
          viewBoxSize: config && config.viewBoxSize || false,
          className: config && config.className || "",
          id: config && config.id || "",
          focusable: config && config.focusable,
          filterSize: {
            width: config && config.filterSize && config.filterSize.width || "100%",
            height: config && config.filterSize && config.filterSize.height || "100%",
            x: config && config.filterSize && config.filterSize.x || "0%",
            y: config && config.filterSize && config.filterSize.y || "0%"
          }
        };
        this.globalData = {
          _mdf: false,
          frameNum: -1,
          defs,
          renderConfig: this.renderConfig
        };
        this.elements = [];
        this.pendingElements = [];
        this.destroyed = false;
        this.rendererType = "svg";
      }
      extendPrototype2([BaseRenderer2], SVGRenderer2);
      SVGRenderer2.prototype.createNull = function(data2) {
        return new NullElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.createShape = function(data2) {
        return new SVGShapeElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.createText = function(data2) {
        return new SVGTextLottieElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.createImage = function(data2) {
        return new IImageElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.createComp = function(data2) {
        return new SVGCompElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.createSolid = function(data2) {
        return new ISolidElement2(data2, this.globalData, this);
      };
      SVGRenderer2.prototype.configAnimation = function(animData) {
        this.svgElement.setAttribute("xmlns", "http://www.w3.org/2000/svg");
        if (this.renderConfig.viewBoxSize) {
          this.svgElement.setAttribute("viewBox", this.renderConfig.viewBoxSize);
        } else {
          this.svgElement.setAttribute("viewBox", "0 0 " + animData.w + " " + animData.h);
        }
        if (!this.renderConfig.viewBoxOnly) {
          this.svgElement.setAttribute("width", animData.w);
          this.svgElement.setAttribute("height", animData.h);
          this.svgElement.style.width = "100%";
          this.svgElement.style.height = "100%";
          this.svgElement.style.transform = "translate3d(0,0,0)";
          this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;
        }
        if (this.renderConfig.className) {
          this.svgElement.setAttribute("class", this.renderConfig.className);
        }
        if (this.renderConfig.id) {
          this.svgElement.setAttribute("id", this.renderConfig.id);
        }
        if (this.renderConfig.focusable !== void 0) {
          this.svgElement.setAttribute("focusable", this.renderConfig.focusable);
        }
        this.svgElement.setAttribute("preserveAspectRatio", this.renderConfig.preserveAspectRatio);
        this.animationItem.wrapper.appendChild(this.svgElement);
        var defs = this.globalData.defs;
        this.setupGlobalData(animData, defs);
        this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;
        this.data = animData;
        var maskElement = createNS2("clipPath");
        var rect = createNS2("rect");
        rect.setAttribute("width", animData.w);
        rect.setAttribute("height", animData.h);
        rect.setAttribute("x", 0);
        rect.setAttribute("y", 0);
        var maskId = createElementID2();
        maskElement.setAttribute("id", maskId);
        maskElement.appendChild(rect);
        this.layerElement.setAttribute("clip-path", "url(" + locationHref2 + "#" + maskId + ")");
        defs.appendChild(maskElement);
        this.layers = animData.layers;
        this.elements = createSizedArray2(animData.layers.length);
      };
      SVGRenderer2.prototype.destroy = function() {
        if (this.animationItem.wrapper) {
          this.animationItem.wrapper.innerText = "";
        }
        this.layerElement = null;
        this.globalData.defs = null;
        var i3;
        var len = this.layers ? this.layers.length : 0;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3]) {
            this.elements[i3].destroy();
          }
        }
        this.elements.length = 0;
        this.destroyed = true;
        this.animationItem = null;
      };
      SVGRenderer2.prototype.updateContainerSize = function() {
      };
      SVGRenderer2.prototype.buildItem = function(pos) {
        var elements = this.elements;
        if (elements[pos] || this.layers[pos].ty === 99) {
          return;
        }
        elements[pos] = true;
        var element = this.createItem(this.layers[pos]);
        elements[pos] = element;
        if (expressionsPlugin2) {
          if (this.layers[pos].ty === 0) {
            this.globalData.projectInterface.registerComposition(element);
          }
          element.initExpressions();
        }
        this.appendElementInPos(element, pos);
        if (this.layers[pos].tt) {
          if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {
            this.buildItem(pos - 1);
            this.addPendingElement(element);
          } else {
            element.setMatte(elements[pos - 1].layerId);
          }
        }
      };
      SVGRenderer2.prototype.checkPendingElements = function() {
        while (this.pendingElements.length) {
          var element = this.pendingElements.pop();
          element.checkParenting();
          if (element.data.tt) {
            var i3 = 0;
            var len = this.elements.length;
            while (i3 < len) {
              if (this.elements[i3] === element) {
                element.setMatte(this.elements[i3 - 1].layerId);
                break;
              }
              i3 += 1;
            }
          }
        }
      };
      SVGRenderer2.prototype.renderFrame = function(num) {
        if (this.renderedFrame === num || this.destroyed) {
          return;
        }
        if (num === null) {
          num = this.renderedFrame;
        } else {
          this.renderedFrame = num;
        }
        this.globalData.frameNum = num;
        this.globalData.frameId += 1;
        this.globalData.projectInterface.currentFrame = num;
        this.globalData._mdf = false;
        var i3;
        var len = this.layers.length;
        if (!this.completeLayers) {
          this.checkLayers(num);
        }
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].prepareFrame(num - this.layers[i3].st);
          }
        }
        if (this.globalData._mdf) {
          for (i3 = 0; i3 < len; i3 += 1) {
            if (this.completeLayers || this.elements[i3]) {
              this.elements[i3].renderFrame();
            }
          }
        }
      };
      SVGRenderer2.prototype.appendElementInPos = function(element, pos) {
        var newElement = element.getBaseElement();
        if (!newElement) {
          return;
        }
        var i3 = 0;
        var nextElement;
        while (i3 < pos) {
          if (this.elements[i3] && this.elements[i3] !== true && this.elements[i3].getBaseElement()) {
            nextElement = this.elements[i3].getBaseElement();
          }
          i3 += 1;
        }
        if (nextElement) {
          this.layerElement.insertBefore(newElement, nextElement);
        } else {
          this.layerElement.appendChild(newElement);
        }
      };
      SVGRenderer2.prototype.hide = function() {
        this.layerElement.style.display = "none";
      };
      SVGRenderer2.prototype.show = function() {
        this.layerElement.style.display = "block";
      };
      function MaskElement2(data2, element, globalData2) {
        this.data = data2;
        this.element = element;
        this.globalData = globalData2;
        this.storedData = [];
        this.masksProperties = this.data.masksProperties || [];
        this.maskElement = null;
        var defs = this.globalData.defs;
        var i3;
        var len = this.masksProperties ? this.masksProperties.length : 0;
        this.viewData = createSizedArray2(len);
        this.solidPath = "";
        var path;
        var properties = this.masksProperties;
        var count = 0;
        var currentMasks = [];
        var j4;
        var jLen;
        var layerId = createElementID2();
        var rect;
        var expansor;
        var feMorph;
        var x5;
        var maskType = "clipPath";
        var maskRef = "clip-path";
        for (i3 = 0; i3 < len; i3 += 1) {
          if (properties[i3].mode !== "a" && properties[i3].mode !== "n" || properties[i3].inv || properties[i3].o.k !== 100 || properties[i3].o.x) {
            maskType = "mask";
            maskRef = "mask";
          }
          if ((properties[i3].mode === "s" || properties[i3].mode === "i") && count === 0) {
            rect = createNS2("rect");
            rect.setAttribute("fill", "#ffffff");
            rect.setAttribute("width", this.element.comp.data.w || 0);
            rect.setAttribute("height", this.element.comp.data.h || 0);
            currentMasks.push(rect);
          } else {
            rect = null;
          }
          path = createNS2("path");
          if (properties[i3].mode === "n") {
            this.viewData[i3] = {
              op: PropertyFactory2.getProp(this.element, properties[i3].o, 0, 0.01, this.element),
              prop: ShapePropertyFactory2.getShapeProp(this.element, properties[i3], 3),
              elem: path,
              lastPath: ""
            };
            defs.appendChild(path);
          } else {
            count += 1;
            path.setAttribute("fill", properties[i3].mode === "s" ? "#000000" : "#ffffff");
            path.setAttribute("clip-rule", "nonzero");
            var filterID;
            if (properties[i3].x.k !== 0) {
              maskType = "mask";
              maskRef = "mask";
              x5 = PropertyFactory2.getProp(this.element, properties[i3].x, 0, null, this.element);
              filterID = createElementID2();
              expansor = createNS2("filter");
              expansor.setAttribute("id", filterID);
              feMorph = createNS2("feMorphology");
              feMorph.setAttribute("operator", "erode");
              feMorph.setAttribute("in", "SourceGraphic");
              feMorph.setAttribute("radius", "0");
              expansor.appendChild(feMorph);
              defs.appendChild(expansor);
              path.setAttribute("stroke", properties[i3].mode === "s" ? "#000000" : "#ffffff");
            } else {
              feMorph = null;
              x5 = null;
            }
            this.storedData[i3] = {
              elem: path,
              x: x5,
              expan: feMorph,
              lastPath: "",
              lastOperator: "",
              filterId: filterID,
              lastRadius: 0
            };
            if (properties[i3].mode === "i") {
              jLen = currentMasks.length;
              var g5 = createNS2("g");
              for (j4 = 0; j4 < jLen; j4 += 1) {
                g5.appendChild(currentMasks[j4]);
              }
              var mask2 = createNS2("mask");
              mask2.setAttribute("mask-type", "alpha");
              mask2.setAttribute("id", layerId + "_" + count);
              mask2.appendChild(path);
              defs.appendChild(mask2);
              g5.setAttribute("mask", "url(" + locationHref2 + "#" + layerId + "_" + count + ")");
              currentMasks.length = 0;
              currentMasks.push(g5);
            } else {
              currentMasks.push(path);
            }
            if (properties[i3].inv && !this.solidPath) {
              this.solidPath = this.createLayerSolidPath();
            }
            this.viewData[i3] = {
              elem: path,
              lastPath: "",
              op: PropertyFactory2.getProp(this.element, properties[i3].o, 0, 0.01, this.element),
              prop: ShapePropertyFactory2.getShapeProp(this.element, properties[i3], 3),
              invRect: rect
            };
            if (!this.viewData[i3].prop.k) {
              this.drawPath(properties[i3], this.viewData[i3].prop.v, this.viewData[i3]);
            }
          }
        }
        this.maskElement = createNS2(maskType);
        len = currentMasks.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.maskElement.appendChild(currentMasks[i3]);
        }
        if (count > 0) {
          this.maskElement.setAttribute("id", layerId);
          this.element.maskedElement.setAttribute(maskRef, "url(" + locationHref2 + "#" + layerId + ")");
          defs.appendChild(this.maskElement);
        }
        if (this.viewData.length) {
          this.element.addRenderableComponent(this);
        }
      }
      MaskElement2.prototype.getMaskProperty = function(pos) {
        return this.viewData[pos].prop;
      };
      MaskElement2.prototype.renderFrame = function(isFirstFrame) {
        var finalMat = this.element.finalTransform.mat;
        var i3;
        var len = this.masksProperties.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.viewData[i3].prop._mdf || isFirstFrame) {
            this.drawPath(this.masksProperties[i3], this.viewData[i3].prop.v, this.viewData[i3]);
          }
          if (this.viewData[i3].op._mdf || isFirstFrame) {
            this.viewData[i3].elem.setAttribute("fill-opacity", this.viewData[i3].op.v);
          }
          if (this.masksProperties[i3].mode !== "n") {
            if (this.viewData[i3].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {
              this.viewData[i3].invRect.setAttribute("transform", finalMat.getInverseMatrix().to2dCSS());
            }
            if (this.storedData[i3].x && (this.storedData[i3].x._mdf || isFirstFrame)) {
              var feMorph = this.storedData[i3].expan;
              if (this.storedData[i3].x.v < 0) {
                if (this.storedData[i3].lastOperator !== "erode") {
                  this.storedData[i3].lastOperator = "erode";
                  this.storedData[i3].elem.setAttribute("filter", "url(" + locationHref2 + "#" + this.storedData[i3].filterId + ")");
                }
                feMorph.setAttribute("radius", -this.storedData[i3].x.v);
              } else {
                if (this.storedData[i3].lastOperator !== "dilate") {
                  this.storedData[i3].lastOperator = "dilate";
                  this.storedData[i3].elem.setAttribute("filter", null);
                }
                this.storedData[i3].elem.setAttribute("stroke-width", this.storedData[i3].x.v * 2);
              }
            }
          }
        }
      };
      MaskElement2.prototype.getMaskelement = function() {
        return this.maskElement;
      };
      MaskElement2.prototype.createLayerSolidPath = function() {
        var path = "M0,0 ";
        path += " h" + this.globalData.compSize.w;
        path += " v" + this.globalData.compSize.h;
        path += " h-" + this.globalData.compSize.w;
        path += " v-" + this.globalData.compSize.h + " ";
        return path;
      };
      MaskElement2.prototype.drawPath = function(pathData, pathNodes, viewData) {
        var pathString = " M" + pathNodes.v[0][0] + "," + pathNodes.v[0][1];
        var i3;
        var len;
        len = pathNodes._length;
        for (i3 = 1; i3 < len; i3 += 1) {
          pathString += " C" + pathNodes.o[i3 - 1][0] + "," + pathNodes.o[i3 - 1][1] + " " + pathNodes.i[i3][0] + "," + pathNodes.i[i3][1] + " " + pathNodes.v[i3][0] + "," + pathNodes.v[i3][1];
        }
        if (pathNodes.c && len > 1) {
          pathString += " C" + pathNodes.o[i3 - 1][0] + "," + pathNodes.o[i3 - 1][1] + " " + pathNodes.i[0][0] + "," + pathNodes.i[0][1] + " " + pathNodes.v[0][0] + "," + pathNodes.v[0][1];
        }
        if (viewData.lastPath !== pathString) {
          var pathShapeValue = "";
          if (viewData.elem) {
            if (pathNodes.c) {
              pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;
            }
            viewData.elem.setAttribute("d", pathShapeValue);
          }
          viewData.lastPath = pathString;
        }
      };
      MaskElement2.prototype.destroy = function() {
        this.element = null;
        this.globalData = null;
        this.maskElement = null;
        this.data = null;
        this.masksProperties = null;
      };
      function HierarchyElement2() {
      }
      HierarchyElement2.prototype = {
        /**
           * @function
           * Initializes hierarchy properties
           *
           */
        initHierarchy: function() {
          this.hierarchy = [];
          this._isParent = false;
          this.checkParenting();
        },
        /**
           * @function
           * Sets layer's hierarchy.
           * @param {array} hierarch
           * layer's parent list
           *
           */
        setHierarchy: function(hierarchy) {
          this.hierarchy = hierarchy;
        },
        /**
           * @function
           * Sets layer as parent.
           *
           */
        setAsParent: function() {
          this._isParent = true;
        },
        /**
           * @function
           * Searches layer's parenting chain
           *
           */
        checkParenting: function() {
          if (this.data.parent !== void 0) {
            this.comp.buildElementParenting(this, this.data.parent, []);
          }
        }
      };
      function FrameElement2() {
      }
      FrameElement2.prototype = {
        /**
           * @function
           * Initializes frame related properties.
           *
           */
        initFrame: function() {
          this._isFirstFrame = false;
          this.dynamicProperties = [];
          this._mdf = false;
        },
        /**
           * @function
           * Calculates all dynamic values
           *
           * @param {number} num
           * current frame number in Layer's time
           * @param {boolean} isVisible
           * if layers is currently in range
           *
           */
        prepareProperties: function(num, isVisible) {
          var i3;
          var len = this.dynamicProperties.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (isVisible || this._isParent && this.dynamicProperties[i3].propType === "transform") {
              this.dynamicProperties[i3].getValue();
              if (this.dynamicProperties[i3]._mdf) {
                this.globalData._mdf = true;
                this._mdf = true;
              }
            }
          }
        },
        addDynamicProperty: function(prop) {
          if (this.dynamicProperties.indexOf(prop) === -1) {
            this.dynamicProperties.push(prop);
          }
        }
      };
      function TransformElement2() {
      }
      TransformElement2.prototype = {
        initTransform: function() {
          this.finalTransform = {
            mProp: this.data.ks ? TransformPropertyFactory2.getTransformProperty(this, this.data.ks, this) : { o: 0 },
            _matMdf: false,
            _opMdf: false,
            mat: new Matrix2()
          };
          if (this.data.ao) {
            this.finalTransform.mProp.autoOriented = true;
          }
          if (this.data.ty !== 11) {
          }
        },
        renderTransform: function() {
          this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;
          this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;
          if (this.hierarchy) {
            var mat;
            var finalMat = this.finalTransform.mat;
            var i3 = 0;
            var len = this.hierarchy.length;
            if (!this.finalTransform._matMdf) {
              while (i3 < len) {
                if (this.hierarchy[i3].finalTransform.mProp._mdf) {
                  this.finalTransform._matMdf = true;
                  break;
                }
                i3 += 1;
              }
            }
            if (this.finalTransform._matMdf) {
              mat = this.finalTransform.mProp.v.props;
              finalMat.cloneFromProps(mat);
              for (i3 = 0; i3 < len; i3 += 1) {
                mat = this.hierarchy[i3].finalTransform.mProp.v.props;
                finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);
              }
            }
          }
        },
        globalToLocal: function(pt3) {
          var transforms = [];
          transforms.push(this.finalTransform);
          var flag = true;
          var comp2 = this.comp;
          while (flag) {
            if (comp2.finalTransform) {
              if (comp2.data.hasMask) {
                transforms.splice(0, 0, comp2.finalTransform);
              }
              comp2 = comp2.comp;
            } else {
              flag = false;
            }
          }
          var i3;
          var len = transforms.length;
          var ptNew;
          for (i3 = 0; i3 < len; i3 += 1) {
            ptNew = transforms[i3].mat.applyToPointArray(0, 0, 0);
            pt3 = [pt3[0] - ptNew[0], pt3[1] - ptNew[1], 0];
          }
          return pt3;
        },
        mHelper: new Matrix2()
      };
      function RenderableElement2() {
      }
      RenderableElement2.prototype = {
        initRenderable: function() {
          this.isInRange = false;
          this.hidden = false;
          this.isTransparent = false;
          this.renderableComponents = [];
        },
        addRenderableComponent: function(component) {
          if (this.renderableComponents.indexOf(component) === -1) {
            this.renderableComponents.push(component);
          }
        },
        removeRenderableComponent: function(component) {
          if (this.renderableComponents.indexOf(component) !== -1) {
            this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);
          }
        },
        prepareRenderableFrame: function(num) {
          this.checkLayerLimits(num);
        },
        checkTransparency: function() {
          if (this.finalTransform.mProp.o.v <= 0) {
            if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {
              this.isTransparent = true;
              this.hide();
            }
          } else if (this.isTransparent) {
            this.isTransparent = false;
            this.show();
          }
        },
        /**
           * @function
           * Initializes frame related properties.
           *
           * @param {number} num
           * current frame number in Layer's time
           *
           */
        checkLayerLimits: function(num) {
          if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {
            if (this.isInRange !== true) {
              this.globalData._mdf = true;
              this._mdf = true;
              this.isInRange = true;
              this.show();
            }
          } else if (this.isInRange !== false) {
            this.globalData._mdf = true;
            this.isInRange = false;
            this.hide();
          }
        },
        renderRenderable: function() {
          var i3;
          var len = this.renderableComponents.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.renderableComponents[i3].renderFrame(this._isFirstFrame);
          }
        },
        sourceRectAtTime: function() {
          return {
            top: 0,
            left: 0,
            width: 100,
            height: 100
          };
        },
        getLayerSize: function() {
          if (this.data.ty === 5) {
            return { w: this.data.textData.width, h: this.data.textData.height };
          }
          return { w: this.data.width, h: this.data.height };
        }
      };
      function RenderableDOMElement2() {
      }
      (function() {
        var _prototype = {
          initElement: function(data2, globalData2, comp2) {
            this.initFrame();
            this.initBaseData(data2, globalData2, comp2);
            this.initTransform(data2, globalData2, comp2);
            this.initHierarchy();
            this.initRenderable();
            this.initRendererElement();
            this.createContainerElements();
            this.createRenderableComponents();
            this.createContent();
            this.hide();
          },
          hide: function() {
            if (!this.hidden && (!this.isInRange || this.isTransparent)) {
              var elem2 = this.baseElement || this.layerElement;
              elem2.style.display = "none";
              this.hidden = true;
            }
          },
          show: function() {
            if (this.isInRange && !this.isTransparent) {
              if (!this.data.hd) {
                var elem2 = this.baseElement || this.layerElement;
                elem2.style.display = "block";
              }
              this.hidden = false;
              this._isFirstFrame = true;
            }
          },
          renderFrame: function() {
            if (this.data.hd || this.hidden) {
              return;
            }
            this.renderTransform();
            this.renderRenderable();
            this.renderElement();
            this.renderInnerContent();
            if (this._isFirstFrame) {
              this._isFirstFrame = false;
            }
          },
          renderInnerContent: function() {
          },
          prepareFrame: function(num) {
            this._mdf = false;
            this.prepareRenderableFrame(num);
            this.prepareProperties(num, this.isInRange);
            this.checkTransparency();
          },
          destroy: function() {
            this.innerElem = null;
            this.destroyBaseElement();
          }
        };
        extendPrototype2([RenderableElement2, createProxyFunction2(_prototype)], RenderableDOMElement2);
      })();
      function ProcessedElement2(element, position2) {
        this.elem = element;
        this.pos = position2;
      }
      function SVGStyleData2(data2, level) {
        this.data = data2;
        this.type = data2.ty;
        this.d = "";
        this.lvl = level;
        this._mdf = false;
        this.closed = data2.hd === true;
        this.pElem = createNS2("path");
        this.msElem = null;
      }
      SVGStyleData2.prototype.reset = function() {
        this.d = "";
        this._mdf = false;
      };
      function SVGShapeData2(transformers, level, shape) {
        this.caches = [];
        this.styles = [];
        this.transformers = transformers;
        this.lStr = "";
        this.sh = shape;
        this.lvl = level;
        this._isAnimated = !!shape.k;
        var i3 = 0;
        var len = transformers.length;
        while (i3 < len) {
          if (transformers[i3].mProps.dynamicProperties.length) {
            this._isAnimated = true;
            break;
          }
          i3 += 1;
        }
      }
      SVGShapeData2.prototype.setAsAnimated = function() {
        this._isAnimated = true;
      };
      function SVGTransformData2(mProps, op, container) {
        this.transform = {
          mProps,
          op,
          container
        };
        this.elements = [];
        this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;
      }
      function SVGStrokeStyleData2(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.o = PropertyFactory2.getProp(elem2, data2.o, 0, 0.01, this);
        this.w = PropertyFactory2.getProp(elem2, data2.w, 0, null, this);
        this.d = new DashProperty2(elem2, data2.d || {}, "svg", this);
        this.c = PropertyFactory2.getProp(elem2, data2.c, 1, 255, this);
        this.style = styleOb;
        this._isAnimated = !!this._isAnimated;
      }
      extendPrototype2([DynamicPropertyContainer2], SVGStrokeStyleData2);
      function SVGFillStyleData2(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.o = PropertyFactory2.getProp(elem2, data2.o, 0, 0.01, this);
        this.c = PropertyFactory2.getProp(elem2, data2.c, 1, 255, this);
        this.style = styleOb;
      }
      extendPrototype2([DynamicPropertyContainer2], SVGFillStyleData2);
      function SVGGradientFillStyleData2(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.initGradientData(elem2, data2, styleOb);
      }
      SVGGradientFillStyleData2.prototype.initGradientData = function(elem2, data2, styleOb) {
        this.o = PropertyFactory2.getProp(elem2, data2.o, 0, 0.01, this);
        this.s = PropertyFactory2.getProp(elem2, data2.s, 1, null, this);
        this.e = PropertyFactory2.getProp(elem2, data2.e, 1, null, this);
        this.h = PropertyFactory2.getProp(elem2, data2.h || { k: 0 }, 0, 0.01, this);
        this.a = PropertyFactory2.getProp(elem2, data2.a || { k: 0 }, 0, degToRads2, this);
        this.g = new GradientProperty2(elem2, data2.g, this);
        this.style = styleOb;
        this.stops = [];
        this.setGradientData(styleOb.pElem, data2);
        this.setGradientOpacity(data2, styleOb);
        this._isAnimated = !!this._isAnimated;
      };
      SVGGradientFillStyleData2.prototype.setGradientData = function(pathElement, data2) {
        var gradientId = createElementID2();
        var gfill = createNS2(data2.t === 1 ? "linearGradient" : "radialGradient");
        gfill.setAttribute("id", gradientId);
        gfill.setAttribute("spreadMethod", "pad");
        gfill.setAttribute("gradientUnits", "userSpaceOnUse");
        var stops = [];
        var stop;
        var j4;
        var jLen;
        jLen = data2.g.p * 4;
        for (j4 = 0; j4 < jLen; j4 += 4) {
          stop = createNS2("stop");
          gfill.appendChild(stop);
          stops.push(stop);
        }
        pathElement.setAttribute(data2.ty === "gf" ? "fill" : "stroke", "url(" + locationHref2 + "#" + gradientId + ")");
        this.gf = gfill;
        this.cst = stops;
      };
      SVGGradientFillStyleData2.prototype.setGradientOpacity = function(data2, styleOb) {
        if (this.g._hasOpacity && !this.g._collapsable) {
          var stop;
          var j4;
          var jLen;
          var mask2 = createNS2("mask");
          var maskElement = createNS2("path");
          mask2.appendChild(maskElement);
          var opacityId = createElementID2();
          var maskId = createElementID2();
          mask2.setAttribute("id", maskId);
          var opFill = createNS2(data2.t === 1 ? "linearGradient" : "radialGradient");
          opFill.setAttribute("id", opacityId);
          opFill.setAttribute("spreadMethod", "pad");
          opFill.setAttribute("gradientUnits", "userSpaceOnUse");
          jLen = data2.g.k.k[0].s ? data2.g.k.k[0].s.length : data2.g.k.k.length;
          var stops = this.stops;
          for (j4 = data2.g.p * 4; j4 < jLen; j4 += 2) {
            stop = createNS2("stop");
            stop.setAttribute("stop-color", "rgb(255,255,255)");
            opFill.appendChild(stop);
            stops.push(stop);
          }
          maskElement.setAttribute(data2.ty === "gf" ? "fill" : "stroke", "url(" + locationHref2 + "#" + opacityId + ")");
          if (data2.ty === "gs") {
            maskElement.setAttribute("stroke-linecap", lineCapEnum2[data2.lc || 2]);
            maskElement.setAttribute("stroke-linejoin", lineJoinEnum2[data2.lj || 2]);
            if (data2.lj === 1) {
              maskElement.setAttribute("stroke-miterlimit", data2.ml);
            }
          }
          this.of = opFill;
          this.ms = mask2;
          this.ost = stops;
          this.maskId = maskId;
          styleOb.msElem = maskElement;
        }
      };
      extendPrototype2([DynamicPropertyContainer2], SVGGradientFillStyleData2);
      function SVGGradientStrokeStyleData2(elem2, data2, styleOb) {
        this.initDynamicPropertyContainer(elem2);
        this.getValue = this.iterateDynamicProperties;
        this.w = PropertyFactory2.getProp(elem2, data2.w, 0, null, this);
        this.d = new DashProperty2(elem2, data2.d || {}, "svg", this);
        this.initGradientData(elem2, data2, styleOb);
        this._isAnimated = !!this._isAnimated;
      }
      extendPrototype2([SVGGradientFillStyleData2, DynamicPropertyContainer2], SVGGradientStrokeStyleData2);
      function ShapeGroupData2() {
        this.it = [];
        this.prevViewData = [];
        this.gr = createNS2("g");
      }
      var SVGElementsRenderer2 = function() {
        var _identityMatrix = new Matrix2();
        var _matrixHelper = new Matrix2();
        var ob2 = {
          createRenderFunction
        };
        function createRenderFunction(data2) {
          switch (data2.ty) {
            case "fl":
              return renderFill;
            case "gf":
              return renderGradient;
            case "gs":
              return renderGradientStroke;
            case "st":
              return renderStroke;
            case "sh":
            case "el":
            case "rc":
            case "sr":
              return renderPath;
            case "tr":
              return renderContentTransform;
            default:
              return null;
          }
        }
        function renderContentTransform(styleData, itemData, isFirstFrame) {
          if (isFirstFrame || itemData.transform.op._mdf) {
            itemData.transform.container.setAttribute("opacity", itemData.transform.op.v);
          }
          if (isFirstFrame || itemData.transform.mProps._mdf) {
            itemData.transform.container.setAttribute("transform", itemData.transform.mProps.v.to2dCSS());
          }
        }
        function renderPath(styleData, itemData, isFirstFrame) {
          var j4;
          var jLen;
          var pathStringTransformed;
          var redraw;
          var pathNodes;
          var l4;
          var lLen = itemData.styles.length;
          var lvl = itemData.lvl;
          var paths;
          var mat;
          var props;
          var iterations;
          var k3;
          for (l4 = 0; l4 < lLen; l4 += 1) {
            redraw = itemData.sh._mdf || isFirstFrame;
            if (itemData.styles[l4].lvl < lvl) {
              mat = _matrixHelper.reset();
              iterations = lvl - itemData.styles[l4].lvl;
              k3 = itemData.transformers.length - 1;
              while (!redraw && iterations > 0) {
                redraw = itemData.transformers[k3].mProps._mdf || redraw;
                iterations -= 1;
                k3 -= 1;
              }
              if (redraw) {
                iterations = lvl - itemData.styles[l4].lvl;
                k3 = itemData.transformers.length - 1;
                while (iterations > 0) {
                  props = itemData.transformers[k3].mProps.v.props;
                  mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);
                  iterations -= 1;
                  k3 -= 1;
                }
              }
            } else {
              mat = _identityMatrix;
            }
            paths = itemData.sh.paths;
            jLen = paths._length;
            if (redraw) {
              pathStringTransformed = "";
              for (j4 = 0; j4 < jLen; j4 += 1) {
                pathNodes = paths.shapes[j4];
                if (pathNodes && pathNodes._length) {
                  pathStringTransformed += buildShapeString2(pathNodes, pathNodes._length, pathNodes.c, mat);
                }
              }
              itemData.caches[l4] = pathStringTransformed;
            } else {
              pathStringTransformed = itemData.caches[l4];
            }
            itemData.styles[l4].d += styleData.hd === true ? "" : pathStringTransformed;
            itemData.styles[l4]._mdf = redraw || itemData.styles[l4]._mdf;
          }
        }
        function renderFill(styleData, itemData, isFirstFrame) {
          var styleElem = itemData.style;
          if (itemData.c._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("fill", "rgb(" + bmFloor2(itemData.c.v[0]) + "," + bmFloor2(itemData.c.v[1]) + "," + bmFloor2(itemData.c.v[2]) + ")");
          }
          if (itemData.o._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("fill-opacity", itemData.o.v);
          }
        }
        function renderGradientStroke(styleData, itemData, isFirstFrame) {
          renderGradient(styleData, itemData, isFirstFrame);
          renderStroke(styleData, itemData, isFirstFrame);
        }
        function renderGradient(styleData, itemData, isFirstFrame) {
          var gfill = itemData.gf;
          var hasOpacity = itemData.g._hasOpacity;
          var pt1 = itemData.s.v;
          var pt22 = itemData.e.v;
          if (itemData.o._mdf || isFirstFrame) {
            var attr = styleData.ty === "gf" ? "fill-opacity" : "stroke-opacity";
            itemData.style.pElem.setAttribute(attr, itemData.o.v);
          }
          if (itemData.s._mdf || isFirstFrame) {
            var attr1 = styleData.t === 1 ? "x1" : "cx";
            var attr2 = attr1 === "x1" ? "y1" : "cy";
            gfill.setAttribute(attr1, pt1[0]);
            gfill.setAttribute(attr2, pt1[1]);
            if (hasOpacity && !itemData.g._collapsable) {
              itemData.of.setAttribute(attr1, pt1[0]);
              itemData.of.setAttribute(attr2, pt1[1]);
            }
          }
          var stops;
          var i3;
          var len;
          var stop;
          if (itemData.g._cmdf || isFirstFrame) {
            stops = itemData.cst;
            var cValues = itemData.g.c;
            len = stops.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              stop = stops[i3];
              stop.setAttribute("offset", cValues[i3 * 4] + "%");
              stop.setAttribute("stop-color", "rgb(" + cValues[i3 * 4 + 1] + "," + cValues[i3 * 4 + 2] + "," + cValues[i3 * 4 + 3] + ")");
            }
          }
          if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {
            var oValues = itemData.g.o;
            if (itemData.g._collapsable) {
              stops = itemData.cst;
            } else {
              stops = itemData.ost;
            }
            len = stops.length;
            for (i3 = 0; i3 < len; i3 += 1) {
              stop = stops[i3];
              if (!itemData.g._collapsable) {
                stop.setAttribute("offset", oValues[i3 * 2] + "%");
              }
              stop.setAttribute("stop-opacity", oValues[i3 * 2 + 1]);
            }
          }
          if (styleData.t === 1) {
            if (itemData.e._mdf || isFirstFrame) {
              gfill.setAttribute("x2", pt22[0]);
              gfill.setAttribute("y2", pt22[1]);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("x2", pt22[0]);
                itemData.of.setAttribute("y2", pt22[1]);
              }
            }
          } else {
            var rad;
            if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {
              rad = Math.sqrt(Math.pow(pt1[0] - pt22[0], 2) + Math.pow(pt1[1] - pt22[1], 2));
              gfill.setAttribute("r", rad);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("r", rad);
              }
            }
            if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {
              if (!rad) {
                rad = Math.sqrt(Math.pow(pt1[0] - pt22[0], 2) + Math.pow(pt1[1] - pt22[1], 2));
              }
              var ang = Math.atan2(pt22[1] - pt1[1], pt22[0] - pt1[0]);
              var percent = itemData.h.v;
              if (percent >= 1) {
                percent = 0.99;
              } else if (percent <= -1) {
                percent = -0.99;
              }
              var dist = rad * percent;
              var x5 = Math.cos(ang + itemData.a.v) * dist + pt1[0];
              var y7 = Math.sin(ang + itemData.a.v) * dist + pt1[1];
              gfill.setAttribute("fx", x5);
              gfill.setAttribute("fy", y7);
              if (hasOpacity && !itemData.g._collapsable) {
                itemData.of.setAttribute("fx", x5);
                itemData.of.setAttribute("fy", y7);
              }
            }
          }
        }
        function renderStroke(styleData, itemData, isFirstFrame) {
          var styleElem = itemData.style;
          var d3 = itemData.d;
          if (d3 && (d3._mdf || isFirstFrame) && d3.dashStr) {
            styleElem.pElem.setAttribute("stroke-dasharray", d3.dashStr);
            styleElem.pElem.setAttribute("stroke-dashoffset", d3.dashoffset[0]);
          }
          if (itemData.c && (itemData.c._mdf || isFirstFrame)) {
            styleElem.pElem.setAttribute("stroke", "rgb(" + bmFloor2(itemData.c.v[0]) + "," + bmFloor2(itemData.c.v[1]) + "," + bmFloor2(itemData.c.v[2]) + ")");
          }
          if (itemData.o._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("stroke-opacity", itemData.o.v);
          }
          if (itemData.w._mdf || isFirstFrame) {
            styleElem.pElem.setAttribute("stroke-width", itemData.w.v);
            if (styleElem.msElem) {
              styleElem.msElem.setAttribute("stroke-width", itemData.w.v);
            }
          }
        }
        return ob2;
      }();
      function ShapeTransformManager2() {
        this.sequences = {};
        this.sequenceList = [];
        this.transform_key_count = 0;
      }
      ShapeTransformManager2.prototype = {
        addTransformSequence: function(transforms) {
          var i3;
          var len = transforms.length;
          var key2 = "_";
          for (i3 = 0; i3 < len; i3 += 1) {
            key2 += transforms[i3].transform.key + "_";
          }
          var sequence = this.sequences[key2];
          if (!sequence) {
            sequence = {
              transforms: [].concat(transforms),
              finalTransform: new Matrix2(),
              _mdf: false
            };
            this.sequences[key2] = sequence;
            this.sequenceList.push(sequence);
          }
          return sequence;
        },
        processSequence: function(sequence, isFirstFrame) {
          var i3 = 0;
          var len = sequence.transforms.length;
          var _mdf = isFirstFrame;
          while (i3 < len && !isFirstFrame) {
            if (sequence.transforms[i3].transform.mProps._mdf) {
              _mdf = true;
              break;
            }
            i3 += 1;
          }
          if (_mdf) {
            var props;
            sequence.finalTransform.reset();
            for (i3 = len - 1; i3 >= 0; i3 -= 1) {
              props = sequence.transforms[i3].transform.mProps.v.props;
              sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);
            }
          }
          sequence._mdf = _mdf;
        },
        processSequences: function(isFirstFrame) {
          var i3;
          var len = this.sequenceList.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.processSequence(this.sequenceList[i3], isFirstFrame);
          }
        },
        getNewKey: function() {
          this.transform_key_count += 1;
          return "_" + this.transform_key_count;
        }
      };
      function BaseElement2() {
      }
      BaseElement2.prototype = {
        checkMasks: function() {
          if (!this.data.hasMask) {
            return false;
          }
          var i3 = 0;
          var len = this.data.masksProperties.length;
          while (i3 < len) {
            if (this.data.masksProperties[i3].mode !== "n" && this.data.masksProperties[i3].cl !== false) {
              return true;
            }
            i3 += 1;
          }
          return false;
        },
        initExpressions: function() {
          this.layerInterface = LayerExpressionInterface(this);
          if (this.data.hasMask && this.maskManager) {
            this.layerInterface.registerMaskInterface(this.maskManager);
          }
          var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);
          this.layerInterface.registerEffectsInterface(effectsInterface);
          if (this.data.ty === 0 || this.data.xt) {
            this.compInterface = CompExpressionInterface(this);
          } else if (this.data.ty === 4) {
            this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);
            this.layerInterface.content = this.layerInterface.shapeInterface;
          } else if (this.data.ty === 5) {
            this.layerInterface.textInterface = TextExpressionInterface(this);
            this.layerInterface.text = this.layerInterface.textInterface;
          }
        },
        setBlendMode: function() {
          var blendModeValue = getBlendMode2(this.data.bm);
          var elem2 = this.baseElement || this.layerElement;
          elem2.style["mix-blend-mode"] = blendModeValue;
        },
        initBaseData: function(data2, globalData2, comp2) {
          this.globalData = globalData2;
          this.comp = comp2;
          this.data = data2;
          this.layerId = createElementID2();
          if (!this.data.sr) {
            this.data.sr = 1;
          }
          this.effectsManager = new EffectsManager2(this.data, this, this.dynamicProperties);
        },
        getType: function() {
          return this.type;
        },
        sourceRectAtTime: function() {
        }
      };
      function NullElement2(data2, globalData2, comp2) {
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.initFrame();
        this.initTransform(data2, globalData2, comp2);
        this.initHierarchy();
      }
      NullElement2.prototype.prepareFrame = function(num) {
        this.prepareProperties(num, true);
      };
      NullElement2.prototype.renderFrame = function() {
      };
      NullElement2.prototype.getBaseElement = function() {
        return null;
      };
      NullElement2.prototype.destroy = function() {
      };
      NullElement2.prototype.sourceRectAtTime = function() {
      };
      NullElement2.prototype.hide = function() {
      };
      extendPrototype2([BaseElement2, TransformElement2, HierarchyElement2, FrameElement2], NullElement2);
      function SVGBaseElement2() {
      }
      SVGBaseElement2.prototype = {
        initRendererElement: function() {
          this.layerElement = createNS2("g");
        },
        createContainerElements: function() {
          this.matteElement = createNS2("g");
          this.transformedElement = this.layerElement;
          this.maskedElement = this.layerElement;
          this._sizeChanged = false;
          var layerElementParent = null;
          var filId;
          var fil;
          var gg;
          if (this.data.td) {
            if (this.data.td == 3 || this.data.td == 1) {
              var masker = createNS2("mask");
              masker.setAttribute("id", this.layerId);
              masker.setAttribute("mask-type", this.data.td == 3 ? "luminance" : "alpha");
              masker.appendChild(this.layerElement);
              layerElementParent = masker;
              this.globalData.defs.appendChild(masker);
              if (!featureSupport2.maskType && this.data.td == 1) {
                masker.setAttribute("mask-type", "luminance");
                filId = createElementID2();
                fil = filtersFactory2.createFilter(filId);
                this.globalData.defs.appendChild(fil);
                fil.appendChild(filtersFactory2.createAlphaToLuminanceFilter());
                gg = createNS2("g");
                gg.appendChild(this.layerElement);
                layerElementParent = gg;
                masker.appendChild(gg);
                gg.setAttribute("filter", "url(" + locationHref2 + "#" + filId + ")");
              }
            } else if (this.data.td == 2) {
              var maskGroup = createNS2("mask");
              maskGroup.setAttribute("id", this.layerId);
              maskGroup.setAttribute("mask-type", "alpha");
              var maskGrouper = createNS2("g");
              maskGroup.appendChild(maskGrouper);
              filId = createElementID2();
              fil = filtersFactory2.createFilter(filId);
              var feCTr = createNS2("feComponentTransfer");
              feCTr.setAttribute("in", "SourceGraphic");
              fil.appendChild(feCTr);
              var feFunc = createNS2("feFuncA");
              feFunc.setAttribute("type", "table");
              feFunc.setAttribute("tableValues", "1.0 0.0");
              feCTr.appendChild(feFunc);
              this.globalData.defs.appendChild(fil);
              var alphaRect = createNS2("rect");
              alphaRect.setAttribute("width", this.comp.data.w);
              alphaRect.setAttribute("height", this.comp.data.h);
              alphaRect.setAttribute("x", "0");
              alphaRect.setAttribute("y", "0");
              alphaRect.setAttribute("fill", "#ffffff");
              alphaRect.setAttribute("opacity", "0");
              maskGrouper.setAttribute("filter", "url(" + locationHref2 + "#" + filId + ")");
              maskGrouper.appendChild(alphaRect);
              maskGrouper.appendChild(this.layerElement);
              layerElementParent = maskGrouper;
              if (!featureSupport2.maskType) {
                maskGroup.setAttribute("mask-type", "luminance");
                fil.appendChild(filtersFactory2.createAlphaToLuminanceFilter());
                gg = createNS2("g");
                maskGrouper.appendChild(alphaRect);
                gg.appendChild(this.layerElement);
                layerElementParent = gg;
                maskGrouper.appendChild(gg);
              }
              this.globalData.defs.appendChild(maskGroup);
            }
          } else if (this.data.tt) {
            this.matteElement.appendChild(this.layerElement);
            layerElementParent = this.matteElement;
            this.baseElement = this.matteElement;
          } else {
            this.baseElement = this.layerElement;
          }
          if (this.data.ln) {
            this.layerElement.setAttribute("id", this.data.ln);
          }
          if (this.data.cl) {
            this.layerElement.setAttribute("class", this.data.cl);
          }
          if (this.data.ty === 0 && !this.data.hd) {
            var cp = createNS2("clipPath");
            var pt3 = createNS2("path");
            pt3.setAttribute("d", "M0,0 L" + this.data.w + ",0 L" + this.data.w + "," + this.data.h + " L0," + this.data.h + "z");
            var clipId = createElementID2();
            cp.setAttribute("id", clipId);
            cp.appendChild(pt3);
            this.globalData.defs.appendChild(cp);
            if (this.checkMasks()) {
              var cpGroup = createNS2("g");
              cpGroup.setAttribute("clip-path", "url(" + locationHref2 + "#" + clipId + ")");
              cpGroup.appendChild(this.layerElement);
              this.transformedElement = cpGroup;
              if (layerElementParent) {
                layerElementParent.appendChild(this.transformedElement);
              } else {
                this.baseElement = this.transformedElement;
              }
            } else {
              this.layerElement.setAttribute("clip-path", "url(" + locationHref2 + "#" + clipId + ")");
            }
          }
          if (this.data.bm !== 0) {
            this.setBlendMode();
          }
        },
        renderElement: function() {
          if (this.finalTransform._matMdf) {
            this.transformedElement.setAttribute("transform", this.finalTransform.mat.to2dCSS());
          }
          if (this.finalTransform._opMdf) {
            this.transformedElement.setAttribute("opacity", this.finalTransform.mProp.o.v);
          }
        },
        destroyBaseElement: function() {
          this.layerElement = null;
          this.matteElement = null;
          this.maskManager.destroy();
        },
        getBaseElement: function() {
          if (this.data.hd) {
            return null;
          }
          return this.baseElement;
        },
        createRenderableComponents: function() {
          this.maskManager = new MaskElement2(this.data, this, this.globalData);
          this.renderableEffectsManager = new SVGEffects2(this);
        },
        setMatte: function(id) {
          if (!this.matteElement) {
            return;
          }
          this.matteElement.setAttribute("mask", "url(" + locationHref2 + "#" + id + ")");
        }
      };
      function IShapeElement2() {
      }
      IShapeElement2.prototype = {
        addShapeToModifiers: function(data2) {
          var i3;
          var len = this.shapeModifiers.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapeModifiers[i3].addShape(data2);
          }
        },
        isShapeInAnimatedModifiers: function(data2) {
          var i3 = 0;
          var len = this.shapeModifiers.length;
          while (i3 < len) {
            if (this.shapeModifiers[i3].isAnimatedWithShape(data2)) {
              return true;
            }
          }
          return false;
        },
        renderModifiers: function() {
          if (!this.shapeModifiers.length) {
            return;
          }
          var i3;
          var len = this.shapes.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.shapes[i3].sh.reset();
          }
          len = this.shapeModifiers.length;
          var shouldBreakProcess;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            shouldBreakProcess = this.shapeModifiers[i3].processShapes(this._isFirstFrame);
            if (shouldBreakProcess) {
              break;
            }
          }
        },
        searchProcessedElement: function(elem2) {
          var elements = this.processedElements;
          var i3 = 0;
          var len = elements.length;
          while (i3 < len) {
            if (elements[i3].elem === elem2) {
              return elements[i3].pos;
            }
            i3 += 1;
          }
          return 0;
        },
        addProcessedElement: function(elem2, pos) {
          var elements = this.processedElements;
          var i3 = elements.length;
          while (i3) {
            i3 -= 1;
            if (elements[i3].elem === elem2) {
              elements[i3].pos = pos;
              return;
            }
          }
          elements.push(new ProcessedElement2(elem2, pos));
        },
        prepareFrame: function(num) {
          this.prepareRenderableFrame(num);
          this.prepareProperties(num, this.isInRange);
        }
      };
      function ITextElement2() {
      }
      ITextElement2.prototype.initElement = function(data2, globalData2, comp2) {
        this.lettersChangedFlag = true;
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.textProperty = new TextProperty2(this, data2.t, this.dynamicProperties);
        this.textAnimator = new TextAnimatorProperty2(data2.t, this.renderType, this);
        this.initTransform(data2, globalData2, comp2);
        this.initHierarchy();
        this.initRenderable();
        this.initRendererElement();
        this.createContainerElements();
        this.createRenderableComponents();
        this.createContent();
        this.hide();
        this.textAnimator.searchProperties(this.dynamicProperties);
      };
      ITextElement2.prototype.prepareFrame = function(num) {
        this._mdf = false;
        this.prepareRenderableFrame(num);
        this.prepareProperties(num, this.isInRange);
        if (this.textProperty._mdf || this.textProperty._isFirstFrame) {
          this.buildNewText();
          this.textProperty._isFirstFrame = false;
          this.textProperty._mdf = false;
        }
      };
      ITextElement2.prototype.createPathShape = function(matrixHelper, shapes) {
        var j4;
        var jLen = shapes.length;
        var pathNodes;
        var shapeStr = "";
        for (j4 = 0; j4 < jLen; j4 += 1) {
          pathNodes = shapes[j4].ks.k;
          shapeStr += buildShapeString2(pathNodes, pathNodes.i.length, true, matrixHelper);
        }
        return shapeStr;
      };
      ITextElement2.prototype.updateDocumentData = function(newData, index3) {
        this.textProperty.updateDocumentData(newData, index3);
      };
      ITextElement2.prototype.canResizeFont = function(_canResize) {
        this.textProperty.canResizeFont(_canResize);
      };
      ITextElement2.prototype.setMinimumFontSize = function(_fontSize) {
        this.textProperty.setMinimumFontSize(_fontSize);
      };
      ITextElement2.prototype.applyTextPropertiesToMatrix = function(documentData, matrixHelper, lineNumber, xPos, yPos) {
        if (documentData.ps) {
          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);
        }
        matrixHelper.translate(0, -documentData.ls, 0);
        switch (documentData.j) {
          case 1:
            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);
            break;
          case 2:
            matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);
            break;
          default:
            break;
        }
        matrixHelper.translate(xPos, yPos, 0);
      };
      ITextElement2.prototype.buildColor = function(colorData) {
        return "rgb(" + Math.round(colorData[0] * 255) + "," + Math.round(colorData[1] * 255) + "," + Math.round(colorData[2] * 255) + ")";
      };
      ITextElement2.prototype.emptyProp = new LetterProps2();
      ITextElement2.prototype.destroy = function() {
      };
      function ICompElement2() {
      }
      extendPrototype2([BaseElement2, TransformElement2, HierarchyElement2, FrameElement2, RenderableDOMElement2], ICompElement2);
      ICompElement2.prototype.initElement = function(data2, globalData2, comp2) {
        this.initFrame();
        this.initBaseData(data2, globalData2, comp2);
        this.initTransform(data2, globalData2, comp2);
        this.initRenderable();
        this.initHierarchy();
        this.initRendererElement();
        this.createContainerElements();
        this.createRenderableComponents();
        if (this.data.xt || !globalData2.progressiveLoad) {
          this.buildAllItems();
        }
        this.hide();
      };
      ICompElement2.prototype.prepareFrame = function(num) {
        this._mdf = false;
        this.prepareRenderableFrame(num);
        this.prepareProperties(num, this.isInRange);
        if (!this.isInRange && !this.data.xt) {
          return;
        }
        if (!this.tm._placeholder) {
          var timeRemapped = this.tm.v;
          if (timeRemapped === this.data.op) {
            timeRemapped = this.data.op - 1;
          }
          this.renderedFrame = timeRemapped;
        } else {
          this.renderedFrame = num / this.data.sr;
        }
        var i3;
        var len = this.elements.length;
        if (!this.completeLayers) {
          this.checkLayers(this.renderedFrame);
        }
        for (i3 = len - 1; i3 >= 0; i3 -= 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].prepareFrame(this.renderedFrame - this.layers[i3].st);
            if (this.elements[i3]._mdf) {
              this._mdf = true;
            }
          }
        }
      };
      ICompElement2.prototype.renderInnerContent = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.completeLayers || this.elements[i3]) {
            this.elements[i3].renderFrame();
          }
        }
      };
      ICompElement2.prototype.setElements = function(elems) {
        this.elements = elems;
      };
      ICompElement2.prototype.getElements = function() {
        return this.elements;
      };
      ICompElement2.prototype.destroyElements = function() {
        var i3;
        var len = this.layers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.elements[i3]) {
            this.elements[i3].destroy();
          }
        }
      };
      ICompElement2.prototype.destroy = function() {
        this.destroyElements();
        this.destroyBaseElement();
      };
      function IImageElement2(data2, globalData2, comp2) {
        this.assetData = globalData2.getAssetData(data2.refId);
        this.initElement(data2, globalData2, comp2);
        this.sourceRect = {
          top: 0,
          left: 0,
          width: this.assetData.w,
          height: this.assetData.h
        };
      }
      extendPrototype2([BaseElement2, TransformElement2, SVGBaseElement2, HierarchyElement2, FrameElement2, RenderableDOMElement2], IImageElement2);
      IImageElement2.prototype.createContent = function() {
        var assetPath = this.globalData.getAssetsPath(this.assetData);
        this.innerElem = createNS2("image");
        this.innerElem.setAttribute("width", this.assetData.w + "px");
        this.innerElem.setAttribute("height", this.assetData.h + "px");
        this.innerElem.setAttribute("preserveAspectRatio", this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);
        this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink", "href", assetPath);
        this.layerElement.appendChild(this.innerElem);
      };
      IImageElement2.prototype.sourceRectAtTime = function() {
        return this.sourceRect;
      };
      function ISolidElement2(data2, globalData2, comp2) {
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype2([IImageElement2], ISolidElement2);
      ISolidElement2.prototype.createContent = function() {
        var rect = createNS2("rect");
        rect.setAttribute("width", this.data.sw);
        rect.setAttribute("height", this.data.sh);
        rect.setAttribute("fill", this.data.sc);
        this.layerElement.appendChild(rect);
      };
      function AudioElement2(data2, globalData2, comp2) {
        this.initFrame();
        this.initRenderable();
        this.assetData = globalData2.getAssetData(data2.refId);
        this.initBaseData(data2, globalData2, comp2);
        this._isPlaying = false;
        this._canPlay = false;
        var assetPath = this.globalData.getAssetsPath(this.assetData);
        this.audio = this.globalData.audioController.createAudio(assetPath);
        this._currentTime = 0;
        this.globalData.audioController.addAudio(this);
        this.tm = data2.tm ? PropertyFactory2.getProp(this, data2.tm, 0, globalData2.frameRate, this) : { _placeholder: true };
      }
      AudioElement2.prototype.prepareFrame = function(num) {
        this.prepareRenderableFrame(num, true);
        this.prepareProperties(num, true);
        if (!this.tm._placeholder) {
          var timeRemapped = this.tm.v;
          this._currentTime = timeRemapped;
        } else {
          this._currentTime = num / this.data.sr;
        }
      };
      extendPrototype2([RenderableElement2, BaseElement2, FrameElement2], AudioElement2);
      AudioElement2.prototype.renderFrame = function() {
        if (this.isInRange && this._canPlay) {
          if (!this._isPlaying) {
            this.audio.play();
            this.audio.seek(this._currentTime / this.globalData.frameRate);
            this._isPlaying = true;
          } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {
            this.audio.seek(this._currentTime / this.globalData.frameRate);
          }
        }
      };
      AudioElement2.prototype.show = function() {
      };
      AudioElement2.prototype.hide = function() {
        this.audio.pause();
        this._isPlaying = false;
      };
      AudioElement2.prototype.pause = function() {
        this.audio.pause();
        this._isPlaying = false;
        this._canPlay = false;
      };
      AudioElement2.prototype.resume = function() {
        this._canPlay = true;
      };
      AudioElement2.prototype.setRate = function(rateValue) {
        this.audio.rate(rateValue);
      };
      AudioElement2.prototype.volume = function(volumeValue) {
        this.audio.volume(volumeValue);
      };
      AudioElement2.prototype.getBaseElement = function() {
        return null;
      };
      AudioElement2.prototype.destroy = function() {
      };
      AudioElement2.prototype.sourceRectAtTime = function() {
      };
      AudioElement2.prototype.initExpressions = function() {
      };
      function SVGCompElement2(data2, globalData2, comp2) {
        this.layers = data2.layers;
        this.supports3d = true;
        this.completeLayers = false;
        this.pendingElements = [];
        this.elements = this.layers ? createSizedArray2(this.layers.length) : [];
        this.initElement(data2, globalData2, comp2);
        this.tm = data2.tm ? PropertyFactory2.getProp(this, data2.tm, 0, globalData2.frameRate, this) : { _placeholder: true };
      }
      extendPrototype2([SVGRenderer2, ICompElement2, SVGBaseElement2], SVGCompElement2);
      function SVGTextLottieElement2(data2, globalData2, comp2) {
        this.textSpans = [];
        this.renderType = "svg";
        this.initElement(data2, globalData2, comp2);
      }
      extendPrototype2([BaseElement2, TransformElement2, SVGBaseElement2, HierarchyElement2, FrameElement2, RenderableDOMElement2, ITextElement2], SVGTextLottieElement2);
      SVGTextLottieElement2.prototype.createContent = function() {
        if (this.data.singleShape && !this.globalData.fontManager.chars) {
          this.textContainer = createNS2("text");
        }
      };
      SVGTextLottieElement2.prototype.buildTextContents = function(textArray) {
        var i3 = 0;
        var len = textArray.length;
        var textContents = [];
        var currentTextContent = "";
        while (i3 < len) {
          if (textArray[i3] === String.fromCharCode(13) || textArray[i3] === String.fromCharCode(3)) {
            textContents.push(currentTextContent);
            currentTextContent = "";
          } else {
            currentTextContent += textArray[i3];
          }
          i3 += 1;
        }
        textContents.push(currentTextContent);
        return textContents;
      };
      SVGTextLottieElement2.prototype.buildNewText = function() {
        var i3;
        var len;
        var documentData = this.textProperty.currentData;
        this.renderedLetters = createSizedArray2(documentData ? documentData.l.length : 0);
        if (documentData.fc) {
          this.layerElement.setAttribute("fill", this.buildColor(documentData.fc));
        } else {
          this.layerElement.setAttribute("fill", "rgba(0,0,0,0)");
        }
        if (documentData.sc) {
          this.layerElement.setAttribute("stroke", this.buildColor(documentData.sc));
          this.layerElement.setAttribute("stroke-width", documentData.sw);
        }
        this.layerElement.setAttribute("font-size", documentData.finalSize);
        var fontData = this.globalData.fontManager.getFontByName(documentData.f);
        if (fontData.fClass) {
          this.layerElement.setAttribute("class", fontData.fClass);
        } else {
          this.layerElement.setAttribute("font-family", fontData.fFamily);
          var fWeight = documentData.fWeight;
          var fStyle = documentData.fStyle;
          this.layerElement.setAttribute("font-style", fStyle);
          this.layerElement.setAttribute("font-weight", fWeight);
        }
        this.layerElement.setAttribute("aria-label", documentData.t);
        var letters = documentData.l || [];
        var usesGlyphs = !!this.globalData.fontManager.chars;
        len = letters.length;
        var tSpan;
        var matrixHelper = this.mHelper;
        var shapes;
        var shapeStr = "";
        var singleShape = this.data.singleShape;
        var xPos = 0;
        var yPos = 0;
        var firstLine = true;
        var trackingOffset = documentData.tr * 1e-3 * documentData.finalSize;
        if (singleShape && !usesGlyphs && !documentData.sz) {
          var tElement = this.textContainer;
          var justify = "start";
          switch (documentData.j) {
            case 1:
              justify = "end";
              break;
            case 2:
              justify = "middle";
              break;
            default:
              justify = "start";
              break;
          }
          tElement.setAttribute("text-anchor", justify);
          tElement.setAttribute("letter-spacing", trackingOffset);
          var textContent = this.buildTextContents(documentData.finalText);
          len = textContent.length;
          yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            tSpan = this.textSpans[i3] || createNS2("tspan");
            tSpan.textContent = textContent[i3];
            tSpan.setAttribute("x", 0);
            tSpan.setAttribute("y", yPos);
            tSpan.style.display = "inherit";
            tElement.appendChild(tSpan);
            this.textSpans[i3] = tSpan;
            yPos += documentData.finalLineHeight;
          }
          this.layerElement.appendChild(tElement);
        } else {
          var cachedSpansLength = this.textSpans.length;
          var shapeData;
          var charData;
          for (i3 = 0; i3 < len; i3 += 1) {
            if (!usesGlyphs || !singleShape || i3 === 0) {
              tSpan = cachedSpansLength > i3 ? this.textSpans[i3] : createNS2(usesGlyphs ? "path" : "text");
              if (cachedSpansLength <= i3) {
                tSpan.setAttribute("stroke-linecap", "butt");
                tSpan.setAttribute("stroke-linejoin", "round");
                tSpan.setAttribute("stroke-miterlimit", "4");
                this.textSpans[i3] = tSpan;
                this.layerElement.appendChild(tSpan);
              }
              tSpan.style.display = "inherit";
            }
            matrixHelper.reset();
            matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);
            if (singleShape) {
              if (letters[i3].n) {
                xPos = -trackingOffset;
                yPos += documentData.yOffset;
                yPos += firstLine ? 1 : 0;
                firstLine = false;
              }
              this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i3].line, xPos, yPos);
              xPos += letters[i3].l || 0;
              xPos += trackingOffset;
            }
            if (usesGlyphs) {
              charData = this.globalData.fontManager.getCharData(documentData.finalText[i3], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);
              shapeData = charData && charData.data || {};
              shapes = shapeData.shapes ? shapeData.shapes[0].it : [];
              if (!singleShape) {
                tSpan.setAttribute("d", this.createPathShape(matrixHelper, shapes));
              } else {
                shapeStr += this.createPathShape(matrixHelper, shapes);
              }
            } else {
              if (singleShape) {
                tSpan.setAttribute("transform", "translate(" + matrixHelper.props[12] + "," + matrixHelper.props[13] + ")");
              }
              tSpan.textContent = letters[i3].val;
              tSpan.setAttributeNS("http://www.w3.org/XML/1998/namespace", "xml:space", "preserve");
            }
          }
          if (singleShape && tSpan) {
            tSpan.setAttribute("d", shapeStr);
          }
        }
        while (i3 < this.textSpans.length) {
          this.textSpans[i3].style.display = "none";
          i3 += 1;
        }
        this._sizeChanged = true;
      };
      SVGTextLottieElement2.prototype.sourceRectAtTime = function() {
        this.prepareFrame(this.comp.renderedFrame - this.data.st);
        this.renderInnerContent();
        if (this._sizeChanged) {
          this._sizeChanged = false;
          var textBox = this.layerElement.getBBox();
          this.bbox = {
            top: textBox.y,
            left: textBox.x,
            width: textBox.width,
            height: textBox.height
          };
        }
        return this.bbox;
      };
      SVGTextLottieElement2.prototype.renderInnerContent = function() {
        if (!this.data.singleShape) {
          this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);
          if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {
            this._sizeChanged = true;
            var i3;
            var len;
            var renderedLetters = this.textAnimator.renderedLetters;
            var letters = this.textProperty.currentData.l;
            len = letters.length;
            var renderedLetter;
            var textSpan;
            for (i3 = 0; i3 < len; i3 += 1) {
              if (!letters[i3].n) {
                renderedLetter = renderedLetters[i3];
                textSpan = this.textSpans[i3];
                if (renderedLetter._mdf.m) {
                  textSpan.setAttribute("transform", renderedLetter.m);
                }
                if (renderedLetter._mdf.o) {
                  textSpan.setAttribute("opacity", renderedLetter.o);
                }
                if (renderedLetter._mdf.sw) {
                  textSpan.setAttribute("stroke-width", renderedLetter.sw);
                }
                if (renderedLetter._mdf.sc) {
                  textSpan.setAttribute("stroke", renderedLetter.sc);
                }
                if (renderedLetter._mdf.fc) {
                  textSpan.setAttribute("fill", renderedLetter.fc);
                }
              }
            }
          }
        }
      };
      function SVGShapeElement2(data2, globalData2, comp2) {
        this.shapes = [];
        this.shapesData = data2.shapes;
        this.stylesList = [];
        this.shapeModifiers = [];
        this.itemsData = [];
        this.processedElements = [];
        this.animatedContents = [];
        this.initElement(data2, globalData2, comp2);
        this.prevViewData = [];
      }
      extendPrototype2([BaseElement2, TransformElement2, SVGBaseElement2, IShapeElement2, HierarchyElement2, FrameElement2, RenderableDOMElement2], SVGShapeElement2);
      SVGShapeElement2.prototype.initSecondaryElement = function() {
      };
      SVGShapeElement2.prototype.identityMatrix = new Matrix2();
      SVGShapeElement2.prototype.buildExpressionInterface = function() {
      };
      SVGShapeElement2.prototype.createContent = function() {
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);
        this.filterUniqueShapes();
      };
      SVGShapeElement2.prototype.filterUniqueShapes = function() {
        var i3;
        var len = this.shapes.length;
        var shape;
        var j4;
        var jLen = this.stylesList.length;
        var style;
        var tempShapes = [];
        var areAnimated = false;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          style = this.stylesList[j4];
          areAnimated = false;
          tempShapes.length = 0;
          for (i3 = 0; i3 < len; i3 += 1) {
            shape = this.shapes[i3];
            if (shape.styles.indexOf(style) !== -1) {
              tempShapes.push(shape);
              areAnimated = shape._isAnimated || areAnimated;
            }
          }
          if (tempShapes.length > 1 && areAnimated) {
            this.setShapesAsAnimated(tempShapes);
          }
        }
      };
      SVGShapeElement2.prototype.setShapesAsAnimated = function(shapes) {
        var i3;
        var len = shapes.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          shapes[i3].setAsAnimated();
        }
      };
      SVGShapeElement2.prototype.createStyleElement = function(data2, level) {
        var elementData;
        var styleOb = new SVGStyleData2(data2, level);
        var pathElement = styleOb.pElem;
        if (data2.ty === "st") {
          elementData = new SVGStrokeStyleData2(this, data2, styleOb);
        } else if (data2.ty === "fl") {
          elementData = new SVGFillStyleData2(this, data2, styleOb);
        } else if (data2.ty === "gf" || data2.ty === "gs") {
          var GradientConstructor = data2.ty === "gf" ? SVGGradientFillStyleData2 : SVGGradientStrokeStyleData2;
          elementData = new GradientConstructor(this, data2, styleOb);
          this.globalData.defs.appendChild(elementData.gf);
          if (elementData.maskId) {
            this.globalData.defs.appendChild(elementData.ms);
            this.globalData.defs.appendChild(elementData.of);
            pathElement.setAttribute("mask", "url(" + locationHref2 + "#" + elementData.maskId + ")");
          }
        }
        if (data2.ty === "st" || data2.ty === "gs") {
          pathElement.setAttribute("stroke-linecap", lineCapEnum2[data2.lc || 2]);
          pathElement.setAttribute("stroke-linejoin", lineJoinEnum2[data2.lj || 2]);
          pathElement.setAttribute("fill-opacity", "0");
          if (data2.lj === 1) {
            pathElement.setAttribute("stroke-miterlimit", data2.ml);
          }
        }
        if (data2.r === 2) {
          pathElement.setAttribute("fill-rule", "evenodd");
        }
        if (data2.ln) {
          pathElement.setAttribute("id", data2.ln);
        }
        if (data2.cl) {
          pathElement.setAttribute("class", data2.cl);
        }
        if (data2.bm) {
          pathElement.style["mix-blend-mode"] = getBlendMode2(data2.bm);
        }
        this.stylesList.push(styleOb);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement2.prototype.createGroupElement = function(data2) {
        var elementData = new ShapeGroupData2();
        if (data2.ln) {
          elementData.gr.setAttribute("id", data2.ln);
        }
        if (data2.cl) {
          elementData.gr.setAttribute("class", data2.cl);
        }
        if (data2.bm) {
          elementData.gr.style["mix-blend-mode"] = getBlendMode2(data2.bm);
        }
        return elementData;
      };
      SVGShapeElement2.prototype.createTransformElement = function(data2, container) {
        var transformProperty = TransformPropertyFactory2.getTransformProperty(this, data2, this);
        var elementData = new SVGTransformData2(transformProperty, transformProperty.o, container);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement2.prototype.createShapeElement = function(data2, ownTransformers, level) {
        var ty = 4;
        if (data2.ty === "rc") {
          ty = 5;
        } else if (data2.ty === "el") {
          ty = 6;
        } else if (data2.ty === "sr") {
          ty = 7;
        }
        var shapeProperty = ShapePropertyFactory2.getShapeProp(this, data2, ty, this);
        var elementData = new SVGShapeData2(ownTransformers, level, shapeProperty);
        this.shapes.push(elementData);
        this.addShapeToModifiers(elementData);
        this.addToAnimatedContents(data2, elementData);
        return elementData;
      };
      SVGShapeElement2.prototype.addToAnimatedContents = function(data2, element) {
        var i3 = 0;
        var len = this.animatedContents.length;
        while (i3 < len) {
          if (this.animatedContents[i3].element === element) {
            return;
          }
          i3 += 1;
        }
        this.animatedContents.push({
          fn: SVGElementsRenderer2.createRenderFunction(data2),
          element,
          data: data2
        });
      };
      SVGShapeElement2.prototype.setElementStyles = function(elementData) {
        var arr = elementData.styles;
        var j4;
        var jLen = this.stylesList.length;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          if (!this.stylesList[j4].closed) {
            arr.push(this.stylesList[j4]);
          }
        }
      };
      SVGShapeElement2.prototype.reloadShapes = function() {
        this._isFirstFrame = true;
        var i3;
        var len = this.itemsData.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.prevViewData[i3] = this.itemsData[i3];
        }
        this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);
        this.filterUniqueShapes();
        len = this.dynamicProperties.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.dynamicProperties[i3].getValue();
        }
        this.renderModifiers();
      };
      SVGShapeElement2.prototype.searchShapes = function(arr, itemsData, prevViewData, container, level, transformers, render) {
        var ownTransformers = [].concat(transformers);
        var i3;
        var len = arr.length - 1;
        var j4;
        var jLen;
        var ownStyles = [];
        var ownModifiers = [];
        var currentTransform;
        var modifier;
        var processedPos;
        for (i3 = len; i3 >= 0; i3 -= 1) {
          processedPos = this.searchProcessedElement(arr[i3]);
          if (!processedPos) {
            arr[i3]._render = render;
          } else {
            itemsData[i3] = prevViewData[processedPos - 1];
          }
          if (arr[i3].ty === "fl" || arr[i3].ty === "st" || arr[i3].ty === "gf" || arr[i3].ty === "gs") {
            if (!processedPos) {
              itemsData[i3] = this.createStyleElement(arr[i3], level);
            } else {
              itemsData[i3].style.closed = false;
            }
            if (arr[i3]._render) {
              if (itemsData[i3].style.pElem.parentNode !== container) {
                container.appendChild(itemsData[i3].style.pElem);
              }
            }
            ownStyles.push(itemsData[i3].style);
          } else if (arr[i3].ty === "gr") {
            if (!processedPos) {
              itemsData[i3] = this.createGroupElement(arr[i3]);
            } else {
              jLen = itemsData[i3].it.length;
              for (j4 = 0; j4 < jLen; j4 += 1) {
                itemsData[i3].prevViewData[j4] = itemsData[i3].it[j4];
              }
            }
            this.searchShapes(arr[i3].it, itemsData[i3].it, itemsData[i3].prevViewData, itemsData[i3].gr, level + 1, ownTransformers, render);
            if (arr[i3]._render) {
              if (itemsData[i3].gr.parentNode !== container) {
                container.appendChild(itemsData[i3].gr);
              }
            }
          } else if (arr[i3].ty === "tr") {
            if (!processedPos) {
              itemsData[i3] = this.createTransformElement(arr[i3], container);
            }
            currentTransform = itemsData[i3].transform;
            ownTransformers.push(currentTransform);
          } else if (arr[i3].ty === "sh" || arr[i3].ty === "rc" || arr[i3].ty === "el" || arr[i3].ty === "sr") {
            if (!processedPos) {
              itemsData[i3] = this.createShapeElement(arr[i3], ownTransformers, level);
            }
            this.setElementStyles(itemsData[i3]);
          } else if (arr[i3].ty === "tm" || arr[i3].ty === "rd" || arr[i3].ty === "ms" || arr[i3].ty === "pb") {
            if (!processedPos) {
              modifier = ShapeModifiers2.getModifier(arr[i3].ty);
              modifier.init(this, arr[i3]);
              itemsData[i3] = modifier;
              this.shapeModifiers.push(modifier);
            } else {
              modifier = itemsData[i3];
              modifier.closed = false;
            }
            ownModifiers.push(modifier);
          } else if (arr[i3].ty === "rp") {
            if (!processedPos) {
              modifier = ShapeModifiers2.getModifier(arr[i3].ty);
              itemsData[i3] = modifier;
              modifier.init(this, arr, i3, itemsData);
              this.shapeModifiers.push(modifier);
              render = false;
            } else {
              modifier = itemsData[i3];
              modifier.closed = true;
            }
            ownModifiers.push(modifier);
          }
          this.addProcessedElement(arr[i3], i3 + 1);
        }
        len = ownStyles.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          ownStyles[i3].closed = true;
        }
        len = ownModifiers.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          ownModifiers[i3].closed = true;
        }
      };
      SVGShapeElement2.prototype.renderInnerContent = function() {
        this.renderModifiers();
        var i3;
        var len = this.stylesList.length;
        for (i3 = 0; i3 < len; i3 += 1) {
          this.stylesList[i3].reset();
        }
        this.renderShape();
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.stylesList[i3]._mdf || this._isFirstFrame) {
            if (this.stylesList[i3].msElem) {
              this.stylesList[i3].msElem.setAttribute("d", this.stylesList[i3].d);
              this.stylesList[i3].d = "M0 0" + this.stylesList[i3].d;
            }
            this.stylesList[i3].pElem.setAttribute("d", this.stylesList[i3].d || "M0 0");
          }
        }
      };
      SVGShapeElement2.prototype.renderShape = function() {
        var i3;
        var len = this.animatedContents.length;
        var animatedContent;
        for (i3 = 0; i3 < len; i3 += 1) {
          animatedContent = this.animatedContents[i3];
          if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {
            animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);
          }
        }
      };
      SVGShapeElement2.prototype.destroy = function() {
        this.destroyBaseElement();
        this.shapesData = null;
        this.itemsData = null;
      };
      function SVGTintFilter2(filter, filterManager) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS2("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "linearRGB");
        feColorMatrix.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0");
        feColorMatrix.setAttribute("result", "f1");
        filter.appendChild(feColorMatrix);
        feColorMatrix = createNS2("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
        feColorMatrix.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0");
        feColorMatrix.setAttribute("result", "f2");
        filter.appendChild(feColorMatrix);
        this.matrixFilter = feColorMatrix;
        if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {
          var feMerge = createNS2("feMerge");
          filter.appendChild(feMerge);
          var feMergeNode;
          feMergeNode = createNS2("feMergeNode");
          feMergeNode.setAttribute("in", "SourceGraphic");
          feMerge.appendChild(feMergeNode);
          feMergeNode = createNS2("feMergeNode");
          feMergeNode.setAttribute("in", "f2");
          feMerge.appendChild(feMergeNode);
        }
      }
      SVGTintFilter2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var colorBlack = this.filterManager.effectElements[0].p.v;
          var colorWhite = this.filterManager.effectElements[1].p.v;
          var opacity = this.filterManager.effectElements[2].p.v / 100;
          this.matrixFilter.setAttribute("values", colorWhite[0] - colorBlack[0] + " 0 0 0 " + colorBlack[0] + " " + (colorWhite[1] - colorBlack[1]) + " 0 0 0 " + colorBlack[1] + " " + (colorWhite[2] - colorBlack[2]) + " 0 0 0 " + colorBlack[2] + " 0 0 0 " + opacity + " 0");
        }
      };
      function SVGFillFilter2(filter, filterManager) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS2("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "sRGB");
        feColorMatrix.setAttribute("values", "1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0");
        filter.appendChild(feColorMatrix);
        this.matrixFilter = feColorMatrix;
      }
      SVGFillFilter2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var color = this.filterManager.effectElements[2].p.v;
          var opacity = this.filterManager.effectElements[6].p.v;
          this.matrixFilter.setAttribute("values", "0 0 0 0 " + color[0] + " 0 0 0 0 " + color[1] + " 0 0 0 0 " + color[2] + " 0 0 0 " + opacity + " 0");
        }
      };
      function SVGGaussianBlurEffect2(filter, filterManager) {
        filter.setAttribute("x", "-100%");
        filter.setAttribute("y", "-100%");
        filter.setAttribute("width", "300%");
        filter.setAttribute("height", "300%");
        this.filterManager = filterManager;
        var feGaussianBlur = createNS2("feGaussianBlur");
        filter.appendChild(feGaussianBlur);
        this.feGaussianBlur = feGaussianBlur;
      }
      SVGGaussianBlurEffect2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var kBlurrinessToSigma = 0.3;
          var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;
          var dimensions = this.filterManager.effectElements[1].p.v;
          var sigmaX = dimensions == 3 ? 0 : sigma;
          var sigmaY = dimensions == 2 ? 0 : sigma;
          this.feGaussianBlur.setAttribute("stdDeviation", sigmaX + " " + sigmaY);
          var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? "wrap" : "duplicate";
          this.feGaussianBlur.setAttribute("edgeMode", edgeMode);
        }
      };
      function SVGStrokeEffect2(elem2, filterManager) {
        this.initialized = false;
        this.filterManager = filterManager;
        this.elem = elem2;
        this.paths = [];
      }
      SVGStrokeEffect2.prototype.initialize = function() {
        var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;
        var path;
        var groupPath;
        var i3;
        var len;
        if (this.filterManager.effectElements[1].p.v === 1) {
          len = this.elem.maskManager.masksProperties.length;
          i3 = 0;
        } else {
          i3 = this.filterManager.effectElements[0].p.v - 1;
          len = i3 + 1;
        }
        groupPath = createNS2("g");
        groupPath.setAttribute("fill", "none");
        groupPath.setAttribute("stroke-linecap", "round");
        groupPath.setAttribute("stroke-dashoffset", 1);
        for (i3; i3 < len; i3 += 1) {
          path = createNS2("path");
          groupPath.appendChild(path);
          this.paths.push({ p: path, m: i3 });
        }
        if (this.filterManager.effectElements[10].p.v === 3) {
          var mask2 = createNS2("mask");
          var id = createElementID2();
          mask2.setAttribute("id", id);
          mask2.setAttribute("mask-type", "alpha");
          mask2.appendChild(groupPath);
          this.elem.globalData.defs.appendChild(mask2);
          var g5 = createNS2("g");
          g5.setAttribute("mask", "url(" + locationHref2 + "#" + id + ")");
          while (elemChildren[0]) {
            g5.appendChild(elemChildren[0]);
          }
          this.elem.layerElement.appendChild(g5);
          this.masker = mask2;
          groupPath.setAttribute("stroke", "#fff");
        } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {
          if (this.filterManager.effectElements[10].p.v === 2) {
            elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;
            while (elemChildren.length) {
              this.elem.layerElement.removeChild(elemChildren[0]);
            }
          }
          this.elem.layerElement.appendChild(groupPath);
          this.elem.layerElement.removeAttribute("mask");
          groupPath.setAttribute("stroke", "#fff");
        }
        this.initialized = true;
        this.pathMasker = groupPath;
      };
      SVGStrokeEffect2.prototype.renderFrame = function(forceRender) {
        if (!this.initialized) {
          this.initialize();
        }
        var i3;
        var len = this.paths.length;
        var mask2;
        var path;
        for (i3 = 0; i3 < len; i3 += 1) {
          if (this.paths[i3].m !== -1) {
            mask2 = this.elem.maskManager.viewData[this.paths[i3].m];
            path = this.paths[i3].p;
            if (forceRender || this.filterManager._mdf || mask2.prop._mdf) {
              path.setAttribute("d", mask2.lastPath);
            }
            if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask2.prop._mdf) {
              var dasharrayValue;
              if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {
                var s2 = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;
                var e2 = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;
                var l4 = path.getTotalLength();
                dasharrayValue = "0 0 0 " + l4 * s2 + " ";
                var lineLength = l4 * (e2 - s2);
                var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;
                var units = Math.floor(lineLength / segment);
                var j4;
                for (j4 = 0; j4 < units; j4 += 1) {
                  dasharrayValue += "1 " + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + " ";
                }
                dasharrayValue += "0 " + l4 * 10 + " 0 0";
              } else {
                dasharrayValue = "1 " + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;
              }
              path.setAttribute("stroke-dasharray", dasharrayValue);
            }
          }
        }
        if (forceRender || this.filterManager.effectElements[4].p._mdf) {
          this.pathMasker.setAttribute("stroke-width", this.filterManager.effectElements[4].p.v * 2);
        }
        if (forceRender || this.filterManager.effectElements[6].p._mdf) {
          this.pathMasker.setAttribute("opacity", this.filterManager.effectElements[6].p.v);
        }
        if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {
          if (forceRender || this.filterManager.effectElements[3].p._mdf) {
            var color = this.filterManager.effectElements[3].p.v;
            this.pathMasker.setAttribute("stroke", "rgb(" + bmFloor2(color[0] * 255) + "," + bmFloor2(color[1] * 255) + "," + bmFloor2(color[2] * 255) + ")");
          }
        }
      };
      function SVGTritoneFilter2(filter, filterManager) {
        this.filterManager = filterManager;
        var feColorMatrix = createNS2("feColorMatrix");
        feColorMatrix.setAttribute("type", "matrix");
        feColorMatrix.setAttribute("color-interpolation-filters", "linearRGB");
        feColorMatrix.setAttribute("values", "0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0");
        feColorMatrix.setAttribute("result", "f1");
        filter.appendChild(feColorMatrix);
        var feComponentTransfer = createNS2("feComponentTransfer");
        feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
        filter.appendChild(feComponentTransfer);
        this.matrixFilter = feComponentTransfer;
        var feFuncR = createNS2("feFuncR");
        feFuncR.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncR);
        this.feFuncR = feFuncR;
        var feFuncG = createNS2("feFuncG");
        feFuncG.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncG);
        this.feFuncG = feFuncG;
        var feFuncB = createNS2("feFuncB");
        feFuncB.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFuncB);
        this.feFuncB = feFuncB;
      }
      SVGTritoneFilter2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var color1 = this.filterManager.effectElements[0].p.v;
          var color2 = this.filterManager.effectElements[1].p.v;
          var color3 = this.filterManager.effectElements[2].p.v;
          var tableR = color3[0] + " " + color2[0] + " " + color1[0];
          var tableG = color3[1] + " " + color2[1] + " " + color1[1];
          var tableB = color3[2] + " " + color2[2] + " " + color1[2];
          this.feFuncR.setAttribute("tableValues", tableR);
          this.feFuncG.setAttribute("tableValues", tableG);
          this.feFuncB.setAttribute("tableValues", tableB);
        }
      };
      function SVGProLevelsFilter2(filter, filterManager) {
        this.filterManager = filterManager;
        var effectElements = this.filterManager.effectElements;
        var feComponentTransfer = createNS2("feComponentTransfer");
        if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {
          this.feFuncR = this.createFeFunc("feFuncR", feComponentTransfer);
        }
        if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {
          this.feFuncG = this.createFeFunc("feFuncG", feComponentTransfer);
        }
        if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {
          this.feFuncB = this.createFeFunc("feFuncB", feComponentTransfer);
        }
        if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {
          this.feFuncA = this.createFeFunc("feFuncA", feComponentTransfer);
        }
        if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {
          feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
          filter.appendChild(feComponentTransfer);
          feComponentTransfer = createNS2("feComponentTransfer");
        }
        if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {
          feComponentTransfer.setAttribute("color-interpolation-filters", "sRGB");
          filter.appendChild(feComponentTransfer);
          this.feFuncRComposed = this.createFeFunc("feFuncR", feComponentTransfer);
          this.feFuncGComposed = this.createFeFunc("feFuncG", feComponentTransfer);
          this.feFuncBComposed = this.createFeFunc("feFuncB", feComponentTransfer);
        }
      }
      SVGProLevelsFilter2.prototype.createFeFunc = function(type, feComponentTransfer) {
        var feFunc = createNS2(type);
        feFunc.setAttribute("type", "table");
        feComponentTransfer.appendChild(feFunc);
        return feFunc;
      };
      SVGProLevelsFilter2.prototype.getTableValue = function(inputBlack, inputWhite, gamma, outputBlack, outputWhite) {
        var cnt = 0;
        var segments = 256;
        var perc;
        var min = Math.min(inputBlack, inputWhite);
        var max = Math.max(inputBlack, inputWhite);
        var table = Array.call(null, { length: segments });
        var colorValue;
        var pos = 0;
        var outputDelta = outputWhite - outputBlack;
        var inputDelta = inputWhite - inputBlack;
        while (cnt <= 256) {
          perc = cnt / 256;
          if (perc <= min) {
            colorValue = inputDelta < 0 ? outputWhite : outputBlack;
          } else if (perc >= max) {
            colorValue = inputDelta < 0 ? outputBlack : outputWhite;
          } else {
            colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);
          }
          table[pos] = colorValue;
          pos += 1;
          cnt += 256 / (segments - 1);
        }
        return table.join(" ");
      };
      SVGProLevelsFilter2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          var val2;
          var effectElements = this.filterManager.effectElements;
          if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {
            val2 = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);
            this.feFuncRComposed.setAttribute("tableValues", val2);
            this.feFuncGComposed.setAttribute("tableValues", val2);
            this.feFuncBComposed.setAttribute("tableValues", val2);
          }
          if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {
            val2 = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);
            this.feFuncR.setAttribute("tableValues", val2);
          }
          if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {
            val2 = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);
            this.feFuncG.setAttribute("tableValues", val2);
          }
          if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {
            val2 = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);
            this.feFuncB.setAttribute("tableValues", val2);
          }
          if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {
            val2 = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);
            this.feFuncA.setAttribute("tableValues", val2);
          }
        }
      };
      function SVGDropShadowEffect2(filter, filterManager) {
        var filterSize = filterManager.container.globalData.renderConfig.filterSize;
        filter.setAttribute("x", filterSize.x);
        filter.setAttribute("y", filterSize.y);
        filter.setAttribute("width", filterSize.width);
        filter.setAttribute("height", filterSize.height);
        this.filterManager = filterManager;
        var feGaussianBlur = createNS2("feGaussianBlur");
        feGaussianBlur.setAttribute("in", "SourceAlpha");
        feGaussianBlur.setAttribute("result", "drop_shadow_1");
        feGaussianBlur.setAttribute("stdDeviation", "0");
        this.feGaussianBlur = feGaussianBlur;
        filter.appendChild(feGaussianBlur);
        var feOffset = createNS2("feOffset");
        feOffset.setAttribute("dx", "25");
        feOffset.setAttribute("dy", "0");
        feOffset.setAttribute("in", "drop_shadow_1");
        feOffset.setAttribute("result", "drop_shadow_2");
        this.feOffset = feOffset;
        filter.appendChild(feOffset);
        var feFlood = createNS2("feFlood");
        feFlood.setAttribute("flood-color", "#00ff00");
        feFlood.setAttribute("flood-opacity", "1");
        feFlood.setAttribute("result", "drop_shadow_3");
        this.feFlood = feFlood;
        filter.appendChild(feFlood);
        var feComposite = createNS2("feComposite");
        feComposite.setAttribute("in", "drop_shadow_3");
        feComposite.setAttribute("in2", "drop_shadow_2");
        feComposite.setAttribute("operator", "in");
        feComposite.setAttribute("result", "drop_shadow_4");
        filter.appendChild(feComposite);
        var feMerge = createNS2("feMerge");
        filter.appendChild(feMerge);
        var feMergeNode;
        feMergeNode = createNS2("feMergeNode");
        feMerge.appendChild(feMergeNode);
        feMergeNode = createNS2("feMergeNode");
        feMergeNode.setAttribute("in", "SourceGraphic");
        this.feMergeNode = feMergeNode;
        this.feMerge = feMerge;
        this.originalNodeAdded = false;
        feMerge.appendChild(feMergeNode);
      }
      SVGDropShadowEffect2.prototype.renderFrame = function(forceRender) {
        if (forceRender || this.filterManager._mdf) {
          if (forceRender || this.filterManager.effectElements[4].p._mdf) {
            this.feGaussianBlur.setAttribute("stdDeviation", this.filterManager.effectElements[4].p.v / 4);
          }
          if (forceRender || this.filterManager.effectElements[0].p._mdf) {
            var col = this.filterManager.effectElements[0].p.v;
            this.feFlood.setAttribute("flood-color", rgbToHex2(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));
          }
          if (forceRender || this.filterManager.effectElements[1].p._mdf) {
            this.feFlood.setAttribute("flood-opacity", this.filterManager.effectElements[1].p.v / 255);
          }
          if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {
            var distance = this.filterManager.effectElements[3].p.v;
            var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads2;
            var x5 = distance * Math.cos(angle);
            var y7 = distance * Math.sin(angle);
            this.feOffset.setAttribute("dx", x5);
            this.feOffset.setAttribute("dy", y7);
          }
        }
      };
      var _svgMatteSymbols2 = [];
      function SVGMatte3Effect2(filterElem, filterManager, elem2) {
        this.initialized = false;
        this.filterManager = filterManager;
        this.filterElem = filterElem;
        this.elem = elem2;
        elem2.matteElement = createNS2("g");
        elem2.matteElement.appendChild(elem2.layerElement);
        elem2.matteElement.appendChild(elem2.transformedElement);
        elem2.baseElement = elem2.matteElement;
      }
      SVGMatte3Effect2.prototype.findSymbol = function(mask2) {
        var i3 = 0;
        var len = _svgMatteSymbols2.length;
        while (i3 < len) {
          if (_svgMatteSymbols2[i3] === mask2) {
            return _svgMatteSymbols2[i3];
          }
          i3 += 1;
        }
        return null;
      };
      SVGMatte3Effect2.prototype.replaceInParent = function(mask2, symbolId) {
        var parentNode = mask2.layerElement.parentNode;
        if (!parentNode) {
          return;
        }
        var children = parentNode.children;
        var i3 = 0;
        var len = children.length;
        while (i3 < len) {
          if (children[i3] === mask2.layerElement) {
            break;
          }
          i3 += 1;
        }
        var nextChild;
        if (i3 <= len - 2) {
          nextChild = children[i3 + 1];
        }
        var useElem = createNS2("use");
        useElem.setAttribute("href", "#" + symbolId);
        if (nextChild) {
          parentNode.insertBefore(useElem, nextChild);
        } else {
          parentNode.appendChild(useElem);
        }
      };
      SVGMatte3Effect2.prototype.setElementAsMask = function(elem2, mask2) {
        if (!this.findSymbol(mask2)) {
          var symbolId = createElementID2();
          var masker = createNS2("mask");
          masker.setAttribute("id", mask2.layerId);
          masker.setAttribute("mask-type", "alpha");
          _svgMatteSymbols2.push(mask2);
          var defs = elem2.globalData.defs;
          defs.appendChild(masker);
          var symbol = createNS2("symbol");
          symbol.setAttribute("id", symbolId);
          this.replaceInParent(mask2, symbolId);
          symbol.appendChild(mask2.layerElement);
          defs.appendChild(symbol);
          var useElem = createNS2("use");
          useElem.setAttribute("href", "#" + symbolId);
          masker.appendChild(useElem);
          mask2.data.hd = false;
          mask2.show();
        }
        elem2.setMatte(mask2.layerId);
      };
      SVGMatte3Effect2.prototype.initialize = function() {
        var ind = this.filterManager.effectElements[0].p.v;
        var elements = this.elem.comp.elements;
        var i3 = 0;
        var len = elements.length;
        while (i3 < len) {
          if (elements[i3] && elements[i3].data.ind === ind) {
            this.setElementAsMask(this.elem, elements[i3]);
          }
          i3 += 1;
        }
        this.initialized = true;
      };
      SVGMatte3Effect2.prototype.renderFrame = function() {
        if (!this.initialized) {
          this.initialize();
        }
      };
      function SVGEffects2() {
      }
      var animationManager2 = function() {
        var moduleOb = {};
        var registeredAnimations = [];
        var initTime = 0;
        var len = 0;
        var playingAnimationsNum = 0;
        var _stopped = true;
        var _isFrozen = false;
        function removeElement(ev) {
          var i3 = 0;
          var animItem = ev.target;
          while (i3 < len) {
            if (registeredAnimations[i3].animation === animItem) {
              registeredAnimations.splice(i3, 1);
              i3 -= 1;
              len -= 1;
              if (!animItem.isPaused) {
                subtractPlayingCount();
              }
            }
            i3 += 1;
          }
        }
        function registerAnimation(element, animationData3) {
          if (!element) {
            return null;
          }
          var i3 = 0;
          while (i3 < len) {
            if (registeredAnimations[i3].elem === element && registeredAnimations[i3].elem !== null) {
              return registeredAnimations[i3].animation;
            }
            i3 += 1;
          }
          var animItem = new AnimationItem2();
          setupAnimation(animItem, element);
          animItem.setData(element, animationData3);
          return animItem;
        }
        function getRegisteredAnimations() {
          var i3;
          var lenAnims = registeredAnimations.length;
          var animations = [];
          for (i3 = 0; i3 < lenAnims; i3 += 1) {
            animations.push(registeredAnimations[i3].animation);
          }
          return animations;
        }
        function addPlayingCount() {
          playingAnimationsNum += 1;
          activate();
        }
        function subtractPlayingCount() {
          playingAnimationsNum -= 1;
        }
        function setupAnimation(animItem, element) {
          animItem.addEventListener("destroy", removeElement);
          animItem.addEventListener("_active", addPlayingCount);
          animItem.addEventListener("_idle", subtractPlayingCount);
          registeredAnimations.push({ elem: element, animation: animItem });
          len += 1;
        }
        function loadAnimation3(params) {
          var animItem = new AnimationItem2();
          setupAnimation(animItem, null);
          animItem.setParams(params);
          return animItem;
        }
        function setSpeed(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setSpeed(val2, animation);
          }
        }
        function setDirection(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setDirection(val2, animation);
          }
        }
        function play(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.play(animation);
          }
        }
        function resume(nowTime) {
          var elapsedTime = nowTime - initTime;
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.advanceTime(elapsedTime);
          }
          initTime = nowTime;
          if (playingAnimationsNum && !_isFrozen) {
            window2.requestAnimationFrame(resume);
          } else {
            _stopped = true;
          }
        }
        function first(nowTime) {
          initTime = nowTime;
          window2.requestAnimationFrame(resume);
        }
        function pause(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.pause(animation);
          }
        }
        function goToAndStop(value2, isFrame, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.goToAndStop(value2, isFrame, animation);
          }
        }
        function stop(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.stop(animation);
          }
        }
        function togglePause(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.togglePause(animation);
          }
        }
        function destroy(animation) {
          var i3;
          for (i3 = len - 1; i3 >= 0; i3 -= 1) {
            registeredAnimations[i3].animation.destroy(animation);
          }
        }
        function searchAnimations3(animationData3, standalone3, renderer3) {
          var animElements = [].concat(
            [].slice.call(document.getElementsByClassName("lottie")),
            [].slice.call(document.getElementsByClassName("bodymovin"))
          );
          var i3;
          var lenAnims = animElements.length;
          for (i3 = 0; i3 < lenAnims; i3 += 1) {
            if (renderer3) {
              animElements[i3].setAttribute("data-bm-type", renderer3);
            }
            registerAnimation(animElements[i3], animationData3);
          }
          if (standalone3 && lenAnims === 0) {
            if (!renderer3) {
              renderer3 = "svg";
            }
            var body = document.getElementsByTagName("body")[0];
            body.innerText = "";
            var div2 = createTag2("div");
            div2.style.width = "100%";
            div2.style.height = "100%";
            div2.setAttribute("data-bm-type", renderer3);
            body.appendChild(div2);
            registerAnimation(div2, animationData3);
          }
        }
        function resize() {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.resize();
          }
        }
        function activate() {
          if (!_isFrozen && playingAnimationsNum) {
            if (_stopped) {
              window2.requestAnimationFrame(first);
              _stopped = false;
            }
          }
        }
        function freeze() {
          _isFrozen = true;
        }
        function unfreeze() {
          _isFrozen = false;
          activate();
        }
        function setVolume(val2, animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.setVolume(val2, animation);
          }
        }
        function mute(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.mute(animation);
          }
        }
        function unmute(animation) {
          var i3;
          for (i3 = 0; i3 < len; i3 += 1) {
            registeredAnimations[i3].animation.unmute(animation);
          }
        }
        moduleOb.registerAnimation = registerAnimation;
        moduleOb.loadAnimation = loadAnimation3;
        moduleOb.setSpeed = setSpeed;
        moduleOb.setDirection = setDirection;
        moduleOb.play = play;
        moduleOb.pause = pause;
        moduleOb.stop = stop;
        moduleOb.togglePause = togglePause;
        moduleOb.searchAnimations = searchAnimations3;
        moduleOb.resize = resize;
        moduleOb.goToAndStop = goToAndStop;
        moduleOb.destroy = destroy;
        moduleOb.freeze = freeze;
        moduleOb.unfreeze = unfreeze;
        moduleOb.setVolume = setVolume;
        moduleOb.mute = mute;
        moduleOb.unmute = unmute;
        moduleOb.getRegisteredAnimations = getRegisteredAnimations;
        return moduleOb;
      }();
      var AnimationItem2 = function() {
        this._cbs = [];
        this.name = "";
        this.path = "";
        this.isLoaded = false;
        this.currentFrame = 0;
        this.currentRawFrame = 0;
        this.firstFrame = 0;
        this.totalFrames = 0;
        this.frameRate = 0;
        this.frameMult = 0;
        this.playSpeed = 1;
        this.playDirection = 1;
        this.playCount = 0;
        this.animationData = {};
        this.assets = [];
        this.isPaused = true;
        this.autoplay = false;
        this.loop = true;
        this.renderer = null;
        this.animationID = createElementID2();
        this.assetsPath = "";
        this.timeCompleted = 0;
        this.segmentPos = 0;
        this.isSubframeEnabled = subframeEnabled2;
        this.segments = [];
        this._idle = true;
        this._completedLoop = false;
        this.projectInterface = ProjectInterface2();
        this.imagePreloader = new ImagePreloader2();
        this.audioController = audioControllerFactory2();
        this.markers = [];
        this.configAnimation = this.configAnimation.bind(this);
        this.onSetupError = this.onSetupError.bind(this);
        this.onSegmentComplete = this.onSegmentComplete.bind(this);
      };
      extendPrototype2([BaseEvent2], AnimationItem2);
      AnimationItem2.prototype.setParams = function(params) {
        if (params.wrapper || params.container) {
          this.wrapper = params.wrapper || params.container;
        }
        var animType = "svg";
        if (params.animType) {
          animType = params.animType;
        } else if (params.renderer) {
          animType = params.renderer;
        }
        switch (animType) {
          case "canvas":
            this.renderer = new CanvasRenderer(this, params.rendererSettings);
            break;
          case "svg":
            this.renderer = new SVGRenderer2(this, params.rendererSettings);
            break;
          default:
            this.renderer = new HybridRenderer(this, params.rendererSettings);
            break;
        }
        this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);
        this.renderer.setProjectInterface(this.projectInterface);
        this.animType = animType;
        if (params.loop === "" || params.loop === null || params.loop === void 0 || params.loop === true) {
          this.loop = true;
        } else if (params.loop === false) {
          this.loop = false;
        } else {
          this.loop = parseInt(params.loop, 10);
        }
        this.autoplay = "autoplay" in params ? params.autoplay : true;
        this.name = params.name ? params.name : "";
        this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, "autoloadSegments") ? params.autoloadSegments : true;
        this.assetsPath = params.assetsPath;
        this.initialSegment = params.initialSegment;
        if (params.audioFactory) {
          this.audioController.setAudioFactory(params.audioFactory);
        }
        if (params.animationData) {
          this.setupAnimation(params.animationData);
        } else if (params.path) {
          if (params.path.lastIndexOf("\\") !== -1) {
            this.path = params.path.substr(0, params.path.lastIndexOf("\\") + 1);
          } else {
            this.path = params.path.substr(0, params.path.lastIndexOf("/") + 1);
          }
          this.fileName = params.path.substr(params.path.lastIndexOf("/") + 1);
          this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf(".json"));
          dataManager2.loadAnimation(
            params.path,
            this.configAnimation,
            this.onSetupError
          );
        }
      };
      AnimationItem2.prototype.onSetupError = function() {
        this.trigger("data_failed");
      };
      AnimationItem2.prototype.setupAnimation = function(data2) {
        dataManager2.completeAnimation(
          data2,
          this.configAnimation
        );
      };
      AnimationItem2.prototype.setData = function(wrapper, animationData3) {
        if (animationData3) {
          if (typeof animationData3 !== "object") {
            animationData3 = JSON.parse(animationData3);
          }
        }
        var params = {
          wrapper,
          animationData: animationData3
        };
        var wrapperAttributes = wrapper.attributes;
        params.path = wrapperAttributes.getNamedItem("data-animation-path") ? wrapperAttributes.getNamedItem("data-animation-path").value : wrapperAttributes.getNamedItem("data-bm-path") ? wrapperAttributes.getNamedItem("data-bm-path").value : wrapperAttributes.getNamedItem("bm-path") ? wrapperAttributes.getNamedItem("bm-path").value : "";
        params.animType = wrapperAttributes.getNamedItem("data-anim-type") ? wrapperAttributes.getNamedItem("data-anim-type").value : wrapperAttributes.getNamedItem("data-bm-type") ? wrapperAttributes.getNamedItem("data-bm-type").value : wrapperAttributes.getNamedItem("bm-type") ? wrapperAttributes.getNamedItem("bm-type").value : wrapperAttributes.getNamedItem("data-bm-renderer") ? wrapperAttributes.getNamedItem("data-bm-renderer").value : wrapperAttributes.getNamedItem("bm-renderer") ? wrapperAttributes.getNamedItem("bm-renderer").value : "canvas";
        var loop = wrapperAttributes.getNamedItem("data-anim-loop") ? wrapperAttributes.getNamedItem("data-anim-loop").value : wrapperAttributes.getNamedItem("data-bm-loop") ? wrapperAttributes.getNamedItem("data-bm-loop").value : wrapperAttributes.getNamedItem("bm-loop") ? wrapperAttributes.getNamedItem("bm-loop").value : "";
        if (loop === "false") {
          params.loop = false;
        } else if (loop === "true") {
          params.loop = true;
        } else if (loop !== "") {
          params.loop = parseInt(loop, 10);
        }
        var autoplay = wrapperAttributes.getNamedItem("data-anim-autoplay") ? wrapperAttributes.getNamedItem("data-anim-autoplay").value : wrapperAttributes.getNamedItem("data-bm-autoplay") ? wrapperAttributes.getNamedItem("data-bm-autoplay").value : wrapperAttributes.getNamedItem("bm-autoplay") ? wrapperAttributes.getNamedItem("bm-autoplay").value : true;
        params.autoplay = autoplay !== "false";
        params.name = wrapperAttributes.getNamedItem("data-name") ? wrapperAttributes.getNamedItem("data-name").value : wrapperAttributes.getNamedItem("data-bm-name") ? wrapperAttributes.getNamedItem("data-bm-name").value : wrapperAttributes.getNamedItem("bm-name") ? wrapperAttributes.getNamedItem("bm-name").value : "";
        var prerender = wrapperAttributes.getNamedItem("data-anim-prerender") ? wrapperAttributes.getNamedItem("data-anim-prerender").value : wrapperAttributes.getNamedItem("data-bm-prerender") ? wrapperAttributes.getNamedItem("data-bm-prerender").value : wrapperAttributes.getNamedItem("bm-prerender") ? wrapperAttributes.getNamedItem("bm-prerender").value : "";
        if (prerender === "false") {
          params.prerender = false;
        }
        this.setParams(params);
      };
      AnimationItem2.prototype.includeLayers = function(data2) {
        if (data2.op > this.animationData.op) {
          this.animationData.op = data2.op;
          this.totalFrames = Math.floor(data2.op - this.animationData.ip);
        }
        var layers = this.animationData.layers;
        var i3;
        var len = layers.length;
        var newLayers = data2.layers;
        var j4;
        var jLen = newLayers.length;
        for (j4 = 0; j4 < jLen; j4 += 1) {
          i3 = 0;
          while (i3 < len) {
            if (layers[i3].id === newLayers[j4].id) {
              layers[i3] = newLayers[j4];
              break;
            }
            i3 += 1;
          }
        }
        if (data2.chars || data2.fonts) {
          this.renderer.globalData.fontManager.addChars(data2.chars);
          this.renderer.globalData.fontManager.addFonts(data2.fonts, this.renderer.globalData.defs);
        }
        if (data2.assets) {
          len = data2.assets.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.animationData.assets.push(data2.assets[i3]);
          }
        }
        this.animationData.__complete = false;
        dataManager2.completeAnimation(
          this.animationData,
          this.onSegmentComplete
        );
      };
      AnimationItem2.prototype.onSegmentComplete = function(data2) {
        this.animationData = data2;
        if (expressionsPlugin2) {
          expressionsPlugin2.initExpressions(this);
        }
        this.loadNextSegment();
      };
      AnimationItem2.prototype.loadNextSegment = function() {
        var segments = this.animationData.segments;
        if (!segments || segments.length === 0 || !this.autoloadSegments) {
          this.trigger("data_ready");
          this.timeCompleted = this.totalFrames;
          return;
        }
        var segment = segments.shift();
        this.timeCompleted = segment.time * this.frameRate;
        var segmentPath = this.path + this.fileName + "_" + this.segmentPos + ".json";
        this.segmentPos += 1;
        dataManager2.loadData(segmentPath, this.includeLayers.bind(this), function() {
          this.trigger("data_failed");
        }.bind(this));
      };
      AnimationItem2.prototype.loadSegments = function() {
        var segments = this.animationData.segments;
        if (!segments) {
          this.timeCompleted = this.totalFrames;
        }
        this.loadNextSegment();
      };
      AnimationItem2.prototype.imagesLoaded = function() {
        this.trigger("loaded_images");
        this.checkLoaded();
      };
      AnimationItem2.prototype.preloadImages = function() {
        this.imagePreloader.setAssetsPath(this.assetsPath);
        this.imagePreloader.setPath(this.path);
        this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));
      };
      AnimationItem2.prototype.configAnimation = function(animData) {
        if (!this.renderer) {
          return;
        }
        try {
          this.animationData = animData;
          if (this.initialSegment) {
            this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);
            this.firstFrame = Math.round(this.initialSegment[0]);
          } else {
            this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);
            this.firstFrame = Math.round(this.animationData.ip);
          }
          this.renderer.configAnimation(animData);
          if (!animData.assets) {
            animData.assets = [];
          }
          this.assets = this.animationData.assets;
          this.frameRate = this.animationData.fr;
          this.frameMult = this.animationData.fr / 1e3;
          this.renderer.searchExtraCompositions(animData.assets);
          this.markers = markerParser2(animData.markers || []);
          this.trigger("config_ready");
          this.preloadImages();
          this.loadSegments();
          this.updaFrameModifier();
          this.waitForFontsLoaded();
          if (this.isPaused) {
            this.audioController.pause();
          }
        } catch (error) {
          this.triggerConfigError(error);
        }
      };
      AnimationItem2.prototype.waitForFontsLoaded = function() {
        if (!this.renderer) {
          return;
        }
        if (this.renderer.globalData.fontManager.isLoaded) {
          this.checkLoaded();
        } else {
          setTimeout(this.waitForFontsLoaded.bind(this), 20);
        }
      };
      AnimationItem2.prototype.checkLoaded = function() {
        if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== "canvas") && this.imagePreloader.loadedFootages()) {
          this.isLoaded = true;
          if (expressionsPlugin2) {
            expressionsPlugin2.initExpressions(this);
          }
          this.renderer.initItems();
          setTimeout(function() {
            this.trigger("DOMLoaded");
          }.bind(this), 0);
          this.gotoFrame();
          if (this.autoplay) {
            this.play();
          }
        }
      };
      AnimationItem2.prototype.resize = function() {
        this.renderer.updateContainerSize();
      };
      AnimationItem2.prototype.setSubframe = function(flag) {
        this.isSubframeEnabled = !!flag;
      };
      AnimationItem2.prototype.gotoFrame = function() {
        this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame;
        if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {
          this.currentFrame = this.timeCompleted;
        }
        this.trigger("enterFrame");
        this.renderFrame();
        this.trigger("drawnFrame");
      };
      AnimationItem2.prototype.renderFrame = function() {
        if (this.isLoaded === false || !this.renderer) {
          return;
        }
        try {
          this.renderer.renderFrame(this.currentFrame + this.firstFrame);
        } catch (error) {
          this.triggerRenderFrameError(error);
        }
      };
      AnimationItem2.prototype.play = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === true) {
          this.isPaused = false;
          this.audioController.resume();
          if (this._idle) {
            this._idle = false;
            this.trigger("_active");
          }
        }
      };
      AnimationItem2.prototype.pause = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === false) {
          this.isPaused = true;
          this._idle = true;
          this.trigger("_idle");
          this.audioController.pause();
        }
      };
      AnimationItem2.prototype.togglePause = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        if (this.isPaused === true) {
          this.play();
        } else {
          this.pause();
        }
      };
      AnimationItem2.prototype.stop = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.pause();
        this.playCount = 0;
        this._completedLoop = false;
        this.setCurrentRawFrameValue(0);
      };
      AnimationItem2.prototype.getMarkerData = function(markerName) {
        var marker;
        for (var i3 = 0; i3 < this.markers.length; i3 += 1) {
          marker = this.markers[i3];
          if (marker.payload && marker.payload.name === markerName) {
            return marker;
          }
        }
        return null;
      };
      AnimationItem2.prototype.goToAndStop = function(value2, isFrame, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        var numValue = Number(value2);
        if (isNaN(numValue)) {
          var marker = this.getMarkerData(value2);
          if (marker) {
            this.goToAndStop(marker.time, true);
          }
        } else if (isFrame) {
          this.setCurrentRawFrameValue(value2);
        } else {
          this.setCurrentRawFrameValue(value2 * this.frameModifier);
        }
        this.pause();
      };
      AnimationItem2.prototype.goToAndPlay = function(value2, isFrame, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        var numValue = Number(value2);
        if (isNaN(numValue)) {
          var marker = this.getMarkerData(value2);
          if (marker) {
            if (!marker.duration) {
              this.goToAndStop(marker.time, true);
            } else {
              this.playSegments([marker.time, marker.time + marker.duration], true);
            }
          }
        } else {
          this.goToAndStop(numValue, isFrame, name3);
        }
        this.play();
      };
      AnimationItem2.prototype.advanceTime = function(value2) {
        if (this.isPaused === true || this.isLoaded === false) {
          return;
        }
        var nextValue = this.currentRawFrame + value2 * this.frameModifier;
        var _isComplete = false;
        if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {
          if (!this.loop || this.playCount === this.loop) {
            if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {
              _isComplete = true;
              nextValue = this.totalFrames - 1;
            }
          } else if (nextValue >= this.totalFrames) {
            this.playCount += 1;
            if (!this.checkSegments(nextValue % this.totalFrames)) {
              this.setCurrentRawFrameValue(nextValue % this.totalFrames);
              this._completedLoop = true;
              this.trigger("loopComplete");
            }
          } else {
            this.setCurrentRawFrameValue(nextValue);
          }
        } else if (nextValue < 0) {
          if (!this.checkSegments(nextValue % this.totalFrames)) {
            if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {
              this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);
              if (!this._completedLoop) {
                this._completedLoop = true;
              } else {
                this.trigger("loopComplete");
              }
            } else {
              _isComplete = true;
              nextValue = 0;
            }
          }
        } else {
          this.setCurrentRawFrameValue(nextValue);
        }
        if (_isComplete) {
          this.setCurrentRawFrameValue(nextValue);
          this.pause();
          this.trigger("complete");
        }
      };
      AnimationItem2.prototype.adjustSegment = function(arr, offset) {
        this.playCount = 0;
        if (arr[1] < arr[0]) {
          if (this.frameModifier > 0) {
            if (this.playSpeed < 0) {
              this.setSpeed(-this.playSpeed);
            } else {
              this.setDirection(-1);
            }
          }
          this.totalFrames = arr[0] - arr[1];
          this.timeCompleted = this.totalFrames;
          this.firstFrame = arr[1];
          this.setCurrentRawFrameValue(this.totalFrames - 1e-3 - offset);
        } else if (arr[1] > arr[0]) {
          if (this.frameModifier < 0) {
            if (this.playSpeed < 0) {
              this.setSpeed(-this.playSpeed);
            } else {
              this.setDirection(1);
            }
          }
          this.totalFrames = arr[1] - arr[0];
          this.timeCompleted = this.totalFrames;
          this.firstFrame = arr[0];
          this.setCurrentRawFrameValue(1e-3 + offset);
        }
        this.trigger("segmentStart");
      };
      AnimationItem2.prototype.setSegment = function(init2, end) {
        var pendingFrame = -1;
        if (this.isPaused) {
          if (this.currentRawFrame + this.firstFrame < init2) {
            pendingFrame = init2;
          } else if (this.currentRawFrame + this.firstFrame > end) {
            pendingFrame = end - init2;
          }
        }
        this.firstFrame = init2;
        this.totalFrames = end - init2;
        this.timeCompleted = this.totalFrames;
        if (pendingFrame !== -1) {
          this.goToAndStop(pendingFrame, true);
        }
      };
      AnimationItem2.prototype.playSegments = function(arr, forceFlag) {
        if (forceFlag) {
          this.segments.length = 0;
        }
        if (typeof arr[0] === "object") {
          var i3;
          var len = arr.length;
          for (i3 = 0; i3 < len; i3 += 1) {
            this.segments.push(arr[i3]);
          }
        } else {
          this.segments.push(arr);
        }
        if (this.segments.length && forceFlag) {
          this.adjustSegment(this.segments.shift(), 0);
        }
        if (this.isPaused) {
          this.play();
        }
      };
      AnimationItem2.prototype.resetSegments = function(forceFlag) {
        this.segments.length = 0;
        this.segments.push([this.animationData.ip, this.animationData.op]);
        if (forceFlag) {
          this.checkSegments(0);
        }
      };
      AnimationItem2.prototype.checkSegments = function(offset) {
        if (this.segments.length) {
          this.adjustSegment(this.segments.shift(), offset);
          return true;
        }
        return false;
      };
      AnimationItem2.prototype.destroy = function(name3) {
        if (name3 && this.name !== name3 || !this.renderer) {
          return;
        }
        this.renderer.destroy();
        this.imagePreloader.destroy();
        this.trigger("destroy");
        this._cbs = null;
        this.onEnterFrame = null;
        this.onLoopComplete = null;
        this.onComplete = null;
        this.onSegmentStart = null;
        this.onDestroy = null;
        this.renderer = null;
        this.renderer = null;
        this.imagePreloader = null;
        this.projectInterface = null;
      };
      AnimationItem2.prototype.setCurrentRawFrameValue = function(value2) {
        this.currentRawFrame = value2;
        this.gotoFrame();
      };
      AnimationItem2.prototype.setSpeed = function(val2) {
        this.playSpeed = val2;
        this.updaFrameModifier();
      };
      AnimationItem2.prototype.setDirection = function(val2) {
        this.playDirection = val2 < 0 ? -1 : 1;
        this.updaFrameModifier();
      };
      AnimationItem2.prototype.setVolume = function(val2, name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.setVolume(val2);
      };
      AnimationItem2.prototype.getVolume = function() {
        return this.audioController.getVolume();
      };
      AnimationItem2.prototype.mute = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.mute();
      };
      AnimationItem2.prototype.unmute = function(name3) {
        if (name3 && this.name !== name3) {
          return;
        }
        this.audioController.unmute();
      };
      AnimationItem2.prototype.updaFrameModifier = function() {
        this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;
        this.audioController.setRate(this.playSpeed * this.playDirection);
      };
      AnimationItem2.prototype.getPath = function() {
        return this.path;
      };
      AnimationItem2.prototype.getAssetsPath = function(assetData) {
        var path = "";
        if (assetData.e) {
          path = assetData.p;
        } else if (this.assetsPath) {
          var imagePath = assetData.p;
          if (imagePath.indexOf("images/") !== -1) {
            imagePath = imagePath.split("/")[1];
          }
          path = this.assetsPath + imagePath;
        } else {
          path = this.path;
          path += assetData.u ? assetData.u : "";
          path += assetData.p;
        }
        return path;
      };
      AnimationItem2.prototype.getAssetData = function(id) {
        var i3 = 0;
        var len = this.assets.length;
        while (i3 < len) {
          if (id === this.assets[i3].id) {
            return this.assets[i3];
          }
          i3 += 1;
        }
        return null;
      };
      AnimationItem2.prototype.hide = function() {
        this.renderer.hide();
      };
      AnimationItem2.prototype.show = function() {
        this.renderer.show();
      };
      AnimationItem2.prototype.getDuration = function(isFrame) {
        return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;
      };
      AnimationItem2.prototype.trigger = function(name3) {
        if (this._cbs && this._cbs[name3]) {
          switch (name3) {
            case "enterFrame":
            case "drawnFrame":
              this.triggerEvent(name3, new BMEnterFrameEvent2(name3, this.currentFrame, this.totalFrames, this.frameModifier));
              break;
            case "loopComplete":
              this.triggerEvent(name3, new BMCompleteLoopEvent2(name3, this.loop, this.playCount, this.frameMult));
              break;
            case "complete":
              this.triggerEvent(name3, new BMCompleteEvent2(name3, this.frameMult));
              break;
            case "segmentStart":
              this.triggerEvent(name3, new BMSegmentStartEvent2(name3, this.firstFrame, this.totalFrames));
              break;
            case "destroy":
              this.triggerEvent(name3, new BMDestroyEvent2(name3, this));
              break;
            default:
              this.triggerEvent(name3);
          }
        }
        if (name3 === "enterFrame" && this.onEnterFrame) {
          this.onEnterFrame.call(this, new BMEnterFrameEvent2(name3, this.currentFrame, this.totalFrames, this.frameMult));
        }
        if (name3 === "loopComplete" && this.onLoopComplete) {
          this.onLoopComplete.call(this, new BMCompleteLoopEvent2(name3, this.loop, this.playCount, this.frameMult));
        }
        if (name3 === "complete" && this.onComplete) {
          this.onComplete.call(this, new BMCompleteEvent2(name3, this.frameMult));
        }
        if (name3 === "segmentStart" && this.onSegmentStart) {
          this.onSegmentStart.call(this, new BMSegmentStartEvent2(name3, this.firstFrame, this.totalFrames));
        }
        if (name3 === "destroy" && this.onDestroy) {
          this.onDestroy.call(this, new BMDestroyEvent2(name3, this));
        }
      };
      AnimationItem2.prototype.triggerRenderFrameError = function(nativeError) {
        var error = new BMRenderFrameErrorEvent2(nativeError, this.currentFrame);
        this.triggerEvent("error", error);
        if (this.onError) {
          this.onError.call(this, error);
        }
      };
      AnimationItem2.prototype.triggerConfigError = function(nativeError) {
        var error = new BMConfigErrorEvent2(nativeError, this.currentFrame);
        this.triggerEvent("error", error);
        if (this.onError) {
          this.onError.call(this, error);
        }
      };
      function EffectsManager2() {
        this.effectElements = [];
      }
      var lottie2 = {};
      function setLocationHref2(href) {
        locationHref2 = href;
      }
      function searchAnimations2() {
        if (standalone2 === true) {
          animationManager2.searchAnimations(animationData2, standalone2, renderer2);
        } else {
          animationManager2.searchAnimations();
        }
      }
      function setSubframeRendering2(flag) {
        subframeEnabled2 = flag;
      }
      function setIDPrefix(prefix) {
        idPrefix2 = prefix;
      }
      function loadAnimation2(params) {
        if (standalone2 === true) {
          params.animationData = JSON.parse(animationData2);
        }
        return animationManager2.loadAnimation(params);
      }
      function setQuality2(value2) {
        if (typeof value2 === "string") {
          switch (value2) {
            case "high":
              defaultCurveSegments2 = 200;
              break;
            default:
            case "medium":
              defaultCurveSegments2 = 50;
              break;
            case "low":
              defaultCurveSegments2 = 10;
              break;
          }
        } else if (!isNaN(value2) && value2 > 1) {
          defaultCurveSegments2 = value2;
        }
        if (defaultCurveSegments2 >= 50) {
          roundValues2(false);
        } else {
          roundValues2(true);
        }
      }
      function inBrowser2() {
        return typeof navigator !== "undefined";
      }
      function installPlugin2(type, plugin) {
        if (type === "expressions") {
          expressionsPlugin2 = plugin;
        }
      }
      function getFactory2(name3) {
        switch (name3) {
          case "propertyFactory":
            return PropertyFactory2;
          case "shapePropertyFactory":
            return ShapePropertyFactory2;
          case "matrix":
            return Matrix2;
          default:
            return null;
        }
      }
      lottie2.play = animationManager2.play;
      lottie2.pause = animationManager2.pause;
      lottie2.setLocationHref = setLocationHref2;
      lottie2.togglePause = animationManager2.togglePause;
      lottie2.setSpeed = animationManager2.setSpeed;
      lottie2.setDirection = animationManager2.setDirection;
      lottie2.stop = animationManager2.stop;
      lottie2.searchAnimations = searchAnimations2;
      lottie2.registerAnimation = animationManager2.registerAnimation;
      lottie2.loadAnimation = loadAnimation2;
      lottie2.setSubframeRendering = setSubframeRendering2;
      lottie2.resize = animationManager2.resize;
      lottie2.goToAndStop = animationManager2.goToAndStop;
      lottie2.destroy = animationManager2.destroy;
      lottie2.setQuality = setQuality2;
      lottie2.inBrowser = inBrowser2;
      lottie2.installPlugin = installPlugin2;
      lottie2.freeze = animationManager2.freeze;
      lottie2.unfreeze = animationManager2.unfreeze;
      lottie2.setVolume = animationManager2.setVolume;
      lottie2.mute = animationManager2.mute;
      lottie2.unmute = animationManager2.unmute;
      lottie2.getRegisteredAnimations = animationManager2.getRegisteredAnimations;
      lottie2.useWebWorker = function(flag) {
        _useWebWorker2 = flag;
      };
      lottie2.setIDPrefix = setIDPrefix;
      lottie2.__getFactory = getFactory2;
      lottie2.version = "5.8.1";
      function checkReady2() {
        if (document.readyState === "complete") {
          clearInterval(readyStateCheckInterval2);
          searchAnimations2();
        }
      }
      function getQueryVariable2(variable) {
        var vars = queryString2.split("&");
        for (var i3 = 0; i3 < vars.length; i3 += 1) {
          var pair = vars[i3].split("=");
          if (decodeURIComponent(pair[0]) == variable) {
            return decodeURIComponent(pair[1]);
          }
        }
        return null;
      }
      var standalone2 = "__[STANDALONE]__";
      var animationData2 = "__[ANIMATIONDATA]__";
      var renderer2 = "";
      var queryString2;
      if (standalone2) {
        var scripts2 = document.getElementsByTagName("script");
        var index2 = scripts2.length - 1;
        var myScript2 = scripts2[index2] || {
          src: ""
        };
        queryString2 = myScript2.src.replace(/^[^\?]+\??/, "");
        renderer2 = getQueryVariable2("renderer");
      }
      var readyStateCheckInterval2 = setInterval(checkReady2, 100);
      return lottie2;
    });
  }
});

// node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/App-94e9365e.js
var require_App_94e9365e = __commonJS({
  "node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/App-94e9365e.js"() {
    "use strict";
    var e2 = require_index_87ee6d1d();
    var n4 = require_qr_code_styling();
    var t2 = require_lottie_web_light();
    function a4(e3) {
      return e3 && "object" == typeof e3 && "default" in e3 ? e3 : { default: e3 };
    }
    init_esm11(), init_esm(), require_es5();
    var o3 = a4(n4);
    var l4 = a4(t2);
    function i3(n5 = true) {
      let t3 = e2.PERA_WALLET_APP_DEEP_LINK;
      const a5 = e2.detectBrowser();
      return n5 && a5 && (t3 = `${t3}?browser=${encodeURIComponent(a5)}`), t3;
    }
    function r3(e3, n5) {
      void 0 === n5 && (n5 = {});
      var t3 = n5.insertAt;
      if (e3 && "undefined" != typeof document) {
        var a5 = document.head || document.getElementsByTagName("head")[0], o4 = document.createElement("style");
        o4.type = "text/css", "top" === t3 && a5.firstChild ? a5.insertBefore(o4, a5.firstChild) : a5.appendChild(o4), o4.styleSheet ? o4.styleSheet.cssText = e3 : o4.appendChild(document.createTextNode(e3));
      }
    }
    var d3 = ".pera-wallet-modal-header {\n  position: absolute;\n  top: -44px;\n  right: 0px;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.pera-wallet-modal-header--mobile {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  position: static;\n}\n.pera-wallet-modal-header--mobile .pera-wallet-modal-header__close-button {\n  width: 24px;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: unset;\n  box-shadow: unset;\n}\n\n.pera-wallet-modal-header__brand {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  color: #ffffff;\n}\n\n.pera-wallet-modal-header__brand-text {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n}\n\n.pera-wallet-modal-header__version-number {\n  color: #9d9dae;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n  letter-spacing: 0.01;\n}\n\n.pera-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.pera-wallet-modal-header__close-button {\n  width: 32px;\n  height: 32px;\n  margin: 0;\n  padding: 0;\n  background: rgba(44, 53, 89, 0.1);\n  border-radius: 8px;\n}\n\n.pera-wallet-modal-header__close-button__close-icon {\n  width: 20px;\n  height: 20px;\n}";
    r3(d3);
    var c3 = document.createElement("template");
    var p6 = e2.isMobile() ? "pera-wallet-modal-header pera-wallet-modal-header--mobile" : "pera-wallet-modal-header pera-wallet-modal-header--desktop";
    c3.innerHTML = `
  <div class="${p6}">
      ${e2.isMobile() ? "" : `<div class="pera-wallet-modal-header__brand">
              <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' rx='4.8' fill='%23FFEE55'/%3e%3cpath d='M13.0408 5.92462C13.413 7.46693 13.2872 8.8236 12.7597 8.95482C12.2322 9.08605 11.5028 7.94214 11.1306 6.39983C10.7583 4.85752 10.8842 3.50085 11.4117 3.36963C11.9391 3.2384 12.6685 4.38231 13.0408 5.92462Z' fill='black'/%3e%3cpath d='M19.1876 7.25063C18.3632 6.37689 16.7231 6.61371 15.5243 7.77959C14.3254 8.94547 14.0219 10.5989 14.8463 11.4727C15.6707 12.3464 17.3108 12.1096 18.5097 10.9437C19.7085 9.77781 20.012 8.12438 19.1876 7.25063Z' fill='black'/%3e%3cpath d='M12.6308 20.6297C13.1583 20.4985 13.2656 19.0651 12.8705 17.4281C12.4754 15.7911 11.7275 14.5705 11.2 14.7017C10.6725 14.8329 10.5652 16.2663 10.9603 17.9033C11.3554 19.5403 12.1033 20.7609 12.6308 20.6297Z' fill='black'/%3e%3cpath d='M7.25371 8.05056C8.77551 8.49933 9.8875 9.28664 9.73741 9.80906C9.58731 10.3315 8.23197 10.3912 6.71016 9.94242C5.18836 9.49364 4.07637 8.70633 4.22646 8.18391C4.37656 7.66149 5.7319 7.60178 7.25371 8.05056Z' fill='black'/%3e%3cpath d='M17.1309 13.9497C18.7461 14.4261 19.9338 15.2357 19.7837 15.7581C19.6336 16.2806 18.2025 16.3179 16.5873 15.8416C14.9721 15.3653 13.7844 14.5556 13.9345 14.0332C14.0846 13.5108 15.5157 13.4734 17.1309 13.9497Z' fill='black'/%3e%3cpath d='M8.96609 12.8536C8.5887 12.4624 7.35088 13.0318 6.20133 14.1253C5.05177 15.2188 4.42581 16.4225 4.80319 16.8137C5.18058 17.2048 6.4184 16.6355 7.56796 15.542C8.71751 14.4484 9.34347 13.2448 8.96609 12.8536Z' fill='black'/%3e%3c/svg%3e" />

              <div class="pera-wallet-modal-header__brand-text">
                <span>Pera Connect</span>

                <span class="pera-wallet-modal-header__version-number">v1.3.4</span>
              </div>
            </div>
            `} 

      <button
        id="pera-wallet-modal-header-close-button"
        class="pera-wallet-button pera-wallet-modal-header__close-button">
        <img
          class="pera-wallet-modal-header__close-button__close-icon"
          src="${e2.isMobile() ? "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%232C3559' stroke-width='2'/%3e%3c/svg%3e" : "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e"}"
        />
      </button>
    </div>
`;
    var s2 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = d3, this.shadowRoot.append(c3.content.cloneNode(true), e3), this.onClose();
        }
      }
      onClose() {
        var n5;
        const t3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-modal-header-close-button"), a5 = this.getAttribute("modal-id");
        t3 && a5 === e2.PERA_WALLET_REDIRECT_MODAL_ID && t3.addEventListener("click", () => {
          e2.removeModalWrapperFromDOM(e2.PERA_WALLET_REDIRECT_MODAL_ID);
        });
      }
    };
    var m3 = "data:image/svg+xml,%3csvg fill='none' height='80' width='80' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='M39.9 80V68.99h-9.8V80h-.2V68.99h-3.5a6.503 6.503 0 0 1-6.247-4.7 6.514 6.514 0 0 1-4.445-4.444 6.503 6.503 0 0 1-4.695-6.246v-3.5H0v-.2h11.013v-9.8H0v-.2h11.013v-9.8H0v-.2h11.013v-3.5a6.503 6.503 0 0 1 4.694-6.246 6.513 6.513 0 0 1 4.447-4.447 6.503 6.503 0 0 1 6.246-4.696h3.5V0h.2v11.011h9.8V0h.2v11.011h9.8V0h.2v11.011h3.5a6.503 6.503 0 0 1 6.247 4.697 6.514 6.514 0 0 1 4.443 4.444 6.503 6.503 0 0 1 4.701 6.248v3.5H80v.2H68.991v9.8H80v.2H68.991v9.8H80v.2H68.991v3.5a6.503 6.503 0 0 1-4.701 6.248 6.514 6.514 0 0 1-4.443 4.442 6.503 6.503 0 0 1-6.247 4.7h-3.5V80h-.2V68.99h-9.8V80zm28.89-40.1a28.728 28.728 0 0 0-1.746-9.8h-2.5v9.8h4.247zm-4.246.2h4.247a28.729 28.729 0 0 1-1.747 9.8h-2.5zm-.2-.2v-9.8H60.1v9.8zm-4.244.2h4.244v9.8H60.1zm-.2-.2a19.807 19.807 0 0 0-2.633-9.8H50.1v9.8zm-9.8.2h9.8a19.807 19.807 0 0 1-2.633 9.8H50.1zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-7.167a19.807 19.807 0 0 0-2.633 9.8zm-9.8.2h9.8v9.8h-7.167a19.807 19.807 0 0 1-2.633-9.8zm-.2-.2v-9.8h-4.245v9.8zm-4.245.2H19.9v9.8h-4.245zm-.2-.2v-9.8H12.96a28.726 28.726 0 0 0-1.748 9.8h4.242zm-4.242.2h4.242v9.8H12.96a28.726 28.726 0 0 1-1.748-9.8zm0 13.5v-3.5h1.608a28.876 28.876 0 0 0 2.634 5.327v2.617c0 .543.066 1.07.192 1.575a6.303 6.303 0 0 1-4.434-6.019zm4.242 1.449a28.674 28.674 0 0 1-2.42-4.949h2.42zm.2.32V50.1H19.9v9.8h-.702a28.915 28.915 0 0 1-3.543-4.53zM20.1 59.9v-9.8h2.518a20.2 20.2 0 0 0 7.282 7.282V59.9zm0-10h2.403a19.966 19.966 0 0 1-2.403-7.053zm9.8 7.25a20 20 0 0 1-7.05-7.05h7.05zm.2.117V50.1h9.8v9.8a19.807 19.807 0 0 1-9.8-2.633zm10 2.633v-9.8h9.8v7.167a19.807 19.807 0 0 1-9.8 2.633zm10-2.75V50.1h7.05a20 20 0 0 1-7.05 7.05zm0 .232a20.2 20.2 0 0 0 7.282-7.282H59.9v9.8h-9.8zm7.397-7.482H59.9v-7.053a19.966 19.966 0 0 1-2.403 7.053zm2.603 10v-9.8h4.244v5.28a28.91 28.91 0 0 1-3.538 4.52zm4.444-4.841V50.1h2.426a28.67 28.67 0 0 1-2.426 4.959zm0 .378a28.881 28.881 0 0 0 2.64-5.337h1.607v3.5a6.303 6.303 0 0 1-4.44 6.021 6.514 6.514 0 0 0 .193-1.577zm2.713-5.537h1.534v-6.477a28.817 28.817 0 0 1-1.534 6.477zm-56.044 0h1.535a28.807 28.807 0 0 1-1.535-6.477zm57.578-20v-3.5a6.303 6.303 0 0 0-4.44-6.02c.126.504.193 1.031.193 1.575v2.608a28.877 28.877 0 0 1 2.639 5.337zm-1.534.2h1.534v6.477a28.815 28.815 0 0 0-1.534-6.477zm-.288-.2a28.673 28.673 0 0 0-2.425-4.958V29.9zm-2.625 0v-5.279a28.911 28.911 0 0 0-3.538-4.521H60.1v9.8zm-4.444 0v-9.8h-9.8v2.518a20.2 20.2 0 0 1 7.282 7.282zm-2.403.2H59.9v7.053a19.966 19.966 0 0 0-2.403-7.053zm-.347-.2a20 20 0 0 0-7.05-7.05v7.05zm-7.25 0v-7.167a19.807 19.807 0 0 0-9.8-2.633v9.8zm-10 0v-9.8a19.807 19.807 0 0 0-9.8 2.633V29.9zm-10 0v-7.05a20 20 0 0 0-7.05 7.05zm-7.282 0a20.2 20.2 0 0 1 7.282-7.282V20.1h-9.8v9.8zm-2.518.2h2.403a19.966 19.966 0 0 0-2.403 7.053zm-.2-.2v-9.8h-.701a28.915 28.915 0 0 0-3.544 4.53v5.27zm-4.445 0v-4.948a28.665 28.665 0 0 0-2.42 4.948zm-2.634 0a28.874 28.874 0 0 1 2.634-5.327v-2.618c0-.543.066-1.07.191-1.574a6.303 6.303 0 0 0-4.433 6.019v3.5zm-1.608.2h1.535a28.81 28.81 0 0 0-1.535 6.477zM36.58 68.79H30.1v-1.536c2.06.749 4.23 1.27 6.479 1.535zm3.321-.001a28.726 28.726 0 0 1-9.8-1.748v-2.497h9.8zm-10-1.822v-2.423h-4.953a28.678 28.678 0 0 0 4.953 2.423zm10-2.623h-9.8V60.1h9.8zm-10 0V60.1h-9.8v.702a28.915 28.915 0 0 0 4.526 3.542H29.9zm7.254-4.444H30.1v-2.403a19.966 19.966 0 0 0 7.053 2.403zm0-39.8a19.966 19.966 0 0 0-7.054 2.403V20.1h7.053zm2.746-.2h-9.8v-4.245h9.8zm-10 0v-4.245h-5.27a28.907 28.907 0 0 0-4.53 3.544v.701zm10-4.445h-9.8V12.96a28.729 28.729 0 0 1 9.8-1.749zm-10 0v-2.421a28.668 28.668 0 0 0-4.95 2.42h4.95zm6.679-4.244a28.81 28.81 0 0 0-6.479 1.536V11.21h6.479zm-6.679 1.61v-1.61h-3.5a6.303 6.303 0 0 0-6.02 4.436 6.514 6.514 0 0 1 1.575-.192h2.617A28.877 28.877 0 0 1 29.9 12.82zm0 55.968V67.18a28.878 28.878 0 0 1-5.331-2.636h-2.614c-.543 0-1.07-.067-1.575-.192a6.303 6.303 0 0 0 6.02 4.437zm20.2 0h3.5a6.303 6.303 0 0 0 6.02-4.438 6.513 6.513 0 0 1-1.576.193h-2.608a28.879 28.879 0 0 1-5.336 2.638zm-.2-1.534v1.534h-6.475a28.808 28.808 0 0 0 6.475-1.534zm.2-.287a28.671 28.671 0 0 0 4.957-2.424H50.1v2.424zm-.2-2.424v2.499a28.728 28.728 0 0 1-9.8 1.746v-4.245zm.2-.2h5.278a28.914 28.914 0 0 0 4.522-3.538V60.1h-9.8zm-.2-4.244v4.244h-9.8V60.1zm0-2.603V59.9h-7.053a19.966 19.966 0 0 0 7.053-2.403zm0-37.397v2.403a19.966 19.966 0 0 0-7.053-2.403H49.9zm.2-.2h9.8v-.705a28.911 28.911 0 0 0-4.526-3.54H50.1V19.9zm-.2-4.245V19.9h-9.8v-4.245h9.8zm.2-.2h4.954a28.676 28.676 0 0 0-4.954-2.423zm-.2-2.497v2.497h-9.8V11.21a28.75 28.75 0 0 1 9.8 1.747zm.2-.14a28.877 28.877 0 0 1 5.332 2.637h2.612c.543 0 1.071.066 1.576.192a6.303 6.303 0 0 0-6.02-4.436h-3.5zm-.2-1.607v1.534a28.812 28.812 0 0 0-6.475-1.534H49.9zm-34.245 44.53v2.303c0 .567.075 1.117.215 1.64a6.309 6.309 0 0 0 1.643.216h1.41a29.118 29.118 0 0 1-3.268-4.16zm3.458 4.359h-1.6a6.513 6.513 0 0 1-1.578-.193 6.315 6.315 0 0 0 4.157 4.157 6.517 6.517 0 0 1-.192-1.575v-1.602a29.35 29.35 0 0 1-.787-.787zm.787.509a29.029 29.029 0 0 1-.508-.509h.508zm.2.469v1.411c0 .567.075 1.117.215 1.64.523.14 1.073.215 1.64.215h2.3a29.118 29.118 0 0 1-4.155-3.266zm35.649 3.266h2.295c.567 0 1.117-.075 1.64-.216a6.286 6.286 0 0 0 .216-1.639v-1.407a29.116 29.116 0 0 1-4.151 3.262zm4.35-3.454v1.598a6.53 6.53 0 0 1-.192 1.574 6.314 6.314 0 0 0 4.155-4.154 6.509 6.509 0 0 1-1.572.191h-1.6a29.08 29.08 0 0 1-.791.791zm.982-.991h1.41c.565 0 1.114-.075 1.636-.215a6.31 6.31 0 0 0 .216-1.641V55.75a29.113 29.113 0 0 1-3.262 4.15zm3.262-35.65v-2.295c0-.568-.075-1.117-.216-1.64a6.307 6.307 0 0 0-1.637-.215h-1.41a29.112 29.112 0 0 1 3.263 4.15zM60.89 19.9h1.6c.542 0 1.069.066 1.573.192a6.314 6.314 0 0 0-4.156-4.157 6.51 6.51 0 0 1 .192 1.576v1.598c.269.259.532.522.79.791zm-.991-.981V17.51a6.31 6.31 0 0 0-.216-1.64 6.308 6.308 0 0 0-1.64-.216h-2.299a29.108 29.108 0 0 1 4.155 3.264zm-35.641-3.264h-2.304a6.31 6.31 0 0 0-1.639.215 6.306 6.306 0 0 0-.216 1.641v1.412a29.115 29.115 0 0 1 4.159-3.268zM19.9 19.113v-1.602c0-.543.067-1.072.193-1.577a6.315 6.315 0 0 0-4.159 4.16 6.518 6.518 0 0 1 1.58-.194h1.6c.257-.267.519-.53.786-.787zm-.508.787h.508v-.508c-.171.167-.34.337-.508.508zm-.47.2h-1.409a6.31 6.31 0 0 0-1.643.216 6.308 6.308 0 0 0-.215 1.639v2.305a29.107 29.107 0 0 1 3.268-4.16zm41.178-.712c.173.168.344.34.512.512H60.1zm.513 40.712c-.169.173-.34.344-.513.513V60.1z' fill='%2394a3b8' fill-rule='evenodd'/%3e%3crect fill='black' height='80' rx='16' width='80'/%3e%3cpath d='M43.47 19.752c1.24 5.14.821 9.663-.937 10.1-1.758.438-4.19-3.375-5.43-8.517-1.241-5.14-.822-9.663.936-10.1 1.759-.438 4.19 3.376 5.43 8.517zm20.49 4.42c-2.749-2.913-8.216-2.123-12.212 1.763s-5.008 9.398-2.26 12.31 8.215 2.123 12.211-1.763 5.008-9.398 2.26-12.31zM42.102 68.769c1.758-.438 2.116-5.216.8-10.673-1.318-5.456-3.81-9.525-5.57-9.088-1.757.438-2.115 5.216-.798 10.672 1.317 5.457 3.81 9.526 5.568 9.089zM24.18 26.838c5.073 1.496 8.78 4.12 8.28 5.862-.5 1.741-5.019 1.94-10.091.444-5.073-1.496-8.78-4.12-8.28-5.861.501-1.742 5.019-1.941 10.092-.445zm32.924 19.664c5.384 1.588 9.343 4.286 8.843 6.028-.5 1.741-5.27 1.866-10.654.278-5.385-1.588-9.343-4.286-8.843-6.028.5-1.741 5.27-1.866 10.654-.278zm-27.216-3.654c-1.258-1.304-5.384.594-9.215 4.24-3.832 3.644-5.919 7.656-4.66 8.96 1.257 1.304 5.383-.594 9.215-4.239s5.918-7.657 4.66-8.96z' fill='%23fe5'/%3e%3c/svg%3e";
    var w4 = ".pera-wallet-download-qr-code-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  margin: 26px auto 0;\n  padding: 10px;\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\n  border-radius: 24px;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-download-qr-code-wrapper {\n    margin-top: 51px;\n  }\n}";
    r3(w4);
    var h6 = document.createElement("template");
    h6.innerHTML = '\n  <div id="pera-wallet-download-qr-code-wrapper" class="pera-wallet-download-qr-code-wrapper"></div>  \n';
    var g5 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = w4, this.shadowRoot.append(h6.content.cloneNode(true), e3);
        }
      }
      connectedCallback() {
        var n5;
        const t3 = new o3.default({ width: 205, height: 205, type: "svg", data: e2.PERA_DOWNLOAD_URL, image: m3, dotsOptions: { color: "#000", type: "extra-rounded" }, imageOptions: { crossOrigin: "anonymous", margin: 10 }, cornersSquareOptions: { type: "extra-rounded" }, cornersDotOptions: { type: "dot" } }), a5 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-download-qr-code-wrapper");
        a5 && t3.append(a5);
      }
    };
    var x5 = "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.5 19L15.5 12L8.5 5' stroke='%233C3C49' stroke-width='2'/%3e%3c/svg%3e";
    var f3 = ".pera-wallet-connect-modal-desktop-mode {\n  display: grid;\n  grid-template-columns: 205px auto;\n  gap: 70px;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view {\n  display: block;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\n  height: 364px;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item--web-wallet {\n  display: none;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-toggle {\n  padding: 26px 24px 12px;\n  border-radius: 24px 24px 0 0;\n  transition: all ease-in 0.2s;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-item__content {\n  height: 434px;\n  border-radius: 0 0 24px 24px;\n  transition: height ease-in 0.2s;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-icon {\n  transform: rotate(90deg);\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-connect-modal-desktop-mode__download-pera-description {\n  margin-top: 50px;\n}\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__download-view {\n  display: none;\n}\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__default-view {\n  display: none;\n}\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view {\n  display: block;\n}\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view .pera-wallet-connect-modal-download-pera-view__footer a {\n  display: flex;\n  cursor: pointer;\n}\n.pera-wallet-connect-modal-desktop-mode--compact {\n  grid-template-columns: unset;\n  gap: unset;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet {\n  padding: 28px 40px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\n  box-shadow: unset;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__description {\n  margin-bottom: 16px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\n  width: 172px;\n  height: 40px;\n  margin: 0 auto;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\n  height: 100%;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view {\n  overflow: hidden;\n  border-radius: 24px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item {\n  margin-bottom: 0;\n  border-radius: 0;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item:not(:last-child) {\n  border-bottom: 1px solid #e6e8ee;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item #pera-wallet-iframe {\n  height: 100%;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle {\n  padding: 20px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__text, .pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__content-with-label__text {\n  color: #626268;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__bold-color {\n  font-weight: 600;\n  color: #1a1a1a;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\n  height: 265px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-container {\n  display: flex;\n  justify-content: space-between;\n  margin-top: 14px;\n  padding: 0 20px;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-description,\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\n  margin: 0;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\n  font-weight: 500;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper {\n  margin: 4px auto 0;\n  padding: 0;\n  box-shadow: unset;\n}\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper svg {\n  padding: 8px;\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\n  border-radius: 12px;\n}\n.pera-wallet-connect-modal-desktop-mode--select-account {\n  width: 100%;\n  height: 100%;\n}\n.pera-wallet-connect-modal-desktop-mode--select-account.pera-wallet-connect-modal-desktop-mode--default {\n  overflow: hidden;\n}\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\n  position: unset;\n}\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-accordion {\n  overflow: hidden;\n}\n.pera-wallet-connect-modal-desktop-mode--select-account #pera-wallet-iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n}\n\n.pera-wallet-connect-modal-desktop-mode__accordion__description,\n.pera-wallet-connect-modal-desktop-mode__connect-button-wrapper {\n  padding: 0 40px 20px 64px;\n}\n\n.pera-wallet-connect-modal-desktop-mode__web-wallet {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: calc(100% - 88px);\n  padding: 48px 52px 40px;\n  margin: 0 auto;\n}\n\n.pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 72px;\n  height: 72px;\n  margin: 0 auto 16px;\n  background: #ffffff;\n  border-radius: 50%;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.1), 0px 10px 16px rgba(20, 37, 63, 0.06);\n}\n\n.pera-wallet-connect-modal-desktop-mode__web-wallet__description {\n  margin: 0 auto 32px;\n  font-size: 14px;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  text-align: center;\n  color: #6a6a81;\n}\n\n.pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  width: 100%;\n  padding: 14px 0;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.1;\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n\n.pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\n  position: relative;\n  width: fit-content;\n  margin: 0 auto;\n}\n\n.pera-wallet-connect-modal-desktop-mode__connect-button {\n  display: block;\n  width: 100%;\n  height: 48px;\n  border: unset;\n  border-radius: 6px;\n  background-color: #333333;\n  color: white;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 13px;\n}\n\n.pera-wallet-connect-qr-code-wrapper {\n  width: fit-content;\n  margin: 24px auto 0;\n  padding: 10px;\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\n  border-radius: 24px;\n}\n\n.pera-wallet-connect-modal-desktop-mode__download-pera-description {\n  color: #838aa6;\n  text-align: center;\n  margin: 32px 0 12px;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.04px;\n}\n\n.pera-wallet-connect-modal-desktop-mode__download-pera-button {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 0 auto;\n  padding: 0;\n  color: #6b46fe;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 20px;\n  letter-spacing: 0.01px;\n  cursor: pointer;\n}\n\n.pera-wallet-connect-modal-download-pera-view__back-button {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 14px;\n  padding: 12px 24px;\n  color: #3c3c49;\n  background-color: #ffffff;\n  outline: none;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border: unset;\n  border-radius: 24px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  cursor: pointer;\n}\n\n.pera-wallet-connect-modal-download-pera-view {\n  padding: 32px 37px 28px;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 24px;\n}\n\n.pera-wallet-connect-modal-download-pera-view__title {\n  margin-bottom: 8px;\n  color: #3c3c49;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: -0.13px;\n}\n\n.pera-wallet-connect-modal-download-pera-view__footer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 53px;\n}\n\n.pera-wallet-connect-modal-download-pera-view__footer__button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 16px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  text-decoration: none;\n  border-radius: 12px;\n  font-weight: 500;\n  font-size: 13px;\n  line-height: 200%;\n  letter-spacing: -0.04px;\n  cursor: pointer;\n}\n\n#pera-wallet-iframe {\n  width: 285px;\n  height: 376px;\n  margin: 0 auto;\n  border: none;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-connect-modal-desktop-mode {\n    grid-template-columns: 1fr;\n    gap: 24px;\n  }\n  .pera-wallet-connect-qr-code-wrapper {\n    margin-top: 16px;\n  }\n  .pera-wallet-connect-modal-download-pera-view {\n    padding: 24px;\n  }\n  .pera-wallet-download-qr-code-wrapper {\n    margin-top: 32px;\n  }\n  .pera-wallet-connect-modal-download-pera-view__footer {\n    margin-top: 40px;\n  }\n}";
    r3(f3);
    var u4 = ".pera-wallet-accordion-item {\n  background-color: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.02), 0px 4px 12px rgba(0, 0, 0, 0.03);\n}\n.pera-wallet-accordion-item:not(:last-of-type) {\n  margin-bottom: 20px;\n}\n.pera-wallet-accordion-item:not(:last-of-type) .pera-wallet-accordion-panel {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.pera-wallet-accordion-item .pera-wallet-accordion-item__content {\n  height: 0;\n  overflow: hidden;\n  color: #69708d;\n  background-color: #ffffff;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.04px;\n  transition: height ease-in 0.2s;\n}\n.pera-wallet-accordion-item--active .pera-wallet-accordion-toggle {\n  padding: 26px 24px 12px;\n  border-radius: 24px 24px 0 0;\n  transition: all ease-in 0.2s;\n}\n.pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\n  border-radius: 0 0 24px 24px;\n  transition: height ease-in 0.2s;\n}\n.pera-wallet-accordion-item--active .pera-wallet-accordion-icon {\n  transform: rotate(90deg);\n}\n\n.pera-wallet-accordion-toggle {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 12px 24px;\n  color: #2c3559;\n  background-color: #ffffff;\n  border: none;\n  border-radius: 24px;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 18px;\n  letter-spacing: -0.1px;\n  font-weight: 600;\n  transition: all ease-in 0.2s;\n}\n.pera-wallet-accordion-toggle__text, .pera-wallet-accordion-toggle__content-with-label__text {\n  color: #626268;\n}\n\n.pera-wallet-accordion-icon {\n  transition: all ease-in 0.2s;\n}\n\n.pera-wallet-accordion-toggle__bold-color {\n  color: #1A1A1A;\n  font-weight: 600;\n}\n\n.pera-wallet-accordion-toggle__content-with-label {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.pera-wallet-accordion-toggle__label {\n  padding: 4px 9px;\n  color: #1C786C;\n  background: #E0FAEE;\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n}\n\n.pera-wallet-accordion-toggle__button {\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  cursor: pointer;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-accordion-toggle {\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: -0.1px;\n  }\n}";
    r3(u4);
    var _4 = document.createElement("template");
    var b3 = document.createElement("style");
    var v2 = document.createElement("style");
    b3.textContent = f3, v2.textContent = u4;
    _4.innerHTML = `
  <div id="pera-wallet-connect-modal-desktop-mode" class="pera-wallet-connect-modal-desktop-mode pera-wallet-connect-modal-desktop-mode--default">
      <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>

      <div class="pera-wallet-connect-modal-desktop-mode__default-view"></div>
       

      <div class="pera-wallet-connect-modal-desktop-mode__download-view">
        <button
          id="pera-wallet-connect-modal-download-pera-view-back-button"
          class="pera-wallet-connect-modal-download-pera-view__back-button">
          <img
            src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e"
            alt="Back Arrow"
          />

          Back
        </button>

        <div class="pera-wallet-connect-modal-download-pera-view">
          <h1 class="pera-wallet-connect-modal-download-pera-view__title">
            Download Pera Wallet
          </h1>

          <pera-wallet-download-qr-code></pera-wallet-download-qr-code>

          <div class="pera-wallet-connect-modal-download-pera-view__footer">
            <a
              href="https://apps.apple.com/us/app/algorand-wallet/id1459898525"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e" alt="App Store icon" />
            </a>

            <a
              href="https://play.google.com/store/apps/details?id=com.algorand.android"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e" alt="Play Store icon" />
            </a>

            <a
              class="pera-wallet-connect-modal-download-pera-view__footer__button"
              href="https://perawallet.s3-eu-west-3.amazonaws.com/android-releases/app-pera-prod-release-bitrise-signed.apk"
              target="_blank"
              rel="noopener noreferrer">
              <img src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 14V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V14' stroke='%232C3559' stroke-width='1.5'/%3e%3cpath d='M11.9998 16V3M11.9998 16L7.47803 11.4783M11.9998 16L16.5215 11.4783' stroke='%232C3559' stroke-width='1.5'/%3e%3c/svg%3e" alt="Download icon" />

              Download APK File
            </a>
          </div>
        </div>
      </div>
    </div>
  `;
    var C3 = class extends HTMLElement {
      constructor() {
        var e3;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          this.shadowRoot.append(_4.content.cloneNode(true), b3, v2), this.shadowRoot.addEventListener("click", (e4) => {
            this.handleAccordion(e4);
          });
          if ("true" === this.getAttribute("compact-mode")) {
            const e4 = this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");
            null == e4 || e4.classList.add("pera-wallet-connect-modal-desktop-mode--compact");
          }
          const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.querySelector(".pera-wallet-connect-modal-desktop-mode__default-view"), t3 = "true" === this.getAttribute("promote-mobile"), { webWalletOption: a5, mobileWalletOption: o4 } = function(e4) {
            const n6 = `
  <div id="web-wallet-option" class="pera-wallet-accordion-item ${e4 ? "" : "pera-wallet-accordion-item--active"}  pera-wallet-accordion-item--web-wallet">
            <a class="pera-wallet-accordion-toggle">
              <button class="pera-wallet-accordion-toggle__button"></button>
  
              <img src="${x5}" class="pera-wallet-accordion-icon" />
  
              <div class="pera-wallet-accordion-toggle__content-with-label">
                <div class="pera-wallet-accordion-toggle__content-with-label__text">
                  Connect With
  
                  <span class="pera-wallet-accordion-toggle__bold-color">
                    Pera Web
                  </span>
                </div>
  
                <span id="pera-web-new-label" class="pera-wallet-accordion-toggle__label">NEW</span>
              </div>
            </a>
  
            <div class="pera-wallet-accordion-item__content">
              <div class="pera-wallet-connect-modal-desktop-mode__web-wallet"><div>
              
              <div
                class="pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper">
                <img src="data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.5' y='7.5' width='36' height='26' rx='5.5' stroke='%236B46FE' stroke-width='3'/%3e%3cpath d='M22.4973 14.5237C22.8556 16.041 22.7344 17.3757 22.2267 17.5048C21.719 17.6339 21.0169 16.5085 20.6586 14.9912C20.3003 13.4739 20.4214 12.1392 20.9292 12.0101C21.4369 11.881 22.1389 13.0064 22.4973 14.5237Z' fill='%236B46FE'/%3e%3cpath d='M28.4139 15.8282C27.6204 14.9686 26.0417 15.2016 24.8877 16.3486C23.7338 17.4956 23.4417 19.1222 24.2352 19.9818C25.0287 20.8414 26.6074 20.6084 27.7613 19.4614C28.9153 18.3144 29.2074 16.6878 28.4139 15.8282Z' fill='%236B46FE'/%3e%3cpath d='M22.1027 28.9905C22.6104 28.8614 22.7137 27.4512 22.3334 25.8407C21.9531 24.2303 21.2332 23.0294 20.7254 23.1585C20.2177 23.2876 20.1144 24.6978 20.4947 26.3083C20.875 27.9187 21.5949 29.1196 22.1027 28.9905Z' fill='%236B46FE'/%3e%3cpath d='M16.9269 16.6152C18.3917 17.0567 19.4621 17.8312 19.3176 18.3452C19.1731 18.8591 17.8686 18.9179 16.4037 18.4764C14.9389 18.0349 13.8686 17.2603 14.0131 16.7464C14.1575 16.2324 15.4621 16.1737 16.9269 16.6152Z' fill='%236B46FE'/%3e%3cpath d='M26.4342 22.4188C27.9889 22.8874 29.1322 23.6839 28.9877 24.1979C28.8432 24.7118 27.4657 24.7486 25.911 24.28C24.3563 23.8114 23.213 23.0148 23.3575 22.5009C23.502 21.9869 24.8795 21.9502 26.4342 22.4188Z' fill='%236B46FE'/%3e%3cpath d='M18.5752 21.3404C18.2119 20.9555 17.0205 21.5157 15.914 22.5915C14.8075 23.6673 14.2049 24.8514 14.5682 25.2363C14.9314 25.6211 16.1229 25.061 17.2294 23.9852C18.3359 22.9094 18.9384 21.7253 18.5752 21.3404Z' fill='%236B46FE'/%3e%3cpath d='M16 39C21 39.0001 23.5 39.0001 28 39' stroke='%236B46FE' stroke-width='3' stroke-linecap='round'/%3e%3c/svg%3e" />
              </div>
  
              <p
                class="pera-wallet-connect-modal-desktop-mode__web-wallet__description">
                Connect with Pera Web to continue
              </p>
            </div>
  
            <button
              id="pera-wallet-connect-web-wallet-launch-button"
              class="pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button">
              Launch Pera Web
  
              <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.0892 9.41009C13.4147 9.73553 13.4147 10.2632 13.0892 10.5886L8.08924 15.5886C7.7638 15.914 7.23616 15.914 6.91072 15.5886C6.58529 15.2632 6.58529 14.7355 6.91072 14.4101L11.3215 9.99935L6.91073 5.5886C6.58529 5.26317 6.58529 4.73553 6.91073 4.41009C7.23616 4.08466 7.7638 4.08466 8.08924 4.41009L13.0892 9.41009Z' fill='white'/%3e%3c/svg%3e" />
            </button>
          </div>`, t4 = `
  <div id="mobile-wallet-option" class="pera-wallet-accordion-item ${e4 ? "pera-wallet-accordion-item--active" : ""}">
            <a class="pera-wallet-accordion-toggle">
            <button class="pera-wallet-accordion-toggle__button"></button>
  
              <img src="${x5}" class="pera-wallet-accordion-icon" />
  
              <div class="pera-wallet-accordion-toggle__text">
                Connect with
  
                <span class="pera-wallet-accordion-toggle__bold-color">
                  Pera Mobile
                </span>
              </div>
            </a>
  
            <div class="pera-wallet-accordion-item__content">
              <div id="pera-wallet-connect-modal-connect-qr-code" class="pera-wallet-connect-qr-code-wrapper"></div>
  
              <div class="pera-wallet-connect-modal-desktop-mode__download-pera-container">
                <p
                  class="pera-wallet-connect-modal-desktop-mode__download-pera-description">
                    Don\u2019t have Pera Wallet app?
                </p>
  
                <button
                  id="pera-wallet-connect-modal-desktop-mode-download-pera-button"
                  class="pera-wallet-connect-modal-desktop-mode__download-pera-button">
                  <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e" alt="QR Icon" />
  
                  Download Pera Wallet
                </button>
              </div>
            </div>
          </div>`;
            return { mobileWalletOption: document.createRange().createContextualFragment(t4), webWalletOption: document.createRange().createContextualFragment(n6) };
          }(t3);
          t3 ? (null == n5 || n5.appendChild(o4), null == n5 || n5.appendChild(a5)) : (null == n5 || n5.appendChild(a5), null == n5 || n5.appendChild(o4));
        }
      }
      connectedCallback() {
        var e3;
        const n5 = this.getAttribute("should-display-new-badge"), t3 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-web-new-label");
        "false" === n5 && (null == t3 || t3.setAttribute("style", "display:none")), this.handleChangeView();
      }
      handleChangeView() {
        var e3, n5, t3;
        const a5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-connect-modal-desktop-mode-download-pera-button"), o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-connect-modal-download-pera-view-back-button"), l5 = null === (t3 = this.shadowRoot) || void 0 === t3 ? void 0 : t3.getElementById("pera-wallet-connect-web-wallet-launch-button");
        a5 && a5.addEventListener("click", () => {
          this.onClickDownload();
        }), o4 && o4.addEventListener("click", () => {
          this.onClickBack();
        }), l5 && l5.addEventListener("click", () => {
          this.webWalletConnect();
        }), this.renderQRCode(), this.checkWebWalletAvaliability();
      }
      webWalletConnect() {
        "true" === this.getAttribute("is-web-wallet-avaliable") && window.onWebWalletConnect();
      }
      handleAccordion(e3) {
        var n5, t3;
        if (e3.target instanceof Element) {
          if (!e3.target.classList.contains("pera-wallet-accordion-toggle__button"))
            return;
          if (this.shadowRoot && (null === (n5 = e3.target.parentElement) || void 0 === n5 ? void 0 : n5.parentElement)) {
            const n6 = null === (t3 = e3.target.parentElement) || void 0 === t3 ? void 0 : t3.parentElement;
            if (!n6)
              return;
            if (n6.classList.contains("pera-wallet-accordion-item--active"))
              return;
            const a5 = this.shadowRoot.querySelectorAll(".pera-wallet-accordion-item.pera-wallet-accordion-item--active");
            for (let e4 = 0; e4 < a5.length; e4++)
              a5[e4].classList.remove("pera-wallet-accordion-item--active");
            n6.classList.toggle("pera-wallet-accordion-item--active");
          }
        }
      }
      renderQRCode() {
        var e3;
        const n5 = this.getAttribute("uri");
        let t3 = "false" === this.getAttribute("is-web-wallet-avaliable") ? 250 : 205;
        if ("true" === this.getAttribute("compact-mode") && (t3 = 190), n5) {
          const a5 = new o3.default({ width: t3, height: t3, type: "svg", data: n5, image: m3, dotsOptions: { color: "#000", type: "extra-rounded" }, imageOptions: { crossOrigin: "anonymous", margin: 8 }, cornersSquareOptions: { type: "extra-rounded" }, cornersDotOptions: { type: "dot" } }), l5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-connect-modal-connect-qr-code");
          l5 && a5.append(l5);
        }
      }
      onClickDownload() {
        if (this.shadowRoot) {
          const e3 = this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");
          e3 && (e3.classList.remove("pera-wallet-connect-modal-desktop-mode--default"), e3.classList.add("pera-wallet-connect-modal-desktop-mode--download"));
        }
      }
      onClickBack() {
        if (this.shadowRoot) {
          const e3 = this.shadowRoot.getElementById("pera-wallet-connect-modal-desktop-mode");
          e3 && (e3.classList.add("pera-wallet-connect-modal-desktop-mode--default"), e3.classList.remove("pera-wallet-connect-modal-desktop-mode--download"));
        }
      }
      checkWebWalletAvaliability() {
        var e3;
        if ("false" === this.getAttribute("is-web-wallet-avaliable")) {
          const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.querySelector(".pera-wallet-connect-modal-desktop-mode__default-view");
          null == n5 || n5.classList.add("pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable");
        }
      }
    };
    var L3 = ".pera-wallet-connect-modal-touch-screen-mode {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 46px;\n  padding: 4px;\n}\n\n.pera-wallet-connect-modal-touch-screen-mode--pending-message-view {\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding-bottom: 70px;\n}\n\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button,\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\n  display: block;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n}\n\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button {\n  margin-bottom: 32px;\n  background-color: #6b46fe;\n  color: #ffffff;\n}\n\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\n  margin-bottom: 20px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n}\n\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box {\n  position: relative;\n  margin-bottom: 32px;\n  border-top: 1px solid #e6e8ee;\n}\n\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text {\n  position: absolute;\n  top: -25px;\n  right: calc(50% - 56px);\n  width: 116px;\n  color: #69708d;\n  background-color: #ffffff;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.04px;\n  text-align: center;\n}";
    r3(L3);
    var k3 = document.createElement("template");
    var y7 = class extends HTMLElement {
      constructor() {
        var n5;
        if (super(), this.attachShadow({ mode: "open" }), k3.innerHTML = '\n  <div class="pera-wallet-connect-modal-touch-screen-mode">\n    <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>\n\n    <div>\n      <a\n        id="pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button"\n        class="pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Launch Pera Wallet\n      </a>\n\n      <div\n        class="pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box">\n        <p\n          class="pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text"\n          >\n          New to Pera?\n        </p>\n      </div>\n\n      <a\n        href="https://perawallet.app/download/"\n        class="pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Install Pera Wallet\n      </a>\n    </div>\n  </div>\n', this.shadowRoot) {
          const t3 = document.createElement("style");
          t3.textContent = L3, this.shadowRoot.append(k3.content.cloneNode(true), t3);
          const a5 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button"), o4 = this.getAttribute("uri");
          a5 && o4 && (a5.setAttribute("href", function(n6) {
            let t4 = i3(false);
            e2.isIOS() && !t4.includes("-wc") && (t4 = t4.replace("://", "-wc://"));
            let a6 = `${t4}wc?uri=${encodeURIComponent(n6)}`;
            const o5 = e2.detectBrowser();
            return e2.isAndroid() && (a6 = n6), o5 && (a6 = `${a6}&browser=${encodeURIComponent(o5)}`), a6;
          }(o4)), a5.addEventListener("click", () => {
            this.onClickLaunch();
          }));
        }
      }
      onClickLaunch() {
        if (k3.innerHTML = `
    <div class="pera-wallet-connect-modal-touch-screen-mode pera-wallet-connect-modal-touch-screen-mode--pending-message-view">
      <pera-wallet-connect-modal-pending-message-section should-use-sound="${this.getAttribute("should-use-sound")}"></pera-wallet-connect-modal-pending-message-section>
    </div>
  `, this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = L3, this.shadowRoot.innerHTML = "", this.shadowRoot.append(k3.content.cloneNode(true), e3);
        }
      }
    };
    var M3 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.pera-wallet-modal {\n  --pera-wallet-modal-font-family: "Inter", sans-serif;\n  --pera-wallet-modal-compact-width: 380px;\n  --pera-wallet-modal-compact-height: 396px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\n  background-image: unset;\n}\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\n  width: var(--pera-wallet-modal-compact-width);\n  height: var(--pera-wallet-modal-compact-height);\n  padding: 0;\n}\n.pera-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pera-wallet-modal ul,\n.pera-wallet-modal ol,\n.pera-wallet-modal li {\n  list-style-type: none;\n}\n\n.pera-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.pera-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.pera-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #f3f3f7;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n.pera-wallet-modal__body::before {\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  content: "";\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\n  background-size: 116px 116px;\n  mix-blend-mode: overlay;\n  border-radius: 24px;\n  opacity: 0.8;\n  pointer-events: none;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes PeraWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes PeraWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}';
    r3(M3);
    var E5 = document.createElement("template");
    var z3 = e2.isMobile() ? `${e2.PERA_WALLET_MODAL_CLASSNAME} ${e2.PERA_WALLET_MODAL_CLASSNAME}--mobile` : `${e2.PERA_WALLET_MODAL_CLASSNAME} ${e2.PERA_WALLET_MODAL_CLASSNAME}--desktop`;
    var A3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = M3;
          "true" === this.getAttribute("compact-mode") && (z3 = `${z3} ${e2.PERA_WALLET_MODAL_CLASSNAME}--compact`), e2.isMobile() ? (E5.innerHTML = `
        <div class="${z3}">
          <div class="pera-wallet-modal__body" part="body">
            <pera-wallet-modal-header modal-id="${e2.PERA_WALLET_CONNECT_MODAL_ID}"></pera-wallet-modal-header/>
      
            <pera-wallet-modal-touch-screen-mode uri="${this.getAttribute("uri")}" should-use-sound="${this.getAttribute("should-use-sound")}"></pera-wallet-modal-touch-screen-mode>
          </div>
        </div>
      `, this.shadowRoot.append(E5.content.cloneNode(true), n5)) : (E5.innerHTML = `
          <div class="${z3}">
            <div class="pera-wallet-modal__body">
              <pera-wallet-modal-header modal-id="${e2.PERA_WALLET_CONNECT_MODAL_ID}"></pera-wallet-modal-header/>
        
              <pera-wallet-modal-desktop-mode id="pera-wallet-modal-desktop-mode" uri="${this.getAttribute("uri")}" is-web-wallet-avaliable="${this.getAttribute("is-web-wallet-avaliable")}" should-display-new-badge="${this.getAttribute("should-display-new-badge")}" compact-mode="${this.getAttribute("compact-mode")}" promote-mobile="${this.getAttribute("promote-mobile")}"></pera-wallet-modal-desktop-mode>
            </div>
          </div>
        `, this.shadowRoot.append(E5.content.cloneNode(true), n5));
        }
      }
    };
    var Z3 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.pera-wallet-modal {\n  --pera-wallet-modal-font-family: "Inter", sans-serif;\n  --pera-wallet-modal-compact-width: 380px;\n  --pera-wallet-modal-compact-height: 396px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\n  background-image: unset;\n}\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\n  width: var(--pera-wallet-modal-compact-width);\n  height: var(--pera-wallet-modal-compact-height);\n  padding: 0;\n}\n.pera-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pera-wallet-modal ul,\n.pera-wallet-modal ol,\n.pera-wallet-modal li {\n  list-style-type: none;\n}\n\n.pera-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.pera-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.pera-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #f3f3f7;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n.pera-wallet-modal__body::before {\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  content: "";\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\n  background-size: 116px 116px;\n  mix-blend-mode: overlay;\n  border-radius: 24px;\n  opacity: 0.8;\n  pointer-events: none;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes PeraWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes PeraWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.pera-wallet-redirect-modal {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.pera-wallet-redirect-modal__content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.pera-wallet-redirect-modal__content__title {\n  margin: 20px 0 8px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 22px;\n  letter-spacing: -0.26px;\n}\n\n.pera-wallet-redirect-modal__content__description,\n.pera-wallet-redirect-modal__content__install-pera-text {\n  color: #3c3c49;\n  max-width: 271px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.pera-wallet-redirect-modal__content__description {\n  margin-bottom: 24px;\n}\n\n.pera-wallet-redirect-modal__content__install-pera-text__link {\n  color: #6b46fe;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.pera-wallet-redirect-modal__launch-pera-wallet-button {\n  display: block;\n  padding: 14px;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n}';
    r3(Z3);
    var H4 = document.createElement("template");
    H4.innerHTML = `
  <div class="pera-wallet-modal pera-wallet-modal--mobile">
    <div class="pera-wallet-modal__body">
      <pera-wallet-modal-header modal-id="${e2.PERA_WALLET_REDIRECT_MODAL_ID}"></pera-wallet-modal-header/>

      <div class="pera-wallet-redirect-modal">
        <div class="pera-wallet-redirect-modal__content">
          <img src="data:image/svg+xml,%3csvg width='120' height='38' viewBox='0 0 120 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_38844_290434)'%3e%3cpath d='M103.739 28.6746H109.565' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M112.25 37H100.75C97.5731 37 95 34.2336 95 30.8182V9.18182C95 5.76636 97.5731 3 100.75 3H112.25C115.427 3 118 5.76636 118 9.18182V30.8182C118 34.2336 115.427 37 112.25 37Z' fill='%236B46FE' fill-opacity='0.1' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3crect y='1' width='36' height='36' rx='7.76829' fill='%236B46FE' fill-opacity='0.1'/%3e%3cpath d='M19.6057 9.47351C20.1851 11.8819 19.9967 14.0022 19.1848 14.2093C18.373 14.4164 17.2452 12.6319 16.6658 10.2235C16.0864 7.81514 16.2748 5.69486 17.0867 5.48775C17.8985 5.28063 19.0263 7.06512 19.6057 9.47351Z' fill='%236B46FE'/%3e%3cpath d='M29.0775 11.5213C27.8045 10.1593 25.2795 10.5358 23.4378 12.3621C21.5961 14.1885 21.1352 16.7732 22.4083 18.1352C23.6814 19.4972 26.2064 19.1207 28.048 17.2943C29.8897 15.4679 30.3506 12.8832 29.0775 11.5213Z' fill='%236B46FE'/%3e%3cpath d='M19.0324 32.4518C19.8443 32.2446 20.0039 30.0045 19.3889 27.4483C18.774 24.8921 17.6173 22.9877 16.8055 23.1948C15.9937 23.402 15.834 25.6421 16.449 28.1983C17.064 30.7545 18.2206 32.6589 19.0324 32.4518Z' fill='%236B46FE'/%3e%3cpath d='M10.7016 12.818C13.0471 13.5132 14.7627 14.739 14.5336 15.5559C14.3045 16.3728 12.2175 16.4714 9.87199 15.7762C7.52653 15.0809 5.81087 13.8551 6.03996 13.0383C6.26906 12.2214 8.35615 12.1228 10.7016 12.818Z' fill='%236B46FE'/%3e%3cpath d='M25.9365 21.9967C28.4259 22.7346 30.2583 23.995 30.0292 24.8119C29.8001 25.6287 27.5963 25.6927 25.1069 24.9548C22.6174 24.2169 20.7851 22.9565 21.0141 22.1397C21.2432 21.3228 23.447 21.2588 25.9365 21.9967Z' fill='%236B46FE'/%3e%3cpath d='M13.3578 20.316C12.775 19.7063 10.8709 20.6007 9.10487 22.3139C7.33879 24.0271 6.37952 25.9102 6.96226 26.5199C7.54501 27.1297 9.4491 26.2352 11.2152 24.522C12.9813 22.8089 13.9405 20.9258 13.3578 20.316Z' fill='%236B46FE'/%3e%3cpath d='M70.2098 10L75.3049 15.0945L52 15.0945' stroke='%23D0CAE7' stroke-width='3'/%3e%3cpath d='M60.7902 29.5945L55.6951 24.5L79 24.5' stroke='%23D0CAE7' stroke-width='3'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='clip0_38844_290434'%3e%3crect width='120' height='38' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e" />

          <h1 class="pera-wallet-redirect-modal__content__title">
            Can't Launch Pera
          </h1>

          <p class="pera-wallet-redirect-modal__content__description">
            We couldn't redirect you to Pera Wallet automatically. Please try again.
          </p>

          <p class="pera-wallet-redirect-modal__content__install-pera-text">
            Don't have Pera Wallet installed yet?
            <br />
            
            <a
              id="pera-wallet-redirect-modal-download-pera-link"
              class="pera-wallet-redirect-modal__content__install-pera-text__link"
              href="https://perawallet.app/download/"
              rel="noopener noreferrer"
              target="_blank">
              Tap here to install.
            </a>
          </p>
        </div>

        <a
          id="pera-wallet-redirect-modal-launch-pera-link"
          class="pera-wallet-redirect-modal__launch-pera-wallet-button"
          rel="noopener noreferrer"
          target="_blank">
          Launch Pera Wallet
        </a>
      </div>
    </div>
  </div>
`;
    var B3 = class extends HTMLElement {
      constructor() {
        var e3, n5;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const t3 = document.createElement("style");
          t3.textContent = Z3, this.shadowRoot.append(H4.content.cloneNode(true), t3);
          const a5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-redirect-modal-download-pera-link");
          null == a5 || a5.addEventListener("click", () => {
            this.onClose();
          });
          const o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-redirect-modal-launch-pera-link");
          null == o4 || o4.addEventListener("click", () => {
            this.onClose(), window.open(i3(), "_blank");
          });
        }
      }
      connectedCallback() {
        const e3 = window.open(i3(), "_blank");
        e3 && !e3.closed && this.onClose();
      }
      onClose() {
        e2.removeModalWrapperFromDOM(e2.PERA_WALLET_REDIRECT_MODAL_ID);
      }
    };
    var F3 = "data:image/svg+xml,%3csvg width='32' height='35' viewBox='0 0 32 35' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.2837 5.09271C19.0234 8.12325 18.7827 10.7913 17.7463 11.0519C16.7098 11.3126 15.27 9.06712 14.5304 6.03657C13.7908 3.00603 14.0315 0.337996 15.0679 0.0773547C16.1044 -0.183287 17.5441 2.06216 18.2837 5.09271Z' fill='%233C3C49'/%3e%3cpath d='M30.376 7.66915C28.7507 5.95537 25.5271 6.42918 23.1759 8.72745C20.8247 11.0257 20.2361 14.2781 21.8614 15.9919C23.4866 17.7057 26.7102 17.2319 29.0614 14.9336C31.4127 12.6354 32.0012 9.38294 30.376 7.66915Z' fill='%233C3C49'/%3e%3cpath d='M17.5511 34.0071C18.5876 33.7465 18.7914 30.9276 18.0064 27.711C17.2214 24.4945 15.7448 22.0982 14.7084 22.3589C13.6719 22.6195 13.4681 25.4383 14.2531 28.6549C15.0381 31.8715 16.5147 34.2677 17.5511 34.0071Z' fill='%233C3C49'/%3e%3cpath d='M6.91617 9.3015C9.9105 10.1763 12.1008 11.7187 11.8083 12.7466C11.5158 13.7745 8.85126 13.8986 5.85693 13.0239C2.8626 12.1491 0.672334 10.6067 0.964835 9.57881C1.25734 8.5509 3.92184 8.42674 6.91617 9.3015Z' fill='%233C3C49'/%3e%3cpath d='M26.3656 20.8508C29.5437 21.7793 31.883 23.3652 31.5905 24.3932C31.298 25.4211 28.4845 25.5017 25.3063 24.5732C22.1282 23.6448 19.7889 22.0588 20.0814 21.0309C20.3739 20.003 23.1874 19.9224 26.3656 20.8508Z' fill='%233C3C49'/%3e%3cpath d='M10.3069 18.7365C9.56299 17.9692 7.13209 19.0948 4.87736 21.2506C2.62264 23.4064 1.39791 25.776 2.14185 26.5432C2.8858 27.3105 5.3167 26.1849 7.57143 24.0291C9.82615 21.8733 11.0509 19.5037 10.3069 18.7365Z' fill='%233C3C49'/%3e%3c/svg%3e";
    var R3 = ".pera-wallet-connect-modal-information-section {\n  padding: 12px;\n  padding-right: 0;\n}\n.pera-wallet-connect-modal-information-section--mobile {\n  padding: 0;\n}\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__pera-icon {\n  margin-bottom: 16px;\n}\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__connect-pera-title {\n  margin-bottom: 8px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 22px;\n  letter-spacing: -0.2px;\n}\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__title {\n  margin-bottom: 24px;\n  color: #3c3c49;\n  font-size: 14px;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  font-weight: 400;\n}\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\n  background-color: #f2f3f8;\n}\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__description {\n  color: #6a6a81;\n}\n.pera-wallet-connect-modal-information-section * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.pera-wallet-connect-modal-information-section__pera-icon {\n  margin-bottom: 32px;\n}\n\n.pera-wallet-connect-modal-information-section__title {\n  margin-bottom: 148px;\n  color: #3c3c49;\n  font-size: 20px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.5px;\n}\n\n.pera-wallet-connect-modal-information-section__secondary-title {\n  margin-bottom: 20px;\n  color: #9d9dae;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: 0.06px;\n  text-transform: uppercase;\n}\n\n.pera-wallet-connect-modal-information-section__features-item {\n  display: grid;\n  align-items: center;\n  grid-template-columns: 36px auto;\n  gap: 16px;\n}\n.pera-wallet-connect-modal-information-section__features-item:not(:last-of-type) {\n  margin-bottom: 24px;\n}\n\n.pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  background-color: #ffffff;\n  border-radius: 50%;\n}\n\n.pera-wallet-connect-modal-information-section__features-item__description {\n  color: #6a6a81;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-connect-modal-information-section--desktop {\n    padding: 0;\n  }\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__pera-icon {\n    margin-bottom: 12px;\n  }\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__title {\n    margin-bottom: 24px;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: -0.26px;\n  }\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__features-item {\n    display: none;\n  }\n  .pera-wallet-connect-modal-information-section__secondary-title {\n    display: none;\n  }\n}";
    r3(R3);
    var I = document.createElement("template");
    var V2 = e2.isMobile() ? "pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--mobile" : "pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--desktop";
    I.innerHTML = `
  <section class="${V2}">
    <img
      id="pera-wallet-connect-modal-information-section-pera-icon"
      src="${F3}"
      class="pera-wallet-connect-modal-information-section__pera-icon"
      alt="Pera Wallet Logo"
    />

    <h1 id="pera-wallet-connect-modal-information-section-connect-pera-mobile" class="pera-wallet-connect-modal-information-section__connect-pera-title">
        Connect to Pera Wallet
    </h1>

    <h1 class="pera-wallet-connect-modal-information-section__title">
      Simply the best Algorand wallet.
    </h1>

    <h2 id="pera-wallet-connect-modal-information-section-secondary-title" class="pera-wallet-connect-modal-information-section__secondary-title">
      Features
    </h2>

    <ul>
      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M2.5 10.1378C2.5 10.8378 3.025 11.6461 3.66667 11.9294L9.325 14.4461C9.75833 14.6378 10.25 14.6378 10.675 14.4461L16.3333 11.9294C16.975 11.6461 17.5 10.8378 17.5 10.1378M2.5 14.3044C2.5 15.0794 2.95833 15.7794 3.66667 16.0961L9.325 18.6128C9.75833 18.8044 10.25 18.8044 10.675 18.6128L16.3333 16.0961C17.0417 15.7794 17.5 15.0794 17.5 14.3044M10.8417 3.4043L15.7583 5.58763C17.175 6.21263 17.175 7.24596 15.7583 7.87096L10.8417 10.0543C10.2833 10.3043 9.36668 10.3043 8.80835 10.0543L3.89168 7.87096C2.47502 7.24596 2.47502 6.21263 3.89168 5.58763L8.80835 3.4043C9.36668 3.1543 10.2833 3.1543 10.8417 3.4043Z' stroke='%239D9DAE' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e" alt="Layer Icon" />
        </div>
        
        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          Connect to any Algorand dApp securely
        </p>
      </li>

      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div
          class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='24' height='25' viewBox='0 0 24 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.58033 12.3109C9.28744 12.018 8.81257 12.018 8.51967 12.3109C8.22678 12.6038 8.22678 13.0787 8.51967 13.3716L9.58033 12.3109ZM10.66 14.4512L10.1297 14.9816C10.4226 15.2745 10.8974 15.2745 11.1903 14.9816L10.66 14.4512ZM15.4903 10.6816C15.7832 10.3887 15.7832 9.91381 15.4903 9.62092C15.1974 9.32803 14.7226 9.32803 14.4297 9.62092L15.4903 10.6816ZM19.84 8.09125C19.84 8.50546 20.1758 8.84125 20.59 8.84125C21.0042 8.84125 21.34 8.50546 21.34 8.09125H19.84ZM18.5 5.07125L18.2368 5.77355L18.2373 5.77375L18.5 5.07125ZM13.51 3.20125L13.7732 2.49894L13.7724 2.49866L13.51 3.20125ZM10.49 3.20125L10.2276 2.49865L10.2256 2.49941L10.49 3.20125ZM5.5 5.08125L5.76268 5.78375L5.76442 5.78309L5.5 5.08125ZM5.14 18.9612L4.69102 19.562L4.69135 19.5623L5.14 18.9612ZM9.44 22.1713L9.89069 21.5718L9.88866 21.5702L9.44 22.1713ZM14.58 22.1713L14.1313 21.5702L14.1293 21.5718L14.58 22.1713ZM18.88 18.9612L19.3287 19.5623L19.329 19.562L18.88 18.9612ZM21.36 8.09125C21.36 7.67704 21.0242 7.34125 20.61 7.34125C20.1958 7.34125 19.86 7.67704 19.86 8.09125H21.36ZM8.51967 13.3716L10.1297 14.9816L11.1903 13.9209L9.58033 12.3109L8.51967 13.3716ZM11.1903 14.9816L15.4903 10.6816L14.4297 9.62092L10.1297 13.9209L11.1903 14.9816ZM21.34 8.09125C21.34 7.29392 21.0398 6.50041 20.5931 5.85456C20.1463 5.20881 19.5097 4.64807 18.7627 4.36875L18.2373 5.77375C18.6403 5.92443 19.0487 6.25869 19.3595 6.70794C19.6702 7.15709 19.84 7.65858 19.84 8.09125H21.34ZM18.7632 4.36895L13.7732 2.49895L13.2468 3.90355L18.2368 5.77355L18.7632 4.36895ZM13.7724 2.49866C13.2479 2.30277 12.6051 2.21875 12 2.21875C11.3949 2.21875 10.7521 2.30277 10.2276 2.49866L10.7524 3.90384C11.0579 3.78973 11.5101 3.71875 12 3.71875C12.4899 3.71875 12.9421 3.78973 13.2476 3.90384L13.7724 2.49866ZM10.2256 2.49941L5.23558 4.37941L5.76442 5.78309L10.7544 3.90309L10.2256 2.49941ZM5.23733 4.37875C4.49043 4.65803 3.85398 5.2186 3.40741 5.86265C2.96095 6.50656 2.66 7.2978 2.66 8.09125H4.16C4.16 7.6647 4.32906 7.16594 4.64009 6.71735C4.95103 6.2689 5.35957 5.93447 5.76268 5.78375L5.23733 4.37875ZM2.66 8.09125V15.5212H4.16V8.09125H2.66ZM2.66 15.5212C2.66 16.2602 2.8989 17.059 3.24874 17.7545C3.59871 18.4503 4.09802 19.1188 4.69102 19.562L5.58899 18.3605C5.23198 18.0937 4.86629 17.6322 4.58877 17.0805C4.31111 16.5285 4.16 15.9623 4.16 15.5212H2.66ZM4.69135 19.5623L8.99135 22.7723L9.88866 21.5702L5.58866 18.3602L4.69135 19.5623ZM8.98932 22.7707C9.84721 23.4157 10.9462 23.7163 12.01 23.7163C13.0738 23.7163 14.1728 23.4157 15.0307 22.7707L14.1293 21.5718C13.5772 21.9868 12.8112 22.2163 12.01 22.2163C11.2088 22.2163 10.4428 21.9868 9.89068 21.5718L8.98932 22.7707ZM15.0287 22.7723L19.3287 19.5623L18.4313 18.3602L14.1313 21.5702L15.0287 22.7723ZM19.329 19.562C19.922 19.1188 20.4213 18.4503 20.7713 17.7545C21.1211 17.059 21.36 16.2602 21.36 15.5212H19.86C19.86 15.9623 19.7089 16.5285 19.4312 17.0805C19.1537 17.6322 18.788 18.0937 18.431 18.3605L19.329 19.562ZM21.36 15.5212V8.09125H19.86V15.5212H21.36Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Tick Icon" />
        </div>

        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          Your private keys are safely stored locally
        </p>
      </li>

      <li class="pera-wallet-connect-modal-information-section__features-item">
        <div
          class="pera-wallet-connect-modal-information-section__features-item__icon-wrapper">
          <img src="data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.05 9.67014L17.3198 9.49894L18.05 9.67014ZM17.2333 13.1535L16.5031 12.9823L16.5029 12.9835L17.2333 13.1535ZM12.55 17.1285L12.6218 16.3818L12.6098 16.3809L12.55 17.1285ZM11.2 16.9035L11.376 16.1744L11.3737 16.1739L11.2 16.9035ZM9.8 16.5701L9.97372 15.8405L9.97324 15.8404L9.8 16.5701ZM6.06667 10.5451L6.79687 10.7163L6.79696 10.7159L6.06667 10.5451ZM6.88334 7.05347L6.15327 6.88169L6.15304 6.88267L6.88334 7.05347ZM7.5 5.22014L8.17303 5.55114L8.17523 5.54659L7.5 5.22014ZM12.9167 3.32014L12.744 4.05L12.7461 4.05049L12.9167 3.32014ZM14.3083 3.64514L14.4791 2.91485L14.4789 2.91479L14.3083 3.64514ZM10.5917 18.0285L10.359 17.3155L10.3572 17.3161L10.5917 18.0285ZM9.27501 18.4618L9.50516 19.1756L9.50947 19.1742L9.27501 18.4618ZM3.15001 15.3285L2.43654 15.5597L2.43672 15.5603L3.15001 15.3285ZM2.08334 12.0368L1.36953 12.267L1.36987 12.268L2.08334 12.0368ZM5.20834 5.91182L5.43849 6.62565L5.44281 6.62423L5.20834 5.91182ZM6.52501 5.47848L6.29831 4.76352L6.29055 4.76608L6.52501 5.47848ZM10.7177 7.35149C10.3162 7.24967 9.90818 7.49261 9.80635 7.89411C9.70453 8.29561 9.94746 8.70364 10.349 8.80546L10.7177 7.35149ZM14.3906 9.83046C14.7921 9.93229 15.2002 9.68935 15.302 9.28785C15.4038 8.88635 15.1609 8.47832 14.7594 8.37649L14.3906 9.83046ZM9.90211 10.5768C9.50076 10.4743 9.09238 10.7167 8.98996 11.118C8.88755 11.5194 9.12988 11.9278 9.53124 12.0302L9.90211 10.5768ZM11.9479 12.6469C12.3493 12.7493 12.7576 12.5069 12.8601 12.1056C12.9625 11.7042 12.7201 11.2958 12.3188 11.1934L11.9479 12.6469ZM17.3198 9.49894L16.5031 12.9823L17.9635 13.3247L18.7802 9.84133L17.3198 9.49894ZM16.5029 12.9835C16.168 14.4224 15.6979 15.2955 15.1165 15.793C14.5605 16.2688 13.7912 16.4944 12.6218 16.3819L12.4782 17.875C13.9088 18.0126 15.1312 17.7548 16.0918 16.9327C17.0271 16.1323 17.5986 14.8928 17.9638 13.3234L16.5029 12.9835ZM12.6098 16.3809C12.2388 16.3512 11.8281 16.2835 11.376 16.1744L11.024 17.6325C11.5386 17.7567 12.0279 17.8391 12.4902 17.8761L12.6098 16.3809ZM11.3737 16.1739L9.97372 15.8405L9.62629 17.2997L11.0263 17.6331L11.3737 16.1739ZM9.97324 15.8404C8.30732 15.4449 7.40652 14.876 6.96107 14.1588C6.51616 13.4425 6.40566 12.385 6.79687 10.7163L5.33647 10.3739C4.91101 12.1887 4.92968 13.7311 5.68685 14.9502C6.44349 16.1685 7.81769 16.8704 9.62676 17.2999L9.97324 15.8404ZM6.79696 10.7159L7.61363 7.22428L6.15304 6.88267L5.33638 10.3743L6.79696 10.7159ZM7.6134 7.22525C7.77277 6.54795 7.95691 5.99053 8.17301 5.55113L6.82699 4.88915C6.54309 5.46641 6.32724 6.14234 6.15327 6.88169L7.6134 7.22525ZM8.17523 5.54659C8.59604 4.67619 9.11898 4.20234 9.77488 3.97598C10.4657 3.73759 11.4133 3.73525 12.744 4.05L13.0893 2.59028C11.6367 2.2467 10.3635 2.18603 9.28554 2.55805C8.17269 2.94211 7.37896 3.74743 6.82478 4.89369L8.17523 5.54659ZM12.7461 4.05049L14.1378 4.37549L14.4789 2.91479L13.0872 2.58979L12.7461 4.05049ZM14.1375 4.37543C15.8111 4.76687 16.7126 5.33603 17.1575 6.05304C17.6023 6.77006 17.7112 7.82942 17.3198 9.49894L18.7802 9.84133C19.2054 8.02753 19.1893 6.48272 18.4321 5.26224C17.6749 4.04175 16.2972 3.34008 14.4791 2.91485L14.1375 4.37543ZM12.1294 16.5075C11.6911 16.8045 11.1123 17.0697 10.359 17.3155L10.8243 18.7415C11.6544 18.4706 12.3756 18.1525 12.9706 17.7494L12.1294 16.5075ZM10.3572 17.3161L9.04055 17.7494L9.50947 19.1742L10.8261 18.7409L10.3572 17.3161ZM9.04486 17.748C7.46037 18.2589 6.43607 18.2362 5.71663 17.8681C4.99693 17.4999 4.37829 16.6816 3.8633 15.0967L2.43672 15.5603C2.99673 17.2837 3.78642 18.5654 5.03339 19.2035C6.28062 19.8416 7.78131 19.7314 9.50516 19.1756L9.04486 17.748ZM3.86348 15.0973L2.79682 11.8056L1.36987 12.268L2.43654 15.5597L3.86348 15.0973ZM2.79716 11.8067C2.28607 10.2215 2.3068 9.19457 2.67362 8.4739C3.03983 7.75443 3.85506 7.13616 5.43849 6.62563L4.9782 5.198C3.25329 5.75414 1.97269 6.54421 1.33682 7.79348C0.701551 9.04157 0.813948 10.5438 1.36953 12.267L2.79716 11.8067ZM5.44281 6.62423L6.75947 6.19089L6.29055 4.76608L4.97388 5.19941L5.44281 6.62423ZM6.75169 6.19341C7.08205 6.08866 7.37424 6.00724 7.63942 5.95707L7.36058 4.48321C7.00909 4.54971 6.6513 4.65164 6.29833 4.76356L6.75169 6.19341ZM10.349 8.80546L14.3906 9.83046L14.7594 8.37649L10.7177 7.35149L10.349 8.80546ZM9.53124 12.0302L11.9479 12.6469L12.3188 11.1934L9.90211 10.5768L9.53124 12.0302Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Note Icon" />
        </div>

        <p
          class="pera-wallet-connect-modal-information-section__features-item__description">
          View NFTs, buy and swap crypto and more
        </p>
      </li>
    </ul>
  </section>
`;
    var W4 = class extends HTMLElement {
      constructor() {
        var n5, t3, a5, o4;
        super(), this.attachShadow({ mode: "open" });
        const l5 = "true" === (null === (n5 = document.querySelector("pera-wallet-connect-modal")) || void 0 === n5 ? void 0 : n5.getAttribute("compact-mode"));
        if (this.shadowRoot && (!l5 && !e2.isMobile() || e2.isMobile())) {
          const n6 = document.createElement("style");
          n6.textContent = R3, this.shadowRoot.append(I.content.cloneNode(true), n6), e2.isMobile() ? null === (t3 = this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-title")) || void 0 === t3 || t3.setAttribute("style", "display: none;") : (null === (a5 = this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-pera-icon")) || void 0 === a5 || a5.setAttribute("src", "data:image/svg+xml,%3csvg width='84' height='38' viewBox='0 0 84 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M19.806 8.62773C20.4416 11.2609 20.2268 13.5772 19.3262 13.8012C18.4256 14.0253 17.1803 12.0723 16.5448 9.43906C15.9092 6.80585 16.1241 4.48959 17.0246 4.26555C17.9252 4.04151 19.1705 5.99452 19.806 8.62773Z' fill='%233C3C49'/%3e%3cpath d='M30.3007 10.8917C28.8932 9.3999 26.0929 9.80424 24.0461 11.7948C21.9994 13.7853 21.4812 16.6082 22.8887 18.1C24.2962 19.5917 27.0964 19.1874 29.1432 17.1969C31.1899 15.2064 31.7082 12.3834 30.3007 10.8917Z' fill='%233C3C49'/%3e%3cpath d='M19.1061 33.734C20.0067 33.5099 20.1899 31.0627 19.5153 28.2678C18.8408 25.473 17.5639 23.3889 16.6633 23.613C15.7627 23.837 15.5795 26.2843 16.2541 29.0791C16.9286 31.874 18.2056 33.958 19.1061 33.734Z' fill='%233C3C49'/%3e%3cpath d='M9.92571 12.2574C12.5239 13.0236 14.4224 14.3678 14.1662 15.2597C13.9099 16.1517 11.5959 16.2536 8.99771 15.4874C6.3995 14.7212 4.50098 13.377 4.75724 12.4851C5.0135 11.5931 7.3275 11.4912 9.92571 12.2574Z' fill='%233C3C49'/%3e%3cpath d='M26.7892 22.3292C29.5469 23.1424 31.5747 24.5247 31.3184 25.4167C31.0621 26.3086 28.6189 26.3724 25.8612 25.5592C23.1035 24.7459 21.0757 23.3636 21.3319 22.4717C21.5882 21.5797 24.0315 21.5159 26.7892 22.3292Z' fill='%233C3C49'/%3e%3cpath d='M12.8493 20.4577C12.205 19.7898 10.0916 20.7619 8.12896 22.6289C6.16631 24.4959 5.09759 26.5509 5.7419 27.2188C6.38622 27.8867 8.49958 26.9146 10.4622 25.0476C12.4249 23.1806 13.4936 21.1256 12.8493 20.4577Z' fill='%233C3C49'/%3e%3cpath d='M41.691 12.5347V11.9635H39.3366V27.1957H41.691V23.0915C41.691 22.6472 41.691 22.2876 41.6482 21.801H41.691C42.5471 23.1973 44.0026 23.9377 45.7148 23.9377C48.6043 23.9377 51.1299 21.7587 51.1299 17.7179C51.1299 13.7617 48.6043 11.625 45.7148 11.625C44.0668 11.625 42.6113 12.3443 41.691 13.7617H41.6482C41.691 13.2963 41.691 12.9578 41.691 12.5347ZM45.1155 21.9279C42.9324 21.9068 41.6696 20.0662 41.6696 17.6967C41.6696 15.4542 42.9324 13.656 45.1155 13.6348C47.2559 13.6137 48.6685 15.2638 48.6685 17.7179C48.6685 20.2354 47.2559 21.9491 45.1155 21.9279Z' fill='%233C3C49'/%3e%3cpath d='M63.4932 16.7236C63.4932 13.8041 61.1388 11.625 57.9283 11.625C54.5037 11.625 52.1279 13.931 52.1279 17.7814C52.1279 21.4836 54.4609 23.9377 57.9283 23.9377C60.7749 23.9377 62.8939 22.2876 63.3862 20.0239H60.8177C60.4111 21.1663 59.2981 21.9279 57.9283 21.9279C56.1732 21.9279 54.889 20.6797 54.6107 18.6064H63.4932V16.7236ZM57.9283 13.6348C59.662 13.6348 60.8606 14.8195 61.1174 16.5332H54.6321C54.9318 14.883 56.1518 13.6348 57.9283 13.6348Z' fill='%233C3C49'/%3e%3cpath d='M65.224 23.5992H67.5784V17.0409C67.5784 14.7984 68.8198 13.6348 70.7462 13.6348H72.009V11.625H71.003C69.2693 11.625 68.1991 12.7674 67.5784 13.7617H67.5356V11.9635H65.224V23.5992Z' fill='%233C3C49'/%3e%3cpath d='M83.0154 21.5683C82.6944 21.5683 82.5445 21.3779 82.5445 20.9971V15.8773C82.5445 13.4233 81.3459 11.625 77.8144 11.625C74.3898 11.625 72.8273 13.3175 72.6561 15.7292H75.0105C75.1603 14.4176 76.2091 13.6348 77.8144 13.6348C79.1842 13.6348 80.1259 14.2272 80.1259 15.158C80.1259 15.9196 79.5909 16.3851 77.8358 16.3851H76.894C74.0901 16.3851 72.2066 17.5063 72.2066 20.0662C72.2066 22.753 74.1972 23.98 76.5301 23.98C78.2638 23.98 79.7407 23.2184 80.3186 21.5894C80.3828 22.7742 81.1747 23.5992 82.673 23.5992H84V21.5683H83.0154ZM80.1902 18.1833C80.1902 20.8067 78.7561 21.9491 76.9154 21.9491C75.3101 21.9491 74.668 21.0182 74.668 20.0662C74.668 19.1565 75.2245 18.416 76.9368 18.416H77.2793C78.9273 18.416 79.9547 17.8448 80.1688 16.8505H80.1902V18.1833Z' fill='%233C3C49'/%3e%3c/svg%3e"), null === (o4 = this.shadowRoot.getElementById("pera-wallet-connect-modal-information-section-connect-pera-mobile")) || void 0 === o4 || o4.setAttribute("style", "display: none;"));
        }
      }
    };
    var S3 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.pera-wallet-modal {\n  --pera-wallet-modal-font-family: "Inter", sans-serif;\n  --pera-wallet-modal-compact-width: 380px;\n  --pera-wallet-modal-compact-height: 396px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\n  background-image: unset;\n}\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\n  width: var(--pera-wallet-modal-compact-width);\n  height: var(--pera-wallet-modal-compact-height);\n  padding: 0;\n}\n.pera-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pera-wallet-modal ul,\n.pera-wallet-modal ol,\n.pera-wallet-modal li {\n  list-style-type: none;\n}\n\n.pera-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.pera-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.pera-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #f3f3f7;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n.pera-wallet-modal__body::before {\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  content: "";\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\n  background-size: 116px 116px;\n  mix-blend-mode: overlay;\n  border-radius: 24px;\n  opacity: 0.8;\n  pointer-events: none;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes PeraWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes PeraWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.pera-wallet-connect-modal-pending-message-section {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto 48px;\n  gap: 56px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.pera-wallet-connect-modal-pending-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 10px;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__title {\n  margin: 16px 0 12px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.26px;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__description {\n  color: #6a6a81;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.01px;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__button {\n  display: block;\n  width: 100%;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border: none;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  padding: 16px;\n  background: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {\n  width: 24px;\n  height: 24px;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.1px;\n  color: #3c3c49;\n}\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {\n  /* stylelint-disable value-no-vendor-prefix */\n  /* stylelint-disable  property-no-vendor-prefix */\n  display: -webkit-box;\n  max-width: 100%;\n  -webkit-line-clamp: 2;\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  /* stylelint-enable value-no-vendor-prefix */\n  /* stylelint-enable property-no-vendor-prefix */\n  margin: 0;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n  color: #9d9dae;\n}\n\n.pera-wallet-connect-modal-pending-message__animation-wrapper {\n  width: 56px;\n  height: 56px;\n  background-color: #6b46fe;\n  border-radius: 50%;\n}\n\n.pera-wallet-connect-modal-pending-message__text {\n  max-width: 271px;\n  margin-top: 24px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 28px;\n  letter-spacing: -0.26px;\n}\n\n.pera-wallet-connect-modal-pending-message__cancel-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 14px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  border: none;\n}';
    r3(S3);
    var D4 = document.createElement("template");
    D4.innerHTML = '\n  <div class="pera-wallet-connect-modal-pending-message-section">\n    <div class="pera-wallet-connect-modal-pending-message">\n      <div id="pera-wallet-connect-modal-pending-message-animation-wrapper" class="pera-wallet-connect-modal-pending-message__animation-wrapper"></div>\n\n      <div class="pera-wallet-connect-modal-pending-message__text">\n        Please wait while we connect you to Pera Wallet\n      </div>\n    </div>\n\n    <button\n      id="pera-wallet-connect-modal-pending-message-cancel-button"\n      class="pera-wallet-button pera-wallet-connect-modal-pending-message__cancel-button">\n        Cancel\n    </button>\n  </div>\n\n  <div id="pera-wallet-connect-modal-pending-message-audio-wrapper"></div>\n';
    var P3 = `
  <div class="pera-wallet-connect-modal-pending-message--try-again-view">
    <div>
      <img src="${F3}" alt="Pera Wallet Logo" />

      <h1 class="pera-wallet-connect-modal-pending-message--try-again-view__title">
        Couldn\u2019t establish connection
      </h1>

      <p class="pera-wallet-connect-modal-pending-message--try-again-view__description">
        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.
      </p>
    </div>

    <div>
      <a
        href="https://support.perawallet.app/en/article/resolving-walletconnect-issues-1tolptm/"
        target="_blank"
        rel="noopener noreferrer"
        class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor">
        <img
          class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image"
          src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e"
          alt="Help Icon"
        />

        <div>
          <div
            class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper">
            <h1
              class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title">
                Resolving WalletConnect issues
            </h1>

            <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Send Icon"/>
          </div>

          <p
            class="pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description">
            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...
          </p>
        </div>
      </a>

      <button id="pera-wallet-connect-modal-pending-message-try-again-button" class="pera-wallet-connect-button pera-wallet-connect-modal-pending-message--try-again-view__button">
        Close & Try Again
      </button>
    </div>
  </div>
  `;
    var T2 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = S3, this.shadowRoot.append(D4.content.cloneNode(true), e3);
        }
      }
      connectedCallback() {
        var e3;
        const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-connect-modal-pending-message-cancel-button");
        null == n5 || n5.addEventListener("click", () => {
          this.onClose();
        }), this.addAudioForConnection(), this.renderLottieAnimation(), setTimeout(() => {
          var e4;
          if (D4.innerHTML = P3, this.shadowRoot) {
            const n6 = document.createElement("style");
            n6.textContent = S3, this.shadowRoot.innerHTML = "", this.shadowRoot.append(D4.content.cloneNode(true), n6);
            const t3 = null === (e4 = this.shadowRoot) || void 0 === e4 ? void 0 : e4.getElementById("pera-wallet-connect-modal-pending-message-try-again-button");
            null == t3 || t3.addEventListener("click", () => {
              this.onClose();
            });
          }
        }, 3e4);
      }
      onClose() {
        e2.removeModalWrapperFromDOM(e2.PERA_WALLET_CONNECT_MODAL_ID);
      }
      addAudioForConnection() {
        var n5;
        if ("true" === this.getAttribute("should-use-sound") && e2.isIOS()) {
          const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("pera-wallet-connect-modal-pending-message-audio-wrapper"), t3 = document.createElement("audio");
          t3.src = "https://s3.amazonaws.com/wc.perawallet.app/audio.mp3", t3.autoplay = true, t3.loop = true, null == e3 || e3.appendChild(t3);
        }
      }
      renderLottieAnimation() {
        var e3;
        const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-connect-modal-pending-message-animation-wrapper");
        n5 && l4.default.loadAnimation({ container: n5, renderer: "svg", loop: true, autoplay: true, path: "https://s3.amazonaws.com/wc.perawallet.app/static/pera-loader-animation.json" });
      }
    };
    var O4 = '.pera-wallet-sign-txn-toast {\n  --pera-wallet-sign-txn-toast-width: 422px;\n  --pera-wallet-sign-txn-toast-height: 134px;\n  --pera-wallet-sign-txn-toast-font-family: "Inter", sans-serif;\n  position: fixed;\n  bottom: 28px;\n  right: 35px;\n  z-index: 11;\n  overflow: hidden;\n  width: var(--pera-wallet-sign-txn-toast-width);\n  height: var(--pera-wallet-sign-txn-toast-height);\n  background: #edeffb;\n  border-radius: 8px;\n  animation: 0.2s PeraWalletSignTxnToastSlideIn ease-out;\n}\n.pera-wallet-sign-txn-toast * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-sign-txn-toast-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pera-wallet-sign-txn-toast ul,\n.pera-wallet-sign-txn-toast ol,\n.pera-wallet-sign-txn-toast li {\n  list-style-type: none;\n}\n\n.pera-wallet-sign-txn-toast__header__close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 20px;\n  height: 20px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.pera-wallet-sign-txn-toast__content__lottie-animation {\n  position: absolute;\n  top: -75px;\n  left: -100px;\n  width: 368px;\n  height: 368px;\n}\n\n.pera-wallet-sign-txn-toast__content__description {\n  position: absolute;\n  top: 40px;\n  right: 48px;\n  max-width: 197px;\n  color: #3c3c49;\n  font-size: 14px;\n  line-height: 22px;\n  letter-spacing: -0.1px;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-sign-txn-toast {\n    display: none;\n  }\n}\n@keyframes PeraWalletSignTxnToastSlideIn {\n  0% {\n    bottom: 12px;\n    opacity: 0;\n  }\n  100% {\n    bottom: 26px;\n    opacity: 1;\n  }\n}';
    r3(O4);
    var j4 = document.createElement("template");
    j4.innerHTML = `
  <div class="pera-wallet-sign-txn-toast">
    <div class="pera-wallet-sign-txn-toast__header">
      <button
        id="pera-wallet-sign-txn-toast-close-button"
        class="pera-wallet-sign-txn-toast__header__close-button">
        <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z' fill='%239099BD'/%3e%3c/svg%3e" />
      </button>
    </div>
    <div class="pera-wallet-sign-txn-toast__content">
      <div id="pera-wallet-sign-txn-toast-lottie-animation" style="width:368;height:368" class="pera-wallet-sign-txn-toast__content__lottie-animation"></div>
      <p class="pera-wallet-sign-txn-toast__content__description">
        Please launch <b>Pera Wallet</b> on your iOS or Android device to sign this transaction.
      </p>
    </div>
  </div>
`;
    var N12 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = O4, this.shadowRoot.append(j4.content.cloneNode(true), n5);
          const t3 = this.shadowRoot.getElementById("pera-wallet-sign-txn-toast-close-button");
          null == t3 || t3.addEventListener("click", () => {
            e2.removeModalWrapperFromDOM(e2.PERA_WALLET_SIGN_TXN_TOAST_ID);
          }), this.renderLottieAnimation();
        }
      }
      renderLottieAnimation() {
        var e3;
        const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("pera-wallet-sign-txn-toast-lottie-animation");
        n5 && l4.default.loadAnimation({ container: n5, renderer: "svg", loop: true, autoplay: true, path: "https://s3.amazonaws.com/wc.perawallet.app/static/sign-toast-animation.json" });
      }
    };
    var $2 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.pera-wallet-modal {\n  --pera-wallet-modal-font-family: "Inter", sans-serif;\n  --pera-wallet-modal-compact-width: 380px;\n  --pera-wallet-modal-compact-height: 396px;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(0, 0, 0, 0.7);\n}\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #ffffff;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\n  background-image: unset;\n}\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\n  width: var(--pera-wallet-modal-compact-width);\n  height: var(--pera-wallet-modal-compact-height);\n  padding: 0;\n}\n.pera-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.pera-wallet-modal ul,\n.pera-wallet-modal ol,\n.pera-wallet-modal li {\n  list-style-type: none;\n}\n\n.pera-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--pera-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.pera-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.pera-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #f3f3f7;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n.pera-wallet-modal__body::before {\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  z-index: -1;\n  content: "";\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\n  background-size: 116px 116px;\n  mix-blend-mode: overlay;\n  border-radius: 24px;\n  opacity: 0.8;\n  pointer-events: none;\n}\n\n@media (max-width: 767px) {\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes PeraWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes PeraWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n  background-image: unset;\n  padding: 0;\n}\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body .pera-wallet-sign-txn-modal__body__content {\n  width: 100%;\n  height: 100%;\n}\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body #pera-wallet-iframe {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  margin: 0 auto;\n  border: none;\n}\n\n.pera-wallet-sign-txn-modal--compact.pera-wallet-modal .pera-wallet-modal__body {\n  width: var(--pera-wallet-modal-compact-width);\n  height: var(--pera-wallet-modal-compact-height);\n}';
    r3($2);
    var q4 = document.createElement("template");
    q4.innerHTML = `
  <div id="pera-wallet-sign-txn-modal" class="${e2.PERA_WALLET_MODAL_CLASSNAME} pera-wallet-sign-txn-modal">
    <div class="pera-wallet-modal__body">
      <pera-wallet-modal-header modal-id="${e2.PERA_WALLET_SIGN_TXN_MODAL_ID}"></pera-wallet-modal-header/>

      <div class="pera-wallet-sign-txn-modal__body__content" />
    </div>
  </div>
`;
    var U5 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = $2, this.shadowRoot.append(q4.content.cloneNode(true), e3);
          if ("true" === this.getAttribute("compact-mode")) {
            const e4 = this.shadowRoot.getElementById("pera-wallet-sign-txn-modal");
            null == e4 || e4.classList.add("pera-wallet-sign-txn-modal--compact");
          }
        }
      }
    };
    function G3() {
      document.documentElement.style.setProperty("--vh", 0.01 * window.innerHeight + "px");
    }
    window.addEventListener("DOMContentLoaded", () => {
      G3();
    }), window.addEventListener("resize", () => {
      G3();
    }), window.customElements.define("pera-wallet-connect-modal", A3), window.customElements.define("pera-wallet-modal-desktop-mode", C3), window.customElements.define("pera-wallet-modal-header", s2), window.customElements.define("pera-wallet-modal-touch-screen-mode", y7), window.customElements.define("pera-wallet-redirect-modal", B3), window.customElements.define("pera-wallet-connect-modal-information-section", W4), window.customElements.define("pera-wallet-connect-modal-pending-message-section", T2), window.customElements.define("pera-wallet-sign-txn-toast", N12), window.customElements.define("pera-wallet-sign-txn-modal", U5), window.customElements.define("pera-wallet-download-qr-code", g5);
  }
});

// node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/index-87ee6d1d.js
var require_index_87ee6d1d = __commonJS({
  "node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/index-87ee6d1d.js"(exports2) {
    "use strict";
    var e2 = (init_esm11(), __toCommonJS(esm_exports6));
    var t2 = (init_esm(), __toCommonJS(esm_exports));
    var n4 = require_es5();
    function o3(e3) {
      return e3 && "object" == typeof e3 && "default" in e3 ? e3 : { default: e3 };
    }
    var a4 = o3(e2);
    var r3 = o3(t2);
    var i3 = o3(n4);
    function s2(e3, t3, n5, o4) {
      return new (n5 || (n5 = Promise))(function(a5, r4) {
        function i4(e4) {
          try {
            l5(o4.next(e4));
          } catch (e5) {
            r4(e5);
          }
        }
        function s3(e4) {
          try {
            l5(o4.throw(e4));
          } catch (e5) {
            r4(e5);
          }
        }
        function l5(e4) {
          var t4;
          e4.done ? a5(e4.value) : (t4 = e4.value, t4 instanceof n5 ? t4 : new n5(function(e5) {
            e5(t4);
          })).then(i4, s3);
        }
        l5((o4 = o4.apply(e3, t3 || [])).next());
      });
    }
    var l4 = class extends Error {
      constructor(e3, t3, ...n5) {
        super(...n5), Error.captureStackTrace && Error.captureStackTrace(this, l4), this.name = "PeraWalletConnectError", this.data = e3, this.message = t3;
      }
    };
    var c3 = new class {
      constructor(e3) {
        this.listener = void 0, this.channel = e3.channel;
      }
      setupListener({ onReceiveMessage: e3 }) {
        this.close(), this.listener = (t3) => {
          if ("object" == typeof t3.data)
            try {
              t3.data.channel === this.channel && e3(t3);
            } catch (e4) {
              console.error(e4);
            }
        }, window.addEventListener("message", this.listener);
      }
      sendMessage({ message: e3, targetWindow: t3, origin: n5, timeout: o4 = 1e3 }) {
        setTimeout(() => {
          const o5 = { channel: this.channel, message: e3 };
          t3.postMessage(o5, { targetOrigin: n5 || "*" });
        }, o4);
      }
      close() {
        this.listener && (window.removeEventListener("message", this.listener), this.listener = void 0);
      }
    }({ channel: "pera-web-wallet" });
    function d3() {
      const e3 = document.querySelector('meta[name="name"]'), t3 = document.querySelector('meta[name="description"]');
      let { title: n5 } = document, o4 = "";
      return e3 instanceof HTMLMetaElement && (n5 = e3.content), t3 instanceof HTMLMetaElement && (o4 = t3.content), { title: n5, description: o4, url: window.location.origin, favicon: u4()[0] };
    }
    function u4() {
      const e3 = document.getElementsByTagName("link"), t3 = [];
      for (let n5 = 0; n5 < e3.length; n5++) {
        const o4 = e3[n5], a5 = o4.getAttribute("rel");
        if (a5 && a5.toLowerCase().indexOf("icon") > -1) {
          const e4 = o4.getAttribute("href");
          if (e4 && -1 === e4.toLowerCase().indexOf("https:") && -1 === e4.toLowerCase().indexOf("http:") && 0 !== e4.indexOf("//")) {
            let n6 = `${window.location.protocol}//${window.location.host}`;
            if (0 === e4.indexOf("/"))
              n6 += e4;
            else {
              const t4 = window.location.pathname.split("/");
              t4.pop();
              n6 += `${t4.join("/")}/${e4}`;
            }
            t3.push(n6);
          } else if (0 === (null == e4 ? void 0 : e4.indexOf("//"))) {
            const n6 = window.location.protocol + e4;
            t3.push(n6);
          } else
            e4 && t3.push(e4);
        }
      }
      return t3;
    }
    function p6(e3) {
      return new Promise((t3, n5) => {
        try {
          const o4 = window.open(e3, "_blank");
          let a5 = 0;
          const r4 = setInterval(() => {
            if (a5 += 1, 50 === a5)
              return clearInterval(r4), void n5(new l4({ type: "MESSAGE_NOT_RECEIVED" }, "Couldn't open Pera Wallet, please try again."));
            o4 && (true === o4.closed && (clearInterval(r4), n5(new l4({ type: "OPERATION_CANCELLED" }, "Operation cancelled by user"))), c3.sendMessage({ message: { type: "TAB_OPEN" }, origin: e3, targetWindow: o4 }));
          }, 700);
          c3.setupListener({ onReceiveMessage: (e4) => {
            "TAB_OPEN_RECEIVED" === e4.data.message.type && (clearInterval(r4), t3(o4));
          } });
        } catch (e4) {
          n5(e4);
        }
      });
    }
    function h6(e3) {
      const t3 = document.createElement("div");
      return t3.setAttribute("id", e3), document.body.appendChild(t3), t3;
    }
    function w4() {
      h6("pera-wallet-redirect-modal-wrapper").innerHTML = "<pera-wallet-redirect-modal></pera-wallet-redirect-modal>";
    }
    function g5() {
      h6("pera-wallet-sign-txn-toast-wrapper").innerHTML = "<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>";
    }
    function m3(e3) {
      const t3 = document.getElementById(e3);
      t3 && t3.remove();
    }
    var v2 = "PeraWallet.Wallet";
    var f3 = "walletconnect";
    function b3() {
      return "undefined" == typeof localStorage ? void 0 : localStorage;
    }
    function y7(e3, t3) {
      var n5;
      null === (n5 = b3()) || void 0 === n5 || n5.setItem(v2, JSON.stringify({ type: t3 || "pera-wallet", accounts: e3, selectedAccount: e3[0] }));
    }
    function N12() {
      var e3;
      const t3 = null === (e3 = b3()) || void 0 === e3 ? void 0 : e3.getItem(v2);
      return t3 ? JSON.parse(t3) : null;
    }
    function T2() {
      return new Promise((e3, t3) => {
        var n5, o4;
        try {
          null === (n5 = b3()) || void 0 === n5 || n5.removeItem(f3), null === (o4 = b3()) || void 0 === o4 || o4.removeItem(v2), e3(void 0);
        } catch (e4) {
          t3(e4);
        }
      });
    }
    function A3(e3) {
      const t3 = e3.slice();
      for (let e4 = t3.length - 1; e4 > 0; e4--) {
        const n5 = Math.floor(Math.random() * (e4 + 1));
        [t3[e4], t3[n5]] = [t3[n5], t3[e4]];
      }
      return t3;
    }
    function S3() {
      return function(e3, t3 = {}) {
        return fetch(e3, t3).then((e4) => e4.json()).then((e4) => e4);
      }("https://wc.perawallet.app/config.json", { cache: "no-store" });
    }
    function _4() {
      return s2(this, void 0, void 0, function* () {
        let e3 = { bridgeURL: "", webWalletURL: "", isWebWalletAvailable: false, shouldDisplayNewBadge: false, shouldUseSound: true, silent: false, promoteMobile: false };
        try {
          const t3 = yield S3();
          void 0 !== t3.web_wallet && t3.web_wallet_url && (e3.isWebWalletAvailable = t3.web_wallet), void 0 !== t3.display_new_badge && (e3.shouldDisplayNewBadge = t3.display_new_badge), void 0 !== t3.use_sound && (e3.shouldUseSound = t3.use_sound), void 0 !== t3.silent && (e3.silent = t3.silent), void 0 !== t3.promote_mobile && (e3.promoteMobile = t3.promote_mobile), e3 = Object.assign(Object.assign({}, e3), { bridgeURL: A3(t3.servers || [])[0] || "", webWalletURL: t3.web_wallet_url || "" });
        } catch (e4) {
          console.log(e4);
        }
        return e3;
      });
    }
    function E5(e3) {
      return Uint8Array.from(window.atob(e3), (e4) => e4.charCodeAt(0));
    }
    function C3(e3, t3) {
      return { id: Date.now() * Math.pow(10, 3) + Math.floor(Math.random() * Math.pow(10, 3)), jsonrpc: "2.0", method: e3, params: t3 };
    }
    function I() {
      return "undefined" != typeof navigator;
    }
    function W4() {
      return I() && /Android/i.test(navigator.userAgent);
    }
    function O4() {
      return I() && /iPhone|iPod|Android/i.test(navigator.userAgent);
    }
    var L3 = W4() ? "algorand://" : "perawallet-wc://";
    function M3(e3) {
      return { ROOT: `https://${e3}`, CONNECT: `https://${e3}/connect`, TRANSACTION_SIGN: `https://${e3}/transaction/sign` };
    }
    function R3({ method: e3, signTxnRequestParams: t3, signer: n5, chainId: o4, webWalletURL: a5, resolve: r4, reject: i4 }) {
      const d4 = M3(a5);
      !function() {
        s2(this, void 0, void 0, function* () {
          try {
            const a6 = yield p6(d4.TRANSACTION_SIGN);
            if (a6) {
              let r5;
              "SIGN_TXN" === e3 ? r5 = { type: "SIGN_TXN", txn: t3 } : "SIGN_DATA" === e3 && n5 && o4 && (r5 = { type: "SIGN_DATA", data: t3, signer: n5, chainId: o4 }), r5 && c3.sendMessage({ message: r5, origin: d4.TRANSACTION_SIGN, targetWindow: a6 });
            }
            const s3 = setInterval(() => {
              true === (null == a6 ? void 0 : a6.closed) && (i4(new l4({ type: `${e3}_CANCELLED` }, "Transaction signing is cancelled by user.")), clearInterval(s3));
            }, 2e3);
            c3.setupListener({ onReceiveMessage: (t4) => function({ event: e4, newPeraWalletTab: t5, method: n6, resolve: o5, reject: a7 }) {
              switch (e4.data.message.type) {
                case "SIGN_TXN_CALLBACK":
                  null == t5 || t5.close(), o5(e4.data.message.signedTxns.map((e5) => E5(e5.signedTxn)));
                  break;
                case "SIGN_DATA_CALLBACK":
                  null == t5 || t5.close(), o5(e4.data.message.signedData.map((e5) => E5(e5.signedData)));
                  break;
                case "SIGN_TXN_NETWORK_MISMATCH":
                  a7(new l4({ type: `${n6}_NETWORK_MISMATCH`, detail: e4.data.message.error }, e4.data.message.error || "Network mismatch"));
                  break;
                case "SIGN_TXN_CALLBACK_ERROR":
                  null == t5 || t5.close(), a7(new l4({ type: `${n6}_CANCELLED` }, e4.data.message.error));
                  break;
                case "SESSION_DISCONNECTED":
                  null == t5 || t5.close(), T2(), a7(new l4({ type: "SESSION_DISCONNECTED", detail: e4.data.message.error }, e4.data.message.error));
              }
            }({ event: t4, newPeraWalletTab: a6, method: e3, resolve: r4, reject: i4 }) });
          } catch (e4) {
            i4(e4);
          }
        });
      }();
    }
    function P3({ webWalletURL: e3, chainId: t3, resolve: n5, reject: o4 }) {
      const a5 = M3(e3);
      return function() {
        return s2(this, void 0, void 0, function* () {
          try {
            const e4 = yield p6(a5.CONNECT);
            e4 && c3.sendMessage({ message: { type: "CONNECT", data: Object.assign(Object.assign({}, d3()), { chainId: t3 }) }, origin: a5.CONNECT, targetWindow: e4 });
            const i4 = setInterval(() => {
              true === (null == e4 ? void 0 : e4.closed) && (o4(new l4({ type: "CONNECT_CANCELLED" }, "Connect is cancelled by user")), clearInterval(i4), r4());
            }, 2e3);
            c3.setupListener({ onReceiveMessage: (t4) => function({ event: e5, newPeraWalletTab: t5, resolve: n6, reject: o5 }) {
              if (n6 && "CONNECT_CALLBACK" === e5.data.message.type) {
                const o6 = e5.data.message.data.addresses;
                y7(o6, "pera-wallet-web"), n6(o6), m3("pera-wallet-connect-modal-wrapper"), null == t5 || t5.close();
              } else
                "CONNECT_NETWORK_MISMATCH" === e5.data.message.type && (o5(new l4({ type: "CONNECT_NETWORK_MISMATCH", detail: e5.data.message.error }, e5.data.message.error || "Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")), m3("pera-wallet-connect-modal-wrapper"), null == t5 || t5.close());
            }({ event: t4, newPeraWalletTab: e4, resolve: n5, reject: o4 }) });
          } catch (e4) {
            r4(), o4(e4);
          }
        });
      };
      function r4() {
        m3("pera-wallet-connect-modal-wrapper");
      }
    }
    function D4({ isWebWalletAvailable: e3, shouldDisplayNewBadge: t3, shouldUseSound: n5, compactMode: o4, promoteMobile: a5 }) {
      return { open: (r4 = { isWebWalletAvailable: e3, shouldDisplayNewBadge: t3, shouldUseSound: n5, compactMode: o4, promoteMobile: a5 }, (e4) => {
        if (!document.getElementById("pera-wallet-connect-modal-wrapper")) {
          const t4 = h6("pera-wallet-connect-modal-wrapper"), n6 = `${e4}&algorand=true`, { isWebWalletAvailable: o5, shouldDisplayNewBadge: a6, shouldUseSound: i4, compactMode: s3, promoteMobile: l5 } = r4;
          t4.innerHTML = `<pera-wallet-connect-modal uri="${n6}" is-web-wallet-avaliable="${o5}" should-display-new-badge="${a6}" should-use-sound="${i4}" compact-mode="${s3}" promote-mobile="${l5}"></pera-wallet-connect-modal>`;
        }
      }), close: () => m3("pera-wallet-connect-modal-wrapper") };
      var r4;
    }
    "undefined" != typeof window && (window.global = window, window.Buffer = window.Buffer || (init_buffer2(), __toCommonJS(buffer_exports)).Buffer, Promise.resolve().then(function() {
      return require_App_94e9365e();
    })), exports2.PERA_DOWNLOAD_URL = "https://perawallet.app/download/", exports2.PERA_WALLET_APP_DEEP_LINK = L3, exports2.PERA_WALLET_CONNECT_MODAL_ID = "pera-wallet-connect-modal-wrapper", exports2.PERA_WALLET_MODAL_CLASSNAME = "pera-wallet-modal", exports2.PERA_WALLET_REDIRECT_MODAL_ID = "pera-wallet-redirect-modal-wrapper", exports2.PERA_WALLET_SIGN_TXN_MODAL_ID = "pera-wallet-sign-txn-modal-wrapper", exports2.PERA_WALLET_SIGN_TXN_TOAST_ID = "pera-wallet-sign-txn-toast-wrapper", exports2.PeraWalletConnect = class {
      constructor(e3) {
        this.bridge = (null == e3 ? void 0 : e3.bridge) || "", this.connector = null, this.shouldShowSignTxnToast = void 0 === (null == e3 ? void 0 : e3.shouldShowSignTxnToast) || e3.shouldShowSignTxnToast, this.chainId = null == e3 ? void 0 : e3.chainId, this.compactMode = (null == e3 ? void 0 : e3.compactMode) || false;
      }
      get platform() {
        return function() {
          const e3 = N12();
          let t3 = null;
          return "pera-wallet" === (null == e3 ? void 0 : e3.type) ? t3 = "mobile" : "pera-wallet-web" === (null == e3 ? void 0 : e3.type) && (t3 = "web"), t3;
        }();
      }
      get isConnected() {
        var e3;
        return "mobile" === this.platform ? !!this.connector : "web" === this.platform && !!(null === (e3 = N12()) || void 0 === e3 ? void 0 : e3.accounts.length);
      }
      connect() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5;
          try {
            if (null === (n5 = this.connector) || void 0 === n5 ? void 0 : n5.connected)
              try {
                yield this.connector.killSession();
              } catch (e4) {
              }
            const { isWebWalletAvailable: o4, bridgeURL: r4, webWalletURL: i4, shouldDisplayNewBadge: s3, shouldUseSound: c4, promoteMobile: d4 } = yield _4(), u5 = P3({ resolve: e3, reject: t3, webWalletURL: i4, chainId: this.chainId, isCompactMode: this.compactMode });
            o4 && (window.onWebWalletConnect = u5), this.connector = new a4.default({ bridge: this.bridge || r4 || "https://bridge.walletconnect.org", qrcodeModal: D4({ isWebWalletAvailable: o4, shouldDisplayNewBadge: s3, shouldUseSound: c4, compactMode: this.compactMode, promoteMobile: d4 }) }), yield this.connector.createSession({ chainId: this.chainId || 4160 }), function(e4, t4) {
              var n6, o5, a5, r5;
              const i5 = document.getElementById(e4), s4 = null === (o5 = null === (n6 = null == i5 ? void 0 : i5.querySelector(e4.replace("-wrapper", ""))) || void 0 === n6 ? void 0 : n6.shadowRoot) || void 0 === o5 ? void 0 : o5.querySelector(".pera-wallet-modal"), l5 = null === (r5 = null === (a5 = null == s4 ? void 0 : s4.querySelector("pera-wallet-modal-header")) || void 0 === a5 ? void 0 : a5.shadowRoot) || void 0 === r5 ? void 0 : r5.getElementById("pera-wallet-modal-header-close-button");
              null == l5 || l5.addEventListener("click", () => {
                t4(), m3(e4);
              });
            }("pera-wallet-connect-modal-wrapper", () => t3(new l4({ type: "CONNECT_MODAL_CLOSED" }, "Connect modal is closed by user"))), this.connector.on("connect", (n6, o5) => {
              var a5, r5;
              n6 && t3(n6), e3((null === (a5 = this.connector) || void 0 === a5 ? void 0 : a5.accounts) || []), y7((null === (r5 = this.connector) || void 0 === r5 ? void 0 : r5.accounts) || []);
            });
          } catch (e4) {
            console.log(e4), t3(new l4({ type: "SESSION_CONNECT", detail: e4 }, e4.message || "There was an error while connecting to Pera Wallet"));
          }
        }));
      }
      reconnectSession() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5, o4;
          try {
            const r4 = N12();
            if (!r4)
              return void e3([]);
            if ("pera-wallet-web" === (null == r4 ? void 0 : r4.type)) {
              const { isWebWalletAvailable: n6 } = yield _4();
              n6 ? e3(r4.accounts || []) : t3(new l4({ type: "SESSION_RECONNECT", detail: "Pera Web is not available" }, "Pera Web is not available"));
            }
            this.connector && e3(this.connector.accounts || []), this.bridge = (null === (n5 = function() {
              var e4;
              const t4 = null === (e4 = b3()) || void 0 === e4 ? void 0 : e4.getItem(f3);
              return t4 ? JSON.parse(t4) : null;
            }()) || void 0 === n5 ? void 0 : n5.bridge) || "", this.bridge && (this.connector = new a4.default({ bridge: this.bridge }), e3((null === (o4 = this.connector) || void 0 === o4 ? void 0 : o4.accounts) || [])), this.isConnected || e3([]);
          } catch (e4) {
            yield this.disconnect(), t3(new l4({ type: "SESSION_RECONNECT", detail: e4 }, e4.message || "There was an error while reconnecting to Pera Wallet"));
          }
        }));
      }
      disconnect() {
        var e3;
        return s2(this, void 0, void 0, function* () {
          let t3;
          this.isConnected && "mobile" === this.platform && (t3 = null === (e3 = this.connector) || void 0 === e3 ? void 0 : e3.killSession(), null == t3 || t3.then(() => {
            this.connector = null;
          })), yield T2();
        });
      }
      signTransactionWithMobile(e3) {
        return s2(this, void 0, void 0, function* () {
          const t3 = C3("algo_signTxn", [e3]);
          try {
            try {
              const { silent: e4 } = yield _4(), n5 = (yield this.connector.sendCustomRequest(t3, { forcePushNotification: !e4 })).filter(Boolean);
              return "string" == typeof n5[0] ? n5.map(E5) : n5.map((e5) => Uint8Array.from(e5));
            } catch (e4) {
              return yield Promise.reject(new l4({ type: "SIGN_TRANSACTIONS", detail: e4 }, e4.message || "Failed to sign transaction"));
            }
          } finally {
            m3("pera-wallet-redirect-modal-wrapper"), m3("pera-wallet-sign-txn-toast-wrapper");
          }
        });
      }
      signTransactionWithWeb(e3, t3) {
        return new Promise((n5, o4) => R3({ signTxnRequestParams: e3, webWalletURL: t3, method: "SIGN_TXN", resolve: n5, reject: o4 }));
      }
      signDataWithMobile({ data: e3, signer: t3, chainId: n5 }) {
        return s2(this, void 0, void 0, function* () {
          const o4 = C3("algo_signData", e3.map((e4) => Object.assign(Object.assign({}, e4), { signer: t3, chainId: n5 })));
          try {
            try {
              const { silent: e4 } = yield _4(), t4 = (yield this.connector.sendCustomRequest(o4, { forcePushNotification: !e4 })).filter(Boolean);
              return "string" == typeof t4[0] ? t4.map(E5) : t4.map((e5) => Uint8Array.from(e5));
            } catch (e4) {
              return yield Promise.reject(new l4({ type: "SIGN_TRANSACTIONS", detail: e4 }, e4.message || "Failed to sign transaction"));
            }
          } finally {
            m3("pera-wallet-redirect-modal-wrapper"), m3("pera-wallet-sign-txn-toast-wrapper");
          }
        });
      }
      signDataWithWeb({ data: e3, signer: t3, chainId: n5, webWalletURL: o4 }) {
        return new Promise((a5, r4) => R3({ method: "SIGN_DATA", signTxnRequestParams: e3, signer: t3, chainId: n5, webWalletURL: o4, resolve: a5, reject: r4 }));
      }
      signTransaction(e3, t3) {
        return s2(this, void 0, void 0, function* () {
          if ("mobile" === this.platform && (O4() ? w4() : !O4() && this.shouldShowSignTxnToast && g5(), !this.connector))
            throw new Error("PeraWalletConnect was not initialized correctly.");
          const n5 = e3.flatMap((e4) => e4.map((e5) => function(e6, t4) {
            let n6;
            t4 && !(e6.signers || []).includes(t4) && (n6 = []);
            const o4 = { txn: (a5 = e6.txn, Buffer.from(r3.default.encodeUnsignedTransaction(a5)).toString("base64")) };
            var a5;
            return Array.isArray(n6) && (o4.signers = n6), e6.authAddr && (o4.authAddr = e6.authAddr), e6.message && (o4.message = e6.message), e6.msig && (o4.msig = e6.msig), o4;
          }(e5, t3)));
          if ("web" === this.platform) {
            const { webWalletURL: e4 } = yield _4();
            return this.signTransactionWithWeb(n5, e4);
          }
          return this.signTransactionWithMobile(n5);
        });
      }
      signData(e3, t3) {
        return s2(this, void 0, void 0, function* () {
          const n5 = this.chainId || 4160;
          if ("mobile" === this.platform && (O4() ? w4() : !O4() && this.shouldShowSignTxnToast && g5(), !this.connector))
            throw new Error("PeraWalletConnect was not initialized correctly.");
          if ("web" === this.platform) {
            const { webWalletURL: o5 } = yield _4();
            return this.signDataWithWeb({ data: e3, signer: t3, chainId: n5, webWalletURL: o5 });
          }
          const o4 = e3.map((e4) => Object.assign(Object.assign({}, e4), { data: Buffer.from(e4.data).toString("base64") }));
          return this.signDataWithMobile({ data: o4, signer: t3, chainId: n5 });
        });
      }
    }, exports2.closePeraWalletSignTxnToast = function() {
      m3("pera-wallet-sign-txn-toast-wrapper");
    }, exports2.detectBrowser = function() {
      if (!I())
        return null;
      const { userAgent: e3 } = navigator;
      let t3;
      return t3 = e3.match(/DuckDuckGo/i) ? "DuckDuckGo" : e3.match(/OPX/i) ? "Opera GX" : navigator.brave ? "Brave" : i3.default.getParser(navigator.userAgent).getBrowserName(), t3;
    }, exports2.isAndroid = W4, exports2.isIOS = function() {
      return I() && /iPhone|iPad|iPod/i.test(navigator.userAgent);
    }, exports2.isMobile = O4, exports2.removeModalWrapperFromDOM = m3;
  }
});

// node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/index.js
var require_dist2 = __commonJS({
  "node_modules/.pnpm/@perawallet+connect@1.3.4_algosdk@2.7.0/node_modules/@perawallet/connect/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var e2 = require_index_87ee6d1d();
    init_esm11(), init_esm(), require_es5(), exports2.PeraWalletConnect = e2.PeraWalletConnect, exports2.closePeraWalletSignTxnToast = e2.closePeraWalletSignTxnToast;
  }
});

// node_modules/.pnpm/qr-code-styling@1.5.0/node_modules/qr-code-styling/lib/qr-code-styling.js
var require_qr_code_styling2 = __commonJS({
  "node_modules/.pnpm/qr-code-styling@1.5.0/node_modules/qr-code-styling/lib/qr-code-styling.js"(exports2, module2) {
    !function(t2, e2) {
      "object" == typeof exports2 && "object" == typeof module2 ? module2.exports = e2() : "function" == typeof define && define.amd ? define([], e2) : "object" == typeof exports2 ? exports2.QRCodeStyling = e2() : t2.QRCodeStyling = e2();
    }(self, function() {
      return (() => {
        var t2 = { 192: (t3, e3) => {
          var r4, n4, o3 = function() {
            var t4 = function(t5, e5) {
              var r6 = t5, n6 = a4[e5], o5 = null, i4 = 0, u5 = null, v3 = [], y8 = {}, _4 = function(t6, e6) {
                o5 = function(t7) {
                  for (var e7 = new Array(t7), r7 = 0; r7 < t7; r7 += 1) {
                    e7[r7] = new Array(t7);
                    for (var n7 = 0; n7 < t7; n7 += 1)
                      e7[r7][n7] = null;
                  }
                  return e7;
                }(i4 = 4 * r6 + 17), m3(0, 0), m3(i4 - 7, 0), m3(0, i4 - 7), x5(), b3(), S3(t6, e6), r6 >= 7 && M3(t6), null == u5 && (u5 = P3(r6, n6, v3)), C3(u5, e6);
              }, m3 = function(t6, e6) {
                for (var r7 = -1; r7 <= 7; r7 += 1)
                  if (!(t6 + r7 <= -1 || i4 <= t6 + r7))
                    for (var n7 = -1; n7 <= 7; n7 += 1)
                      e6 + n7 <= -1 || i4 <= e6 + n7 || (o5[t6 + r7][e6 + n7] = 0 <= r7 && r7 <= 6 && (0 == n7 || 6 == n7) || 0 <= n7 && n7 <= 6 && (0 == r7 || 6 == r7) || 2 <= r7 && r7 <= 4 && 2 <= n7 && n7 <= 4);
              }, b3 = function() {
                for (var t6 = 8; t6 < i4 - 8; t6 += 1)
                  null == o5[t6][6] && (o5[t6][6] = t6 % 2 == 0);
                for (var e6 = 8; e6 < i4 - 8; e6 += 1)
                  null == o5[6][e6] && (o5[6][e6] = e6 % 2 == 0);
              }, x5 = function() {
                for (var t6 = s2.getPatternPosition(r6), e6 = 0; e6 < t6.length; e6 += 1)
                  for (var n7 = 0; n7 < t6.length; n7 += 1) {
                    var i5 = t6[e6], a5 = t6[n7];
                    if (null == o5[i5][a5])
                      for (var u6 = -2; u6 <= 2; u6 += 1)
                        for (var c4 = -2; c4 <= 2; c4 += 1)
                          o5[i5 + u6][a5 + c4] = -2 == u6 || 2 == u6 || -2 == c4 || 2 == c4 || 0 == u6 && 0 == c4;
                  }
              }, M3 = function(t6) {
                for (var e6 = s2.getBCHTypeNumber(r6), n7 = 0; n7 < 18; n7 += 1) {
                  var a5 = !t6 && 1 == (e6 >> n7 & 1);
                  o5[Math.floor(n7 / 3)][n7 % 3 + i4 - 8 - 3] = a5;
                }
                for (n7 = 0; n7 < 18; n7 += 1)
                  a5 = !t6 && 1 == (e6 >> n7 & 1), o5[n7 % 3 + i4 - 8 - 3][Math.floor(n7 / 3)] = a5;
              }, S3 = function(t6, e6) {
                for (var r7 = n6 << 3 | e6, a5 = s2.getBCHTypeInfo(r7), u6 = 0; u6 < 15; u6 += 1) {
                  var c4 = !t6 && 1 == (a5 >> u6 & 1);
                  u6 < 6 ? o5[u6][8] = c4 : u6 < 8 ? o5[u6 + 1][8] = c4 : o5[i4 - 15 + u6][8] = c4;
                }
                for (u6 = 0; u6 < 15; u6 += 1)
                  c4 = !t6 && 1 == (a5 >> u6 & 1), u6 < 8 ? o5[8][i4 - u6 - 1] = c4 : u6 < 9 ? o5[8][15 - u6 - 1 + 1] = c4 : o5[8][15 - u6 - 1] = c4;
                o5[i4 - 8][8] = !t6;
              }, C3 = function(t6, e6) {
                for (var r7 = -1, n7 = i4 - 1, a5 = 7, u6 = 0, c4 = s2.getMaskFunction(e6), h7 = i4 - 1; h7 > 0; h7 -= 2)
                  for (6 == h7 && (h7 -= 1); ; ) {
                    for (var d4 = 0; d4 < 2; d4 += 1)
                      if (null == o5[n7][h7 - d4]) {
                        var l5 = false;
                        u6 < t6.length && (l5 = 1 == (t6[u6] >>> a5 & 1)), c4(n7, h7 - d4) && (l5 = !l5), o5[n7][h7 - d4] = l5, -1 == (a5 -= 1) && (u6 += 1, a5 = 7);
                      }
                    if ((n7 += r7) < 0 || i4 <= n7) {
                      n7 -= r7, r7 = -r7;
                      break;
                    }
                  }
              }, P3 = function(t6, e6, r7) {
                for (var n7 = h6.getRSBlocks(t6, e6), o6 = d3(), i5 = 0; i5 < r7.length; i5 += 1) {
                  var a5 = r7[i5];
                  o6.put(a5.getMode(), 4), o6.put(a5.getLength(), s2.getLengthInBits(a5.getMode(), t6)), a5.write(o6);
                }
                var u6 = 0;
                for (i5 = 0; i5 < n7.length; i5 += 1)
                  u6 += n7[i5].dataCount;
                if (o6.getLengthInBits() > 8 * u6)
                  throw "code length overflow. (" + o6.getLengthInBits() + ">" + 8 * u6 + ")";
                for (o6.getLengthInBits() + 4 <= 8 * u6 && o6.put(0, 4); o6.getLengthInBits() % 8 != 0; )
                  o6.putBit(false);
                for (; !(o6.getLengthInBits() >= 8 * u6 || (o6.put(236, 8), o6.getLengthInBits() >= 8 * u6)); )
                  o6.put(17, 8);
                return function(t7, e7) {
                  for (var r8 = 0, n8 = 0, o7 = 0, i6 = new Array(e7.length), a6 = new Array(e7.length), u7 = 0; u7 < e7.length; u7 += 1) {
                    var h7 = e7[u7].dataCount, d4 = e7[u7].totalCount - h7;
                    n8 = Math.max(n8, h7), o7 = Math.max(o7, d4), i6[u7] = new Array(h7);
                    for (var l5 = 0; l5 < i6[u7].length; l5 += 1)
                      i6[u7][l5] = 255 & t7.getBuffer()[l5 + r8];
                    r8 += h7;
                    var f4 = s2.getErrorCorrectPolynomial(d4), p7 = c3(i6[u7], f4.getLength() - 1).mod(f4);
                    for (a6[u7] = new Array(f4.getLength() - 1), l5 = 0; l5 < a6[u7].length; l5 += 1) {
                      var g6 = l5 + p7.getLength() - a6[u7].length;
                      a6[u7][l5] = g6 >= 0 ? p7.getAt(g6) : 0;
                    }
                  }
                  var v4 = 0;
                  for (l5 = 0; l5 < e7.length; l5 += 1)
                    v4 += e7[l5].totalCount;
                  var y9 = new Array(v4), w5 = 0;
                  for (l5 = 0; l5 < n8; l5 += 1)
                    for (u7 = 0; u7 < e7.length; u7 += 1)
                      l5 < i6[u7].length && (y9[w5] = i6[u7][l5], w5 += 1);
                  for (l5 = 0; l5 < o7; l5 += 1)
                    for (u7 = 0; u7 < e7.length; u7 += 1)
                      l5 < a6[u7].length && (y9[w5] = a6[u7][l5], w5 += 1);
                  return y9;
                }(o6, n7);
              };
              y8.addData = function(t6, e6) {
                var r7 = null;
                switch (e6 = e6 || "Byte") {
                  case "Numeric":
                    r7 = l4(t6);
                    break;
                  case "Alphanumeric":
                    r7 = f3(t6);
                    break;
                  case "Byte":
                    r7 = p6(t6);
                    break;
                  case "Kanji":
                    r7 = g5(t6);
                    break;
                  default:
                    throw "mode:" + e6;
                }
                v3.push(r7), u5 = null;
              }, y8.isDark = function(t6, e6) {
                if (t6 < 0 || i4 <= t6 || e6 < 0 || i4 <= e6)
                  throw t6 + "," + e6;
                return o5[t6][e6];
              }, y8.getModuleCount = function() {
                return i4;
              }, y8.make = function() {
                if (r6 < 1) {
                  for (var t6 = 1; t6 < 40; t6++) {
                    for (var e6 = h6.getRSBlocks(t6, n6), o6 = d3(), i5 = 0; i5 < v3.length; i5++) {
                      var a5 = v3[i5];
                      o6.put(a5.getMode(), 4), o6.put(a5.getLength(), s2.getLengthInBits(a5.getMode(), t6)), a5.write(o6);
                    }
                    var u6 = 0;
                    for (i5 = 0; i5 < e6.length; i5++)
                      u6 += e6[i5].dataCount;
                    if (o6.getLengthInBits() <= 8 * u6)
                      break;
                  }
                  r6 = t6;
                }
                _4(false, function() {
                  for (var t7 = 0, e7 = 0, r7 = 0; r7 < 8; r7 += 1) {
                    _4(true, r7);
                    var n7 = s2.getLostPoint(y8);
                    (0 == r7 || t7 > n7) && (t7 = n7, e7 = r7);
                  }
                  return e7;
                }());
              }, y8.createTableTag = function(t6, e6) {
                t6 = t6 || 2;
                var r7 = "";
                r7 += '<table style="', r7 += " border-width: 0px; border-style: none;", r7 += " border-collapse: collapse;", r7 += " padding: 0px; margin: " + (e6 = void 0 === e6 ? 4 * t6 : e6) + "px;", r7 += '">', r7 += "<tbody>";
                for (var n7 = 0; n7 < y8.getModuleCount(); n7 += 1) {
                  r7 += "<tr>";
                  for (var o6 = 0; o6 < y8.getModuleCount(); o6 += 1)
                    r7 += '<td style="', r7 += " border-width: 0px; border-style: none;", r7 += " border-collapse: collapse;", r7 += " padding: 0px; margin: 0px;", r7 += " width: " + t6 + "px;", r7 += " height: " + t6 + "px;", r7 += " background-color: ", r7 += y8.isDark(n7, o6) ? "#000000" : "#ffffff", r7 += ";", r7 += '"/>';
                  r7 += "</tr>";
                }
                return (r7 += "</tbody>") + "</table>";
              }, y8.createSvgTag = function(t6, e6, r7, n7) {
                var o6 = {};
                "object" == typeof arguments[0] && (t6 = (o6 = arguments[0]).cellSize, e6 = o6.margin, r7 = o6.alt, n7 = o6.title), t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6, (r7 = "string" == typeof r7 ? { text: r7 } : r7 || {}).text = r7.text || null, r7.id = r7.text ? r7.id || "qrcode-description" : null, (n7 = "string" == typeof n7 ? { text: n7 } : n7 || {}).text = n7.text || null, n7.id = n7.text ? n7.id || "qrcode-title" : null;
                var i5, a5, s3, u6, c4 = y8.getModuleCount() * t6 + 2 * e6, h7 = "";
                for (u6 = "l" + t6 + ",0 0," + t6 + " -" + t6 + ",0 0,-" + t6 + "z ", h7 += '<svg version="1.1" xmlns="http://www.w3.org/2000/svg"', h7 += o6.scalable ? "" : ' width="' + c4 + 'px" height="' + c4 + 'px"', h7 += ' viewBox="0 0 ' + c4 + " " + c4 + '" ', h7 += ' preserveAspectRatio="xMinYMin meet"', h7 += n7.text || r7.text ? ' role="img" aria-labelledby="' + O4([n7.id, r7.id].join(" ").trim()) + '"' : "", h7 += ">", h7 += n7.text ? '<title id="' + O4(n7.id) + '">' + O4(n7.text) + "</title>" : "", h7 += r7.text ? '<description id="' + O4(r7.id) + '">' + O4(r7.text) + "</description>" : "", h7 += '<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>', h7 += '<path d="', a5 = 0; a5 < y8.getModuleCount(); a5 += 1)
                  for (s3 = a5 * t6 + e6, i5 = 0; i5 < y8.getModuleCount(); i5 += 1)
                    y8.isDark(a5, i5) && (h7 += "M" + (i5 * t6 + e6) + "," + s3 + u6);
                return (h7 += '" stroke="transparent" fill="black"/>') + "</svg>";
              }, y8.createDataURL = function(t6, e6) {
                t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6;
                var r7 = y8.getModuleCount() * t6 + 2 * e6, n7 = e6, o6 = r7 - e6;
                return w4(r7, r7, function(e7, r8) {
                  if (n7 <= e7 && e7 < o6 && n7 <= r8 && r8 < o6) {
                    var i5 = Math.floor((e7 - n7) / t6), a5 = Math.floor((r8 - n7) / t6);
                    return y8.isDark(a5, i5) ? 0 : 1;
                  }
                  return 1;
                });
              }, y8.createImgTag = function(t6, e6, r7) {
                t6 = t6 || 2, e6 = void 0 === e6 ? 4 * t6 : e6;
                var n7 = y8.getModuleCount() * t6 + 2 * e6, o6 = "";
                return o6 += "<img", o6 += ' src="', o6 += y8.createDataURL(t6, e6), o6 += '"', o6 += ' width="', o6 += n7, o6 += '"', o6 += ' height="', o6 += n7, o6 += '"', r7 && (o6 += ' alt="', o6 += O4(r7), o6 += '"'), o6 + "/>";
              };
              var O4 = function(t6) {
                for (var e6 = "", r7 = 0; r7 < t6.length; r7 += 1) {
                  var n7 = t6.charAt(r7);
                  switch (n7) {
                    case "<":
                      e6 += "&lt;";
                      break;
                    case ">":
                      e6 += "&gt;";
                      break;
                    case "&":
                      e6 += "&amp;";
                      break;
                    case '"':
                      e6 += "&quot;";
                      break;
                    default:
                      e6 += n7;
                  }
                }
                return e6;
              };
              return y8.createASCII = function(t6, e6) {
                if ((t6 = t6 || 1) < 2)
                  return function(t7) {
                    t7 = void 0 === t7 ? 2 : t7;
                    var e7, r8, n8, o7, i6, a6 = 1 * y8.getModuleCount() + 2 * t7, s4 = t7, u7 = a6 - t7, c5 = { "\u2588\u2588": "\u2588", "\u2588 ": "\u2580", " \u2588": "\u2584", "  ": " " }, h8 = { "\u2588\u2588": "\u2580", "\u2588 ": "\u2580", " \u2588": " ", "  ": " " }, d5 = "";
                    for (e7 = 0; e7 < a6; e7 += 2) {
                      for (n8 = Math.floor((e7 - s4) / 1), o7 = Math.floor((e7 + 1 - s4) / 1), r8 = 0; r8 < a6; r8 += 1)
                        i6 = "\u2588", s4 <= r8 && r8 < u7 && s4 <= e7 && e7 < u7 && y8.isDark(n8, Math.floor((r8 - s4) / 1)) && (i6 = " "), s4 <= r8 && r8 < u7 && s4 <= e7 + 1 && e7 + 1 < u7 && y8.isDark(o7, Math.floor((r8 - s4) / 1)) ? i6 += " " : i6 += "\u2588", d5 += t7 < 1 && e7 + 1 >= u7 ? h8[i6] : c5[i6];
                      d5 += "\n";
                    }
                    return a6 % 2 && t7 > 0 ? d5.substring(0, d5.length - a6 - 1) + Array(a6 + 1).join("\u2580") : d5.substring(0, d5.length - 1);
                  }(e6);
                t6 -= 1, e6 = void 0 === e6 ? 2 * t6 : e6;
                var r7, n7, o6, i5, a5 = y8.getModuleCount() * t6 + 2 * e6, s3 = e6, u6 = a5 - e6, c4 = Array(t6 + 1).join("\u2588\u2588"), h7 = Array(t6 + 1).join("  "), d4 = "", l5 = "";
                for (r7 = 0; r7 < a5; r7 += 1) {
                  for (o6 = Math.floor((r7 - s3) / t6), l5 = "", n7 = 0; n7 < a5; n7 += 1)
                    i5 = 1, s3 <= n7 && n7 < u6 && s3 <= r7 && r7 < u6 && y8.isDark(o6, Math.floor((n7 - s3) / t6)) && (i5 = 0), l5 += i5 ? c4 : h7;
                  for (o6 = 0; o6 < t6; o6 += 1)
                    d4 += l5 + "\n";
                }
                return d4.substring(0, d4.length - 1);
              }, y8.renderTo2dContext = function(t6, e6) {
                e6 = e6 || 2;
                for (var r7 = y8.getModuleCount(), n7 = 0; n7 < r7; n7++)
                  for (var o6 = 0; o6 < r7; o6++)
                    t6.fillStyle = y8.isDark(n7, o6) ? "black" : "white", t6.fillRect(n7 * e6, o6 * e6, e6, e6);
              }, y8;
            };
            t4.stringToBytes = (t4.stringToBytesFuncs = { default: function(t5) {
              for (var e5 = [], r6 = 0; r6 < t5.length; r6 += 1) {
                var n6 = t5.charCodeAt(r6);
                e5.push(255 & n6);
              }
              return e5;
            } }).default, t4.createStringToBytes = function(t5, e5) {
              var r6 = function() {
                for (var r7 = y7(t5), n7 = function() {
                  var t6 = r7.read();
                  if (-1 == t6)
                    throw "eof";
                  return t6;
                }, o5 = 0, i4 = {}; ; ) {
                  var a5 = r7.read();
                  if (-1 == a5)
                    break;
                  var s3 = n7(), u5 = n7() << 8 | n7();
                  i4[String.fromCharCode(a5 << 8 | s3)] = u5, o5 += 1;
                }
                if (o5 != e5)
                  throw o5 + " != " + e5;
                return i4;
              }(), n6 = "?".charCodeAt(0);
              return function(t6) {
                for (var e6 = [], o5 = 0; o5 < t6.length; o5 += 1) {
                  var i4 = t6.charCodeAt(o5);
                  if (i4 < 128)
                    e6.push(i4);
                  else {
                    var a5 = r6[t6.charAt(o5)];
                    "number" == typeof a5 ? (255 & a5) == a5 ? e6.push(a5) : (e6.push(a5 >>> 8), e6.push(255 & a5)) : e6.push(n6);
                  }
                }
                return e6;
              };
            };
            var e4, r5, n5, o4, i3, a4 = { L: 1, M: 0, Q: 3, H: 2 }, s2 = (e4 = [[], [6, 18], [6, 22], [6, 26], [6, 30], [6, 34], [6, 22, 38], [6, 24, 42], [6, 26, 46], [6, 28, 50], [6, 30, 54], [6, 32, 58], [6, 34, 62], [6, 26, 46, 66], [6, 26, 48, 70], [6, 26, 50, 74], [6, 30, 54, 78], [6, 30, 56, 82], [6, 30, 58, 86], [6, 34, 62, 90], [6, 28, 50, 72, 94], [6, 26, 50, 74, 98], [6, 30, 54, 78, 102], [6, 28, 54, 80, 106], [6, 32, 58, 84, 110], [6, 30, 58, 86, 114], [6, 34, 62, 90, 118], [6, 26, 50, 74, 98, 122], [6, 30, 54, 78, 102, 126], [6, 26, 52, 78, 104, 130], [6, 30, 56, 82, 108, 134], [6, 34, 60, 86, 112, 138], [6, 30, 58, 86, 114, 142], [6, 34, 62, 90, 118, 146], [6, 30, 54, 78, 102, 126, 150], [6, 24, 50, 76, 102, 128, 154], [6, 28, 54, 80, 106, 132, 158], [6, 32, 58, 84, 110, 136, 162], [6, 26, 54, 82, 110, 138, 166], [6, 30, 58, 86, 114, 142, 170]], r5 = 1335, n5 = 7973, i3 = function(t5) {
              for (var e5 = 0; 0 != t5; )
                e5 += 1, t5 >>>= 1;
              return e5;
            }, (o4 = {}).getBCHTypeInfo = function(t5) {
              for (var e5 = t5 << 10; i3(e5) - i3(r5) >= 0; )
                e5 ^= r5 << i3(e5) - i3(r5);
              return 21522 ^ (t5 << 10 | e5);
            }, o4.getBCHTypeNumber = function(t5) {
              for (var e5 = t5 << 12; i3(e5) - i3(n5) >= 0; )
                e5 ^= n5 << i3(e5) - i3(n5);
              return t5 << 12 | e5;
            }, o4.getPatternPosition = function(t5) {
              return e4[t5 - 1];
            }, o4.getMaskFunction = function(t5) {
              switch (t5) {
                case 0:
                  return function(t6, e5) {
                    return (t6 + e5) % 2 == 0;
                  };
                case 1:
                  return function(t6, e5) {
                    return t6 % 2 == 0;
                  };
                case 2:
                  return function(t6, e5) {
                    return e5 % 3 == 0;
                  };
                case 3:
                  return function(t6, e5) {
                    return (t6 + e5) % 3 == 0;
                  };
                case 4:
                  return function(t6, e5) {
                    return (Math.floor(t6 / 2) + Math.floor(e5 / 3)) % 2 == 0;
                  };
                case 5:
                  return function(t6, e5) {
                    return t6 * e5 % 2 + t6 * e5 % 3 == 0;
                  };
                case 6:
                  return function(t6, e5) {
                    return (t6 * e5 % 2 + t6 * e5 % 3) % 2 == 0;
                  };
                case 7:
                  return function(t6, e5) {
                    return (t6 * e5 % 3 + (t6 + e5) % 2) % 2 == 0;
                  };
                default:
                  throw "bad maskPattern:" + t5;
              }
            }, o4.getErrorCorrectPolynomial = function(t5) {
              for (var e5 = c3([1], 0), r6 = 0; r6 < t5; r6 += 1)
                e5 = e5.multiply(c3([1, u4.gexp(r6)], 0));
              return e5;
            }, o4.getLengthInBits = function(t5, e5) {
              if (1 <= e5 && e5 < 10)
                switch (t5) {
                  case 1:
                    return 10;
                  case 2:
                    return 9;
                  case 4:
                  case 8:
                    return 8;
                  default:
                    throw "mode:" + t5;
                }
              else if (e5 < 27)
                switch (t5) {
                  case 1:
                    return 12;
                  case 2:
                    return 11;
                  case 4:
                    return 16;
                  case 8:
                    return 10;
                  default:
                    throw "mode:" + t5;
                }
              else {
                if (!(e5 < 41))
                  throw "type:" + e5;
                switch (t5) {
                  case 1:
                    return 14;
                  case 2:
                    return 13;
                  case 4:
                    return 16;
                  case 8:
                    return 12;
                  default:
                    throw "mode:" + t5;
                }
              }
            }, o4.getLostPoint = function(t5) {
              for (var e5 = t5.getModuleCount(), r6 = 0, n6 = 0; n6 < e5; n6 += 1)
                for (var o5 = 0; o5 < e5; o5 += 1) {
                  for (var i4 = 0, a5 = t5.isDark(n6, o5), s3 = -1; s3 <= 1; s3 += 1)
                    if (!(n6 + s3 < 0 || e5 <= n6 + s3))
                      for (var u5 = -1; u5 <= 1; u5 += 1)
                        o5 + u5 < 0 || e5 <= o5 + u5 || 0 == s3 && 0 == u5 || a5 == t5.isDark(n6 + s3, o5 + u5) && (i4 += 1);
                  i4 > 5 && (r6 += 3 + i4 - 5);
                }
              for (n6 = 0; n6 < e5 - 1; n6 += 1)
                for (o5 = 0; o5 < e5 - 1; o5 += 1) {
                  var c4 = 0;
                  t5.isDark(n6, o5) && (c4 += 1), t5.isDark(n6 + 1, o5) && (c4 += 1), t5.isDark(n6, o5 + 1) && (c4 += 1), t5.isDark(n6 + 1, o5 + 1) && (c4 += 1), 0 != c4 && 4 != c4 || (r6 += 3);
                }
              for (n6 = 0; n6 < e5; n6 += 1)
                for (o5 = 0; o5 < e5 - 6; o5 += 1)
                  t5.isDark(n6, o5) && !t5.isDark(n6, o5 + 1) && t5.isDark(n6, o5 + 2) && t5.isDark(n6, o5 + 3) && t5.isDark(n6, o5 + 4) && !t5.isDark(n6, o5 + 5) && t5.isDark(n6, o5 + 6) && (r6 += 40);
              for (o5 = 0; o5 < e5; o5 += 1)
                for (n6 = 0; n6 < e5 - 6; n6 += 1)
                  t5.isDark(n6, o5) && !t5.isDark(n6 + 1, o5) && t5.isDark(n6 + 2, o5) && t5.isDark(n6 + 3, o5) && t5.isDark(n6 + 4, o5) && !t5.isDark(n6 + 5, o5) && t5.isDark(n6 + 6, o5) && (r6 += 40);
              var h7 = 0;
              for (o5 = 0; o5 < e5; o5 += 1)
                for (n6 = 0; n6 < e5; n6 += 1)
                  t5.isDark(n6, o5) && (h7 += 1);
              return r6 + Math.abs(100 * h7 / e5 / e5 - 50) / 5 * 10;
            }, o4), u4 = function() {
              for (var t5 = new Array(256), e5 = new Array(256), r6 = 0; r6 < 8; r6 += 1)
                t5[r6] = 1 << r6;
              for (r6 = 8; r6 < 256; r6 += 1)
                t5[r6] = t5[r6 - 4] ^ t5[r6 - 5] ^ t5[r6 - 6] ^ t5[r6 - 8];
              for (r6 = 0; r6 < 255; r6 += 1)
                e5[t5[r6]] = r6;
              return { glog: function(t6) {
                if (t6 < 1)
                  throw "glog(" + t6 + ")";
                return e5[t6];
              }, gexp: function(e6) {
                for (; e6 < 0; )
                  e6 += 255;
                for (; e6 >= 256; )
                  e6 -= 255;
                return t5[e6];
              } };
            }();
            function c3(t5, e5) {
              if (void 0 === t5.length)
                throw t5.length + "/" + e5;
              var r6 = function() {
                for (var r7 = 0; r7 < t5.length && 0 == t5[r7]; )
                  r7 += 1;
                for (var n7 = new Array(t5.length - r7 + e5), o5 = 0; o5 < t5.length - r7; o5 += 1)
                  n7[o5] = t5[o5 + r7];
                return n7;
              }(), n6 = { getAt: function(t6) {
                return r6[t6];
              }, getLength: function() {
                return r6.length;
              }, multiply: function(t6) {
                for (var e6 = new Array(n6.getLength() + t6.getLength() - 1), r7 = 0; r7 < n6.getLength(); r7 += 1)
                  for (var o5 = 0; o5 < t6.getLength(); o5 += 1)
                    e6[r7 + o5] ^= u4.gexp(u4.glog(n6.getAt(r7)) + u4.glog(t6.getAt(o5)));
                return c3(e6, 0);
              }, mod: function(t6) {
                if (n6.getLength() - t6.getLength() < 0)
                  return n6;
                for (var e6 = u4.glog(n6.getAt(0)) - u4.glog(t6.getAt(0)), r7 = new Array(n6.getLength()), o5 = 0; o5 < n6.getLength(); o5 += 1)
                  r7[o5] = n6.getAt(o5);
                for (o5 = 0; o5 < t6.getLength(); o5 += 1)
                  r7[o5] ^= u4.gexp(u4.glog(t6.getAt(o5)) + e6);
                return c3(r7, 0).mod(t6);
              } };
              return n6;
            }
            var h6 = function() {
              var t5 = [[1, 26, 19], [1, 26, 16], [1, 26, 13], [1, 26, 9], [1, 44, 34], [1, 44, 28], [1, 44, 22], [1, 44, 16], [1, 70, 55], [1, 70, 44], [2, 35, 17], [2, 35, 13], [1, 100, 80], [2, 50, 32], [2, 50, 24], [4, 25, 9], [1, 134, 108], [2, 67, 43], [2, 33, 15, 2, 34, 16], [2, 33, 11, 2, 34, 12], [2, 86, 68], [4, 43, 27], [4, 43, 19], [4, 43, 15], [2, 98, 78], [4, 49, 31], [2, 32, 14, 4, 33, 15], [4, 39, 13, 1, 40, 14], [2, 121, 97], [2, 60, 38, 2, 61, 39], [4, 40, 18, 2, 41, 19], [4, 40, 14, 2, 41, 15], [2, 146, 116], [3, 58, 36, 2, 59, 37], [4, 36, 16, 4, 37, 17], [4, 36, 12, 4, 37, 13], [2, 86, 68, 2, 87, 69], [4, 69, 43, 1, 70, 44], [6, 43, 19, 2, 44, 20], [6, 43, 15, 2, 44, 16], [4, 101, 81], [1, 80, 50, 4, 81, 51], [4, 50, 22, 4, 51, 23], [3, 36, 12, 8, 37, 13], [2, 116, 92, 2, 117, 93], [6, 58, 36, 2, 59, 37], [4, 46, 20, 6, 47, 21], [7, 42, 14, 4, 43, 15], [4, 133, 107], [8, 59, 37, 1, 60, 38], [8, 44, 20, 4, 45, 21], [12, 33, 11, 4, 34, 12], [3, 145, 115, 1, 146, 116], [4, 64, 40, 5, 65, 41], [11, 36, 16, 5, 37, 17], [11, 36, 12, 5, 37, 13], [5, 109, 87, 1, 110, 88], [5, 65, 41, 5, 66, 42], [5, 54, 24, 7, 55, 25], [11, 36, 12, 7, 37, 13], [5, 122, 98, 1, 123, 99], [7, 73, 45, 3, 74, 46], [15, 43, 19, 2, 44, 20], [3, 45, 15, 13, 46, 16], [1, 135, 107, 5, 136, 108], [10, 74, 46, 1, 75, 47], [1, 50, 22, 15, 51, 23], [2, 42, 14, 17, 43, 15], [5, 150, 120, 1, 151, 121], [9, 69, 43, 4, 70, 44], [17, 50, 22, 1, 51, 23], [2, 42, 14, 19, 43, 15], [3, 141, 113, 4, 142, 114], [3, 70, 44, 11, 71, 45], [17, 47, 21, 4, 48, 22], [9, 39, 13, 16, 40, 14], [3, 135, 107, 5, 136, 108], [3, 67, 41, 13, 68, 42], [15, 54, 24, 5, 55, 25], [15, 43, 15, 10, 44, 16], [4, 144, 116, 4, 145, 117], [17, 68, 42], [17, 50, 22, 6, 51, 23], [19, 46, 16, 6, 47, 17], [2, 139, 111, 7, 140, 112], [17, 74, 46], [7, 54, 24, 16, 55, 25], [34, 37, 13], [4, 151, 121, 5, 152, 122], [4, 75, 47, 14, 76, 48], [11, 54, 24, 14, 55, 25], [16, 45, 15, 14, 46, 16], [6, 147, 117, 4, 148, 118], [6, 73, 45, 14, 74, 46], [11, 54, 24, 16, 55, 25], [30, 46, 16, 2, 47, 17], [8, 132, 106, 4, 133, 107], [8, 75, 47, 13, 76, 48], [7, 54, 24, 22, 55, 25], [22, 45, 15, 13, 46, 16], [10, 142, 114, 2, 143, 115], [19, 74, 46, 4, 75, 47], [28, 50, 22, 6, 51, 23], [33, 46, 16, 4, 47, 17], [8, 152, 122, 4, 153, 123], [22, 73, 45, 3, 74, 46], [8, 53, 23, 26, 54, 24], [12, 45, 15, 28, 46, 16], [3, 147, 117, 10, 148, 118], [3, 73, 45, 23, 74, 46], [4, 54, 24, 31, 55, 25], [11, 45, 15, 31, 46, 16], [7, 146, 116, 7, 147, 117], [21, 73, 45, 7, 74, 46], [1, 53, 23, 37, 54, 24], [19, 45, 15, 26, 46, 16], [5, 145, 115, 10, 146, 116], [19, 75, 47, 10, 76, 48], [15, 54, 24, 25, 55, 25], [23, 45, 15, 25, 46, 16], [13, 145, 115, 3, 146, 116], [2, 74, 46, 29, 75, 47], [42, 54, 24, 1, 55, 25], [23, 45, 15, 28, 46, 16], [17, 145, 115], [10, 74, 46, 23, 75, 47], [10, 54, 24, 35, 55, 25], [19, 45, 15, 35, 46, 16], [17, 145, 115, 1, 146, 116], [14, 74, 46, 21, 75, 47], [29, 54, 24, 19, 55, 25], [11, 45, 15, 46, 46, 16], [13, 145, 115, 6, 146, 116], [14, 74, 46, 23, 75, 47], [44, 54, 24, 7, 55, 25], [59, 46, 16, 1, 47, 17], [12, 151, 121, 7, 152, 122], [12, 75, 47, 26, 76, 48], [39, 54, 24, 14, 55, 25], [22, 45, 15, 41, 46, 16], [6, 151, 121, 14, 152, 122], [6, 75, 47, 34, 76, 48], [46, 54, 24, 10, 55, 25], [2, 45, 15, 64, 46, 16], [17, 152, 122, 4, 153, 123], [29, 74, 46, 14, 75, 47], [49, 54, 24, 10, 55, 25], [24, 45, 15, 46, 46, 16], [4, 152, 122, 18, 153, 123], [13, 74, 46, 32, 75, 47], [48, 54, 24, 14, 55, 25], [42, 45, 15, 32, 46, 16], [20, 147, 117, 4, 148, 118], [40, 75, 47, 7, 76, 48], [43, 54, 24, 22, 55, 25], [10, 45, 15, 67, 46, 16], [19, 148, 118, 6, 149, 119], [18, 75, 47, 31, 76, 48], [34, 54, 24, 34, 55, 25], [20, 45, 15, 61, 46, 16]], e5 = function(t6, e6) {
                var r7 = {};
                return r7.totalCount = t6, r7.dataCount = e6, r7;
              }, r6 = { getRSBlocks: function(r7, n6) {
                var o5 = function(e6, r8) {
                  switch (r8) {
                    case a4.L:
                      return t5[4 * (e6 - 1) + 0];
                    case a4.M:
                      return t5[4 * (e6 - 1) + 1];
                    case a4.Q:
                      return t5[4 * (e6 - 1) + 2];
                    case a4.H:
                      return t5[4 * (e6 - 1) + 3];
                    default:
                      return;
                  }
                }(r7, n6);
                if (void 0 === o5)
                  throw "bad rs block @ typeNumber:" + r7 + "/errorCorrectionLevel:" + n6;
                for (var i4 = o5.length / 3, s3 = [], u5 = 0; u5 < i4; u5 += 1)
                  for (var c4 = o5[3 * u5 + 0], h7 = o5[3 * u5 + 1], d4 = o5[3 * u5 + 2], l5 = 0; l5 < c4; l5 += 1)
                    s3.push(e5(h7, d4));
                return s3;
              } };
              return r6;
            }(), d3 = function() {
              var t5 = [], e5 = 0, r6 = { getBuffer: function() {
                return t5;
              }, getAt: function(e6) {
                var r7 = Math.floor(e6 / 8);
                return 1 == (t5[r7] >>> 7 - e6 % 8 & 1);
              }, put: function(t6, e6) {
                for (var n6 = 0; n6 < e6; n6 += 1)
                  r6.putBit(1 == (t6 >>> e6 - n6 - 1 & 1));
              }, getLengthInBits: function() {
                return e5;
              }, putBit: function(r7) {
                var n6 = Math.floor(e5 / 8);
                t5.length <= n6 && t5.push(0), r7 && (t5[n6] |= 128 >>> e5 % 8), e5 += 1;
              } };
              return r6;
            }, l4 = function(t5) {
              var e5 = t5, r6 = { getMode: function() {
                return 1;
              }, getLength: function(t6) {
                return e5.length;
              }, write: function(t6) {
                for (var r7 = e5, o6 = 0; o6 + 2 < r7.length; )
                  t6.put(n6(r7.substring(o6, o6 + 3)), 10), o6 += 3;
                o6 < r7.length && (r7.length - o6 == 1 ? t6.put(n6(r7.substring(o6, o6 + 1)), 4) : r7.length - o6 == 2 && t6.put(n6(r7.substring(o6, o6 + 2)), 7));
              } }, n6 = function(t6) {
                for (var e6 = 0, r7 = 0; r7 < t6.length; r7 += 1)
                  e6 = 10 * e6 + o5(t6.charAt(r7));
                return e6;
              }, o5 = function(t6) {
                if ("0" <= t6 && t6 <= "9")
                  return t6.charCodeAt(0) - "0".charCodeAt(0);
                throw "illegal char :" + t6;
              };
              return r6;
            }, f3 = function(t5) {
              var e5 = t5, r6 = { getMode: function() {
                return 2;
              }, getLength: function(t6) {
                return e5.length;
              }, write: function(t6) {
                for (var r7 = e5, o5 = 0; o5 + 1 < r7.length; )
                  t6.put(45 * n6(r7.charAt(o5)) + n6(r7.charAt(o5 + 1)), 11), o5 += 2;
                o5 < r7.length && t6.put(n6(r7.charAt(o5)), 6);
              } }, n6 = function(t6) {
                if ("0" <= t6 && t6 <= "9")
                  return t6.charCodeAt(0) - "0".charCodeAt(0);
                if ("A" <= t6 && t6 <= "Z")
                  return t6.charCodeAt(0) - "A".charCodeAt(0) + 10;
                switch (t6) {
                  case " ":
                    return 36;
                  case "$":
                    return 37;
                  case "%":
                    return 38;
                  case "*":
                    return 39;
                  case "+":
                    return 40;
                  case "-":
                    return 41;
                  case ".":
                    return 42;
                  case "/":
                    return 43;
                  case ":":
                    return 44;
                  default:
                    throw "illegal char :" + t6;
                }
              };
              return r6;
            }, p6 = function(e5) {
              var r6 = t4.stringToBytes(e5);
              return { getMode: function() {
                return 4;
              }, getLength: function(t5) {
                return r6.length;
              }, write: function(t5) {
                for (var e6 = 0; e6 < r6.length; e6 += 1)
                  t5.put(r6[e6], 8);
              } };
            }, g5 = function(e5) {
              var r6 = t4.stringToBytesFuncs.SJIS;
              if (!r6)
                throw "sjis not supported.";
              !function(t5, e6) {
                var n7 = r6("\u53CB");
                if (2 != n7.length || 38726 != (n7[0] << 8 | n7[1]))
                  throw "sjis not supported.";
              }();
              var n6 = r6(e5);
              return { getMode: function() {
                return 8;
              }, getLength: function(t5) {
                return ~~(n6.length / 2);
              }, write: function(t5) {
                for (var e6 = n6, r7 = 0; r7 + 1 < e6.length; ) {
                  var o5 = (255 & e6[r7]) << 8 | 255 & e6[r7 + 1];
                  if (33088 <= o5 && o5 <= 40956)
                    o5 -= 33088;
                  else {
                    if (!(57408 <= o5 && o5 <= 60351))
                      throw "illegal char at " + (r7 + 1) + "/" + o5;
                    o5 -= 49472;
                  }
                  o5 = 192 * (o5 >>> 8 & 255) + (255 & o5), t5.put(o5, 13), r7 += 2;
                }
                if (r7 < e6.length)
                  throw "illegal char at " + (r7 + 1);
              } };
            }, v2 = function() {
              var t5 = [], e5 = { writeByte: function(e6) {
                t5.push(255 & e6);
              }, writeShort: function(t6) {
                e5.writeByte(t6), e5.writeByte(t6 >>> 8);
              }, writeBytes: function(t6, r6, n6) {
                r6 = r6 || 0, n6 = n6 || t6.length;
                for (var o5 = 0; o5 < n6; o5 += 1)
                  e5.writeByte(t6[o5 + r6]);
              }, writeString: function(t6) {
                for (var r6 = 0; r6 < t6.length; r6 += 1)
                  e5.writeByte(t6.charCodeAt(r6));
              }, toByteArray: function() {
                return t5;
              }, toString: function() {
                var e6 = "";
                e6 += "[";
                for (var r6 = 0; r6 < t5.length; r6 += 1)
                  r6 > 0 && (e6 += ","), e6 += t5[r6];
                return e6 + "]";
              } };
              return e5;
            }, y7 = function(t5) {
              var e5 = t5, r6 = 0, n6 = 0, o5 = 0, i4 = { read: function() {
                for (; o5 < 8; ) {
                  if (r6 >= e5.length) {
                    if (0 == o5)
                      return -1;
                    throw "unexpected end of file./" + o5;
                  }
                  var t6 = e5.charAt(r6);
                  if (r6 += 1, "=" == t6)
                    return o5 = 0, -1;
                  t6.match(/^\s$/) || (n6 = n6 << 6 | a5(t6.charCodeAt(0)), o5 += 6);
                }
                var i5 = n6 >>> o5 - 8 & 255;
                return o5 -= 8, i5;
              } }, a5 = function(t6) {
                if (65 <= t6 && t6 <= 90)
                  return t6 - 65;
                if (97 <= t6 && t6 <= 122)
                  return t6 - 97 + 26;
                if (48 <= t6 && t6 <= 57)
                  return t6 - 48 + 52;
                if (43 == t6)
                  return 62;
                if (47 == t6)
                  return 63;
                throw "c:" + t6;
              };
              return i4;
            }, w4 = function(t5, e5, r6) {
              for (var n6 = function(t6, e6) {
                var r7 = t6, n7 = e6, o6 = new Array(t6 * e6), i5 = { setPixel: function(t7, e7, n8) {
                  o6[e7 * r7 + t7] = n8;
                }, write: function(t7) {
                  t7.writeString("GIF87a"), t7.writeShort(r7), t7.writeShort(n7), t7.writeByte(128), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(0), t7.writeByte(255), t7.writeByte(255), t7.writeByte(255), t7.writeString(","), t7.writeShort(0), t7.writeShort(0), t7.writeShort(r7), t7.writeShort(n7), t7.writeByte(0);
                  var e7 = a6(2);
                  t7.writeByte(2);
                  for (var o7 = 0; e7.length - o7 > 255; )
                    t7.writeByte(255), t7.writeBytes(e7, o7, 255), o7 += 255;
                  t7.writeByte(e7.length - o7), t7.writeBytes(e7, o7, e7.length - o7), t7.writeByte(0), t7.writeString(";");
                } }, a6 = function(t7) {
                  for (var e7 = 1 << t7, r8 = 1 + (1 << t7), n8 = t7 + 1, i6 = s4(), a7 = 0; a7 < e7; a7 += 1)
                    i6.add(String.fromCharCode(a7));
                  i6.add(String.fromCharCode(e7)), i6.add(String.fromCharCode(r8));
                  var u6, c5, h7, d4 = v2(), l5 = (u6 = d4, c5 = 0, h7 = 0, { write: function(t8, e8) {
                    if (t8 >>> e8 != 0)
                      throw "length over";
                    for (; c5 + e8 >= 8; )
                      u6.writeByte(255 & (t8 << c5 | h7)), e8 -= 8 - c5, t8 >>>= 8 - c5, h7 = 0, c5 = 0;
                    h7 |= t8 << c5, c5 += e8;
                  }, flush: function() {
                    c5 > 0 && u6.writeByte(h7);
                  } });
                  l5.write(e7, n8);
                  var f4 = 0, p7 = String.fromCharCode(o6[f4]);
                  for (f4 += 1; f4 < o6.length; ) {
                    var g6 = String.fromCharCode(o6[f4]);
                    f4 += 1, i6.contains(p7 + g6) ? p7 += g6 : (l5.write(i6.indexOf(p7), n8), i6.size() < 4095 && (i6.size() == 1 << n8 && (n8 += 1), i6.add(p7 + g6)), p7 = g6);
                  }
                  return l5.write(i6.indexOf(p7), n8), l5.write(r8, n8), l5.flush(), d4.toByteArray();
                }, s4 = function() {
                  var t7 = {}, e7 = 0, r8 = { add: function(n8) {
                    if (r8.contains(n8))
                      throw "dup key:" + n8;
                    t7[n8] = e7, e7 += 1;
                  }, size: function() {
                    return e7;
                  }, indexOf: function(e8) {
                    return t7[e8];
                  }, contains: function(e8) {
                    return void 0 !== t7[e8];
                  } };
                  return r8;
                };
                return i5;
              }(t5, e5), o5 = 0; o5 < e5; o5 += 1)
                for (var i4 = 0; i4 < t5; i4 += 1)
                  n6.setPixel(i4, o5, r6(i4, o5));
              var a5 = v2();
              n6.write(a5);
              for (var s3 = function() {
                var t6 = 0, e6 = 0, r7 = 0, n7 = "", o6 = {}, i5 = function(t7) {
                  n7 += String.fromCharCode(a6(63 & t7));
                }, a6 = function(t7) {
                  if (t7 < 0)
                    ;
                  else {
                    if (t7 < 26)
                      return 65 + t7;
                    if (t7 < 52)
                      return t7 - 26 + 97;
                    if (t7 < 62)
                      return t7 - 52 + 48;
                    if (62 == t7)
                      return 43;
                    if (63 == t7)
                      return 47;
                  }
                  throw "n:" + t7;
                };
                return o6.writeByte = function(n8) {
                  for (t6 = t6 << 8 | 255 & n8, e6 += 8, r7 += 1; e6 >= 6; )
                    i5(t6 >>> e6 - 6), e6 -= 6;
                }, o6.flush = function() {
                  if (e6 > 0 && (i5(t6 << 6 - e6), t6 = 0, e6 = 0), r7 % 3 != 0)
                    for (var o7 = 3 - r7 % 3, a7 = 0; a7 < o7; a7 += 1)
                      n7 += "=";
                }, o6.toString = function() {
                  return n7;
                }, o6;
              }(), u5 = a5.toByteArray(), c4 = 0; c4 < u5.length; c4 += 1)
                s3.writeByte(u5[c4]);
              return s3.flush(), "data:image/gif;base64," + s3;
            };
            return t4;
          }();
          o3.stringToBytesFuncs["UTF-8"] = function(t4) {
            return function(t5) {
              for (var e4 = [], r5 = 0; r5 < t5.length; r5++) {
                var n5 = t5.charCodeAt(r5);
                n5 < 128 ? e4.push(n5) : n5 < 2048 ? e4.push(192 | n5 >> 6, 128 | 63 & n5) : n5 < 55296 || n5 >= 57344 ? e4.push(224 | n5 >> 12, 128 | n5 >> 6 & 63, 128 | 63 & n5) : (r5++, n5 = 65536 + ((1023 & n5) << 10 | 1023 & t5.charCodeAt(r5)), e4.push(240 | n5 >> 18, 128 | n5 >> 12 & 63, 128 | n5 >> 6 & 63, 128 | 63 & n5));
              }
              return e4;
            }(t4);
          }, void 0 === (n4 = "function" == typeof (r4 = function() {
            return o3;
          }) ? r4.apply(e3, []) : r4) || (t3.exports = n4);
        }, 796: (t3, e3, r4) => {
          "use strict";
          r4.d(e3, { default: () => W4 });
          var n4 = function() {
            return (n4 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          }, o3 = function() {
            for (var t4 = 0, e4 = 0, r5 = arguments.length; e4 < r5; e4++)
              t4 += arguments[e4].length;
            var n5 = Array(t4), o4 = 0;
            for (e4 = 0; e4 < r5; e4++)
              for (var i4 = arguments[e4], a5 = 0, s3 = i4.length; a5 < s3; a5++, o4++)
                n5[o4] = i4[a5];
            return n5;
          }, i3 = function(t4) {
            return !!t4 && "object" == typeof t4 && !Array.isArray(t4);
          };
          function a4(t4) {
            for (var e4 = [], r5 = 1; r5 < arguments.length; r5++)
              e4[r5 - 1] = arguments[r5];
            if (!e4.length)
              return t4;
            var s3 = e4.shift();
            return void 0 !== s3 && i3(t4) && i3(s3) ? (t4 = n4({}, t4), Object.keys(s3).forEach(function(e5) {
              var r6 = t4[e5], n5 = s3[e5];
              Array.isArray(r6) && Array.isArray(n5) ? t4[e5] = n5 : i3(r6) && i3(n5) ? t4[e5] = a4(Object.assign({}, r6), n5) : t4[e5] = n5;
            }), a4.apply(void 0, o3([t4], e4))) : t4;
          }
          function s2(t4, e4) {
            var r5 = document.createElement("a");
            r5.download = e4, r5.href = t4, document.body.appendChild(r5), r5.click(), document.body.removeChild(r5);
          }
          function u4(t4) {
            var e4 = t4.originalHeight, r5 = t4.originalWidth, n5 = t4.maxHiddenDots, o4 = t4.maxHiddenAxisDots, i4 = t4.dotSize, a5 = { x: 0, y: 0 }, s3 = { x: 0, y: 0 };
            if (e4 <= 0 || r5 <= 0 || n5 <= 0 || i4 <= 0)
              return { height: 0, width: 0, hideYDots: 0, hideXDots: 0 };
            var u5 = e4 / r5;
            return a5.x = Math.floor(Math.sqrt(n5 / u5)), a5.x <= 0 && (a5.x = 1), o4 && o4 < a5.x && (a5.x = o4), a5.x % 2 == 0 && a5.x--, s3.x = a5.x * i4, a5.y = 1 + 2 * Math.ceil((a5.x * u5 - 1) / 2), s3.y = Math.round(s3.x * u5), (a5.y * a5.x > n5 || o4 && o4 < a5.y) && (o4 && o4 < a5.y ? (a5.y = o4, a5.y % 2 == 0 && a5.x--) : a5.y -= 2, s3.y = a5.y * i4, a5.x = 1 + 2 * Math.ceil((a5.y / u5 - 1) / 2), s3.x = Math.round(s3.y / u5)), { height: s3.y, width: s3.x, hideYDots: a5.y, hideXDots: a5.x };
          }
          const c3 = { L: 0.07, M: 0.15, Q: 0.25, H: 0.3 }, h6 = "dots", d3 = "rounded", l4 = "classy", f3 = "classy-rounded", p6 = "square", g5 = "extra-rounded";
          var v2 = function() {
            return (v2 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const y7 = function() {
            function t4(t5) {
              var e4 = t5.context, r5 = t5.type;
              this._context = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4, i4 = this._context;
              switch (this._type) {
                case h6:
                  o4 = this._drawDot;
                  break;
                case l4:
                  o4 = this._drawClassy;
                  break;
                case f3:
                  o4 = this._drawClassyRounded;
                  break;
                case d3:
                  o4 = this._drawRounded;
                  break;
                case g5:
                  o4 = this._drawExtraRounded;
                  break;
                case p6:
                default:
                  o4 = this._drawSquare;
              }
              o4.call(this, { x: t5, y: e4, size: r5, context: i4, getNeighbor: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = t5.draw, u5 = e4 + n5 / 2, c4 = r5 + n5 / 2;
              o4.translate(u5, c4), a5 && o4.rotate(a5), s3(), o4.closePath(), a5 && o4.rotate(-a5), o4.translate(-u5, -c4);
            }, t4.prototype._basicDot = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, 0, 2 * Math.PI);
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.rect(-e4 / 2, -e4 / 2, e4, e4);
              } }));
            }, t4.prototype._basicSideRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, -Math.PI / 2, Math.PI / 2), r5.lineTo(-e4 / 2, e4 / 2), r5.lineTo(-e4 / 2, -e4 / 2), r5.lineTo(0, -e4 / 2);
              } }));
            }, t4.prototype._basicCornerRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, -Math.PI / 2, 0), r5.lineTo(e4 / 2, e4 / 2), r5.lineTo(-e4 / 2, e4 / 2), r5.lineTo(-e4 / 2, -e4 / 2), r5.lineTo(0, -e4 / 2);
              } }));
            }, t4.prototype._basicCornerExtraRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(-e4 / 2, e4 / 2, e4, -Math.PI / 2, 0), r5.lineTo(-e4 / 2, e4 / 2), r5.lineTo(-e4 / 2, -e4 / 2);
              } }));
            }, t4.prototype._basicCornersRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, -Math.PI / 2, 0), r5.lineTo(e4 / 2, e4 / 2), r5.lineTo(0, e4 / 2), r5.arc(0, 0, e4 / 2, Math.PI / 2, Math.PI), r5.lineTo(-e4 / 2, -e4 / 2), r5.lineTo(0, -e4 / 2);
              } }));
            }, t4.prototype._basicCornersExtraRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(v2(v2({}, t5), { draw: function() {
                r5.arc(-e4 / 2, e4 / 2, e4, -Math.PI / 2, 0), r5.arc(e4 / 2, -e4 / 2, e4, Math.PI / 2, Math.PI);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context;
              this._basicDot({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context;
              this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
            }, t4.prototype._drawRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.getNeighbor, a5 = i4 ? +i4(-1, 0) : 0, s3 = i4 ? +i4(1, 0) : 0, u5 = i4 ? +i4(0, -1) : 0, c4 = i4 ? +i4(0, 1) : 0, h7 = a5 + s3 + u5 + c4;
              if (0 !== h7)
                if (h7 > 2 || a5 && s3 || u5 && c4)
                  this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
                else {
                  if (2 === h7) {
                    var d4 = 0;
                    return a5 && u5 ? d4 = Math.PI / 2 : u5 && s3 ? d4 = Math.PI : s3 && c4 && (d4 = -Math.PI / 2), void this._basicCornerRounded({ x: e4, y: r5, size: n5, context: o4, rotation: d4 });
                  }
                  if (1 === h7)
                    return d4 = 0, u5 ? d4 = Math.PI / 2 : s3 ? d4 = Math.PI : c4 && (d4 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, context: o4, rotation: d4 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.getNeighbor, a5 = i4 ? +i4(-1, 0) : 0, s3 = i4 ? +i4(1, 0) : 0, u5 = i4 ? +i4(0, -1) : 0, c4 = i4 ? +i4(0, 1) : 0, h7 = a5 + s3 + u5 + c4;
              if (0 !== h7)
                if (h7 > 2 || a5 && s3 || u5 && c4)
                  this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
                else {
                  if (2 === h7) {
                    var d4 = 0;
                    return a5 && u5 ? d4 = Math.PI / 2 : u5 && s3 ? d4 = Math.PI : s3 && c4 && (d4 = -Math.PI / 2), void this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, context: o4, rotation: d4 });
                  }
                  if (1 === h7)
                    return d4 = 0, u5 ? d4 = Math.PI / 2 : s3 ? d4 = Math.PI : c4 && (d4 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, context: o4, rotation: d4 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, context: o4, rotation: 0 });
            }, t4.prototype._drawClassy = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.getNeighbor, a5 = i4 ? +i4(-1, 0) : 0, s3 = i4 ? +i4(1, 0) : 0, u5 = i4 ? +i4(0, -1) : 0, c4 = i4 ? +i4(0, 1) : 0;
              0 !== a5 + s3 + u5 + c4 ? a5 || u5 ? s3 || c4 ? this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: 0 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, context: o4, rotation: Math.PI / 2 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, context: o4, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, context: o4, rotation: Math.PI / 2 });
            }, t4.prototype._drawClassyRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.getNeighbor, a5 = i4 ? +i4(-1, 0) : 0, s3 = i4 ? +i4(1, 0) : 0, u5 = i4 ? +i4(0, -1) : 0, c4 = i4 ? +i4(0, 1) : 0;
              0 !== a5 + s3 + u5 + c4 ? a5 || u5 ? s3 || c4 ? this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: 0 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, context: o4, rotation: Math.PI / 2 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, context: o4, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, context: o4, rotation: Math.PI / 2 });
            }, t4;
          }(), w4 = "square", _4 = "extra-rounded";
          var m3 = function() {
            return (m3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const b3 = function() {
            function t4(t5) {
              var e4 = t5.context, r5 = t5.type;
              this._context = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4, i4 = this._context;
              switch (this._type) {
                case w4:
                  o4 = this._drawSquare;
                  break;
                case _4:
                  o4 = this._drawExtraRounded;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, context: i4, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = t5.draw, u5 = e4 + n5 / 2, c4 = r5 + n5 / 2;
              o4.translate(u5, c4), a5 && o4.rotate(a5), s3(), o4.closePath(), a5 && o4.rotate(-a5), o4.translate(-u5, -c4);
            }, t4.prototype._basicDot = function(t5) {
              var e4 = t5.size, r5 = t5.context, n5 = e4 / 7;
              this._rotateFigure(m3(m3({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, 0, 2 * Math.PI), r5.arc(0, 0, e4 / 2 - n5, 0, 2 * Math.PI);
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = t5.size, r5 = t5.context, n5 = e4 / 7;
              this._rotateFigure(m3(m3({}, t5), { draw: function() {
                r5.rect(-e4 / 2, -e4 / 2, e4, e4), r5.rect(-e4 / 2 + n5, -e4 / 2 + n5, e4 - 2 * n5, e4 - 2 * n5);
              } }));
            }, t4.prototype._basicExtraRounded = function(t5) {
              var e4 = t5.size, r5 = t5.context, n5 = e4 / 7;
              this._rotateFigure(m3(m3({}, t5), { draw: function() {
                r5.arc(-n5, -n5, 2.5 * n5, Math.PI, -Math.PI / 2), r5.lineTo(n5, -3.5 * n5), r5.arc(n5, -n5, 2.5 * n5, -Math.PI / 2, 0), r5.lineTo(3.5 * n5, -n5), r5.arc(n5, n5, 2.5 * n5, 0, Math.PI / 2), r5.lineTo(-n5, 3.5 * n5), r5.arc(-n5, n5, 2.5 * n5, Math.PI / 2, Math.PI), r5.lineTo(-3.5 * n5, -n5), r5.arc(-n5, -n5, 1.5 * n5, Math.PI, -Math.PI / 2), r5.lineTo(n5, -2.5 * n5), r5.arc(n5, -n5, 1.5 * n5, -Math.PI / 2, 0), r5.lineTo(2.5 * n5, -n5), r5.arc(n5, n5, 1.5 * n5, 0, Math.PI / 2), r5.lineTo(-n5, 2.5 * n5), r5.arc(-n5, n5, 1.5 * n5, Math.PI / 2, Math.PI), r5.lineTo(-2.5 * n5, -n5);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, context: o4, rotation: i4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: i4 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation;
              this._basicExtraRounded({ x: e4, y: r5, size: n5, context: o4, rotation: i4 });
            }, t4;
          }(), x5 = "square";
          var M3 = function() {
            return (M3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const S3 = function() {
            function t4(t5) {
              var e4 = t5.context, r5 = t5.type;
              this._context = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4, i4 = this._context;
              switch (this._type) {
                case x5:
                  o4 = this._drawSquare;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, context: i4, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = t5.draw, u5 = e4 + n5 / 2, c4 = r5 + n5 / 2;
              o4.translate(u5, c4), a5 && o4.rotate(a5), s3(), o4.closePath(), a5 && o4.rotate(-a5), o4.translate(-u5, -c4);
            }, t4.prototype._basicDot = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(M3(M3({}, t5), { draw: function() {
                r5.arc(0, 0, e4 / 2, 0, 2 * Math.PI);
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = t5.size, r5 = t5.context;
              this._rotateFigure(M3(M3({}, t5), { draw: function() {
                r5.rect(-e4 / 2, -e4 / 2, e4, e4);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, context: o4, rotation: i4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.context, i4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, context: o4, rotation: i4 });
            }, t4;
          }(), C3 = "radial";
          var P3 = [[1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1]], O4 = [[0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0]];
          const z3 = function() {
            function t4(t5) {
              this._canvas = document.createElement("canvas"), this._canvas.width = t5.width, this._canvas.height = t5.height, this._options = t5;
            }
            return Object.defineProperty(t4.prototype, "context", { get: function() {
              return this._canvas.getContext("2d");
            }, enumerable: false, configurable: true }), Object.defineProperty(t4.prototype, "width", { get: function() {
              return this._canvas.width;
            }, enumerable: false, configurable: true }), Object.defineProperty(t4.prototype, "height", { get: function() {
              return this._canvas.height;
            }, enumerable: false, configurable: true }), t4.prototype.getCanvas = function() {
              return this._canvas;
            }, t4.prototype.clear = function() {
              var t5 = this.context;
              t5 && t5.clearRect(0, 0, this._canvas.width, this._canvas.height);
            }, t4.prototype.drawQR = function(t5) {
              return e4 = this, r5 = void 0, o4 = function() {
                var e5, r6, n6, o5, i4, a5, s3, h7, d4, l5 = this;
                return function(t6, e6) {
                  var r7, n7, o6, i5, a6 = { label: 0, sent: function() {
                    if (1 & o6[0])
                      throw o6[1];
                    return o6[1];
                  }, trys: [], ops: [] };
                  return i5 = { next: s4(0), throw: s4(1), return: s4(2) }, "function" == typeof Symbol && (i5[Symbol.iterator] = function() {
                    return this;
                  }), i5;
                  function s4(i6) {
                    return function(s5) {
                      return function(i7) {
                        if (r7)
                          throw new TypeError("Generator is already executing.");
                        for (; a6; )
                          try {
                            if (r7 = 1, n7 && (o6 = 2 & i7[0] ? n7.return : i7[0] ? n7.throw || ((o6 = n7.return) && o6.call(n7), 0) : n7.next) && !(o6 = o6.call(n7, i7[1])).done)
                              return o6;
                            switch (n7 = 0, o6 && (i7 = [2 & i7[0], o6.value]), i7[0]) {
                              case 0:
                              case 1:
                                o6 = i7;
                                break;
                              case 4:
                                return a6.label++, { value: i7[1], done: false };
                              case 5:
                                a6.label++, n7 = i7[1], i7 = [0];
                                continue;
                              case 7:
                                i7 = a6.ops.pop(), a6.trys.pop();
                                continue;
                              default:
                                if (!((o6 = (o6 = a6.trys).length > 0 && o6[o6.length - 1]) || 6 !== i7[0] && 2 !== i7[0])) {
                                  a6 = 0;
                                  continue;
                                }
                                if (3 === i7[0] && (!o6 || i7[1] > o6[0] && i7[1] < o6[3])) {
                                  a6.label = i7[1];
                                  break;
                                }
                                if (6 === i7[0] && a6.label < o6[1]) {
                                  a6.label = o6[1], o6 = i7;
                                  break;
                                }
                                if (o6 && a6.label < o6[2]) {
                                  a6.label = o6[2], a6.ops.push(i7);
                                  break;
                                }
                                o6[2] && a6.ops.pop(), a6.trys.pop();
                                continue;
                            }
                            i7 = e6.call(t6, a6);
                          } catch (t7) {
                            i7 = [6, t7], n7 = 0;
                          } finally {
                            r7 = o6 = 0;
                          }
                        if (5 & i7[0])
                          throw i7[1];
                        return { value: i7[0] ? i7[1] : void 0, done: true };
                      }([i6, s5]);
                    };
                  }
                }(this, function(f4) {
                  switch (f4.label) {
                    case 0:
                      return e5 = t5.getModuleCount(), r6 = Math.min(this._options.width, this._options.height) - 2 * this._options.margin, n6 = Math.floor(r6 / e5), o5 = { hideXDots: 0, hideYDots: 0, width: 0, height: 0 }, this._qr = t5, this._options.image ? [4, this.loadImage()] : [3, 2];
                    case 1:
                      if (f4.sent(), !this._image)
                        return [2];
                      i4 = this._options, a5 = i4.imageOptions, s3 = i4.qrOptions, h7 = a5.imageSize * c3[s3.errorCorrectionLevel], d4 = Math.floor(h7 * e5 * e5), o5 = u4({ originalWidth: this._image.width, originalHeight: this._image.height, maxHiddenDots: d4, maxHiddenAxisDots: e5 - 14, dotSize: n6 }), f4.label = 2;
                    case 2:
                      return this.clear(), this.drawBackground(), this.drawDots(function(t6, r7) {
                        var n7, i5, a6, s4, u5, c4;
                        return !(l5._options.imageOptions.hideBackgroundDots && t6 >= (e5 - o5.hideXDots) / 2 && t6 < (e5 + o5.hideXDots) / 2 && r7 >= (e5 - o5.hideYDots) / 2 && r7 < (e5 + o5.hideYDots) / 2 || (null === (n7 = P3[t6]) || void 0 === n7 ? void 0 : n7[r7]) || (null === (i5 = P3[t6 - e5 + 7]) || void 0 === i5 ? void 0 : i5[r7]) || (null === (a6 = P3[t6]) || void 0 === a6 ? void 0 : a6[r7 - e5 + 7]) || (null === (s4 = O4[t6]) || void 0 === s4 ? void 0 : s4[r7]) || (null === (u5 = O4[t6 - e5 + 7]) || void 0 === u5 ? void 0 : u5[r7]) || (null === (c4 = O4[t6]) || void 0 === c4 ? void 0 : c4[r7 - e5 + 7]));
                      }), this.drawCorners(), this._options.image && this.drawImage({ width: o5.width, height: o5.height, count: e5, dotSize: n6 }), [2];
                  }
                });
              }, new ((n5 = void 0) || (n5 = Promise))(function(t6, i4) {
                function a5(t7) {
                  try {
                    u5(o4.next(t7));
                  } catch (t8) {
                    i4(t8);
                  }
                }
                function s3(t7) {
                  try {
                    u5(o4.throw(t7));
                  } catch (t8) {
                    i4(t8);
                  }
                }
                function u5(e5) {
                  var r6;
                  e5.done ? t6(e5.value) : (r6 = e5.value, r6 instanceof n5 ? r6 : new n5(function(t7) {
                    t7(r6);
                  })).then(a5, s3);
                }
                u5((o4 = o4.apply(e4, r5 || [])).next());
              });
              var e4, r5, n5, o4;
            }, t4.prototype.drawBackground = function() {
              var t5 = this.context, e4 = this._options;
              if (t5) {
                if (e4.backgroundOptions.gradient) {
                  var r5 = e4.backgroundOptions.gradient, n5 = this._createGradient({ context: t5, options: r5, additionalRotation: 0, x: 0, y: 0, size: this._canvas.width > this._canvas.height ? this._canvas.width : this._canvas.height });
                  r5.colorStops.forEach(function(t6) {
                    var e5 = t6.offset, r6 = t6.color;
                    n5.addColorStop(e5, r6);
                  }), t5.fillStyle = n5;
                } else
                  e4.backgroundOptions.color && (t5.fillStyle = e4.backgroundOptions.color);
                t5.fillRect(0, 0, this._canvas.width, this._canvas.height);
              }
            }, t4.prototype.drawDots = function(t5) {
              var e4 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var r5 = this.context;
              if (!r5)
                throw "QR code is not defined";
              var n5 = this._options, o4 = this._qr.getModuleCount();
              if (o4 > n5.width || o4 > n5.height)
                throw "The canvas is too small.";
              var i4 = Math.min(n5.width, n5.height) - 2 * n5.margin, a5 = Math.floor(i4 / o4), s3 = Math.floor((n5.width - o4 * a5) / 2), u5 = Math.floor((n5.height - o4 * a5) / 2), c4 = new y7({ context: r5, type: n5.dotsOptions.type });
              r5.beginPath();
              for (var h7 = function(r6) {
                for (var n6 = function(n7) {
                  return t5 && !t5(r6, n7) ? "continue" : d4._qr.isDark(r6, n7) ? void c4.draw(s3 + r6 * a5, u5 + n7 * a5, a5, function(i6, a6) {
                    return !(r6 + i6 < 0 || n7 + a6 < 0 || r6 + i6 >= o4 || n7 + a6 >= o4) && !(t5 && !t5(r6 + i6, n7 + a6)) && !!e4._qr && e4._qr.isDark(r6 + i6, n7 + a6);
                  }) : "continue";
                }, i5 = 0; i5 < o4; i5++)
                  n6(i5);
              }, d4 = this, l5 = 0; l5 < o4; l5++)
                h7(l5);
              if (n5.dotsOptions.gradient) {
                var f4 = n5.dotsOptions.gradient, p7 = this._createGradient({ context: r5, options: f4, additionalRotation: 0, x: s3, y: u5, size: o4 * a5 });
                f4.colorStops.forEach(function(t6) {
                  var e5 = t6.offset, r6 = t6.color;
                  p7.addColorStop(e5, r6);
                }), r5.fillStyle = r5.strokeStyle = p7;
              } else
                n5.dotsOptions.color && (r5.fillStyle = r5.strokeStyle = n5.dotsOptions.color);
              r5.fill("evenodd");
            }, t4.prototype.drawCorners = function(t5) {
              var e4 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var r5 = this.context;
              if (!r5)
                throw "QR code is not defined";
              var n5 = this._options, o4 = this._qr.getModuleCount(), i4 = Math.min(n5.width, n5.height) - 2 * n5.margin, a5 = Math.floor(i4 / o4), s3 = 7 * a5, u5 = 3 * a5, c4 = Math.floor((n5.width - o4 * a5) / 2), h7 = Math.floor((n5.height - o4 * a5) / 2);
              [[0, 0, 0], [1, 0, Math.PI / 2], [0, 1, -Math.PI / 2]].forEach(function(i5) {
                var d4, l5, f4, p7, g6, v3, w5, _5, m4, x6, M4 = i5[0], C4 = i5[1], z4 = i5[2];
                if (!t5 || t5(M4, C4)) {
                  var D5 = c4 + M4 * a5 * (o4 - 7), I2 = h7 + C4 * a5 * (o4 - 7);
                  if (null === (d4 = n5.cornersSquareOptions) || void 0 === d4 ? void 0 : d4.type) {
                    var A4 = new b3({ context: r5, type: null === (l5 = n5.cornersSquareOptions) || void 0 === l5 ? void 0 : l5.type });
                    r5.beginPath(), A4.draw(D5, I2, s3, z4);
                  } else {
                    var k4 = new y7({ context: r5, type: n5.dotsOptions.type });
                    r5.beginPath();
                    for (var q5 = function(t6) {
                      for (var e5 = function(e6) {
                        if (!(null === (f4 = P3[t6]) || void 0 === f4 ? void 0 : f4[e6]))
                          return "continue";
                        k4.draw(D5 + t6 * a5, I2 + e6 * a5, a5, function(r7, n6) {
                          var o5;
                          return !!(null === (o5 = P3[t6 + r7]) || void 0 === o5 ? void 0 : o5[e6 + n6]);
                        });
                      }, r6 = 0; r6 < P3[t6].length; r6++)
                        e5(r6);
                    }, R4 = 0; R4 < P3.length; R4++)
                      q5(R4);
                  }
                  if (null === (p7 = n5.cornersSquareOptions) || void 0 === p7 ? void 0 : p7.gradient) {
                    var B4 = n5.cornersSquareOptions.gradient, E6 = e4._createGradient({ context: r5, options: B4, additionalRotation: z4, x: D5, y: I2, size: s3 });
                    B4.colorStops.forEach(function(t6) {
                      var e5 = t6.offset, r6 = t6.color;
                      E6.addColorStop(e5, r6);
                    }), r5.fillStyle = r5.strokeStyle = E6;
                  } else
                    (null === (g6 = n5.cornersSquareOptions) || void 0 === g6 ? void 0 : g6.color) && (r5.fillStyle = r5.strokeStyle = n5.cornersSquareOptions.color);
                  if (r5.fill("evenodd"), null === (v3 = n5.cornersDotOptions) || void 0 === v3 ? void 0 : v3.type) {
                    var L4 = new S3({ context: r5, type: null === (w5 = n5.cornersDotOptions) || void 0 === w5 ? void 0 : w5.type });
                    r5.beginPath(), L4.draw(D5 + 2 * a5, I2 + 2 * a5, u5, z4);
                  } else {
                    k4 = new y7({ context: r5, type: n5.dotsOptions.type }), r5.beginPath();
                    var N13 = function(t6) {
                      for (var e5 = function(e6) {
                        if (!(null === (_5 = O4[t6]) || void 0 === _5 ? void 0 : _5[e6]))
                          return "continue";
                        k4.draw(D5 + t6 * a5, I2 + e6 * a5, a5, function(r7, n6) {
                          var o5;
                          return !!(null === (o5 = O4[t6 + r7]) || void 0 === o5 ? void 0 : o5[e6 + n6]);
                        });
                      }, r6 = 0; r6 < O4[t6].length; r6++)
                        e5(r6);
                    };
                    for (R4 = 0; R4 < O4.length; R4++)
                      N13(R4);
                  }
                  if (null === (m4 = n5.cornersDotOptions) || void 0 === m4 ? void 0 : m4.gradient) {
                    B4 = n5.cornersDotOptions.gradient;
                    var T3 = e4._createGradient({ context: r5, options: B4, additionalRotation: z4, x: D5 + 2 * a5, y: I2 + 2 * a5, size: u5 });
                    B4.colorStops.forEach(function(t6) {
                      var e5 = t6.offset, r6 = t6.color;
                      T3.addColorStop(e5, r6);
                    }), r5.fillStyle = r5.strokeStyle = T3;
                  } else
                    (null === (x6 = n5.cornersDotOptions) || void 0 === x6 ? void 0 : x6.color) && (r5.fillStyle = r5.strokeStyle = n5.cornersDotOptions.color);
                  r5.fill("evenodd");
                }
              });
            }, t4.prototype.loadImage = function() {
              var t5 = this;
              return new Promise(function(e4, r5) {
                var n5 = t5._options, o4 = new Image();
                if (!n5.image)
                  return r5("Image is not defined");
                "string" == typeof n5.imageOptions.crossOrigin && (o4.crossOrigin = n5.imageOptions.crossOrigin), t5._image = o4, o4.onload = function() {
                  e4();
                }, o4.src = n5.image;
              });
            }, t4.prototype.drawImage = function(t5) {
              var e4 = t5.width, r5 = t5.height, n5 = t5.count, o4 = t5.dotSize, i4 = this.context;
              if (!i4)
                throw "canvasContext is not defined";
              if (!this._image)
                throw "image is not defined";
              var a5 = this._options, s3 = Math.floor((a5.width - n5 * o4) / 2), u5 = Math.floor((a5.height - n5 * o4) / 2), c4 = s3 + a5.imageOptions.margin + (n5 * o4 - e4) / 2, h7 = u5 + a5.imageOptions.margin + (n5 * o4 - r5) / 2, d4 = e4 - 2 * a5.imageOptions.margin, l5 = r5 - 2 * a5.imageOptions.margin;
              i4.drawImage(this._image, c4, h7, d4 < 0 ? 0 : d4, l5 < 0 ? 0 : l5);
            }, t4.prototype._createGradient = function(t5) {
              var e4, r5 = t5.context, n5 = t5.options, o4 = t5.additionalRotation, i4 = t5.x, a5 = t5.y, s3 = t5.size;
              if (n5.type === C3)
                e4 = r5.createRadialGradient(i4 + s3 / 2, a5 + s3 / 2, 0, i4 + s3 / 2, a5 + s3 / 2, s3 / 2);
              else {
                var u5 = ((n5.rotation || 0) + o4) % (2 * Math.PI), c4 = (u5 + 2 * Math.PI) % (2 * Math.PI), h7 = i4 + s3 / 2, d4 = a5 + s3 / 2, l5 = i4 + s3 / 2, f4 = a5 + s3 / 2;
                c4 >= 0 && c4 <= 0.25 * Math.PI || c4 > 1.75 * Math.PI && c4 <= 2 * Math.PI ? (h7 -= s3 / 2, d4 -= s3 / 2 * Math.tan(u5), l5 += s3 / 2, f4 += s3 / 2 * Math.tan(u5)) : c4 > 0.25 * Math.PI && c4 <= 0.75 * Math.PI ? (d4 -= s3 / 2, h7 -= s3 / 2 / Math.tan(u5), f4 += s3 / 2, l5 += s3 / 2 / Math.tan(u5)) : c4 > 0.75 * Math.PI && c4 <= 1.25 * Math.PI ? (h7 += s3 / 2, d4 += s3 / 2 * Math.tan(u5), l5 -= s3 / 2, f4 -= s3 / 2 * Math.tan(u5)) : c4 > 1.25 * Math.PI && c4 <= 1.75 * Math.PI && (d4 += s3 / 2, h7 += s3 / 2 / Math.tan(u5), f4 -= s3 / 2, l5 -= s3 / 2 / Math.tan(u5)), e4 = r5.createLinearGradient(Math.round(h7), Math.round(d4), Math.round(l5), Math.round(f4));
              }
              return e4;
            }, t4;
          }();
          var D4 = function() {
            return (D4 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const I = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case h6:
                  o4 = this._drawDot;
                  break;
                case l4:
                  o4 = this._drawClassy;
                  break;
                case f3:
                  o4 = this._drawClassyRounded;
                  break;
                case d3:
                  o4 = this._drawRounded;
                  break;
                case g5:
                  o4 = this._drawExtraRounded;
                  break;
                case p6:
                default:
                  o4 = this._drawSquare;
              }
              o4.call(this, { x: t5, y: e4, size: r5, getNeighbor: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "circle"), e4._element.setAttribute("cx", String(n5 + r5 / 2)), e4._element.setAttribute("cy", String(o4 + r5 / 2)), e4._element.setAttribute("r", String(r5 / 2));
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "rect"), e4._element.setAttribute("x", String(n5)), e4._element.setAttribute("y", String(o4)), e4._element.setAttribute("width", String(r5)), e4._element.setAttribute("height", String(r5));
              } }));
            }, t4.prototype._basicSideRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, 0 " + -r5);
              } }));
            }, t4.prototype._basicCornerRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "v " + -r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + -r5 / 2 + " " + -r5 / 2);
              } }));
            }, t4.prototype._basicCornerExtraRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "a " + r5 + " " + r5 + ", 0, 0, 0, " + -r5 + " " + -r5);
              } }));
            }, t4.prototype._basicCornersRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(D4(D4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + r5 / 2 + " " + r5 / 2 + "h " + r5 / 2 + "v " + -r5 / 2 + "a " + r5 / 2 + " " + r5 / 2 + ", 0, 0, 0, " + -r5 / 2 + " " + -r5 / 2);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0, c4 = i4 + a5 + s3 + u5;
              if (0 !== c4)
                if (c4 > 2 || i4 && a5 || s3 && u5)
                  this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
                else {
                  if (2 === c4) {
                    var h7 = 0;
                    return i4 && s3 ? h7 = Math.PI / 2 : s3 && a5 ? h7 = Math.PI : a5 && u5 && (h7 = -Math.PI / 2), void this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: h7 });
                  }
                  if (1 === c4)
                    return h7 = 0, s3 ? h7 = Math.PI / 2 : a5 ? h7 = Math.PI : u5 && (h7 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, rotation: h7 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0, c4 = i4 + a5 + s3 + u5;
              if (0 !== c4)
                if (c4 > 2 || i4 && a5 || s3 && u5)
                  this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 });
                else {
                  if (2 === c4) {
                    var h7 = 0;
                    return i4 && s3 ? h7 = Math.PI / 2 : s3 && a5 ? h7 = Math.PI : a5 && u5 && (h7 = -Math.PI / 2), void this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: h7 });
                  }
                  if (1 === c4)
                    return h7 = 0, s3 ? h7 = Math.PI / 2 : a5 ? h7 = Math.PI : u5 && (h7 = -Math.PI / 2), void this._basicSideRounded({ x: e4, y: r5, size: n5, rotation: h7 });
                }
              else
                this._basicDot({ x: e4, y: r5, size: n5, rotation: 0 });
            }, t4.prototype._drawClassy = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0;
              0 !== i4 + a5 + s3 + u5 ? i4 || s3 ? a5 || u5 ? this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 }) : this._basicCornerRounded({ x: e4, y: r5, size: n5, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 });
            }, t4.prototype._drawClassyRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.getNeighbor, i4 = o4 ? +o4(-1, 0) : 0, a5 = o4 ? +o4(1, 0) : 0, s3 = o4 ? +o4(0, -1) : 0, u5 = o4 ? +o4(0, 1) : 0;
              0 !== i4 + a5 + s3 + u5 ? i4 || s3 ? a5 || u5 ? this._basicSquare({ x: e4, y: r5, size: n5, rotation: 0 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 }) : this._basicCornerExtraRounded({ x: e4, y: r5, size: n5, rotation: -Math.PI / 2 }) : this._basicCornersRounded({ x: e4, y: r5, size: n5, rotation: Math.PI / 2 });
            }, t4;
          }();
          var A3 = function() {
            return (A3 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const k3 = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case w4:
                  o4 = this._drawSquare;
                  break;
                case _4:
                  o4 = this._drawExtraRounded;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(A3(A3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + (n5 + r5 / 2) + " " + o4 + "a " + r5 / 2 + " " + r5 / 2 + " 0 1 0 0.1 0zm 0 " + i4 + "a " + (r5 / 2 - i4) + " " + (r5 / 2 - i4) + " 0 1 1 -0.1 0Z");
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(A3(A3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + n5 + " " + o4 + "v " + r5 + "h " + r5 + "v " + -r5 + "zM " + (n5 + i4) + " " + (o4 + i4) + "h " + (r5 - 2 * i4) + "v " + (r5 - 2 * i4) + "h " + (2 * i4 - r5) + "z");
              } }));
            }, t4.prototype._basicExtraRounded = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y, i4 = r5 / 7;
              this._rotateFigure(A3(A3({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "path"), e4._element.setAttribute("clip-rule", "evenodd"), e4._element.setAttribute("d", "M " + n5 + " " + (o4 + 2.5 * i4) + "v " + 2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * i4 + " " + 2.5 * i4 + "h " + 2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * i4 + " " + 2.5 * -i4 + "v " + -2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * -i4 + " " + 2.5 * -i4 + "h " + -2 * i4 + "a " + 2.5 * i4 + " " + 2.5 * i4 + ", 0, 0, 0, " + 2.5 * -i4 + " " + 2.5 * i4 + "M " + (n5 + 2.5 * i4) + " " + (o4 + i4) + "h " + 2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * i4 + " " + 1.5 * i4 + "v " + 2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * -i4 + " " + 1.5 * i4 + "h " + -2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * -i4 + " " + 1.5 * -i4 + "v " + -2 * i4 + "a " + 1.5 * i4 + " " + 1.5 * i4 + ", 0, 0, 1, " + 1.5 * i4 + " " + 1.5 * -i4);
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawExtraRounded = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicExtraRounded({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4;
          }();
          var q4 = function() {
            return (q4 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          const R3 = function() {
            function t4(t5) {
              var e4 = t5.svg, r5 = t5.type;
              this._svg = e4, this._type = r5;
            }
            return t4.prototype.draw = function(t5, e4, r5, n5) {
              var o4;
              switch (this._type) {
                case x5:
                  o4 = this._drawSquare;
                  break;
                case "dot":
                default:
                  o4 = this._drawDot;
              }
              o4.call(this, { x: t5, y: e4, size: r5, rotation: n5 });
            }, t4.prototype._rotateFigure = function(t5) {
              var e4, r5 = t5.x, n5 = t5.y, o4 = t5.size, i4 = t5.rotation, a5 = void 0 === i4 ? 0 : i4, s3 = r5 + o4 / 2, u5 = n5 + o4 / 2;
              (0, t5.draw)(), null === (e4 = this._element) || void 0 === e4 || e4.setAttribute("transform", "rotate(" + 180 * a5 / Math.PI + "," + s3 + "," + u5 + ")");
            }, t4.prototype._basicDot = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(q4(q4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "circle"), e4._element.setAttribute("cx", String(n5 + r5 / 2)), e4._element.setAttribute("cy", String(o4 + r5 / 2)), e4._element.setAttribute("r", String(r5 / 2));
              } }));
            }, t4.prototype._basicSquare = function(t5) {
              var e4 = this, r5 = t5.size, n5 = t5.x, o4 = t5.y;
              this._rotateFigure(q4(q4({}, t5), { draw: function() {
                e4._element = document.createElementNS("http://www.w3.org/2000/svg", "rect"), e4._element.setAttribute("x", String(n5)), e4._element.setAttribute("y", String(o4)), e4._element.setAttribute("width", String(r5)), e4._element.setAttribute("height", String(r5));
              } }));
            }, t4.prototype._drawDot = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicDot({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4.prototype._drawSquare = function(t5) {
              var e4 = t5.x, r5 = t5.y, n5 = t5.size, o4 = t5.rotation;
              this._basicSquare({ x: e4, y: r5, size: n5, rotation: o4 });
            }, t4;
          }();
          var B3 = [[1, 1, 1, 1, 1, 1, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, 0, 1], [1, 1, 1, 1, 1, 1, 1]], E5 = [[0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 1, 1, 1, 0, 0], [0, 0, 0, 0, 0, 0, 0], [0, 0, 0, 0, 0, 0, 0]];
          const L3 = function() {
            function t4(t5) {
              this._element = document.createElementNS("http://www.w3.org/2000/svg", "svg"), this._element.setAttribute("width", String(t5.width)), this._element.setAttribute("height", String(t5.height)), this._defs = document.createElementNS("http://www.w3.org/2000/svg", "defs"), this._element.appendChild(this._defs), this._options = t5;
            }
            return Object.defineProperty(t4.prototype, "width", { get: function() {
              return this._options.width;
            }, enumerable: false, configurable: true }), Object.defineProperty(t4.prototype, "height", { get: function() {
              return this._options.height;
            }, enumerable: false, configurable: true }), t4.prototype.getElement = function() {
              return this._element;
            }, t4.prototype.clear = function() {
              var t5, e4 = this._element;
              this._element = e4.cloneNode(false), null === (t5 = null == e4 ? void 0 : e4.parentNode) || void 0 === t5 || t5.replaceChild(this._element, e4), this._defs = document.createElementNS("http://www.w3.org/2000/svg", "defs"), this._element.appendChild(this._defs);
            }, t4.prototype.drawQR = function(t5) {
              return e4 = this, r5 = void 0, o4 = function() {
                var e5, r6, n6, o5, i4, a5, s3, h7, d4, l5 = this;
                return function(t6, e6) {
                  var r7, n7, o6, i5, a6 = { label: 0, sent: function() {
                    if (1 & o6[0])
                      throw o6[1];
                    return o6[1];
                  }, trys: [], ops: [] };
                  return i5 = { next: s4(0), throw: s4(1), return: s4(2) }, "function" == typeof Symbol && (i5[Symbol.iterator] = function() {
                    return this;
                  }), i5;
                  function s4(i6) {
                    return function(s5) {
                      return function(i7) {
                        if (r7)
                          throw new TypeError("Generator is already executing.");
                        for (; a6; )
                          try {
                            if (r7 = 1, n7 && (o6 = 2 & i7[0] ? n7.return : i7[0] ? n7.throw || ((o6 = n7.return) && o6.call(n7), 0) : n7.next) && !(o6 = o6.call(n7, i7[1])).done)
                              return o6;
                            switch (n7 = 0, o6 && (i7 = [2 & i7[0], o6.value]), i7[0]) {
                              case 0:
                              case 1:
                                o6 = i7;
                                break;
                              case 4:
                                return a6.label++, { value: i7[1], done: false };
                              case 5:
                                a6.label++, n7 = i7[1], i7 = [0];
                                continue;
                              case 7:
                                i7 = a6.ops.pop(), a6.trys.pop();
                                continue;
                              default:
                                if (!((o6 = (o6 = a6.trys).length > 0 && o6[o6.length - 1]) || 6 !== i7[0] && 2 !== i7[0])) {
                                  a6 = 0;
                                  continue;
                                }
                                if (3 === i7[0] && (!o6 || i7[1] > o6[0] && i7[1] < o6[3])) {
                                  a6.label = i7[1];
                                  break;
                                }
                                if (6 === i7[0] && a6.label < o6[1]) {
                                  a6.label = o6[1], o6 = i7;
                                  break;
                                }
                                if (o6 && a6.label < o6[2]) {
                                  a6.label = o6[2], a6.ops.push(i7);
                                  break;
                                }
                                o6[2] && a6.ops.pop(), a6.trys.pop();
                                continue;
                            }
                            i7 = e6.call(t6, a6);
                          } catch (t7) {
                            i7 = [6, t7], n7 = 0;
                          } finally {
                            r7 = o6 = 0;
                          }
                        if (5 & i7[0])
                          throw i7[1];
                        return { value: i7[0] ? i7[1] : void 0, done: true };
                      }([i6, s5]);
                    };
                  }
                }(this, function(f4) {
                  switch (f4.label) {
                    case 0:
                      return e5 = t5.getModuleCount(), r6 = Math.min(this._options.width, this._options.height) - 2 * this._options.margin, n6 = Math.floor(r6 / e5), o5 = { hideXDots: 0, hideYDots: 0, width: 0, height: 0 }, this._qr = t5, this._options.image ? [4, this.loadImage()] : [3, 2];
                    case 1:
                      if (f4.sent(), !this._image)
                        return [2];
                      i4 = this._options, a5 = i4.imageOptions, s3 = i4.qrOptions, h7 = a5.imageSize * c3[s3.errorCorrectionLevel], d4 = Math.floor(h7 * e5 * e5), o5 = u4({ originalWidth: this._image.width, originalHeight: this._image.height, maxHiddenDots: d4, maxHiddenAxisDots: e5 - 14, dotSize: n6 }), f4.label = 2;
                    case 2:
                      return this.clear(), this.drawBackground(), this.drawDots(function(t6, r7) {
                        var n7, i5, a6, s4, u5, c4;
                        return !(l5._options.imageOptions.hideBackgroundDots && t6 >= (e5 - o5.hideXDots) / 2 && t6 < (e5 + o5.hideXDots) / 2 && r7 >= (e5 - o5.hideYDots) / 2 && r7 < (e5 + o5.hideYDots) / 2 || (null === (n7 = B3[t6]) || void 0 === n7 ? void 0 : n7[r7]) || (null === (i5 = B3[t6 - e5 + 7]) || void 0 === i5 ? void 0 : i5[r7]) || (null === (a6 = B3[t6]) || void 0 === a6 ? void 0 : a6[r7 - e5 + 7]) || (null === (s4 = E5[t6]) || void 0 === s4 ? void 0 : s4[r7]) || (null === (u5 = E5[t6 - e5 + 7]) || void 0 === u5 ? void 0 : u5[r7]) || (null === (c4 = E5[t6]) || void 0 === c4 ? void 0 : c4[r7 - e5 + 7]));
                      }), this.drawCorners(), this._options.image && this.drawImage({ width: o5.width, height: o5.height, count: e5, dotSize: n6 }), [2];
                  }
                });
              }, new ((n5 = void 0) || (n5 = Promise))(function(t6, i4) {
                function a5(t7) {
                  try {
                    u5(o4.next(t7));
                  } catch (t8) {
                    i4(t8);
                  }
                }
                function s3(t7) {
                  try {
                    u5(o4.throw(t7));
                  } catch (t8) {
                    i4(t8);
                  }
                }
                function u5(e5) {
                  var r6;
                  e5.done ? t6(e5.value) : (r6 = e5.value, r6 instanceof n5 ? r6 : new n5(function(t7) {
                    t7(r6);
                  })).then(a5, s3);
                }
                u5((o4 = o4.apply(e4, r5 || [])).next());
              });
              var e4, r5, n5, o4;
            }, t4.prototype.drawBackground = function() {
              var t5, e4, r5 = this._element, n5 = this._options;
              if (r5) {
                var o4 = null === (t5 = n5.backgroundOptions) || void 0 === t5 ? void 0 : t5.gradient, i4 = null === (e4 = n5.backgroundOptions) || void 0 === e4 ? void 0 : e4.color;
                (o4 || i4) && this._createColor({ options: o4, color: i4, additionalRotation: 0, x: 0, y: 0, height: n5.height, width: n5.width, name: "background-color" });
              }
            }, t4.prototype.drawDots = function(t5) {
              var e4, r5, n5 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var o4 = this._options, i4 = this._qr.getModuleCount();
              if (i4 > o4.width || i4 > o4.height)
                throw "The canvas is too small.";
              var a5 = Math.min(o4.width, o4.height) - 2 * o4.margin, s3 = Math.floor(a5 / i4), u5 = Math.floor((o4.width - i4 * s3) / 2), c4 = Math.floor((o4.height - i4 * s3) / 2), h7 = new I({ svg: this._element, type: o4.dotsOptions.type });
              this._dotsClipPath = document.createElementNS("http://www.w3.org/2000/svg", "clipPath"), this._dotsClipPath.setAttribute("id", "clip-path-dot-color"), this._defs.appendChild(this._dotsClipPath), this._createColor({ options: null === (e4 = o4.dotsOptions) || void 0 === e4 ? void 0 : e4.gradient, color: o4.dotsOptions.color, additionalRotation: 0, x: u5, y: c4, height: i4 * s3, width: i4 * s3, name: "dot-color" });
              for (var d4 = function(e5) {
                for (var o5 = function(o6) {
                  return t5 && !t5(e5, o6) ? "continue" : (null === (r5 = l5._qr) || void 0 === r5 ? void 0 : r5.isDark(e5, o6)) ? (h7.draw(u5 + e5 * s3, c4 + o6 * s3, s3, function(r6, a7) {
                    return !(e5 + r6 < 0 || o6 + a7 < 0 || e5 + r6 >= i4 || o6 + a7 >= i4) && !(t5 && !t5(e5 + r6, o6 + a7)) && !!n5._qr && n5._qr.isDark(e5 + r6, o6 + a7);
                  }), void (h7._element && l5._dotsClipPath && l5._dotsClipPath.appendChild(h7._element))) : "continue";
                }, a6 = 0; a6 < i4; a6++)
                  o5(a6);
              }, l5 = this, f4 = 0; f4 < i4; f4++)
                d4(f4);
            }, t4.prototype.drawCorners = function() {
              var t5 = this;
              if (!this._qr)
                throw "QR code is not defined";
              var e4 = this._element, r5 = this._options;
              if (!e4)
                throw "Element code is not defined";
              var n5 = this._qr.getModuleCount(), o4 = Math.min(r5.width, r5.height) - 2 * r5.margin, i4 = Math.floor(o4 / n5), a5 = 7 * i4, s3 = 3 * i4, u5 = Math.floor((r5.width - n5 * i4) / 2), c4 = Math.floor((r5.height - n5 * i4) / 2);
              [[0, 0, 0], [1, 0, Math.PI / 2], [0, 1, -Math.PI / 2]].forEach(function(e5) {
                var o5, h7, d4, l5, f4, p7, g6, v3, y8, w5, _5, m4, b4 = e5[0], x6 = e5[1], M4 = e5[2], S4 = u5 + b4 * i4 * (n5 - 7), C4 = c4 + x6 * i4 * (n5 - 7), P4 = t5._dotsClipPath, O5 = t5._dotsClipPath;
                if (((null === (o5 = r5.cornersSquareOptions) || void 0 === o5 ? void 0 : o5.gradient) || (null === (h7 = r5.cornersSquareOptions) || void 0 === h7 ? void 0 : h7.color)) && ((P4 = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute("id", "clip-path-corners-square-color-" + b4 + "-" + x6), t5._defs.appendChild(P4), t5._cornersSquareClipPath = t5._cornersDotClipPath = O5 = P4, t5._createColor({ options: null === (d4 = r5.cornersSquareOptions) || void 0 === d4 ? void 0 : d4.gradient, color: null === (l5 = r5.cornersSquareOptions) || void 0 === l5 ? void 0 : l5.color, additionalRotation: M4, x: S4, y: C4, height: a5, width: a5, name: "corners-square-color-" + b4 + "-" + x6 })), null === (f4 = r5.cornersSquareOptions) || void 0 === f4 ? void 0 : f4.type) {
                  var z4 = new k3({ svg: t5._element, type: r5.cornersSquareOptions.type });
                  z4.draw(S4, C4, a5, M4), z4._element && P4 && P4.appendChild(z4._element);
                } else
                  for (var D5 = new I({ svg: t5._element, type: r5.dotsOptions.type }), A4 = function(t6) {
                    for (var e6 = function(e7) {
                      if (!(null === (p7 = B3[t6]) || void 0 === p7 ? void 0 : p7[e7]))
                        return "continue";
                      D5.draw(S4 + t6 * i4, C4 + e7 * i4, i4, function(r7, n6) {
                        var o6;
                        return !!(null === (o6 = B3[t6 + r7]) || void 0 === o6 ? void 0 : o6[e7 + n6]);
                      }), D5._element && P4 && P4.appendChild(D5._element);
                    }, r6 = 0; r6 < B3[t6].length; r6++)
                      e6(r6);
                  }, q5 = 0; q5 < B3.length; q5++)
                    A4(q5);
                if (((null === (g6 = r5.cornersDotOptions) || void 0 === g6 ? void 0 : g6.gradient) || (null === (v3 = r5.cornersDotOptions) || void 0 === v3 ? void 0 : v3.color)) && ((O5 = document.createElementNS("http://www.w3.org/2000/svg", "clipPath")).setAttribute("id", "clip-path-corners-dot-color-" + b4 + "-" + x6), t5._defs.appendChild(O5), t5._cornersDotClipPath = O5, t5._createColor({ options: null === (y8 = r5.cornersDotOptions) || void 0 === y8 ? void 0 : y8.gradient, color: null === (w5 = r5.cornersDotOptions) || void 0 === w5 ? void 0 : w5.color, additionalRotation: M4, x: S4 + 2 * i4, y: C4 + 2 * i4, height: s3, width: s3, name: "corners-dot-color-" + b4 + "-" + x6 })), null === (_5 = r5.cornersDotOptions) || void 0 === _5 ? void 0 : _5.type) {
                  var L4 = new R3({ svg: t5._element, type: r5.cornersDotOptions.type });
                  L4.draw(S4 + 2 * i4, C4 + 2 * i4, s3, M4), L4._element && O5 && O5.appendChild(L4._element);
                } else {
                  D5 = new I({ svg: t5._element, type: r5.dotsOptions.type });
                  var N13 = function(t6) {
                    for (var e6 = function(e7) {
                      if (!(null === (m4 = E5[t6]) || void 0 === m4 ? void 0 : m4[e7]))
                        return "continue";
                      D5.draw(S4 + t6 * i4, C4 + e7 * i4, i4, function(r7, n6) {
                        var o6;
                        return !!(null === (o6 = E5[t6 + r7]) || void 0 === o6 ? void 0 : o6[e7 + n6]);
                      }), D5._element && O5 && O5.appendChild(D5._element);
                    }, r6 = 0; r6 < E5[t6].length; r6++)
                      e6(r6);
                  };
                  for (q5 = 0; q5 < E5.length; q5++)
                    N13(q5);
                }
              });
            }, t4.prototype.loadImage = function() {
              var t5 = this;
              return new Promise(function(e4, r5) {
                var n5 = t5._options, o4 = new Image();
                if (!n5.image)
                  return r5("Image is not defined");
                "string" == typeof n5.imageOptions.crossOrigin && (o4.crossOrigin = n5.imageOptions.crossOrigin), t5._image = o4, o4.onload = function() {
                  e4();
                }, o4.src = n5.image;
              });
            }, t4.prototype.drawImage = function(t5) {
              var e4 = t5.width, r5 = t5.height, n5 = t5.count, o4 = t5.dotSize, i4 = this._options, a5 = Math.floor((i4.width - n5 * o4) / 2), s3 = Math.floor((i4.height - n5 * o4) / 2), u5 = a5 + i4.imageOptions.margin + (n5 * o4 - e4) / 2, c4 = s3 + i4.imageOptions.margin + (n5 * o4 - r5) / 2, h7 = e4 - 2 * i4.imageOptions.margin, d4 = r5 - 2 * i4.imageOptions.margin, l5 = document.createElementNS("http://www.w3.org/2000/svg", "image");
              l5.setAttribute("href", i4.image || ""), l5.setAttribute("x", String(u5)), l5.setAttribute("y", String(c4)), l5.setAttribute("width", h7 + "px"), l5.setAttribute("height", d4 + "px"), this._element.appendChild(l5);
            }, t4.prototype._createColor = function(t5) {
              var e4 = t5.options, r5 = t5.color, n5 = t5.additionalRotation, o4 = t5.x, i4 = t5.y, a5 = t5.height, s3 = t5.width, u5 = t5.name, c4 = s3 > a5 ? s3 : a5, h7 = document.createElementNS("http://www.w3.org/2000/svg", "rect");
              if (h7.setAttribute("x", String(o4)), h7.setAttribute("y", String(i4)), h7.setAttribute("height", String(a5)), h7.setAttribute("width", String(s3)), h7.setAttribute("clip-path", "url('#clip-path-" + u5 + "')"), e4) {
                var d4;
                if (e4.type === C3)
                  (d4 = document.createElementNS("http://www.w3.org/2000/svg", "radialGradient")).setAttribute("id", u5), d4.setAttribute("gradientUnits", "userSpaceOnUse"), d4.setAttribute("fx", String(o4 + s3 / 2)), d4.setAttribute("fy", String(i4 + a5 / 2)), d4.setAttribute("cx", String(o4 + s3 / 2)), d4.setAttribute("cy", String(i4 + a5 / 2)), d4.setAttribute("r", String(c4 / 2));
                else {
                  var l5 = ((e4.rotation || 0) + n5) % (2 * Math.PI), f4 = (l5 + 2 * Math.PI) % (2 * Math.PI), p7 = o4 + s3 / 2, g6 = i4 + a5 / 2, v3 = o4 + s3 / 2, y8 = i4 + a5 / 2;
                  f4 >= 0 && f4 <= 0.25 * Math.PI || f4 > 1.75 * Math.PI && f4 <= 2 * Math.PI ? (p7 -= s3 / 2, g6 -= a5 / 2 * Math.tan(l5), v3 += s3 / 2, y8 += a5 / 2 * Math.tan(l5)) : f4 > 0.25 * Math.PI && f4 <= 0.75 * Math.PI ? (g6 -= a5 / 2, p7 -= s3 / 2 / Math.tan(l5), y8 += a5 / 2, v3 += s3 / 2 / Math.tan(l5)) : f4 > 0.75 * Math.PI && f4 <= 1.25 * Math.PI ? (p7 += s3 / 2, g6 += a5 / 2 * Math.tan(l5), v3 -= s3 / 2, y8 -= a5 / 2 * Math.tan(l5)) : f4 > 1.25 * Math.PI && f4 <= 1.75 * Math.PI && (g6 += a5 / 2, p7 += s3 / 2 / Math.tan(l5), y8 -= a5 / 2, v3 -= s3 / 2 / Math.tan(l5)), (d4 = document.createElementNS("http://www.w3.org/2000/svg", "linearGradient")).setAttribute("id", u5), d4.setAttribute("gradientUnits", "userSpaceOnUse"), d4.setAttribute("x1", String(Math.round(p7))), d4.setAttribute("y1", String(Math.round(g6))), d4.setAttribute("x2", String(Math.round(v3))), d4.setAttribute("y2", String(Math.round(y8)));
                }
                e4.colorStops.forEach(function(t6) {
                  var e5 = t6.offset, r6 = t6.color, n6 = document.createElementNS("http://www.w3.org/2000/svg", "stop");
                  n6.setAttribute("offset", 100 * e5 + "%"), n6.setAttribute("stop-color", r6), d4.appendChild(n6);
                }), h7.setAttribute("fill", "url('#" + u5 + "')"), this._defs.appendChild(d4);
              } else
                r5 && h7.setAttribute("fill", r5);
              this._element.appendChild(h7);
            }, t4;
          }(), N12 = "canvas";
          for (var T2 = {}, j4 = 0; j4 <= 40; j4++)
            T2[j4] = j4;
          const F3 = { type: N12, width: 300, height: 300, data: "", margin: 0, qrOptions: { typeNumber: T2[0], mode: void 0, errorCorrectionLevel: "Q" }, imageOptions: { hideBackgroundDots: true, imageSize: 0.4, crossOrigin: void 0, margin: 0 }, dotsOptions: { type: "square", color: "#000" }, backgroundOptions: { color: "#fff" } };
          var Q4 = function() {
            return (Q4 = Object.assign || function(t4) {
              for (var e4, r5 = 1, n5 = arguments.length; r5 < n5; r5++)
                for (var o4 in e4 = arguments[r5])
                  Object.prototype.hasOwnProperty.call(e4, o4) && (t4[o4] = e4[o4]);
              return t4;
            }).apply(this, arguments);
          };
          function H4(t4) {
            var e4 = Q4({}, t4);
            if (!e4.colorStops || !e4.colorStops.length)
              throw "Field 'colorStops' is required in gradient";
            return e4.rotation ? e4.rotation = Number(e4.rotation) : e4.rotation = 0, e4.colorStops = e4.colorStops.map(function(t5) {
              return Q4(Q4({}, t5), { offset: Number(t5.offset) });
            }), e4;
          }
          function G3(t4) {
            var e4 = Q4({}, t4);
            return e4.width = Number(e4.width), e4.height = Number(e4.height), e4.margin = Number(e4.margin), e4.imageOptions = Q4(Q4({}, e4.imageOptions), { hideBackgroundDots: Boolean(e4.imageOptions.hideBackgroundDots), imageSize: Number(e4.imageOptions.imageSize), margin: Number(e4.imageOptions.margin) }), e4.margin > Math.min(e4.width, e4.height) && (e4.margin = Math.min(e4.width, e4.height)), e4.dotsOptions = Q4({}, e4.dotsOptions), e4.dotsOptions.gradient && (e4.dotsOptions.gradient = H4(e4.dotsOptions.gradient)), e4.cornersSquareOptions && (e4.cornersSquareOptions = Q4({}, e4.cornersSquareOptions), e4.cornersSquareOptions.gradient && (e4.cornersSquareOptions.gradient = H4(e4.cornersSquareOptions.gradient))), e4.cornersDotOptions && (e4.cornersDotOptions = Q4({}, e4.cornersDotOptions), e4.cornersDotOptions.gradient && (e4.cornersDotOptions.gradient = H4(e4.cornersDotOptions.gradient))), e4.backgroundOptions && (e4.backgroundOptions = Q4({}, e4.backgroundOptions), e4.backgroundOptions.gradient && (e4.backgroundOptions.gradient = H4(e4.backgroundOptions.gradient))), e4;
          }
          var X4 = r4(192), U5 = r4.n(X4), Y = function(t4, e4, r5, n5) {
            return new (r5 || (r5 = Promise))(function(o4, i4) {
              function a5(t5) {
                try {
                  u5(n5.next(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function s3(t5) {
                try {
                  u5(n5.throw(t5));
                } catch (t6) {
                  i4(t6);
                }
              }
              function u5(t5) {
                var e5;
                t5.done ? o4(t5.value) : (e5 = t5.value, e5 instanceof r5 ? e5 : new r5(function(t6) {
                  t6(e5);
                })).then(a5, s3);
              }
              u5((n5 = n5.apply(t4, e4 || [])).next());
            });
          }, $2 = function(t4, e4) {
            var r5, n5, o4, i4, a5 = { label: 0, sent: function() {
              if (1 & o4[0])
                throw o4[1];
              return o4[1];
            }, trys: [], ops: [] };
            return i4 = { next: s3(0), throw: s3(1), return: s3(2) }, "function" == typeof Symbol && (i4[Symbol.iterator] = function() {
              return this;
            }), i4;
            function s3(i5) {
              return function(s4) {
                return function(i6) {
                  if (r5)
                    throw new TypeError("Generator is already executing.");
                  for (; a5; )
                    try {
                      if (r5 = 1, n5 && (o4 = 2 & i6[0] ? n5.return : i6[0] ? n5.throw || ((o4 = n5.return) && o4.call(n5), 0) : n5.next) && !(o4 = o4.call(n5, i6[1])).done)
                        return o4;
                      switch (n5 = 0, o4 && (i6 = [2 & i6[0], o4.value]), i6[0]) {
                        case 0:
                        case 1:
                          o4 = i6;
                          break;
                        case 4:
                          return a5.label++, { value: i6[1], done: false };
                        case 5:
                          a5.label++, n5 = i6[1], i6 = [0];
                          continue;
                        case 7:
                          i6 = a5.ops.pop(), a5.trys.pop();
                          continue;
                        default:
                          if (!((o4 = (o4 = a5.trys).length > 0 && o4[o4.length - 1]) || 6 !== i6[0] && 2 !== i6[0])) {
                            a5 = 0;
                            continue;
                          }
                          if (3 === i6[0] && (!o4 || i6[1] > o4[0] && i6[1] < o4[3])) {
                            a5.label = i6[1];
                            break;
                          }
                          if (6 === i6[0] && a5.label < o4[1]) {
                            a5.label = o4[1], o4 = i6;
                            break;
                          }
                          if (o4 && a5.label < o4[2]) {
                            a5.label = o4[2], a5.ops.push(i6);
                            break;
                          }
                          o4[2] && a5.ops.pop(), a5.trys.pop();
                          continue;
                      }
                      i6 = e4.call(t4, a5);
                    } catch (t5) {
                      i6 = [6, t5], n5 = 0;
                    } finally {
                      r5 = o4 = 0;
                    }
                  if (5 & i6[0])
                    throw i6[1];
                  return { value: i6[0] ? i6[1] : void 0, done: true };
                }([i5, s4]);
              };
            }
          };
          const W4 = function() {
            function t4(t5) {
              this._options = t5 ? G3(a4(F3, t5)) : F3, this.update();
            }
            return t4._clearContainer = function(t5) {
              t5 && (t5.innerHTML = "");
            }, t4.prototype._getQRStylingElement = function(t5) {
              return void 0 === t5 && (t5 = "png"), Y(this, void 0, void 0, function() {
                var e4, r5, n5;
                return $2(this, function(o4) {
                  switch (o4.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return "svg" !== t5.toLowerCase() ? [3, 2] : (r5 = void 0, e4 = void 0, this._svg && this._svgDrawingPromise ? (e4 = this._svg, r5 = this._svgDrawingPromise) : (e4 = new L3(this._options), r5 = e4.drawQR(this._qr)), [4, r5]);
                    case 1:
                      return o4.sent(), [2, e4];
                    case 2:
                      return r5 = void 0, n5 = void 0, this._canvas && this._canvasDrawingPromise ? (n5 = this._canvas, r5 = this._canvasDrawingPromise) : (n5 = new z3(this._options), r5 = n5.drawQR(this._qr)), [4, r5];
                    case 3:
                      return o4.sent(), [2, n5];
                  }
                });
              });
            }, t4.prototype.update = function(e4) {
              t4._clearContainer(this._container), this._options = e4 ? G3(a4(this._options, e4)) : this._options, this._options.data && (this._qr = U5()(this._options.qrOptions.typeNumber, this._options.qrOptions.errorCorrectionLevel), this._qr.addData(this._options.data, this._options.qrOptions.mode || function(t5) {
                switch (true) {
                  case /^[0-9]*$/.test(t5):
                    return "Numeric";
                  case /^[0-9A-Z $%*+\-./:]*$/.test(t5):
                    return "Alphanumeric";
                  default:
                    return "Byte";
                }
              }(this._options.data)), this._qr.make(), this._options.type === N12 ? (this._canvas = new z3(this._options), this._canvasDrawingPromise = this._canvas.drawQR(this._qr), this._svgDrawingPromise = void 0, this._svg = void 0) : (this._svg = new L3(this._options), this._svgDrawingPromise = this._svg.drawQR(this._qr), this._canvasDrawingPromise = void 0, this._canvas = void 0), this.append(this._container));
            }, t4.prototype.append = function(t5) {
              if (t5) {
                if ("function" != typeof t5.appendChild)
                  throw "Container should be a single DOM node";
                this._options.type === N12 ? this._canvas && t5.appendChild(this._canvas.getCanvas()) : this._svg && t5.appendChild(this._svg.getElement()), this._container = t5;
              }
            }, t4.prototype.getRawData = function(t5) {
              return void 0 === t5 && (t5 = "png"), Y(this, void 0, void 0, function() {
                var e4, r5, n5;
                return $2(this, function(o4) {
                  switch (o4.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return [4, this._getQRStylingElement(t5)];
                    case 1:
                      return e4 = o4.sent(), "svg" === t5.toLowerCase() ? (r5 = new XMLSerializer(), n5 = r5.serializeToString(e4.getElement()), [2, new Blob(['<?xml version="1.0" standalone="no"?>\r\n' + n5], { type: "image/svg+xml" })]) : [2, new Promise(function(r6) {
                        return e4.getCanvas().toBlob(r6, "image/" + t5, 1);
                      })];
                  }
                });
              });
            }, t4.prototype.download = function(t5) {
              return Y(this, void 0, void 0, function() {
                var e4, r5, n5, o4, i4;
                return $2(this, function(a5) {
                  switch (a5.label) {
                    case 0:
                      if (!this._qr)
                        throw "QR code is empty";
                      return e4 = "png", r5 = "qr", "string" == typeof t5 ? (e4 = t5, console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")) : "object" == typeof t5 && null !== t5 && (t5.name && (r5 = t5.name), t5.extension && (e4 = t5.extension)), [4, this._getQRStylingElement(e4)];
                    case 1:
                      return n5 = a5.sent(), "svg" === e4.toLowerCase() ? (o4 = new XMLSerializer(), i4 = '<?xml version="1.0" standalone="no"?>\r\n' + (i4 = o4.serializeToString(n5.getElement())), s2("data:image/svg+xml;charset=utf-8," + encodeURIComponent(i4), r5 + ".svg")) : s2(n5.getCanvas().toDataURL("image/" + e4), r5 + "." + e4), [2];
                  }
                });
              });
            }, t4;
          }();
        } }, e2 = {};
        function r3(n4) {
          if (e2[n4])
            return e2[n4].exports;
          var o3 = e2[n4] = { exports: {} };
          return t2[n4](o3, o3.exports, r3), o3.exports;
        }
        return r3.n = (t3) => {
          var e3 = t3 && t3.__esModule ? () => t3.default : () => t3;
          return r3.d(e3, { a: e3 }), e3;
        }, r3.d = (t3, e3) => {
          for (var n4 in e3)
            r3.o(e3, n4) && !r3.o(t3, n4) && Object.defineProperty(t3, n4, { enumerable: true, get: e3[n4] });
        }, r3.o = (t3, e3) => Object.prototype.hasOwnProperty.call(t3, e3), r3(796);
      })().default;
    });
  }
});

// node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/App-0f2743bc.js
var require_App_0f2743bc = __commonJS({
  "node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/App-0f2743bc.js"() {
    "use strict";
    var n4 = require_index_ba034060();
    var e2 = require_qr_code_styling2();
    var t2 = require_lottie_web_light();
    function a4(n5) {
      return n5 && "object" == typeof n5 && "default" in n5 ? n5 : { default: n5 };
    }
    init_esm11(), init_esm(), require_es5();
    var o3 = a4(e2);
    var i3 = a4(t2);
    var l4 = "data:image/svg+xml,%3csvg width='44' height='44' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1999.44 1999.44'%3e%3cdefs%3e%3cstyle%3e.b%7bfill:%2323b7a5%3b%7d.c%7bfill:%23f5941f%3b%7d.d%7bfill:%23e51e25%3b%7d.e%7bfill:%23e1ca20%3b%7d.f%7bfill:%2369ccb2%3b%7d%3c/style%3e%3c/defs%3e%3cpath class='e' d='M1650.74%2c1544.72l-173.9%2c299.8c149-85.28%2c273.01-209.27%2c359.06-358.13%2c.15-.26%2c.3-.52%2c.45-.78l-40.04-191.81-145.56%2c250.93Z'/%3e%3cpath class='c' d='M1796.3%2c1293.79l40.04%2c191.81c82.25-142.62%2c129.68-308.05%2c129.87-484.73l-169.91%2c292.91Z'/%3e%3cpath class='b' d='M696.02%2c1423.64c-87.88-56.5-167.35-143.59-202.11-242.86-40.85-116.64-49.97-252.78%2c1.34-367.74%2c35.36-79.25%2c95.69-145.35%2c163.91-197.91%2c23.51-18.11%2c48.17-34.81%2c73.82-49.74%2c6.74-3.95%2c21.74-16.25%2c30.04-16.25h1.39l-248.75-390.2L218.66%2c677.26%2c33.23%2c1000.88l315.47%2c543.84%2c173.9%2c299.8%2c216.08-397.79c-15.07-5.8-29.36-14.52-42.67-23.1Z'/%3e%3cpath class='c' d='M81.57%2c696.91c-31.13%2c95.34-48.39%2c196.99-48.39%2c302.81l.05%2c1.16%2c185.43-323.62-137.09%2c19.65Z'/%3e%3cpath class='e' d='M515.64%2c158.93C312.22%2c277.65%2c156.15%2c468.71%2c81.57%2c696.91l137.09-19.65L515.64%2c158.93Z'/%3e%3cpath class='e' d='M33.23%2c1000.88c.19%2c177%2c47.79%2c342.72%2c130.32%2c485.51%2c54.02%2c18.87%2c124.91%2c42.41%2c185.15%2c58.33L33.23%2c1000.88Z'/%3e%3cpath class='c' d='M163.55%2c1486.39c86.05%2c148.86%2c210.06%2c272.84%2c359.06%2c358.13l-173.9-299.8c-60.24-15.92-131.14-39.46-185.15-58.33Z'/%3e%3cpath class='d' d='M998.95%2c158.86l484.85%2c.07C1341.66%2c75.98%2c1176.68%2c28.12%2c1000.49%2c27.73h0c-.26-.01-.51%2c0-.77%2c0-.26%2c0-.51%2c0-.77%2c0h0c-176.19%2c.4-341.17%2c48.26-483.31%2c131.21l483.31-.07Z'/%3e%3cpolygon class='f' points='1235.04 549.14 1483.8 158.93 998.95 158.86 515.64 158.93 764.4 549.14 1235.04 549.14'/%3e%3cpath class='b' d='M1483.8%2c158.93l-248.75%2c390.2h1.39c8.3%2c0%2c23.29%2c12.3%2c30.04%2c16.25%2c25.64%2c14.94%2c50.3%2c31.64%2c73.82%2c49.74%2c68.22%2c52.56%2c128.54%2c118.66%2c163.91%2c197.91%2c51.31%2c114.96%2c42.19%2c251.11%2c1.34%2c367.74-34.76%2c99.27-114.23%2c186.36-202.11%2c242.86-13.31%2c8.58-27.6%2c17.3-42.67%2c23.1l216.08%2c397.79%2c173.9-299.8%2c315.47-543.84-185.43-323.62L1483.8%2c158.93Z'/%3e%3cpath class='e' d='M1780.78%2c677.26l185.43%2c323.62%2c.05-1.16c0-105.82-17.26-207.48-48.39-302.81l-137.09-19.65Z'/%3e%3cpath class='c' d='M1780.78%2c677.26l137.09%2c19.65c-74.58-228.19-230.65-419.26-434.07-537.97l296.98%2c518.32Z'/%3e%3cpath class='d' d='M998.95%2c1846.93h0l-476.34-2.41c140.58%2c80.47%2c303.05%2c126.81%2c476.34%2c127.19h0c.26%2c.01%2c.51%2c0%2c.77%2c0s.51%2c0%2c.77%2c0h0c173.29-.39%2c335.76-46.72%2c476.34-127.2l-477.88%2c2.41Z'/%3e%3cpath class='f' d='M1250.91%2c1450.21l-251.19%2c.92-251.19-.92c-3.34-.93-6.59-2.22-9.84-3.47l-216.08%2c397.79%2c476.34%2c2.4h0l477.88-2.4-216.08-397.79c-3.26%2c1.25-6.51%2c2.55-9.84%2c3.47Z'/%3e%3c/svg%3e";
    function d3(n5, e3) {
      void 0 === e3 && (e3 = {});
      var t3 = e3.insertAt;
      if (n5 && "undefined" != typeof document) {
        var a5 = document.head || document.getElementsByTagName("head")[0], o4 = document.createElement("style");
        o4.type = "text/css", "top" === t3 && a5.firstChild ? a5.insertBefore(o4, a5.firstChild) : a5.appendChild(o4), o4.styleSheet ? o4.styleSheet.cssText = n5 : o4.appendChild(document.createTextNode(n5));
      }
    }
    var f3 = ".daffi-wallet-modal-header {\n  position: absolute;\n  top: -44px;\n  right: 0px;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.daffi-wallet-modal-header--mobile {\n  display: flex;\n  align-items: center;\n  justify-content: flex-end;\n  position: static;\n}\n.daffi-wallet-modal-header--mobile .daffi-wallet-modal-header__close-button {\n  width: 24px;\n  height: 24px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: unset;\n  box-shadow: unset;\n}\n\n.daffi-wallet-modal-header__brand {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: -0.13px;\n  color: #ffffff;\n}\n\n.daffi-wallet-modal-header__brand h1 {\n  font-size: 15px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: -0.13px;\n  color: #ffffff;\n}\n\n.daffi-wallet-modal-header__brand img {\n  height: 20px; /* adjust to your desired height */\n  width: 20px; /* this will maintain the aspect ratio of the image */\n}\n\n.daffi-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.daffi-wallet-modal-header__close-button {\n  width: 32px;\n  height: 32px;\n  margin: 0;\n  padding: 0;\n  background: rgba(44, 53, 89, 0.1);\n  border-radius: 8px;\n}\n\n.daffi-wallet-modal-header__close-button__close-icon {\n  width: 20px;\n  height: 20px;\n}";
    d3(f3);
    function c3() {
      return document.documentElement.clientWidth <= 767;
    }
    function s2() {
      document.documentElement.style.setProperty("--vh", 0.01 * window.innerHeight + "px");
    }
    var r3 = document.createElement("template");
    var p6 = n4.isMobile() ? "daffi-wallet-modal-header daffi-wallet-modal-header--mobile" : "daffi-wallet-modal-header daffi-wallet-modal-header--desktop";
    r3.innerHTML = `
  <div class="${p6}">
      ${c3() && n4.isMobile() ? "" : `<div class="daffi-wallet-modal-header__brand">
              <img src="${l4}" />
              <p>Daffi<span style="font-style: italic;">Wallet</span> Connect</p>
            </div>
            `} 

      <button
        id="daffi-wallet-modal-header-close-button"
        class="daffi-wallet-button daffi-wallet-modal-header__close-button">
        <img
          class="daffi-wallet-modal-header__close-button__close-icon"
          src="${c3() && n4.isMobile() ? "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%232C3559' stroke-width='2'/%3e%3c/svg%3e" : "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e"}"
        />
      </button>
    </div>
`;
    var m3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = f3, this.shadowRoot.append(r3.content.cloneNode(true), n5), this.onClose();
        }
      }
      onClose() {
        var e3;
        const t3 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-wallet-modal-header-close-button"), a5 = this.getAttribute("modal-id");
        t3 && a5 === n4.DAFFI_WALLET_REDIRECT_MODAL_ID && t3.addEventListener("click", () => {
          n4.removeModalWrapperFromDOM(n4.DAFFI_WALLET_REDIRECT_MODAL_ID);
        });
      }
    };
    var w4 = ".daffi-wallet-download-qr-code-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: fit-content;\n  margin: 26px auto 0;\n  padding: 10px;\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\n  border-radius: 24px;\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-download-qr-code-wrapper {\n    margin-top: 51px;\n  }\n}";
    d3(w4);
    var g5 = document.createElement("template");
    g5.innerHTML = '\n  <div id="daffi-wallet-download-qr-code-wrapper" class="daffi-wallet-download-qr-code-wrapper"></div>  \n';
    var A3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = w4, this.shadowRoot.append(g5.content.cloneNode(true), n5);
        }
      }
      connectedCallback() {
        var e3;
        const t3 = new o3.default({ width: 205, height: 205, type: "svg", data: n4.DAFFI_DOWNLOAD_URL, image: l4, dotsOptions: { color: "#000", type: "extra-rounded" }, imageOptions: { crossOrigin: "anonymous", margin: 10 }, cornersSquareOptions: { type: "extra-rounded" }, cornersDotOptions: { type: "dot" } }), a5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-wallet-download-qr-code-wrapper");
        a5 && t3.append(a5);
      }
    };
    var h6 = "data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.5 19L15.5 12L8.5 5' stroke='%233C3C49' stroke-width='2'/%3e%3c/svg%3e";
    var x5 = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5gkNFS8Vlp9VjgAAIABJREFUeJzs3XmcXVWVN/zf2vucO9+akkASklSFMTKICIgiyJyJIA6tjIoT6vM8tHPbw9tPq/12v90qM8gkoCIooCgIKrYKKBqZFAfIPFYGEjLVcO89497r/eNWQURCksq995yqWt/PJx/zkXDPKnLu2evsvdfagBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghRgdKOgAhRPMxABxzjPMMgMHSszxz9TTHOk62nYgnZLM+Jk2yz1QqdBwAevbZONlohRCtIAmAECn39DHHOPtv9stR1i8VQ6fDuraTDToc0m0x2y4mdBCoHcxFJpQBKjBziQgumEoEVgxkQeQCYAIzM1wAORAYII8Aw/XnAREQgDliopiAKgMBwDUwVTVhMAbXCOgjUJ9m3h4DAwTqUzbeEVvVV8rElY61awdoKO8QQqSTJABCJOi5WbPciUHQSVZPjg1PVpqmWkvdIOwPYCrA+wPUyUAnGG2KkMsQIUsENfT1Jbz8RbYAGAwGXv7Fw79nAAQa+r0d+nfU0P9bH60ZNPRniF7+bBr6M2ro3xn+bAAwYATMCJktAJ8ZAwTeDtAOgDeRohcs8ILDtDZgu7kI3hCGvGXK5qO3E344HIYQosUkARCiyXjWLHddxUzSZHpcpWeETIdq2JkGmKlAUyzzZEXUViAFl14eZA0YBvVXczv0e+a/HtzT4K+SBCJoABoETfXkQg8lFwwgZIbH1gwlCZsYtFEpWsngtcS8DJbWKhX07tfbu4UASQ6EaCJJAIRoEAZo27RDpoTgg5TG4cw0ywCHa6DHgqdmSZVyRC8NiDEYMTNiAJZ56O19bCMMJQVEcEBwqJ4gEOr/PTxmRNYOKNA6C16jgEVaYXEIuzhQvOqg1atfTPhHEGLMkARAiBFgnKy39Lx4IBl+XUD2aA11NJhnMWFGlqicJ/XSoBYNDfKGWV5pd2M4OXBBcIeSAwvAY4vAcp8iXs1QS5jtHw3ZP5U0L+pcvXqdPMiE2HvyvRFiD2yddsjUQKsjydrjiPhYBh0BYGZJqYw7NEiFzIiG3urH+pt8qykAzkuJQX2ZJKgvJ1QJWM3gPzOpZ0xk/qANPz9186qtSccsRNpJAiDEKzCALT2HHWINjgfZEwE6jsGz8qTas1Qf7AOuv9kbyGCfFEJ9tiADQmYoKfDYwmfeRozFIDzlgn8bMf1hyrrlaxIOV4jUkQRACAAbZhxymMM4AcBJTHgzA7PalHYVgHBol7u82acfAXCHqiRcEGIwqtbWwFisQAsB/MZR+omutYt7k45ViKRJAiDGpS3TD51iyb6FSJ1qGCcDfESb0i6h/nYfDL3di9FteJYgi3pSYMCoWFsl0F+I7OMa9GigzdNTV8mSgRh/JAEQ48KyGTMyRc4e5xJOY+B0Bo4tKdWuQQiY4cuAP244RMgNJQVD+wi2AniKgUc17C8m9a78kzQxEuOBJABizOqfcmhXmMVJscHZTHx6hujgIqmXy81YnvHj3fCSQX6oPLPfGgD4iwb+h4Cfco6enLRsWSXhMIVoCkkAxJiyYebM6crqM4jVAgAnFxXt54DqZWRShid2QwPIkkKOCAEYnuX1YH5Mk3ogF0SPtUl1gRhDJAEQo96GmTOna+POJsa5THxKm9JtDKDGFpFs3BMjRAAyRCiQggGjZu0WBh7VxPfnlPlFefXqLUnHKMS+kARAjEpbph86JVZ2rgP1TsP1Qd/i5UFfiEYbTga4XlmwFcAviem+DGV+3tH7XF/S8QmxtyQBEKPGspkzy+1xZjbIvoeB2W1Kd8qgL5LwV8kA243MeJiAe7cU9CNHLlkSJR2fEHtCEgCRepunHfpWVnwBAQsKSnVrECoy6IuUyBKhSGqofNQuIeB+Jr57/7Ur/pR0bEK8FkkARCptm3LgNJvR7zWMCxyi44qkUBvayCfDvkgjApAnhTwR+qy1AB5XzHfGrrlf+gyINJIEQKTGPYA6dcYhZynCB2LG2R1Kl8P65ivZvS9GFQ2gqBQ0CIPWvAimHwJ8x/7rli9MOjYhhkkCIBK3ddohU1mr85nt+7NKHe3KFL8YQ4aXCKpsYZgXKuCbNQTf6+7tlY2DIlGSAIjEbOo+8M0O9Idixns6lO7wmVFjK1P8YkxSqM8KOPVZgQ0A7mGjvjF5w9Lnko5NjE+SAIiWem7WLHc/377TWv6YQ3R6kRQqbBHK274YR3JEKCqFfmMiAj0YE986de3ynyYdlxhfJAEQLbHxwAMnOpFzERQuLZI6wtYPZZG1fTGuaRDKqt6eOrD2KSa+0fqD907ZvLmWdGxi7JMEQDTVphmHzFTARwF8oKz05IAZVZZhX4idEerLAy4IVbYrYvBtPjvfmNm7eHPSsYmxSxIA0RSbDjjsSKX5/xD4orLS5cpQCZ8Q4rXlSaFAhH5rthCr2w3sTVPWLV+TdFxi7JEEQDTUlgMOPQ4an2bw35WVzgzKbn4hRiRLhBIpDFgzQETfCpm/dkDv8qVJxyXGDkkARENsnn7IiUz4JIH+rk0pNWAtYtnPL8Q+c4nQphQGjPUU8K2Q+Jqpa5cvSTouMfpJAiD2yQvTDjleKfyLJnpHof62ApN0UEKMQQ4R2klhwFoPhDti8NWSCIh9IQmAGJGNMw56o4b6PEDnlZUM/EK0ys6JAAPfgjVf3X/9ylVJxyVGH0kAxF7ZMOOQw1yif2Lmi9uUdvpl4Bei5Rj1Ewnb6rNugwTc4llcOWP98o1JxyZGD0kAxB5ZNuWgAzpd57NM/LE2UoV+axGB5QYSIkE7JwKD1r5I4Gv7VXTdQWvWDCQdm0g/eX6L17S4/dDSpA7+ewY+XSY9aWCoa5/cOEKkB6PeXbBECoNsVsHiy4+sW37reZBeW2LX5Dkudmnz9EMu0UT/UlLq0Apb+DLwC5F6BVLIEWGA7e/Zmi9NXrfywaRjEukkz3PxNyxwmtc2+UuFTObk4c59cqMIMbqUSQEArB8+4FY3f1EBf0w4JJEy8lwXL/nDY284eNlvTv3i5OVbLsqCMWDlZD4hRjMFoF1pVIjCFw6dcNOFwTX/ob6ELUnHJdJBEgCBBx6YnD+np/LpawcX/MPDpUs7ZhYInjFycwgxFhDgksbSAQ///Pw162YPLPwP9YnKLUmHJZInz/hxbv3vZy4oOuF/RbnykQvWfQYbwg575oSMbXO1E1t5/xditMtohTW1IP7VAKvT7Rp13+ZrYEL+dRjSPxc+sW5h0vGJ5KikAxDJWPvUjJmbnp35nXyOHmxzoyOv2HhavCLcHxqhWlTxwJatZIdCjG6aCJXImCWDAXVwoB5zD7Z36BOM1uHbdEY/Ht3UfW3/dVO6ko5TJEMSgHFo3e+7P5V19TPForoAvo/f9U+Pv+e9VZXJg0uEzb5xev3IukpSACFGMwVgacXnmrHaISDPkbp2whxsDttNxkTKyeu/zzmZP9S+NuOipGMVrScJwDiy7unuN73wbM+vO8r6KhC6tvfFgDH2ltpcDKKo3KGefloRllYCqsTGaJIkQIjRKKMIL/iRWedFKqMIDCBvQ6zK7Kdv6jyTOfZtbdAg41B3Pq/vDG7svt+/rueQpOMWrSMJwDiw8J6puY3P9vyn49Bv8zl18vY+Cz9ktCkPj4VH2v/xj1Fl8l7a8a8A1IzVSwYDKGkkIsSoo4jgG2sXV3xA0UvPeQbQZj3c0XGSWpzrtnkboBowPM8ik1fnKpef9m/s/lSCoYsWkgRgjFv71MwzZh6aeaK9pP/FMjl9A/Xx3CGLqs2ZG2pnA0RD7wcvyyjCej/SG4LIZmQpQIhRxSFgWTW0/bHVziv+mcsG/U5RXTlhPsDWagDMQLVioUDt2by6Kryp55eDX5t5VBKxi9aRBGCMevTejuKGP/RcnsviF9msOnrrDoM4ZhDV3wLK5OEHwVvsH6MDnSL5r/oZRIQlgz75xhrJAYQYHVxF2BLEZk01UK+2j4cBtJkaHiq9QT1SPNLmbA2MeklYEDO8ioWbodMzmp/wv9bz+VbHL1pHEoAxaN3T3accdmjHEx1t+rNxzBgY/OtZ/BxF2Gi64turZ6q8Cnf5OZqAgdjqZbWQHdkLIETqEQGxtXZRxWdD2GXersAAkbp80tnwKWvcnVb6GEC1ZqGAQraovhze1PPLwatlNmAskgRgDLn33lnuxt/3/KfrqsdyGXXklu0Gsak/FHaWR4hveGdwr91PZxG95me6irCmGqgtQRy7kgQIkWouEVbVIrstNM7uvq8l6+Op/EHOXe1v5Yzx/uqfEYAwZtQqBm6WTs/m+Hf+jT2faGLoIgHyRB8j1iycfkymoG9sL+kT+gYsooj/ZuAHgCIFWBIfEL9/x6eVIa2coZ3/ryVmRoer47d2FBSIlLQHEiJ9HCIMxMb8ZnsVFtB78nYXkIuJ8YD5ae9XMclUdECv3DFQ3x+Qcwk6R4h8fqgamr/v/MS6NQ3/AUTLyQzAGLDume5P5grObwtZdcLW7S+v9b8SgQFme2NtHgZReKnsb3ccImwPjbPSk94AQqRR/VvJdtGgxxHzHg3+AJDjCGszE/WNnWeytsGrfzbttDcgSwuKGfXk4PXTL2xQ6CJBkgCMYksXTpv6wrMz7+9od65mRn54h/+utJGHR8Oj7C+CN/xV2d+ecBRhRcVXfZGNZT+AEOniKsJaL7KbAqP2ZqmuXhbo4472t6rncj2msIskYPjPVisWjqL9SgXnLv9r3bds/reO4r5HL5IiCcAotfap6QvaC84TpaI6d0efQbiLKf9hDlkM2py9sTafCPibsr/dUQAiQC0a9MDMVnIAIdJBE6ESW7N00Cdnp5r/PeWywaCTV1dMmAtmtuo1ng1EgBcyfM8iW1KXdk1tX1i9vvtN+/QDiMRIAjDK/Ou/gtY/0/3fhbzzoNZq+rYdBrwHY3kZNdwXvNX+KZ6pd1X2tzsuETYFsbPWj6xsCBQiHRSAJRXf1uyeT/3vjAG0Gw8/KR9DPy+/3ubM7mcHLQO1QQvHVa/PuPhV9bruT47g0iJh8hQfRZY+PmNmqUC3d7Q7p+7oN4jjv93h/2qyFGObKZkL+z6Hbdy2253/r8UCcAnmpM4iCq7WRk4MFCIxGUXY4IXmqT6P3BG8/e+sqnI4yu81P+y9klyCivfg/ZAZyLoEJ0fwPXt3UIv+d8dnN+7YlzhE68gMwCix9nc957SV1RPlkj5163YD8yrlfbuSR4BvemfyejtJ5/Zh8AfqN4xnWS+pBkzM0iZYiIQoIvixtYsrARTt2+APAEXr45n8TP2d9pNsxtT26N8hqpcLelWLXEGfXyi6C/uv637zvsYiWkMSgFFg3dPdXyqW6EeOpv229+3dmFskH89GM833vBP3euPfrmSIsN6L1EY/ljbBQiTEIWBZLbQDsdW6QV/Dog1xQ9cZ6gV3osnynr8sMAO1AQPXVbPyGTxa/Vr3/2pMRKKZJAFIsWW/PnDihj/0/Kir0/m3IASqtdfe6PdKQxv97E21uagiv0c1/3tKEanFFZ88Y42S/QBCtNRQu994dS2gRpbm1ssCJ6kbOs/aZVngLtFQB0GmXKGgbvBv7L6l91NTcw0LTjScJAAptezxGSeU2+zC9rI+Z+t2g9js3eDPAMrKwy+Co+2jwdG6UW//wzQBg7HVy6ohOzL+C9EyBCC2bBcN+sT1r2LD1MsCa7iz40T159yBr1kW+KqxDfUM8GsW2YK+dP/DMr/su/6AgxoYomggSQBSaO2T3Ze0t+lHsxl1yNbtI3trd2ExaHL25to8UsTY27K/PbrGUJvgF4M4lgZBQrSGqwgra6HdFhndjJ4cLltU9J6VBe5KvUrAIJOjE4uu89vK9TPmNDxQsc8kAUiZDb+f+eX2Nv1NZuQHBu1evfXvrKxq+H5wkv1z1KMLtJdTeXuIADCRen7Qp9iykZUAIZrLUYQdoTErKr5ympR0108L9PBw+Q364dLRNmdHPns41Dho/4yrfjJ4ffenGhmn2HeSAKTE6ke72zc+O/P+jnb1+UrNIgj3bsp/Z1mK0BtPMt+snv6ap/01gkPAjsjolbVAegMI0UQEgJmxuOIjAlQzH94EhgJwxcT5VFM5s6dtw//mcwioBgxYqFJJXeXf0H3jI1+Abmy0YqQkAUiB1b+dcVi2nR5vK9G5wyV++yKH0N7unckbeKLa17K/PVFvExzoHZGRNsFCNMlQu994UxBTK5LtovXxbL5H39l+kn3laYF7gwBEhuFXLbJF/fG3Tu55ePCr+09qXKRipCQBSNjap3vOzBf144W8Omrr9n0vqy8qH3+MZtr7vLc0rOxvd15uE+zX2wS34JpCjCcvtfutjKzd70gVbIgbus5UL7iT4r0pC3w1L+0LyNOZ2XLu8cGrDziqQWGKEZIEIEFrnpz54VwGP3EcTOobGPl6/zAFBlvYG2vzUUNeOWhdnx6XCJuD2FkjJwYK0VCE+oN6ccVnb4TtfkcqxxF63Yn6+s6zoGzYkOS+OmjhuuqwbM79Vf/V3fMa8JFihCQBSMi6p7u/2N5GtzKTW6mOfL1/2HDZ38/Do+1jwVFOq97+d+YowrKKrwYjY7QsBQjREK4ibAiieL0XqUyLv1f1skAPd3WcqP6cm2nze9sb4FXQUL8AV6OzkKcHq9dP/+i+RypGQhKAFrvnnVAbnum5tbPD+UK1xvD3YbPfzlwyGLB5c0t1HinVnLK/3RlqE6wWV3xW0iZYiH32UrvfQZ9UC6f+d+ayQVXn1OUTz4YdYVngK720OZChCwXn5uoN3V/c90jF3pLdmC30xE9mlo9a0HFfR7s+b3ufgbWNOY2JAXRQDd/2Tzf3+W91yjTyDTv7ShOhP7Ioudp2ZbQyclaQECPmKsLzlcBsCmInySqbLMdYlD0ARwYbzeuCXh2Su8/PLgJgLMAGyBX0qf94VtsB9Mb+h37960ZELPaEzAC0yNKF06bOmMo/7yjrs7du37MjfPdUniKssfvF36idqQpNLvvbE7RTm2BZChBiZFxFeDGI4zXVQCW9r4bA0LDqignzVFXlR1wW+Gpiy/CrBvmSvvT/mdL9wxe+un+hYR8uXpMkAC2w5LczDmvLO4+UCvqELdsa98UZlkVob6+ehRds1z4d9dsomoBKbPXSis8KLdyJKMQYQTTU7rfigQmp2FZbtAGezffob7efvE9lga9muEIgV9LndhZzP9v4n/tPbOgFxKuSBKDJlv5q5vEdJf1IPq8O277DNGS9f2cl8vH76CD7A//Nqky1BFb+X91QzbJ6MYylKkCIveQSYUU1sNtD66Spt0bR+rih6wy1wd1vr04L3FO1QYNsQZ80sSv3yx1XdXc3/ALir0gC0EQrfjv99PYO/p+MQ1P7+ve9zO+VFBiWyd5cmwcPOaVT9LJNALjeG4BCy3JioBB7yCHC9tCYldWwoSf9NUKOY6x3J+jrO8/iRpUFvlKtYuDm1OsLeXp04Jrpr2vCJcQQSQCaZOXC6QvKRf1jR6mOgUrjB38GUCYPPwvfYB8Lj1JJbvzbFYeo3ia4GrBDKcpOhEipoXa/dnHF5wjc0JP+GoEBtNsa7uo4Uf0hfzDnrd+U61QrFpkMzcxl1SN9V0w7vikXEZIANMPqJ7rPL5ecH5CiXKXW+MEfqJf99XPe3FKdSxpWJVH2tydcRVhVDdT2MOZmHV4ixFjhKsIaL7Sbg1il9WwNhy08nVVXTJgPy2hIWeArEQHVqoXrqsmFovPTgaumndzwiwhJABpt9e+6LykU1HeZ4da8xtT4v5oyPNxdOxnPme6mnfbXCAQgAqlFFZ8ts6GUPtSESJomwmBszbJq0NJ2v3tr+LTAX5SOpB+3vZFzpjlNx15uGEQTcnn9k8FrZpzahMuMa6m9yUajVU/0fLS9TX+TLeD5zRv8cxRhldnf3OGfgWKKB/9hLgEvBsZZU4vYlfFfiL8x1O7XLql47JnWtvsdieGywCsnzENFF0ymgWWBf3UdAqq+hauplMupH/dfM31BUy40TqX9Phs1Vj3Rc2lHWd0chAw/aN7gD9TL/m6rnYVNtktnETfvQg1UbxPsqQFpEyzE33AVYb0f2fVepDKjZKmsaAP8Kdet7+g4GW6DywJ3Vk8CGJpQyGfVfVVJAhpGEoAGWLWw56MdZXVLEDKCBrX23ZUS+fh9fLB9wH8zpansb3cUgIChFld8JjkxUIiXKCJ4hs3iQZ8UqVH1TC7aADd2nk7rM/s3pSxwGBFQCxhaUSaTU9+XJKAxRtXNlkarFvZ8tKO9/ubf7MFfgWGY7A2V+eQjm6qyvz3hEmGjH6v1gfQGEGKYQ8DSiscVY3Xqtv3vRo4jbHAnqGu75rC2YUNam+8KEeAFDEWUzeTU9/uvmn5OEy83LkgCsA9WPdVzaUc7tWTwHy77ezh8o308OkKXqNa8izWRUqSWVHyqxdImWAhXETb7kVlbCxNv9zsSDKDd1HB32wnqmfwhplllgcN2TgIKRfW9/mtnzG/qBcc4SQBGaNUTPe/rKNItQYimD/4AkIHBDlu0t1TnkQPb1Ey7mTSAirF6aVXaBIvxTREQGWsXVXxmolE4/NdpWHgqqy6fOB8W1JSywJ0NJwEalM1n1L1SHTBykgCMwOrfdZ9XytMdQdSawR8ASsrD3f7b7OJ4us6Pgp3/r8UlQq8XqRdlKUCMYw4RVniR3RGlq93vSLRZD78sHqEfKr/R5kzzZyeH9wS4GsVcXv1o4Oppb236RccgSQD20rKFMxfkC+pOBhA0ebf/sBxFWBlPNt+unaoKqrlTbK1QbxNM6vmKT5FlIzmAGG8cRdgexmbloD8qp/5ficBwYXHlhHk0oIvW5eaUBf7VNYeqAxyFci7nPNB3zYw3Nv2iY4wkAHth+e+6T2kr8PcUwWlmnf8r1cv+ZvNm7lSjpexvdxwC+iKjl1cDHu1vP0LsDQLAlu2iis9xSk76a4SCDfDn3Az9rY63Wde2pjU5EVD1GK5LE/JZ9ZB/7YzDWnLhMUISgD204jfTjy0X6H7HUblmdvh7pRL5eDo8hB/w36TK1JyOW0l5uU2wiaVNsBgv6u1+I/tiYJy0tvsdqZL1cVPXGdSbmRznmlgWuLPhjoGZDE0hV/1k2+UHTmvJhccASQD2wMonew4pFvVDGUd1VKrN6e3/ahQYMZO90ZvPATKjruxvdwhADKjnBz2ylq20CRZjnUOEgciYpRWfxmLSm+UYm5wOfW3XbJCNWtbvY/jsgEyODiwUzI/7rpja2aJLj2qSAOzGol9Nn5xz8eN8Tk1uxql+u8IA2lQND4fHmceDw1Uphaf9NYJLhC2h0au9yEqbYDGW1W/v+kl/Pqe/3e9IMOobAu9pO0E9kz/YNrsscGdEQK1qkSvo1+cK7v29l0/Ntezio9RYvAcb5rlHZxXbivpH5ZI+pG+gdYM/AGTIYJspmZurc5Sr7Bh8V3iZowjLKz5Jm2AxlrmKsN6LeKMfqcwYvs81WwQ6o66YOB+mBWWBr1SrGGQL+m0Tc5nvtPTCo5AkALvA90C1l/zvdbTr47fvMC0d/BlAiTx813sbL4mn6TxGd9nf7igAgWW9uBowQdoEi7FHE6FmrFlSCTDa2v2ORNn4+GXxCOfB0httzra+aZk3aJAvq3dWrp9xQ8svPoqM+RtxpHp7er7e1annbWvx4A8ABQqxIp4c3+mdTiU1tgf/Ya4ibPQitc6LpDeAGHM0AUsr/qhs9zsSL5UFTpxPA6pkWlEWuDMG4FcMimXnf1Wu6/m/Lb34KCIJwKtY/WT3Fyd26Q9t29HamxaorxO6iOxttTnYwu06M0bK/vaEIlJLK4G0CRZjiqsIm/zI9NaiMVHzv6cKNsBfctP1bR2ncqvKAndmGQirBsUC/Xvl2u5LWh7AKCAJwCusfKL7g53t+gs7Bgw4gZq7Ivl4KjrU/mgMlv3tjqZ6m+Al9TbBQox6CmOj3e9Ila2Pr3edRmsyU+Ichy2/fmSBOGJkc/T1waunn97yAFJOnrM7WfHb6aeX8uoW32fErX/5hwIjYmVvqM5HgIxSY6zsb0+4irCuFqnNQRyPp7clMTY5irC8Ftq+yDrOOLydsxxjs9Ohr+2a09KywGEEIIgYDsHN5NT3Bq7qntXiEFJNEoAhK3/dc0ixoO/VGo4fcMsP2xku+/tJcKxdGB6uymO07G93CAAT1KJBj0LLRslSgBilHEXYFsRmVTVQY7Hmf08wgHZbw73tb1JPFw5raVngsOGWwZmM6nJz+CHfMKOj5UGklCQAALY+MbOcLeAH+byaUKm2rsvfzobL/r5em0suxQrjavL/rzlE6IttvU2wnBgoRiGindr9AmN/2/9rUGwRKld9deI8GFZWJ/Bse6lHQF7NqjHdk8TybhqN5/vyJTXF3+lo10f29be21n9nRXj4jn+qXRpP03lq/VpZ2riKsLoaqG2RseP17UmMXi4RVnuR3RKOvXa/I1E2Ph4rHKHubzvOZk0tmdcbAmoVi0JJz65e131dEiGkzbhPAFb/rvsrE7r0giTK/YblKcRKMyW+s3aqKo2B0/4aod4mmNSi4TbBSQckxB5yVL3d77Ix2u53JOplgUZdOXEe9Tllk2lxWeDO6uWB6rKBa7o/nlgQKTGuE4BVC3ve19Wp/2FHf3I3I1Av+7tlHJb97Y5LwJbQ6FW1UHoDiFGBAICH2v3asdnud6QKNsDi7AH6to7TEikLHGYZiANGLkfXDVwz7W2JBZIC4/b+XPGbmcfm87jFS2jH/7AS+XgimmUf9N+k2iihqbEUG2oTrAZiG8uxwSLtXEVY50V2ox+pjCStf6NkfdzaeYpanZ1qkigLHBZEDFeRk8k4d2+9ZsoBiQWSsHGZAKx/ckpXLo/vZbMql8SO/2EKdrjsj2I4qtU9s0cDBSAE1KIBj8AsGwJFamki1GJjl1R8Umpc7/vbpQzHeNFpV1d3zQbZOLGlvXplgEUjk+VjAAAgAElEQVQ2R1PyOnPP0zcd4yQUSqLG5U1qkP12R5uaOTCY3KY/AGhTHh4KjrdPRLP0WD3trxFcIrwQxNTrx1beqkRaKQBLq4GtGtY66WBSrN14uK/tBHqycJjNJ7gUMFwZUCjrt74u2nZ1YoEkaNwlAKuf6P7SxAl6fpKb/gDAJYOtpmxurc0hl2Tdf3eUIrW04lNV2gSLFHIVYXMYx2vHWbvfkdCwCMlRX504n2LoRMoCd+ZXDIol/X/6r572gUQDScC4SgBWPjnz7LaS/re+gWQ3/QH10/7u8k/j5eYAnYeU/e2OBlA1Vi+t+KwgSwEiPRQRQmPtogGPMA7b/e4tBtBmPfyq8Dr9g7bjbda0/rTAnVkG4pCRyzk3bL+2+/WJBtNi4yYBWPXb7hl5l79lmRFFycaSpxBLo6nmrtopqkhS9renXEXo9SK1KTBSFSBSwyHU2/3GVo/Hdr8jlUWMqyfMox1Om8lwsrOgQcjIuJTPOfxdvr6jmGgwLTQuEgBmkHZxV6moJlRryXT6G1Y/7S+2t3hzeSu3KSn723MEAERq0aBPobXSJlgk7uV2vyFJUrp38jbEkuxUfVvHqewk0CJ4Z0RAzbPIF53Dq9x+U6LBtNC4SADWPNH9XxMnOCftSLDT37CS8vDbcBb/xD/OkbK/vecQ0B8bvawasrxtiSQRAGvZLqr6bMBabse9V7Yebu08Va3MHpBoWeCw+n4AdfHAdTMuTTqWVhjzCcDq33XPK5f1P+7oS37ZWMEisI69qTofMRxI2d/IDLcJ3hLERt66RFJcRVhdC+2WwChp9zsyGTbY4rSpaybM4STLAocNNwnKuurq4IYDjkg4nKYb0wnA6idn7J/J0O0AI46THWzrp/0Nl/0dJmV/+4AAWJBaXPHZWDaUWCcHMV45ROiPjFleDchRNKafo800fFrgfeXj1e8KsxItCxwWRIxMhgqGnTvtNTMyScfTTGP6xiWo29vKenJSJ/ztLEsxXozb7K21OZRVsu6/rxwCtobGWVUL2R3Td7FIm/qjhO3iQR8BS7vffaWZEStHfXXifIRwrE74AFAioFazyJf0GypEVyQaTJON2Xt35cLuT03s0vN39CVb7z+sCN/e6Z9mV5ipUvbXIMNtgvtDY+TQFdEqw+1+Xwgikqn/fccAysbD44VZzn3lN9msSX4WAACCqkG5oC7rv6rnnKRjaZYxmQCseqL79YUCfXmwYlOxyl6gEIvjafY73ilUIi8VMY0FCkDIUIsqPiAnBooW0ESoGmuWVHxSJO1+GymLGNdOnEPbnfbEywIBILYAW0Ymw18fvGHmpKTjaYYxdwM/99wsVyt8K59VmSBMfqglABqx/XptDnZwWbtIvgnRWOIqwqYg1r1+JL0BRNMpAEsrPlcNa9n231gFG2Jpdqq+NQVlgUD92e0FjFxR7Y/YfD3peJphzCUAxUHv/53Y5byhP+E+/8PqZX+vsz8JjlNlKftrCqUISyoBVaRNsGiioWQz7pV2v03BqJcF3tZ5Kq3IHBDnU1AWCAK8qkWpTZ87cO30jyQdTqONqQRg1ZPdJxeK6h/7+pMv+QPqPa9969ibavNgoOW0vybRAGrSJlg0kSLU2/0OegSCDP9NkmGDrU5ZXz1xLpCCskAA4KHSwExGXdl3zbQDk46nkcZMArDhmcl5R9GtrkOIEi75A4ayWeXhoeAE82R4mCNlf83lKsI6P1Ibg1iWAkTDOURYXgtNf2y0I7NMTcMA2k0NPygfr35TPMLkbTr2TAURI5tVZVfpm5OOpZHGTAIQxtn/b0KnPnSgko6p/yzF2Gzazders5WU/TVf/a+c1OJBnwIjbYJF47iKsLXe7le5su+v6RQYhrT66sR5FMKxTgom9Qj1pYBCmz6z/+rpn0g6nkYZE3fz6t91n1IqqE/t6DepaQlTgI87vNPtSjNF56TsryUcAgZiq5dXQ3aSDkaMCUSAsWwXVXy20u63ZcrWw28Lhzrfb3+zyaagORBQn52IPYtsVv+nd8OMmUnH0wijPgHoXTg1px3crDUhTsmLdoFCLDHT4rtrJ+uySsfNO17U27MGamtkYlkKEPvKJcIqL7RbQ+PI1H9r5TjGtV2zVVrKAoGhpYAclUxMtyQdSyOM+gQggvvvEzqdwwZTMvU/XPZ3c3Uu96GsHCn7a6nhNsHPD3qILZtRf4OLxGg11O63EpA0mmq9vA2xNDtF39J5uk1DWSBQnxHyqhbFNnXmwDWj/8CgUf187H3qgOOKBfWZvgGLtMz9l8jDb8LD7cPBsbpMtaTDGZccArYNtQmWB7cYCQJAzHbRoMehlXa/SWmzHm7veJtelp1u8jZIOhwA9aUAEzBcV325euO0qUnHsy9G7X19zz1QgHtjLks6itKwT/Tlsr8ba/NhoKTsL0GOIqyo+KovjI1M3Yq95SpCrxfZFwIjNf8JyrDBNqesrpwwF2CTirJAAPBDRq6gOm2ork06ln0xahOA47tnfLqrSx+XloY/w2V/94dvtk9HhzolSseU1XilAISAWlQNmFnaBIs9p4lQjevtfrWc9Jeo4bLAB8rH0a+KR3BaygKJAL9qUCrrd1ev73l70vGM1Ki8udc8Mb0n66ovVirJl4cMy1KMTabD3FabQ1mKkg5HoL6Ba5MfO9ImWOwNRcCSis81w1onHYyAAsOSUldMnI8ArnUTPi1wmGWADQNkr+HrZxWTjmckRmUCAFJXtZVVyQ/SkAvWFcjHHd7pvNrsL2V/KeIowlJpEyz2kKsIm/woXudJu980KVsPCwuH6u+1n2AzJj17q7yAUSg5PVVT+2LSsYzEqEsA1j7Vc057m35H30A6pv4BoEABng9nmLtrJ6uydPxLFYV6m+AlFZ8VUvLqIFJJESGwbBZVfBCRDP8pk+cI106YQ1udztSUBQJAWLPI5OiTleu7j046lr01qhKA3oVTc8y4yhjApuRRTmBoWHtLbQ76UVJy2l/6uIqw3oucDbIUIF6DQ8DySsD9kXWk40/65G2IFZnJ+ubOM1JxWuCwyDBcV7mwfE3SseytUZUAGHL/adIEfVC1lo7RnwGUycevwyPsz8JjSU77SycCACIsqfgUGJY2weJvOIqwJYjN6logU/8pxaiXBX6j82S1JNedmrJAAuDVLIplfcrgtTMuSjqevTFqEoC1T087MJtVnx8YTMfgDwAOWdQ4Y2+szSMGSdlfijkEDBirl1U9dmQpQOyEsHO7XznpL81cNujTRXVl1xyAbWqqexiAjRiOpv+218wsJx3Pnho1CQAb56vlksoHYXoG2TI8/NB/i/19dIguStlf6rlEWFOL1JZQTgwUL3MVYVUttNuk3W/qMYA24+HB8rH60eKRnE/JOQHAUG+Akp5Whf3XpGPZU6MiAVj71IwzymX1rr4Bk5qNf1mKsdF02ttrZ1KOZNf/aPBym2CfYmOtLAUIhwh9oTHLqwFJUjg6KDBYEa6YOA8+XOukaEIvqlm4GXyy/6qeQ5OOZU+kPgHge6CY6XJF6dn4BwB5+PiWdxqvsfvrHKTuf7RwCNgeGb3Si6wjz/txjQAw2C6qehyxnPQ3mpSMjycKh+h729/CaSoLDA0jm1dZpe1Xko5lT6Q+AVjb0/OhiV3OGwZS1PSnQAGei7vN97yTqUzp6Ewl9txLbYIjE8tZAePXcLvfTb5RrswGjTp5jnDdhNl40elKTVkgAfCrFsWCPnfw+umnJx3P7qQ6AVj58542RfhSzUvP4E9gKFh7c3Uu+lGUsr9RSAGIAPX8oE9spU3weKSJUImtWVrxySFp9zsa1csC99c3paws0HK9VbCy6iv8r2k5pu7VpfrGV2X+3IQuPbXmpeMdu97v38dj4ZH258Ex1CZv/6OWS4TNQazXetIbYDxSeLndr/z1j04MoN16+FbHSWpRtjvOczrKAgHA8ywKZXVsdb/pFycdy2tJbQKw/qkDp7kOfXogJYf9AIADi4rJ2Btr88FEimT4H9UcIiytBlSJjbQJHkcyirAxiOL10u531HPZoN8pqasmzgOstWl5JjMAjgEi+ne+eXI+6Xh2JbUJQGjMFzraVSktZX/1t/8a7g/eYp4ND3Kk7G/0UwR41urFlYBJegOMC4oIvmGzeNADpN3vqFcvC6zhwdIx6pHSkTZv0jMr6wUWhTbdUw0ylyUdy66kMgFY++T0w3NZ+kD/AKfm7T9LMTbGXeb22lkqr6Tsb6xwibDei9QGP7IZGQ7GPIeAZdWAB2J2pApkbFBggEhdMXE+fMpal9OTyxufoTR9vv+6KV1Jx/JqnKQDeDWW1ZfKJeVs25Ge6f8CfFzjncO9dj+ngypJhyMahAAoR6tlltTkQgEFR8NyWt4hRCM5ivBCLUQvB47r6HTVFYt9UrI+nswf7Hy348TogzseUbFOx+m8QcQolPVEM5j5BwD/nHQ8r5SS4fVlvU/PPD6TwRNRxCot388iBVgST43fv+MzypBWjuz8HxuUgi4VYCq1MIjix49qyy8/uJhRUUruO9E4BMAh8JN9NXohiI/MZtwTKZ+FrdQASfjGBJ9c7B/3m5/2fgVdpqZDSsf7bcYhxJYHrbGHFf9+3QtJx7OzdPwX2kls+IsdOaW2B5yK7ITAAFt7U3UeBlFQ7ZADf8YCVciDjYGted+A5cvXL3jfovVJByVa5sCf3X0iecE/qkL+7TAG1vORmulGMSJ5jrA6s5++oePM+Atb7rXQpVQscYcxo1BS5eoA/gXA3ycdz85SdceveqrnbeUC/cr3ORWzcwygXdXwS//18WX9H1cFFcrO/9FOK+hyGbZS/Ytl+6lVsy94JOmQRHIOevi77yVHfUUVCt1mYFBmA0a5mDQUG/vg2ivt4eEGx1PZpEMCALiaYME1q9SswsdWr0s6nmGpyJBewvxvGYdSMfgDgAuLqs2aG6vzCVL2N+qpYgHKdWEHK1cMvhC8WQZ/sXLuBfcaExxvKpU7VbEAlcslHZLYBy4bDOiiunLiPICtTcsJrVG9RXDBhvZfko5lZ6mZAeh9qudthYL6ledZ2HT8naFDVfCt2pnRlwbPdztUNelwxEgwgzIZqEIetub9kaPoH1fOu+h/kg5LpM+BP7v7PKXVf6lifqatVMGRSdETUuwpC0KNMrhzw43xmdU/O1VVSMVfo6sBwwhh48Pzl21YmXQ8QIpmAGLD/+Y4SM3gn6UY6+MJ5vbamVL2N1oRQXe0AcAOW638k7P9uTfJ4C92ZdWc8++pbes/1lZrX2GiQLeVJAEYhYbKAvHVifPhqZxxU9LiIzJArqAysdWfTTqWYam4vdc+0XNSoUiP+0E61v4BoIOq9j8r77G3enOcTin7G3VUPg8QYMPwO4j4/66cf8GqpGMSo8fBP7vzaNbul3UuN8eGIdgPZJPgKLNdl/DVTd+NP7zjF04tJWWBriYYcI0NXle4bG1v0vGkYgaACf+UcdOz9l8kH3+MZvK93kmqjdJz1KTYPdIauqMNNo4W28B/+8qzzr9IBn+xt1bMufhPK888b66tVD/ExrygO9sBlYrHpdhDRQ5wfdeZapM7wWQ5HUe2R4aRK6iCtfiHpGMBUpAArHzqgOPyOTo7Lcf9Dm30szfV5qKKvHJSMn0kdk8VC4BSxgzWvrJt+5bjV86+8MGkYxKj24q5F35DVyvH2krtGyqbhcrnkJJ9ZWI3cjbC2swk9bXOM6Bteg4Kij2GcnBJ9brpU5KOJfEEQLHz+XxOpeLtv97v38Mvg9fbR4KjqSyn/aUfM8ipv/VzGD1lg/BtK2ef9499771Mdm2Khlj2jo+8sOKs8z5kPf/tNjYrdGebzAaMAgygzdZwZ8dJ9JfcgaaQkiQgjBn5oipbUOI9ARK9i1f/vntWNkPvSMvbv0sWgyZnb67NIyJI2d8ooEpFMFFsKpUvlldsf+uqsy9emHRMYmxaOe/CB71t/W+yleotKputlwxK34BUc9liUOfVlRPngplTUxZofIZWdGnfDTM6kowj2TQ2wmfKJeUak46/lDJ5uC94q/1TNFPLaX8ppxR0RztsGD7LQXTKyrMu+NKzH/94nHRYYmzbeN6lO1acdf7HbOi/neN4je5ol82BKcYA2o2Hn5TeoH9WPppzxks6JAD1MwLyRT3RsfhIknEklgCse2LKAY6miwYH0zH4ZynCuniC+Wb1DCn7SzNmqHwOKpuBGRi8ytu27kR56xettnL2hQ/aqHK8qVTvUqUiKJOR2YCUIjAUgCsmzENV5W1a9nXZ0AKMy3ovn5pY96nEEgAD9+OdHboQxen40uQR2tu8s3g9T1I5pGPHqHgFQn2tPza9se8tWDnngs9sPO9zMlUjErFq/oe3rpx9/sVcrX0YzH2qrZx0SGIXitbH7/Mz9V0dJ9mMSUdlVxAyiiXdPTGv35NUDIkkAFsWH1oiTR+p1tKRiRXJxx+iA/kH3olKNv6lEDPIcaDbyrDV2g+C/u0nrJ578Y+TDksIAFgx54Lbyffewr7/uJQLplfRhrih83T1gjspFWWBDAAGYEufSmryKJE7tVYJL+xqdyb7QfJDbf20P9ibqvNQRU6O+k0bZqhiAUwUmb6Bz6046/x3r3v3xzclHZYQO1u+4JIlUx5fdJrtH/iqymVB2awsCaRMjiP0Ziapr3WdxdqmY5nXDywKef3GynUzzkji+i1PAJhB1vBlYZj8l4MBtCkPP4+Oto9FR0nZXwrpjjZwZJYbLzh95fyLr0g6HiF25fEvfcmsmHPh52PPezdbs1XLkkCq1MsCPdzV/hb15/yBpmCTXz20DEABRPSJJK7f8gRg9VPdZ7W36aOqXvLT/y4s+k3O3lyZRwosZX8pQlpDt7fBVmr3220DJ645532/STomIfbE6rkX/cB61bdY318oVQLp4rJBRefV5RPmMzNSURYY+haOxrz+G3oObfW1W54AEOMyrZKfHas3/anh+/5J9i9xjy5QOppEjHvM9enTjIt4YPALK2af/85V5314a9JhCbE3Vp/zoRXOdjrVDA7epMslkOsk/9AT9VkA4+FnpaPUw6U32DSUBcYWyBaVq439WKuv3dLUdP2TPYeQg+cZcE3CS+05irDZtJmLdvwD+lDSGdn5nzxmqHIJHIQ7bBh8aNX8992fdEhC7KuDH/7ux+Hqa0lr19Y8mRFIgarK4Qh/nXlg3RVwmXVMOtF4si4hiOyWgqsOpo+tGWjVdVs6A2DAH2lvU4kP/gCQRWhvr53FG7lLZ2XwTwXd0Q72g78Yzz9ZBn8xVqyYe8FN7IWz2ZgNUiqYDkXr4w/5Hn1n+8k2Y5OfBQgiRqGkJ1Uj895WXrdlCcBzj84qAnRxtZb8NFiRfDwbHWh/6L9Fyv7SYKirn6nUfhRVaievPuf9zycdkhCNtHLBxY9RxT/Jet6TuqMtJQexj29FG+CGzjP0RndSnIayQMQAW/poKy/ZsgSglAve0dGhpiZd+qfAYIa9qTYPNeTktL8kMer1/aUCzODglStnn3fu2nd+sD/psIRohuXnvn9NtdZ/WjxYvVu3y4FCSctxjHWZier6rrNY2dAmnZP5gUU+p47vv677za26ZsvuQCZ7adIn/g2f9veL6BjzaHCUI2//CWIG5TKAoxEPDH5i5ewLPpt0SEI026ZzP+atmn3+BWZg8L91sQByHDleOCHDpwXe1X6i/mP+IJtPuCzQMqAzBAf4cKuu2ZIEoPepA47IZOikajXZDMAlgwGTNzdV5ipNDCn7S8hQcx8AFVutvmvVvIuvSzokIVpp5ZwL/9lUKpfB0fVEWCoEEuGyRU3n1BUT58GmoCzQ+Awifre9bkpXK67XkgSAoT/QXlbaJDj+M4ASebgnONk+F3dL2V9Shnf6x/Em6wVzVi245IdJhyREElbOvehrplp7D4CaKuQlCUjAcFng/xRf7/y0fIzNmWRnhYOYkS/pzkBn392K6zU9AehdODXHTOfVvGRv7jxFWBPtZ75ZO0MV5LS/ZDBDtZfBQbCMPO80OcVPjHerF7z/+3GlNs+aeJsqFSUJSACBoWFxxcR5qOiCcZNuB2+A2NgPtuJSzZ8B0O7cjjY93Ut4818Wob3dO4s3WSn7S4ruaIOten8gzztt+YJLliQdjxBpsObtl/w6GvTPtGG4TrWVJAlIQNEG+GOux7mj/WTOJNwcKAgsMo46oXJ999HNvlbTEwALXEKERDe6lJSP30cH2R/6b1ZlqsnKfwJ0RxtMpfZrXQnOWn7OBzYmHY8QadL7jkv+aL3q6ewFy1RbWZKABBStj5u6Tqf1mf0SPS3QWCCTJ0XMFzf7Wk1NAHqfPWSqUnRWkrX/Cgxryd5Ymwdfyv4SoTvaYAYrP3f7ts5f9q5LticdjxBptPqcD60g3zvN1rzndUebJAEtluMY690ufW3nbGgbJtqqwYYMBt6z+hvTss28TlMTABuG7+5s18UoTuZGHi77+1nwBvvr4ChVkrK/ltMd7TADlYfcPn32kvdeVk06HiHSbPk5H9gY1ipn2WrtmXoSkHRE4wcDaLce7m5/Cz2TP9gkWRYYhIxiQXdPGlRNPSa4qQkAMy5MavAHgAwZ7DAFe3NtHjlk5bS/FqsP/oMPuf36XUve+17ZeCHEHlj3jo+8QC/2zzUV7yndLssBreSwhaez6sqJ82FBiZUFMlA/JljhwmZep2kJwNonpx+ecen4WquO/aWhXwpgDViHUNAe7vHfZhfF3TovZX8tpTvaYAYqD7r9i2XwF2IvLb/oY9t0xZ9nq7VndLssB7TKcFngz4tH6h+X32hzQQ0UA2QA4vqvVjEBg5jm9V0xtbNZ12jiDIB6T3ub1g09+GenQR4aYAewDmA1LBMMLGLlwbh9HHZsDMymdZP9O2qnqaJKtsPTeDP05v9zt1+9e8l7/10GfyFGYNm7Ltkeht4CU6s9LxsDW4fAcGFx+aS52NJTDOL9TRy2IYoziK2CgYWhGJZiQMWAsgDZxicH9Z4Aqku7zvzGfvLLnGZ8KDNo9ZP4uxH1/aed/pcAppc+05IFyMCqCKRCNjogrQM2yofWAawKoVQEUAwnH4f4r/3PcDdN6lSdVpaeW4J5ePB/fFv/9nf2vfcyGfyF2Ae9Cz64ecp9t8wpgh5V5dIhdrAixwm3QMEGeE7PcG6bcgr+V+4naocpQRtYigAdsFEBtBMiIA+ODtmokLQKwcqCYEE0/HKthqbzdxrL9pqi8wHc1aAf7a805U5a++T0YzNZ55k4Zuyy/z+9/MtS/beWYdXQIE8hlBNxTD60E8IoH0r5gI4AFYMQgRRD0U6fx0O/CuzjD7kD43fM+KTSzErLzv/mG2ryY6veH7wdg2duPO/SHUmHJMRYceADdxxEhexjKpuZZitVSQJaIISDMmr2rs4reKreoX249XFmp3lzZlhYQMVgFQMqYKsDKB2gniQEbGgoOSADRRYgekVyoHa91zPjECLDgyZSB5c/tfrFRv+MzZkBgH5Xuaiwrc/Uf7jhwR4vD/LKwlAEpUM2yofSPlgFgA5AKgQoApSBJgtNgAbwchZF9XV+xt/+h1NgGCb7lYnzyVNZ1WGk7r/phtr72pq/QtcqC2TwF6KxVp37/pXdD31jgUv0qCrkO23NkySgyTKIsZk71W3e7Pg/St+2PrsKXJ/uH0aAAgFwAOsCpkg6AsCArv9ZApmhF9f6zAHpALHyoZ0ARkXQFILJQsEAiqAYAA0lBVHMyBdVuVox5wC4rdE/Y8PvoHsY6vhne/5UytKR3iDHFIGckK0KAe0DOgCTD60jWAqhlQGTrQ/whJ2ShRFOmRRMDQ+0vSn+yNQPO23Wk2O3m40ZqpCHjeMXo1rtbb1v/+DSpEMSYqw66KE7T6V89mEAWQ7CJs3himEWCobJ3tp+LR+bWaUrnNu7D9hpSXt45oAxtF+gvpeAdPxSYsA6ACsPSoXgoSVtLmaV4w2anxY+09vwvQANv3367u45TjlYyFV2KUCkImhq8CC/Ky4beOTYBTM+xyuyk3XBys7/pmLUTzKz7Nlq9cxV535QevsL0WQH/fhb71XF0j0cReA44b71YxwBGOA8TnIXmRvbv0YhMso2atgc/pidlwL4b5ODTEwue9jhkTm8Z966TY25+EuXbiz3RXtuuZ9ctw9wfLjKQkFBs/Pyrn3W9WyokYM/ALjWwzc7TrHP5abL4N8C5GqQVjBh8D4Z/IVojZVnX3JvXPU+qwoFWQZoMgZQJh+/CQ/XPwvfaMuqgUvKw2vYZqjMsL6/rf57QMOBMgVya+1A7jDdyV1qTqMuPayhCQADsIQF4OYN8ruS4whrM5PNzZ2nqlKCHZzGDSKoQgF2sPq51fPfd1/S4Qgxnqw+++Ir476Br+mOtqRDGQcYDlncXJ1HO0zJZKgFsy47JwcxgIihiM5t9GUamgCE1x90uOuoo4KwtbvuCYCyIa7rms0vuF0qy3FLrz8e6Y42xP39t6xc8P4rko5FiPFo1fyLLjN9Az+TboHNl6cAi+Pp+rv+KbZIrT8tsOYx2PJpvc81tilQQxMAw9G8bJ60aXHVXd56eDp/aHxP+5tVu5Vd/03FDN1WhukbfGxVbsX/TjocIcYtInj91QtspbpclYqSBDRZSfn4dvVUvTKeHOcobOm1w4jR3q47TNU9pZGf29AEwALnoMV7UhQYMbS9fNJ8BMpVDkvNf9MwQxULMLXaOhvweTj9S7IDSYgEbTzv0h1RaN7DYVSlbFMPjhv3MojxIjrUbbXZnEHc8oFGa0CBzmnkZzYsAaheM+UAIrwpCluXhTKAnKnhR+Vj7SOFw52ykdP+molcFxzHEYfx+avPvbDhTSmEEHtv7YKL/2Rq3qWUcQHV1PPdxrX6hkAPD/gn6KejQ2ypxS3mPZ/BzGeufqRxRwQ37G5h7Z5WKOp8ZFo3BGdg0K/L5uoJc8lFw4ozxKshgirmYT3/s6vOvlh2/AuRIr61MZIAACAASURBVKvffsl37WDlat1WTjqUMU3DIoSrbqzOg2Fl/n/27jxejrLaF/5vPU9VV1d1770zEIYAmYMBUVEkoiAyyOzsUTwqzsjgeI94zzn3eq/3dXjPe171OCuIxwgIEoSDDJkIhHmSSRREpgRCmDPt7t49VT1r3T82UYaE3b27q6t3sr5/oZ9d1euT3Uk99TxrMD2cDtRoCMLQzKCieUO37tm1BQABx3TrXq3yXQ2LJr1NtOwvZQLYoQG4TaXfrn7Hx36cdThKqZd7bdn/SjJcutkOFDUfIEVFquHG5j7ekvobZIB6l3MmAhRCA4Lt2rO2KwuAJ87cNRSht3EPt//z0sRjud2SX0w5jLTsL0UiMIUQrjTysBsZOSXrcJRSW3fJCScwVZsnulp9mPKaD5AWAuAbh19Uj6WNbqA3ZYHPayYCET6qW/frygJgsvP3DwPao5n0ZgFAAIhj/sGUo/GMN2S17C895HuQOHHC7sRHP3hyKet4lFLb9sj7PrFaGs1TjK/5AGkK0cQDbg97Xu0QKaJ3ZYG1msAQXv/knTNndON+XfmGCJu3mxyBe7QBEHINt0UL+HdDC80Qa+JfmkyxAK7V/s/qYz9ya9axKKXGtvodJ17gSpVf20E9CkhTkeo4r3YYPeR2S0LqzeTzxAmGBm3QbMpbu3G/7iwABIejRy/hFoJELH9np+PQNL6xWvaXjucn/CWbhm9a/Y6PfSvrcJRSrWOSL7pSeY2JoqxD2W7lkOA5GbK/rB4FH73rfkcEwNCR3bhXxwuAyhl77krAG5I4/ZWmAAhcFZcOvpGvKyzwBrXsLzWU8yH1+giTfEr7jSs1saw57sSyOPcZQPQoICUCYJBquLy+0NwWv4oHetQhsN4QQOiQe+9d4Hd6r46/GeTMm6PIFJo9KP/bUvb3/anHUE7f/FNlChFcvfG1R4898cGsY1FKtW/1cSeuciO1n9rBYtahbLcMGDF887OR46gplk0PXkkbTYGfo9mFavXVnd6r4wWACA4dHfSbPt/V8KvJh/Jf8nto2V9aRGAGCkg2Dd+05viP/SDrcJRS4+fF9X9xw+VHTdjmHHvVsiLVcHNzb3tF4wAe7Oa0wG1gBgaLBIE5pNN7dbQAEAAkcnAvzv/z0sTq3HT3i8mH6bS/FJHvgevNpsTJqdpZSamJ7cH3fKbCnHwBxgBG/0KnJUcJflk9mtb3qCyQGTCCbBcA9R/tOQuEfZspn/+Plv0l/P2pR+NZb1DL/lJkikVIs/HdNe/+xJ+zjkUp1bk1x33sCleuXKgNgtITUhMPJrvb82qHSrEHuQD1hgDAgU/csWvYyX06WgAkBgdEkc0lKZ//h1zDrdGr+L8GF9Kg02l/aTFhHm54eE1k5dtZx6KU6h5xfLqrVEuUy2UdynaraOo4r3aoeTCe7sKUpwU2Y0GQo93rEu7byX06WgAQzMHdnSf4chaMGB5/Z6fjKTaesfr4TwcR4FmQc6ffe/THqlmHo5TqnjXv+vjj0ki+bQodvTCqV5BDgg0yaH5RPQo+Ek7zwIUZKBQInsibO7lPh49veXPa5/+Bq+GSwTfy9dECO+h613FpR2OLBbjh8sqHj//Yf2Udi1Kq+xKz4Qdu8/ADJtRFQBq2TAtc0lhob24uSP0oQBiAyEGd3GPcC4DKGXvuCqF90qz/98Vhkx3kH0w9hoJedRraEVkDrtfZCH0161CUUulYe/yXmmD6Z7IG2tsjHQaMBB5+Xj0ODfE4zR3rRlPAoP1vv/313njvMf4dgMS8vhCaQpxi/1+fa/jPyYfy/cHuNuJ0z1R2ZLZYgDSaZz/8jo/ek3UsSqn0PHL8Ry5NyuXrTEE7BKalSDXc2nyVvaJxAA+kWBbYjAWexaxpdv388d5j3AsAIhwIL72k0lCaeDjY3Z01+VAzyHU9+U8JeR5cZaSaCP2frGNRSvWA0P9AnGiHwBQFz5cFPpsMco7S2b12DhgsGsuxOWC89xj/N0BkIVJqxkcAwAn/YMrRWO8NmpyW/aVDRjv+SZyc8dg7Pro263CUUulbffxHb3a12mW2qLsAaclTEw8l0+15jcO4gPT61hgDGNDCcV8/noueOHPXkJlewymc/wtGy/5uKuwtlwweQEOsZX9poZyHpFwZlsD+e9axKKV6R3z7Da43dBcgRUVTw/kjh5gHkt1TKwtsxgAgbxzv9eP67Q81gvm+h93jFOr/PTCa8Ph7U49DYjxjtHFFakwhgiT88zVv//CzWceilOqdNUd9+E6uNS6zmguQmhwcNmLQnFU9RryUygKbTQGAVz1xx65Tx3P9+JZ/Bq8P8gauy0cAo9P+avivwYV8feFVdkDL/lJDngdXKpcTwz/MOhalVO9Jzn6DG7oLkJbRssAqljTeaG5q7s1F0/3nWZwIwryZ1HDBPuO5fny/ecH+aTQACiTBBm/I/XDq0ZTXc/9UmUIEce7sx4898emsY1FK9d6aoz58J9cby3UXID0GAgdrfl49Fg32nKXuvjWLAGHewBK9fnzxjQfhdUhh3oHHdfxy0mHy12C6DbXsLzVkLVyl0oARnfan1I6M8B1JEu0LkKIi1fCH+FXeZfUDZCCV5kACgbxhPFe2vQDgf9+rCJFXdTsBMJQmHgr2TH416RAzyLr1nyZTCCGxu2z1MR97JOtYlFLZWX3ciat4pHqHjgtOV0AJ/rN6ND3rhly3ywKbMUBCrxnPtW0vAKqFxlzP0i7dbAD0t7K/qUdjvT9ocpL+OMUdFhG4GYON/CjrUJRS2ROyPyZv3M3kVAvyaOJhN92eWzuUoy6XBcaxAJA5T9wxv+1EwLYXAAJ+dZA34C4dZWwp+7sx2ocvGXijGdJpf6kyYR5crd756LEn3ph1LEqp7OUq3sWuVHpKJwWma8DU8Nvq2+xf3R5J1MWywMQJgsBMirmxV7vXtr0AMGJeB4OuPaS3lP19d6fj4Iw1Rh//qSLfA4z9RdZxKKX6w18/+MEREZyvxwDp8uGwCQPmzJFjYLtYFsgMRCGB2LQ9Grj9HACSfbuZABi4Gi4aOtDdWNjL07K/dJHvwQ2XNwXk/S7rWJRS/UMcL3IjI4mWBKZny7TAZY39zY3NfXigi2WBRAAT2s4DaOu3LYthCDRPutQAKPd82d8PphxttOwvfaNjQOXS+485YVPWsSil+sead37sPm7Gt+guQLoMGAxjfl49DjXnse1SP/0kAQxh7/bjaUP16d12g2CPpEs7ANbV+ReTj+CHg1217C9tRJA4hoicm3UoSqn+Y8icS9ZmHcZ2r0h13N6c713WWMgDptaVQ+9mIgAw9957F/jtXNfWAoB8b3aYo8h1oQIg5CYeyu/Jv5p8iBnQsr/UmSAHN1J9eGjayPVZx6KU6j8c06VJqVzWioD0BWZ0WuAzbsgFXSgLTGJARKYXKyO7t3NdWwsAZiwwOUKnz38DAJLw96cei022aH0t+0sdBQFAdOndB5yiZy1KqZdZ8+4PP0vASj0GSF8eTazh3ezZtSMkQqPj+zkWFEITgDCnneva2wEALUAXUhfzXMMNhVfz7wfeYAZdtfMbqldGBK7XIaBLsg5FKdW/SHBx1jHsKIpUwwXVt5r74j1dRJ0tAkSAICAQTFulgG2mfNJeneYsWDAa8Pn/3+l4YmO07K8HKMiBa42H1qwt35Z1LEqp/uVsfqUeA/SGD4dhFM2Z1aNhwR2/WxMBAryqnWtaXgCIABDMQocVAIGr4sKhA/mWaL4dcN3tiKS2zgQ5wGA5TtHtf6XUtq05+v3PEegGkw+yDmW7t2Va4JXN/e0NzX2STucEJA4gonntXNPyAmD45zMmCTDddXBcn5ME6/0p7kdTj6a8xOO/kWodESROAKFlWYeilJoADJbCaj+AXjAQCAg/GzmOquJzJ9MCk0QgjFnSxjt6y7/lEG53YzAp6SAD0HKdz5x0uDyS28VGWvbXE+R5cCPVDQnjlqxjUUr1P2PM1a484rQpUG8UqI474vn20vqbeIDGXxaYJIAQpj9+y/TJrV7T8m84Zm9GGBg73hkAoTTw1/xMWTTprWaQu1P7qMZGQQ4EumXtOz6yOetYlFL976Hr73sAzv3FBDoboFdC08Qvq0fTk27yuMsCHQuswRC8YHqr17SRAyCzYcc3A4AgADN/f8rR2OQVjZb99Q5ZAwhdk3UcSqkJ4lvfEhbcQH5bPWVUBwLEeJR3sWdXD0OE+rhes5mBQmgsDLfcC6D1PR6iWeNJU9wy7e+a4r5y+cD+pNP+esgQuFqDI6fNf5RSLTPGXCvdGvmqWjJANfyu9la6N5kp4ykLFAE8D3AOs1u9puUFAAlmjacE0AejhoC/O/U4iCEt++sh8nxwM17XLOfuzToWpdTEYUF/cJVKQ1sD985oWWDBnDlyNAx4XNMCjQWIaGbLP9/ynUl2b3cBIAByrobFk97Ct0bzbFHL/nqKcj5IcNeTJ5ygf/BKqZY9eMyHHiOhByinxwC9IgAGqYaVzTfQ9c19xzUngB0AxoxWf76lBcCDP5yRI6FdpM0KgEASPOtPdj+Z8naKRLP+e42sAQzdmnUcSqkJhgiA3EG+NgTqJRotCzQ/HzmWRpzPXptlgY4BGNmj1Z9vaQGwm98YEsg01+YOgMd1nDHp7bI6t4sNWev+e4oI3Izh2N2edShKqYlHiLRzaAYKVMed8Tx7SfMtrt3mQIkTkNDOq1a9taWzm5YWADnOTQOo2M4UwJAbuD8/Mzl70sFa9pcBsgZSrVUt0f1Zx6KUmniMoz9yrQ6YLgyAUW0JTRO/GjnSPJFMcbk2ygKdA4Qwba7/2EArP9/SAqApZloUkGn1+T867Y/5e1OPw7AXadlfBsjzIcDqR25+4MmsY1FKTTy+Zx/iZrxJEwF7L0CMtbyzPbt+OEdotLz3zgxAZKhpvamt/HxrSYBCu5CllpoACEan/V1dfK27YmA/M+j07T8TvgcQ/QXf+pb+8Sul2nb/MSdsIsLD2g8gG0Wq4aLqwfbPyQwutFgWyCzI5YzvmWSnVn6+pQWAIdkNprUmQD4Ydcq57+10LIG07C8rZAgQaPmfUmrcROh+8nQHIAs+HEqIzJnVY0FgphaepSJAPkdgQvcWACDZudUmQDlXxW8H3yJ/COd6WvaXHUkYxuC+rONQSk1of0HHg2rVeAhGdwGuauxnrm20VhYoAhgDWMEurXxGSwsAFtq5lRf5QBI84011P5l6JIVa9pcdYyC1GoRpddahKKUmLhL8VToZAas68vy0QPOz6vEY4cC1UhZoLUCGdm7t/i0gkmljLQAIgOE6/3zy22VNbmct+8sQGQNO3LAU7bqsY1FKTWBEj41WAuhkwKwUqI4/xnO8i+tvkQGqtnAFQUDTWrl3i79VmjpWF8CQG7gvP5vP0bK/7HkWRHhy9VPYmHUoSqmJi23yhDhXIl0AZCo0TSyqHknrkqljTgtkFkCkO1UAAgAiQ5BtP9INABHh/5h6LEpeqGV/GSNrAcITOOEEneahlBq3Pfw9NhLwFDQRMFN5xHjcTbNn14/gcIyyQBaAiLqzAHjy67uGAAZkGx85WvZXxVXF1/CSgf3MkJb9ZY6sAUCPZR2HUmpiu+Hwwx0gT4/+m6KyIgCKpobfVQ+yf0pmvmJZoDAAweRW7jvmb7UwaPIADbhtPNV9MGomcN/d6TgQYFopVVApIwKD9PxfKdUN6zQHIHs+HCoomDNHjgXJtssCWQAWGXyFTfu/GfO3OjgQRkQSbetmOVfFeYMHye3hXK/IWvbXD8QxyDntAKiU6piQeZKMHgFkTQAMUBUrG/uZq5qv3WZZILOAiIqP3zI9P9Y9x1wANONkQEC5rS0AAonxlL+T++mUI6kgrXUqUikjACIgS09nHYpSauITkqexrTNg1VMEARHMmdXjqOzy7G+lLJAZIJLIhX4w1v3GXAA45oJnYGUraw3DTf7ZlCPlsdw0m9eyv/5ABIljsNCGrENRSk18RvCstDsKVqWmQHXck8y2FzcO4gFUX/ZkZgYAisK66XwBQGQi39LLigAiruPP4Wz5zdBBZohfHoTKCkEaTYa1m7OORCk18QljPUQA0o6A/SKkJn49coRZ66a5PL345VsEEJFAQi8a6z5jLgAYEpmXLAAMBCLg7005BmWbN55uD/UNGv1L2qC8DGcdi1Jq4iNrhyWOtSNwH8kjxuMyzfy6doS8tCxwtHcgLIQ7XwCQoPDCX/yWaX9XDryOlw/sZ7Xsr88YAgi1oGZGsg5FKTXxMUtF4gS6AugfAmCQqri49hZzdzxHXlQWKIA1ZJscd54ESIIQL5gE7INRpTx/d+qxZDCalKD6CBFEqOrqZU3KUEp1zKA5IpAG6RFAX/HAqCA0Z4wcAxH5W1mgCOBZAmLThR0ADy+6Sc5V8Zuht/Kd4Wxb0LK//mMMCFI1zUEty1BKdcwnW4Ug1hyA/jJaFljDNc3X0VXN1/HgC8oCjQEM2B/rHmPnALDktvx3IDGe9Ke5n059OxVYp/31LaL63qL9mJVSnWOPm4QxGtCrTBAEhsScWT2Wypx3PjEEgOcRHNnOdwAEFIJGT38sN/DTKUfJ4/5UmxfdYe5HRASINC7ROQBKqS6IYxMLpAajOwD9KKIG/hzPshfW3yoD1F5F3tj9HQUhMDrt74/hXHfe0Jt12l/f0706pVR3+M2GAGPNg1VZikwTZ1cPp8eSnVweMcxo3t7gWNeNvQAgMCAQEf7e1OMwYvM67a+fjfbsbmVotFJKqe1ADjGe4Kl2Ue0oydPo8TyRjNm/uYUqAPLANawY2I+vLL6GBrXsr++JntcppdQOZYBquLj2ZnNXPCcpUB0AjfmoHnMB4EkyICbCaNmf6LS/iUAPAJRSaodiwagib35eOZZYAN80O18A+MlGuWjwINwVzrYF1sqyCUHYyzoEpZRSvTVANVwXv9aurO+H3cwznTcCuqmwP/9s6pHQUb8TBDMINGb5h1JKqe0LQWCJcWb9WNztFoRj/fyYC4Dr58/H07lJ8EWPlSeOrQ1vVkqpcRI9WJwo8tTEg83dcfHaI0pj/eyYC4AvDl0aH+XfibLoS+WEQRTga1/Tv7BKqc4V/BwRIrC+V/Q7AjBsIry3dDu+seasMcv1xq4CYK6dHC3DIFU5wZhVBSpjMvryHywwRvMAlFIdqzfYF+g//hNBkzxMjUv85Q3LYYwd8/k+5g+s50m0T24tPpS/nisy5pGCyhozhCXCvjvnxv5hpZR6ZQE4AsHXk8X+RgBKJsBnNl/Hu8TrUPcmd14FwARqIMDHw6tptnnK1aHPlb4mAhAiL5o85iAIpZQaS+IXIhLkRBcAfW3EBNin8WRy0qZrDMyYBQAAWmsE5BrsYRdv2J4UrZCGVpj1NxEQId/Ix5q0oZTqmHFxkXzPQHvA9C0B0ITlr2xYhklcMoAHMaY81nVjLgCswTAEKEuId+X/YN6Ue8DpUUD/EhZAkEedxuwDrZRSYyFgkHxfn/99igCUbYgjRu6Td5fu8Bpm9N1PhDtPAtzCiUFAiflctEQ8JMytX6p6SkC+Z5u+rwsApVTHRGgyjNHq4j6VkEHgmnz6hqWwYDBo9FdFGLN2f+xxwMyVLb/3soR4c+4B8878H7gsoRaG9iMBKJeDFUzOOhSl1PaApuko4P40WvYX4h9Lt7oDqg/amsmDCBAnMGRqY10/dhIgTPOF/zuGbz4brcA0GnZNaD5A3xEBjAG5ZOesQ1FKTXxMsjMZ3fHtR3XysUe80X1x4wrjTA6C0WHwjgGwNMe6fuw6QZYKy98nzNfExzzvKe/EaJVUuLVMQ9VbZAhi7C5Zx6GUmviIsIue//enEZPDaRuvwh7NZ22D/l745VjALGP27x97GqCHGvOL/7+yhPjH/HW0j7fW1SQYR9gqVUQgyPSsw1BKTXwE7NZCPpnqsYrJY//aGnfi5hupaf5e9EUgOEHi5dH5EQDgqnHy4kbQsVhMtiP25GipJGJY20T3F2GGgHbPOg6l1HZhN20D3F8EBAH49A1LpSA1E9MLHuUEAJIwbHWs+4y5AGgKVZNE/nYEsOX+ZY5wTPBHc1jwZ00I7DeOAZE9sg5DKTWx7XrpmaEIdpFEdwD6BQEYtiGOL/+Rjyr/ydTNi5+/ZvRn6km92vkOgJ8zI44lIXrxI55BMCTmlGgpFVDnRMsC+4Y4B4B2nbHkh9q2USk1boXBaAoB06BHAH0jJotBV3Nf2bCUQGT4Ja/fRAALas/Vws6TAF3FVQjUoK284lckjzf4q+n94c1ckkh3AfqFcyDILnl/2tSsQ1FKTVzcMNPJ90LRI4C+sKXs75ObrpdX1x+zNfPyHDxjAAJV3BPceRIghGoiMrKtKpAacuZT4Ura0zzn6tD28/1AWADPK8QxNBFQKdWJPSkIgJdmgqtMVE0O85pPJ6dsvpqSrTz8gdEdAIGM7PXjtZ3vAHDMNSKqbGsBUJcc9vA22E+FK6XGuuPcF5hh8nlYD7OyDkUpNXERYz5ZnQTcL+rw+MvrV2BavMk2aRt9eIhgiEqt3G/MBcDsw9c1RKRsttEJiiCoSIj35282+/sPuxHR3gD9gKyBsOyVdRxKqYmLgFdlHYMaVbYhDq4+KB8o3WYa9hXm8YzuAGxq5Z4tZe4Rmc2v1AgqEYOCbZhTo6UgES0L7AsCgehfXqVUJ+ZLMmZLeZUyJgPLCX91wxLkEJtXTLo3AAEbWrlvi6n7smGsTpBljvC24F46Jn+nJgT2AUkcSHT1rpQan31XnBMJZLYuALK1JfHvH0q3u4NH7rc1M0bZPQEAdXUBsH6sWRACwMGaU6JlmIwyN6HnRlmSOIEQ5sy68EydCqiUalujYfckol21B0C2GuRhWjLsvrxhuWHjjd2VWQAhea6Ve7e2ADDmmZf2AdiaqgTY21vnfTi6njUXIFviHMjYnb3BcFbWsSilJh72aS8TRVYrALJVMXmcvPEamdN80taphUR7AcDUvQUAOXmWW5wFXUGIE8NVNM8+5WrQqoDMMMNEIZjt3lmHopSaeAT8WvJ1JzdLVRPgNfW17tObrjXxKyX+PY8AgAEQnmnl/i0tABInzzADLWwCoCkWO9mSPSlaJjG3sF2hUkPWgAxen3UcSqmJhwT7ib79Z0ZAiGH4KxuWySCPmLiFY3UiII4FCZv1rXxGa0cAHj0Tx63l9m+ZE/DO/B30ltxfkoqMvWpR6ZDEQVh0AaCUao8sNgDtK7EmAGaBAJRsiCNH7uV3lO8y9Rbe/gHAGkIj4Wbgue4tAAy752o1cdRiyiCD4IHt5wpLESBmp3MCMiFxDAheve8550Rj/7RSSo2asaQyU0hmQxcAmUjIIHJ1/ur6JWQgL+v3vy2GAAMM1xu0saWfb+WHmjn/OYFUttUMaGsqksdC/0HvXflbpaxlgZmQxMH4dvfyFDM/61iUUhOHT/nX2kIhEB0C1HOjZX8RPjp8C7++9oitmtYT6q0FBHju7s0zKq38fEsLgIeeSkoAPee1mQ/SQA4nRVdiV7PRNbCNtoUqPcwwhQi+wf5Zh6KUmjiIsJC80aeJ6q06+ZjRXO8+v+lKcqbNRPrRl/RnD/9/bmhp5dbSAuD449c2ifCste29x9fExxzvGfvx/NVS5a0PLlBpIzBwYNZRKKUmDiF5k9b/Z2PE5PjzG1fKbs3nbIPaHLBnADK0ro0fb41AHm93JgQBKEuIE8IbaF/vMVcVXQT0msQxiLAw6ziUUhPDzEsWDQnLftKMsw5lh1MxeSysPcIfGb7RNO04UrcIAMtjrf54ywsAEjxmx5HLF4vFkK3ZUwtLhYV0TkCPcTOGAAtmLls0M+tYlFL9z/f915ownKotgHtr9Nko/NX1SymUhonHkzwvgBNZ2+qPt74DQPJYi72AXoQAlDjE23P3mMODP0pZxuhjrLrLOXjFYuAh0F0ApdSYhOhgk88B4/kHX40LAdhsI7yrdKccUfnz2P3+t3YPApAIDMmjrV7T+gLA0Zo4bq0Z0MuuBQGGzGmFZVJElVtpaKC6yBqwyGFZh6GU6n9i8DZx2gCol2KymJxU3D9tXA4hg/HslBsCag1xPqWQA2DFPF6pMo81FXBbRjjAa71HzQnhjazNgXpLmjEM5GB87Wu6+aKU2qYZV5w3iYQPkEYj61B2GASgZEKctPlaXlBfa2tmfLlyniEwY7jWcE+1ek3Lj3Nj608KY9i20QvgparIm09EV9NM84xroM3sRjVu3IwBY/aeddCrtB+AUmqbfIuFJoqmaAVA71RNDq9qPOlO2rjKJmb8L8fWAkR4cuifntzU6jUtLwDOuPypTQJ5wuugnL8pHnazm+xnCiukzjooqGecgx0oegbm0IwjUUr1MWG8nXJ6/t9LDXj48oblMsWVTJM6OB43BEAea+eYvuUFwLe+BTGERz2vs13kMod4b3AbHZB7MKnoyODeEQFBjsw6DKVUP5MjpNnMOogdRsmGOKR6f/K+0u2m0WK//22yABE91M4lbZ3oC8mDXpvNgF7KwSAwsT0tWgIrzK32OFad4UYDAhwye+m5A1nHopTqP7OW/HY+WfsabugCoBccGficuH9evwQ+nOl4Zo4AQniwnUva+kRm84B0YWuowiEOyt1vjg/v4LLonJpekDiBjaKdieUtWceilOo/FnyUHSz40BHAqRvt9x/iQ8O3ypuqD3q1Nvr9b/V+W0oAhR9o57q2FgBk5YF6Q8ZVCvhCAiCBZz4bLqepVNKywF4QAfkeYM07sw5FKdV/hOR4aPlfTzTIw27xZveljSuIjdfxyAVrCNU6N+Fa7wEAtLsDQGZ1tSa1dmcCbE1NctjLe8J+NLyGK6y5AL3AjSbAOOqtq1bpiksp9TezV1w8DUQHcV3L/3qhYgI+dePVMqP5tK1T5wnxvgEEeCqAabkHANDmAmDO/mueBOQJv0uD/UYQ4iPhtbTArnM1nROQOmk0YfLBQHhBqwAAIABJREFU/CcaTx2QdSxKqT7i6kd6A8VBbf+bvhET4HX1x/gTw9dT3EHZ3wvR6Ev5I+ZLa9tK4GjvCIDgiOgh3+9O4l5TLKbYij25sFwSGV/3I9UGEZgwAIHelXUoSql+wu/Twr/0CQgOxKevX4aiq9q4k7K/F7IACPe3e1nbaYfCuM/rUswEoMwRjg3uNAfn7nMVnROQOmnGEHbvweLFHaacKqW2B3svXzzZkDlcdPs/VYTRsr9jyvfI8ZW7vXqnZX8vvT/Rn9u9pu2HAAF/6maSKINgScznCksljwYnnZZCqFfE9QZMmN97zmCiw4GUUoi5eZwdKE6WWMf/pikmi2JS469uWAZg9NnXDYYAbgpI3L1tX9v+x/F9lapgvDMBtqYieezvP2zel7+Fy6xzAlIlApPPQ1g+mHUoSqnsidCHpOM8dPVKRvv953Fi6Sb3mvoaW+2w7O+FPEOoNbnkEr+tJkDAOBYAiWcejmN+rtOOgC/VQM58OrqSppsN3NQ5Aanieh0Eef+MB5doP2aldmB7/f783WDNYVKrZx3Kdq1mfMxuPuc+t3GlceMc9rMtngcQsGbgy2uebffathcAc9/4aElADwZdSgTcoiY+ZnrP2U8Wruaq6HMpTdKMYQeKM4JHht+edSxKqewkgXzADhYLOvwnXTXk+IsbVsgu8UbboC6V0W3hEWDaP/8HxnUEABDhHr/LL+lbEgI/kL+R9vNWu6rOCUiPCMgYsMinsg5FKZUh4U9IrKV/aSqbPN5ce4g/VLq1837/W0MAC+4ez6XjO8kXuiuNbpExDIpUt6dGS0UgrGWB6eFqDbDm2DnLf7tH1rEopXpv7vLfvtnkw9ezbv+nhkEwwvzV9UsQSNN0O8mdCJAmAJbeLQBI3N3dTgQEnt8FkAiH5f5sjgru5rJEugRIiYyOCI7g+BNZx6KU6j1x7lQT6OjftBCAYRvhveU7+JCR+0zNdL/M3beEWoNL8GzbFQDAOBcA5VrpgTjmp/0uJwICo3MCmIw5OVpOg6jonIAUcb0BIvnMHqsWaRtGpXYge155/m5k7Xu5Ws06lO1WkzzsFJf4nzYsJ5Bn0lhmeR5BCA8MnLbmufFcP64FwL6HbR4hovuCXDrv51UJsK/3mP3H6AYui5YFpkUaDdihgZl+039f1rEopXrHT/gkO1QsavJfekomj89uvpbnNdbZmkkpsd0CAN813svHvYkvwB+8LiczvlAVeXwsvJrmmqdcHVoVkBZxDMPy37KOQynVGwuuubBAoJP17D89VZPDPo11yac3X9u1fv/bxPSH8V467gUAEW6NE3Q8GnhbGuJhFztsP1tYwQ1OcaWxg+NqDaZQOGDW8vO1JFCpHUCjEZ9oJw1Ml0Zbc2NUiwRAE5a/smG5TEpK3ev3/xKWgEZVWNjePt57jHsBYMXcVa5wV0YDb82WssB3BH+wB/oPuIoeBaRDBLAGlvlfsg5FKZWuBRde6JOTr0hT2/6mpWQjvL36F3536Q7bsFFqn5PzCAnz44X57oHx3mPcC4A9Fq5eJ8Bf08oDAAAHQmAS87niEvGQMOucgFRwpQoThUfMXXbu27KORSmVnrgQf8ibNDBPt//T4cggdA0+ff0SsmDjUqxjI59gCHea49sbAfxCnT1RGbcGKR/PlznEgf5fzTuD27ikuwDpEAFZCwj+V9ahKKXSMWPJD3Mg+Zo2/knHaL//CP84fCu/sfqQrXWx3/9WGQCgmzq+xfiv5pvSaAj0Uk345rPRCtqZNrsmNB8gDW6kChMVjpi97Lwjso5FKdV9npn6STtpaC99+09HnXzsHm9IvrhxBTmTS3W8kiHANQQJ860d3aeji61363CZ47TyALaoSw7z/KftidE1UmUtWU+FCGAIxPytrENRSnXXgmsuLAD0P6XRyDqU7daIyfFpG67C7vGztkHpDrTLeYR6k58eMIV7OrlPRwuAX7xh9Wrn8EA+xTyALSoS4sP568w+3uOuJroISAOPVGGHBg+cu+Q3OipYqe1Ic6T+ZW/S0J5c1wVAGkZMgP3ra/hjwzeaZoqJf1sYn0CgO+jzfx3p6D6dXPwtgliDG4IePI+bYjHJVs3JhaWSiNE5AWlJEojBt7U7oFLbh/mX/3o6fP+rPKJd/9IgILCAv/rcUkRS63q//60ygECu7cJtOuTkOteDPIDRssAQR+fuNocFf+KydL+vsgK4Voc3aWhevu59OetYlFKdY7Lf9AaLQ9LUuv9u29Lv//jKH/nIyj2mnnbTH4ye/yd1QSL2+o7v1ekNGtbeNFziWppdAbdgEIjInFpYigLq3JOV1g6IR2oQz/sfcy7RSYFKTWRzl577JgqDT7lSJb2ubTuwmCwGkxE+fcMyAhnDPXgtDXxCI+bHNq2P/9TpvTp+gs5fuHqdiNyTD3rzMB6RAK/31njvz98oJUn/rGVHJM0YtlgYRM59N+tYlFIdEPoR5XygF+VaO5jRsr8Qn9p8nexTf9TWTG9OTckngHDz7G+s6ziho0tPbVqV62G7/hpy+EzhKplhnnUNpJttuUMiwJUrsMXohDlXnHN01uEopdo3d8lvTrOTBxdyRc/+01AzOcxrPO1O3bwKSdo1/y8ldGU3btOdBYDwVfV673aY6uJjutnofSpaKXXWQUGp4OerWK334+mLF/f4262U6sTcpefuTjn7ba5p1n9aavD4SxuWy9R4s21Sb/rTeAaoVTm27Do+/we6tACoJfnbR0bcMzm/NysAAlCWEO/P30JvyD2cjIg+n9LA1Rq8SQPz8wPNb2Ydi1KqdSL4iSkUJmndfzrKJsTB1Qf4A6XbTMP2rkNtLmcgjHvCL61b3Y37dWUBsPfBD1aIcF0Y9i7JxMEgoqY9LVoCAnMvki92RFwegQny/zRnyW/eknUsSqmxzbni3A/ZoYH3aOJfOhgGniT83zcspRwS43qZjO4BDFrZrdt1LXIiu6zXX7WyhDgkd585NriLyxLpEiAFkjiQ5xky5pfTF39Xt1qU6mN7/v783Sjn/1ia8Wh3T9VVo2V/IT4w/Ac+aOR+W+tB2d8WhgBuCizJsq7ds1s38qxbtXnYNTyvd49hAeDgmZOjZZiMMsdIZ+7yDo0ArlZhJw3sHQ7s/G9Zh6OU2racz2fYYrSTaMe/VDTIw87JsPvSxuXE5KXa7/+lch6h1pB1+Xp8e7fu2bUFwPT9H1vrmO4I8719D69KDgu8dd5Houu4zDotMC2uVIGJil/WqgCl+tPsK8491U4efJdu/aenbPI4eeMqmd18ytZNbxPQTY4g4FXm9Ce7Ns2pq4cXxsgVfg93ALaoIo+P5K8xe3lPuDq0KiAVzKNjg3P+r2ZffM60rMNRSv3d7MvPebXN577H1bpu/aekagK8tr7WfWrTdSbu4db/34zOa7usm7fs7gLAmiWlMrPpcYO+hniY5pXMZ6Pl0hAPOicgHVyrwRYL001ofpV1LEqpUXusWhQY3z+PgiDUdr/pEBASNnz6+qUyKCOmSb09bs55hGrVDTs/f20379vVR/Ueb1hzbzPmv4T53q4ARucERDguuMMcnPtLUtGywHQQwQ2XYScPvWPO5ef896zDUUoBubr3IztUfB2XR3TrPwUEoEwhDnX3JsfX7qa66f0cGi9HANP1gyc/tKGb9+3qk5oIQkSXBUHvv4QMgk/OnBYtQSAxs84JSA1XRmAK4b/NuWzR4VnHotSObPblZ3/SGxz8rCuVoRuf6UhgEEqdT520hCQnEMngD5oAMbik27ft+lPSGrm0WmX0+hgAAEYkxEL/Ie894a1cYp0WmBaJE5AxhvLhb+YuPXf3rONRakc0+/dn72+i8GfcaPy9c6fqujKH+ED+Zn599IgtBXmhHo9V8C2hNsJVsm5Ft+/d9cf005hyV7XOD+Yz2AUQAA3k8JnoStrVbOIGetOecYdDBK7WYAvRbjD2Apxxhv5BK9VD8y87b6qJchca389LQ8/909KAj93tevfJcKWpU2CSIqSntX8A/IAgghsKp657stv37voC4IAD7k4McGmv8wC2qImP2d4z9hPR1Vzl3kxn2iERwZXKsEODB8+ZUfxZ1uEotcMQAefot7ZYmMMVPfdPU41z/KnoKpnhbTAN8ZEUiBjo7R4AAUJ8URq3TuUpTUQXlkeyOQYYnRMQ4YTwBnqN/2hSFV0EpMkNl+BNGjxpzhXnnp51LErtCOYu/+1P7NDAkW64rA//FI1IHq/3H+F/CG4yJQ5BDCQRSHz0LAsgZwm1KldIsCSN+6fyiN7zskfvrDf4vqx2AWIxGDQ1e0q0FAxiLQtMkQh4pAZbjL4z54qz35t1OEptz+YuOfe/2cHi59xwOetQtmsCAoT5tMJSFGzDJDCAAJwDcQDp1R6AlyckLNcVvvD4U2ncP50dgG9BQLg4i2oAYHQXoMQh3h7cY44I7uGSaEJgmiROIMww+fxv5v3+nIVZx6PU9mj2knPeZwrRf3C1qs1+UkQAShLhmPzdfGjuXq+8JaFcAPFg4jzQy0RAQ7ggtXundWMXJxeWSs7ZjNrzj771G3NqtBSDqOqcgDQRIPUGyPcjKQaXzF366zlZh6TU9mT2ZWcfZPPhb4QZErusw9muxbCYRBV3crSMHOyLG8sRkAwAvUgEDDxCdcRtShpJKtv/QIoLgHkHPXFfM5bbozC7evwRCfBa71FzQngDl0XnBKSKCDxShQmC6fDyS7RdsFLdMffSX+9jovzvyZpQ6g2t909ZmUP8Y3idvNp73Fblxa3lCYArENikfwhgR3fQl076ypOb0vqMVJ/ORDg/i9kAL1RF3nw8WkWzzdNcFz/TWLZ7ROByBbYQLTBF//K9fv/LYtYhKTWRzbzolzMQhUtMLrcTV2ua9JeyOnKY5z3pTsyvMhW8vKMsMZDkQexDKMVdAAIABhLG+el9StoLAI8v2jTsRnw/uy9tQzzsZjbZT0dXSkMHBaVvS3ngQPFNLh/+fsGFF+qqS6lxmH3pWTt7g8WlNszP0nK/3miwx5+NlssuXsk0ZSvtTV6YCJjiAiDIEUaq7tEBwVXpfUrKC4CZ+z/+FLOsLITZfXFHywJDvCd/Ky30HnAVPQroCTdcgh0aPCIedBfpIkCp9kxffNZkGw1cYYvRq0fb/OrDP21lCfGW3P38juB2U+Jo6yctWxIBw3QTAU2OIEK/M19am2qXp9QP6EXwa5Zsv78OBnlKzKmFpWLF6ZyAHnGbS7CTBt4VD7rUsliV2t5MX3zW5HDKwDJTiA5wm0v68O8BhkEOiTutsBQ54wyPkWiRDKSXB2gN0KgxwybnpvQRf5P6k9ByvGJzyT2eRWvgF6pIiINy95t35G/XssAecpuGYYeK75u74vzf9CR1VqkJbPrisyaHkweW2ULhTW5YH/69MFr2F+Ld+VvlQP9Br8yvvEtMAFwEMKWTCBgEBkmCmwc+98Sf07j/C6W+AJjxlifrhnB+lOExADD66Engmc9Gy2knDHNT5wT0jBsuwQ4OfGTulRdcrMcBSm3d9MVnTQ4nFZfbYvQmt7kETffvjQY87EKb3UnRldTA2P88EQMuJJJcSomAFgDx2Snc+WV6shcuzGcPlzizngBb1CSHvbwn7YmFa7miLYJ7R54/DhgceF88yV20x6JF+oev1AvMuGLRLtHUweV2oLBwdNs/64h2HCMc4BPR1TLHe9rWWqkUY4B9kAu73xEw8AjVCm9IGu7i7t5563qyAJh14OP3xwmuK0bZn71XEOLD+WtpgV3natDnUC+5TcOwA8V3Bbvnl2iJoFKjZl6yaGYuCK8yYbhQz/x7qyoB9vUfSz6Yv8GU2xghL/b5RMAu7wDYPEEYF6VZ+/9CPXsiC8sv+uF73RSLKbZiT46WScIGOiegt9zmEmyxeIQrDqycceGiXbKOR6kszb78nFf7xegaE4b76pl/bwkITohPiZZikq2adrvFuiJEurgHYA2QNAQE85/duudYerYAyPmNyzYN87p8PtsvOAEoc4Rjg7vMW3P3uYomBPacGy7BhuGB/uTomln/dfb8rONRKguzLvnVwSYKVlGQm62lfr21pTz8iOBPfFTunrbe/oHRN/8kArHXvczmIDCoN/mWwhfX3N6te46lZwuA3d/4dA3AOVn2BNiCQbAk5tRoCfJocKJlgT3nhksw+WBvbyi8du4V57w563iU6qU5y37zXm9wYIWx3s7a5Kf3ElgUUeNTo6UEQ2OW/b0UCeDyXU4ENACBftGlu7X6kb1DJvnPzSVuejb7L3tF8nhj7hF6X/5mLusuQO893zaYrDedwvzK2UvPfX/WISnVC3NWnP8FG+T/C4RI2/tmo8QhPhDeyK/LPWpHeBy5YM8nAiZdagiU9wnVins6CoOLOr9b63q6AJh5wLrVSYwrBor98YWvI2c+HV1Ju5sNrt5C+YfqMiJwtQoQFWwYXTRn2XmnZx2SUmmau/y33/OKhR+Jc5B6Ux/+GWjAxwz7bPLJ6CqqdlINZmCSQncmM5uAwKCzzWcerHR+tzY+t5cfNop/0oylL773dfExw1tvPxldJTXROQGZIBr9hzCJ4Q0OfGfOlRecga9/XWc3q+3K9MVnTZ67cvGldmjgn1ylCkkSLfXLSJ1zfFJhBabbTbaxtX7/LSIASTQ6HqCTeDwD1KvcdJSc1cl9xqPnC4BZB669plSRu/qhJJAAVDjCPwQ3mf281W5EXj79SfUAAZI4uHIF3kDx5HkH73Pl/Mt/PT3rsJTqhtmX/vo10dSh62whepfbPAxw6pNk1TZUJMT+/kPy3uDWthP/XopkdDSweJ0NBsqFBs7h0kmff+KRDsIZl0yewmTkx16fNOKLYVC0dXNaYYlAhLUsMEMicJuHYaLwcAmjm+Zefu7bsg5JqU7MXXbuB2wxup4C/zVu83DW4ezQGAZWEv5cYYnkTWxcp48/BlwA4g4SAQ0BnAiMpR91Fsw4Pz+LDx3eVL9w42ZeF2ZcEghsKQsMcah/rzkqf7fOCegDbrgE8r1ZFAYr56w4/wtZx6PUeMxdccH/a6LChSCaxGXN9M/SlrK/Y/N3uoNzf/EqY/T7b4kAbEEuGv8CIJ83qNb41ui0R2/sPKD2ZbIA2O/oZ6oAzohC0xfjYQQEJmtOjZZhEka43YYQqsuIwCNVAOJ7xeKP5q684JyZlywayjospVox84pfzpi7cvEKO1j4V2k0IA1N9staEx6mUMmdHC03CbpXvE8GJi6AxpMISABgAGvkP7oUTtsyO4h3TGdt3OxKgd8ffzGqksM+3lrvQ9H1XJYurA5VZ4ggcQJXrsAWCyd6xfAW7Reg+t3cZb95lx8O3mKj8Ci3uQRxet7fDyqcx0fDa2WB/4TtdsK3K9C4EgHzAaFa4YdWP1v4fVcDakNmC4C5b17zrHPy64Fif+wCAEAVeXwsXEVz7VOuDq0K6AsicJuGYYJgbwqC6+asXKylgqrv7LFoUTDvygu+a8LwUjJmuhsuZR2Sel5NArzKW+c+El5rKl1+uSMG4hAkfvvHAJQjsPAP9/3GX+OuBtWGTFPxTeJ+OFxyDd/rj12AhnjYxQ7bk8Ll0mQPWqfTJ4jAlREA8L1C9J15KxcvmXPpOXOzDkspAJh12blvzO9RuNEMFL7CjSa43tAt/75BiMXwZ6PlspMtm6Z0+XhXAM6BXNBeJUDeJ9RK7ql6LezJ2N9tyXQBMPPgdasbMX432CeNgbYkirwz+IM50P+rq2hZYP8ggiTJaAvhKDzOFILb5l15wSeyDkvt2OauuOBfbCG4gfK5N7rNJS3x6zNlCfHW3H18XHCnKXHU/Vc6AcQD2u0IaPIGTPjptH/ubeOfl8WR5YcDgGfo/6uMSGL7JO/OiUFgnDm1sBQeEubs/4jUS4xOTTNTKQoXzV25+KKZyxbNzDomtWOZe9m5r5+7cvG1dqDwb8SS53Km/46rrXAwCNB0pxaWkWe47X7/rSKCiYtoeQMg5xHqFd7IfvOMVAJqQ+ZPtxkL19xXq8tlgwN9sgLAaLOIN+ceoHfnb9OywH5EBGk2wZUR2Ch8v+9Hd8y58vyTsw5Lbf8W/O//7c+78rf/i6LgJhPm3+aGS8939dN/JfrJ6G5uhPeFN8sB/kO2wunu5nKRINRaIqAXGiTMZw6e/PSGVINqQeYLAAAgy98cGWHul10AARDDMydFK7AzbXZN9EnXIvViIlt2A3byCsUz5q5cvGLeFb95XdZhqe3T3OUXHJocsu/NZqD4DYiEXCpnHZLahgY87EYb3KfDldRIOaGbGEgCkPjgsRIBcx6hVnFlA/lxqkG1qC8WALMXrv1jreGWDRT7IhwAQE1ymGuf8T5eWMXjmhaleuP53QBXKsOG+aMk79867+rF35y99NyBrENT24f5l/96+rwrLziDfHsN5fw3us361t/vqhzwpwpX8SzvWVuTlAe9PZ8ImASj7YFfiRcasJNfFL7w+FPpBtWavnniEvDNRkNg+iYioIw8PpS/3uzjrXU16CKg37lSGSTImyj6mvFzd81ZsfhjWcekJq49Fi0K5q1c/GWJojtNsXCyJMnzDapUPxuRAK/z1sg/BDfaTvv9t2Q0EdC4AuSVDgFyHqEx4kpE8r20Q2pV3zxuZx+49raREf790EDfhIRYLCaZqj21sEwSIeicgD63pVJgcwnk2Xm2kD977soLbpmz4vz3ZB2amjgWXPi//XlXL/5ksEd0pymE3wdoV83wnxgEBBHwqYWlGLB106uurgQgLr7yBoAXGiSJnNUvb/9AnxW6r/nDjP3yvr3TsRjnso5mlIEgjwZ/vnQKr2q+zhuiat80LlJjM4UIEAE3G7eQmB8/vAmX4IQT6lnHpfrPbivPnlKQ/AdBOM1E+ddInIBr+lWZKAjAZolwTO7O5AdDZ5mq5E2vXtrEA/xhJEN/FkPm5S/WOY+QsAyz4711AfAK1tw288Kpk+0HNm7ivjliK1AD9yV7Jh/f9GUDImM7G/+seo0IJsyDjUFYbzz81mkDi6XZvOiMhe/5Y9ahqWx9fdUqW57WXLipGX/kpo0j7+Mo2o3iWB/8E1ACCwvnzp30H7KX/6RX7WXulgGoCTfpHoGXwMpLnl3RgEVlc/LtgS+t/Vrvghpbnzxi/+6x2+bu4+fcPcLwkj7ZBQCASVThb1Y+xL+qHelNoYruAkxATRG8dsoAXr3zJJQ3DUNY/gRQlQwARhOQqnTwd4IAEUKZpJ2WIC8mIgYGVQjVMc5YyADihEEokzEdfVWZxRBhgGTM/KZXIoAUIAiIxv9nAxIrgo6SO8mQQFAEwRMGiDDJ5vwFYRTijqc24OFyDbl+efNQbdnERZxaWJr8c/FibxMXe/75QuBJ94kLhuHzC04eAp/QTGR9UmssGDw9+9K/F+rLb/qjt836z52m2E+t3+j6ZhcgoBgbXdF9ePPpWM9DNqDM2jercXACFC25t04tggALa+AFORA9v1tHGM3q7uRxSQB14QvbjXuAqDv3ASBdOPsenZbW+bJZuMN7EIAX3IOZ4RoNGAGqiXM3bqxQDOqnXGTVgjpy2M1sdOcNfZcGbc00pfel2+wBAw9LXHgSPr/g46MBg1o5+Zfo84//e8+DGkN/FriL++ZwGR/K5SiK4/54166Lj929DfYzhZXx10sf1gXABMMimFfMi2/Ii1kAx4irus2rRjkAA761s6J8cn+lbnKmT948VEsa7OEzxRWyq7fZbuJCJm+2BCAZTQRkPJ9gn88RamV+vIzyTzIIaUx9udCddeDjj8YJfjY00D+TAglAmSO8J3ez3T/3UDKiI4MnjESAnQKb7B54Jun0DVJttxIBZkU+DXjGOf2aTBgVCfGm3APJu4PbTDnDzq0kQBwRsYUQRp8ZJkcQkW/u8vnNIxmF9Yr6cgEAAM26+feNm9yGfNA/K/EEBgUbm9OipSA4Tqu3tOqe0Z1n4flRHtZ0eCCutmssgtAaOycKxIl+UyYChoGHhD8XLUVAiXGS4SONAQ5AnBv97zBvMFLm+/7iT12UXVCvrG8XAHsdsnp9wvLtYtQ/IY7uAoQ4JHefOTa4U8qSwnQp1VWJCHbNe7xzzurbvxpTLII9Q58m+8Yl+nXpawSgJCHemf8DvyV3v1fOeldWAPEBF2J0GWIAAv3rAafcnWQb2Lb1z9N1a0bcz9ZvdA8X+mgRIAAcPHNKYblMobLOCehjAsACPL+QBwzp278akwjgG7LzCnkREa337WNNeJhGw+6kcAU1kXK731ZZmCSCBHmDkYq7pvCFRy/POqRX0j9P1q2Yffi6BoP+1ff7q+12VXJYYNd5Hw6vlYrkdRegT8Ui2CPvyxTfevr2r1oVs2C3wDPTclZ0F6B/VTjgE8NVMt9/ytYk3YE/LRNABoniWJhIvpp1OGPp6wUAAMx505qLNm521w9OMnhpc4UsVRDixPAa2ss+4aopT5tS7WMAAZGbWwj6JpFUTRzWkJlfzAtJx4WHKgU1CbCP/zh/JLyeKllv/b8QA8WdjNcALyp84fE7sw5nLH2/AACAYAN9hR9n57nRWkvxkHkHg6ZY7GTL9rPRcsQZ1JyqV5awYEaYkyHf2kQTulSbYhZMy1mzW+ixfn/6i4CQiOFTwmU0yY7YpvTJHHkAeY+wibm0eXb89axjacWEWABMP+7RO4K7ZNHuDxMGHpAkt0ESMFyWiwECUOIIxwd30EH+X1zmCSjqb1iAyBo3J8qRlnOpcSMy8wt5eC9qHaSyRADKEuLQ4M98dP5u6sm0vzYMFAwaDt/e87innsg6llZMiAUAAISe+Z+NzbJx8kbyhu6DmfxHkYGHJPE34e+LAYueLgYYBM+w+VxhiQRosps4f5zbtUQEs6OcFDxjtZxLjVfCgkmeNXuEPsf6PeoLCQxCNNwp4VIyJKafSrGLBYP1G5O/zi7kv591LK2aME8s8+U1z8bCXzcFA/JgvAa8wlPwJt3rYhQ6AAAgAElEQVQrZvI9IgOrJfaHJYH0djFQ4TwO8B8y783fylk2oVCjnACDnnEzoxxpApfqFANmbhRQXocBZ27Lrus/5G+U/YPVtsL5rEP6G0Ojieps8E+0718nTJvYCbMAAIDi59f+tFpJ7gpDAzb/t707j7Ksqu8F/v3tfeZbczdNj9VdPYEoikoDzZSgCCpo0CiIMQoiyNDQIDhl5Q3x8RJ9WVlRnyyTPKPJy4vxJSbPBO0GGRUUROYWgW6ga6Dnmu98z9n79/64VdAo0DXcuufeqt9nrV6u5aLu+dW9t875nX32/u7qfABoKKcEJ/Mi3I4dSKUZKMNTl0U/pqU0bMuyLDBVlhnrMj4HirSVuzYxS4YZba7WqzO+lZUk6Sqxi1V60HwyulM1zKx/VJeOdrRrjGft/+vZ1Lc97Xqmo6kaACKwsbzVGIZzWOV8eDNQfLkZ6HiSueUFTtwxTtjCWndu5gyU2EWPc1BfGt1lCw3UlS40CTO6XG1W+Y6K5WQtaiRhoCf0KOMo00AblC44RfZwWXg7up0hVeIGWfcPwPcJ4zmTA5vPpF3LdDVVAwAAbdcN3F8s2b/1M/pVNxc7vBlwC3BaXoTTvgOq60m2rc9z7I7MzQTCLEe4MLyPjnd3JwWWJqDeJjabs+tbfNZaIn9F7VhmRM5ERLA0lqnIc4C3ec8nHwwfoPFGm/jXolAp881rThnoTbuW6Wq6BgAAuFL5fClvDh5pn4DJZoAmRwYG4HY+Bep8grnleU68YU5gDmsGZvFuxKzQqkr6quhHsAzLDfUVnf8SZiwJHLvMkw1/RO0lltEdOKrD1RIRXGcMAtjaq8MfIaMqKmmQyxYz0NaiMDiUPDnodP1F2vXMRGO8k9PUdtP+IWPsZ5VLU77MsgKsC7CCdkpwWvaguprgCebWnZz4g5wghrEadibNwOQ+AWd7O9TZ/uMsEwLrhwEonoj8JYn8FbVnAfhaqXUZn1nmltTN5MS/dweP2d/xn1JZ2zjJq44DxAnDMF2zaVPj5v2/nqZsAACg5dqB/13I2dvDjMJ0/x5fMWegDCezH07br6G6nmBuf4atf4ATKsFYBcsugClOImQQLJG6KrMdrSjYGI0TUDGfxcxYHrp2sauVhLaIuRJbxgrfUYs8GQWolxganSpnroy2kYFSjTKyygx0tmvkCvzNdaf03p92PTPVtA0AAChKrqmUOO+7M/9SvNQMOFA6hhMegtP+LFTnk4yOp9mEL3Ks80gsYKeyoqDAPo53eumi8D5ZFlgHDMAD7IbIJ6bm/j6LxsaoRgRvbAkYkI2C5lp1VDXAxeFP+Dh3jy6wn3ZJL8lEhKFRM0A+fzHtWmajqU+Y4ZY9z5cq9r844dQfBbweppeihpU20MEw3NbnoDueZOrcwTbTW11R8IpJhK/yDhYQqE+Ed1GP2m+Ksk/AnIotozvybYertTz7F3MttowlrlZLfUfCgeZYER7WO/uSP4zuplwDXfwVAY5DMAlf2/PWvrG065mNph+jdk4ce/Bkt+2cKKNXVeIaDhBRdXQAGqQYyilD+aNQ/iDYHwK7ORhlYK0mWBeAAwJVu9aEFY7SWeVSYu8ovVUF1DS5EE3FAvCVMie0haRlu19RJ0oRRVrbF4sVgKiRNiqdNxhA0fr4Qsv37SbvOSffILuuMgOLOhWGRuw/rT2l70/Trme2GuE9nbXsLSuO95TzMBF5cR0ezpGt/mPAGg+cZMCVDiBpJyQhyLrQDlloY+ynRrbyI/F63ULFOa9roalYxnGtQXJsi+9U5O5f1JGryD42VrC9hdjx1Lw4jTaULIfY7D5j/qb9G1SBo2yDDFaHAaFS4QOlcvH49acdOJR2PbPVGO/qLLVes2dHHOO/umF9fp3JeQMvPSoYhdP6ApyOHUydTzK37eTY2U9xVEnsVa0/tEoltlG+wPOFYaDVUWZ16Erkr6g7y9WIYJ8kIrjWLBQ8xPaqaBtcsg1z8ScCfI9gDG2ZDxd/YJ40AACQOdj35UI2+XkUTX9VwGwwAVYD7AIgaKcIJ9oPt+1ZaPcxH+/59dP4YOGXZkzLhMBassxYG/kcaiWRv6LuDDPaXa27I4kIriUCMM4hLggetKd4O3W2QULVmIGuDo3hUfO91Sfv/n7a9dTKvGkA6GawMfypcsWWZrMqYLYOX1VAlhw17rifOXCbWhKP2TLJPgG1kDDQ4emkO3RJJmKJtCQMrI08ymiJCK6VMlwcTSPmU+GPqYzGifvNRITRcbO3SJVr0q6lluZNAwAAbVsHni6X8QUnUA1xt80EFB0Payt79adH7rFZ1RjdbLNjZrs+8uEo0nL9F2mxzMg4Sq+JPIkIrpG89XFJeBfWugd0o+T9aw04mlCp4MrjTt43nHY9tTSvGgAAaN/a97VCzvw4bKnvo4DXE6sQnxy7l44v9Zu8apzlLM0oZsYS37HLfYn8FelLGFgdetTmKGPk6zgrExkq5qLwPsraMO1yALwc+DM6Zv567ebeW9Oup9bmXQMAADCVT5aLPBQeYa+AeqmQRluS0zcObucESvYJmAXFsOsjj5Qs+xMNwDIj0KTXZ3w2jXLH0YQYBMNkr8xs43ZdVI2QosoMtLUqDI0mz4yNl5pup7+pmJcNQGbrvj2l2FytNEE1wG9IAEo6wvnZR9W5+R12XCYEzkiFGctCxx7lOyTb/YpGcVhEcCIrUqaPUF32d7b/hH2X/4RqlN3+PJdQqbBJYnzihHMPFNKuZy40wOVxbnRcN/DPuYL9VpBJv5MEAAuCJlY3Dm6jyJRtTPP2rZ8TDMDFyxv+pF2PEJMYgKOVWp8J0DDPHZtIDI0WKpqrMtsJoIbJ+29vVcgX7H9au7nvobRrmSvz+kTa4pWvK+aSp6OwMeYDFFSAtxaf1x8b+5kdV1GDfM2bQ8yMVaFvOx0tz/5Fw0ksY5mn1ZLASWRlytRN7qJ6YXAfv9nt1fkGiPxlBjo7FA4NJ3esO7Xvz9KuZy7N6waAPr2/yISPxbEteykuDTycUR62DP+YuiuDpkSNMcu10VkAAcGuz3gw8/w7K5oTA4AitTEKoAFpUaeoBA+r9YHkkuhuKnL6+6YwV5f8jWftwbLxLkm7nrk270+mmav7Hy2X+SY3IDRCYmeZXCyLB/W1I3fYgkr/C98MEstYEwW2xVGOTLQSjSqxjEWeUssD18q21FNTtK79VHQ7luvhhlj25ziAUoQktpcec+quvWnXM9fmfQMAAK1b+79RzNp/CVr0RKueroqK8NGR+/WmwvMmJ9kAr8sw0OIo0xNJ5K9ofAxS6yKfXEhE8JHkOMAmdyd/IPiFyjbIxL+udo3xnPnKmlP6t6VdSz0siAYAAMoJLi/mza56RwW/mpgUQpTV54a2McDWNsRXvzEZifwVTSRhRqcnEcFHYkHQMPbqzDYEKlZJypeil577jyT3/u2tfV9MtZg6WjANQOcNfWNs7MWV2JbTjAoGqhNfiirEWbkd6v3ZR2VZ4GswDHS42nQHriz7E03DMLA29CjSysgowG+rLvuLcJ7/sD3D+zXlUr77ZwYyGUI2Zw9QbP7g5psbYZy4PhZMAwAAmWsHHilX7BbHT38+AIMApdSNg9vQmeRshRpjuWIjscx2fcZnT5NeMH+RoukZZrS41YhgmQvw2ypw0EXj5orM7YjhpB7o5boEtkC+gD/sPvXFef/c/3ALqgEAgLbrBr5VyNv/FbSkf8Etko9jygPOJ0d/arNKRgEOlzCw2NO83HeU3P2LZpMwsCZ0qVU2CvotORvgY+G9fIyz10l75j/RxHr/vP3CxtN770i1mBQsuAYAAKKD4TWlnHkwyjTAfAAV4NMjd9HG8j4jqwIOw4wNmYC1RP6KJlSNCFZ6XcaXjYIOU4SPY5wB8wfhvSqX8la/zMCiDo2h4eRfejb3fSXVYlKyIBsA+tIzMTMuqpTtwShQqT7wqZCDrmRcXz+0nctw5FSBaujPUt8xS3wtd/+iacWWsSpwqcvVRlawVB97xlbZT0e38WKdVRVObxSWGehoVxgZNzs8v3RJaoWkbEE2AAAQbenrL1b4o4bZeDq9wXcCUNYRPpx9iM4sPG2zujF2wUoLA3AAu6ElYIn8Fc2MATiqulEQMy/o+YCE6rK/072n7Hv9R9S4TS8JlRmIQkKxZEcrRXxo2QnzM+d/Khb0Cbbjuv67SiV7Q9ohQQYEzUZ/fnAbPJtYs4A/ltgyVoSu7fK0I8uoRLNLLGOZ76glvrbxAv46J1AIuGy3tGyDJlZpLn323Or5vlCgP1x7eu/O1AppAAv3SjOh9br+/5nPmm+mPSmwqEKcVHhGXTj2II8t0GWBFoBPsOsin+TaL+YDBqAUqQ2ZAIp5QX6tJ3f7+2D0gD3Rfc5J89m/IqCthTCe5c+tO3X3D1MrpEEs+AYAADIH+68p5sydUYtKLSmQAVjlqeuHb8fyZNSUVfqxmPWWWMbqyLftrtYS+Svmi9gyjvK0WhY6CzIiuAwXy9WwuSy8I/W8/65OjcFh+521p/b+eaqFNAhpAADQzeDYVi4qFezONFcGlMlFd2W/vnLoLs5R+rti1ZMFkNHK9ESeRP6KeYepOgrgLMCNggrWs5eEd3K3M5ha3j8z0NWhMDya3HtId16RShENSBqACe3X7huOY3tBpcIjUUCpNQGxDnHJ2E/ohGKvyauF0wQkltETeZxxJPJXzD+JZXS42ukOXbuQVrbkOcBb3Bfsh4P7VVqJf8xAe5vCeM7uKhb0hzdteixJoYyGJA3AYdq2DjxdLJkLjUWSVlxwBRottqBvGtrGBqqaGDjPGQbaXZWslrt/MY9ZBnoinwJNCyIimEFghr0q2k6tuqTiFC43zEBLRCiVebgQmws2nvnCYN2LaGDSAPyGjusH7iyU+ArHI+gU3h0CUFIR3pN9XL07+7hZCBMCDTPWRQF8RXL3L+Ytw4w2V+s1oc/zfYULARjnEOcGj9l3+E/qNHb7YwYCn2CY40LBXLjh5IFf17mEhicNwKto39r3nXye/7Of0aksD7QgEJH63NA2bk2KNp7H+wRMRP6alYFE/or5L2FGT+RSi6OMmcdf9xgabVQwnw63k01pJNN1Ad8n5HO4bN2p/XfVvYAmIA3Aa2i5tve/5bPmr4MWncodeEH5eFOp1/nE2P12fF7vE8DYkPEl8lcsCJaBUCu9NvJ4Pq90ydkQF4c/tW/y+nSB6z+XSSmgrVVhdMx8ce2pvf9Q9wKahDQAr6NlS9+VxZz5Qdiazh14onxcPXIn9cQHTXEeLguMmXG07yRLZMMfsYDEzOgOXNXh6nk5ClCChx69z3w8uEsXUljzTwR0dWgMDZuv9pzS9+W6F9BEpAE4gqAYX1wumJ9GKQQFVcjBknhYXzd4OxfJnVfzhhiAZtgNGR8kkb9iAWEGXK3U+ozHdh5GBJetYy/P3M5LnTFVZqfux1/UqTE4bL675uS+G+p+8CYjJ94jUDftLZUK8QXlgnkyjYyAig7xkfEHaHPhOZtV82efgMnI30Wuo+b7hCghflNiGct9Vy329bwKB8pxiJO9Z+z7/YfUONf/0eWiTo3hseS27tyqj9f50E1JGoAp6Lhx70i+oM8rl/iFTJ2bgAQKPsf6c4M/gmZj08zQrhULwJuI/GX5DooFiAFoIrUxCkDzJBzIQsGBMddktsFXibJcvz/tyaCfsaz5+ZAu/T694z5Tt4M3MTn5TtGim154sRLb91YqvC8T1bcJKKoQZ+SfUh/IPmLHdHq7aNXKZORvh6v1fLr7EWI6YmYc5Wu11G/+iODJZX/vD37Bm91nnZyt32glM9DZoTCetU+ODZXfd8IC3t1vuqQBmIa26/qfLZbt+XHMQ5mwfmmBDADkqBuGttPiZNxWqP7P1WrFAggnIn+lRReiGhGsm3wUoAwHR9GYuTy6nWK4ddtShRnobFfIF+yu8aJ593Hv2jdcp0PPC9IATFPH1v5Hi2X7vjhBLlPHyOCi8rCu/CJdPnKvzar0dtOarcnI3xZHyYY/YsFLmNHparUydG3cxH8Peevj49HdvN7Zrwt1yvtnBjraFQpF7s3m7LlvOH1gX10OPI9IAzAD7Vv7HyiX7fsSy9nIr18TkOhQfWrkHjqu9KIpqHR31ZoJA6DNUWZNKJG/QkyygFof+eRTc44CFOHjOKc/uTj4icpxUJdHlJP5/sUS78mWk/cec0b/7jocdt6RBmCGWrf235sv2d83zOV6NQExNDpMVn9maDvHaL7HAMYy1mZ8DrRE/goxaTIieHXkN91GQQxCYpX9dGY7OnVBVXjul0szV0N+SmXek8sm52w8ZeDpOT/oPCUNwCx0bB24o1CwHzbM5bBOTUBZR/i97CPqrPxTZryJ9glIGOhytVkloT9C/JaEgZ7Qo4xWTbNREAHIcoizvB38Hv8xZ7wOef+TF/9KhQ/l85VzN5wh+f6zIQ3ALLXfMHBroWI/bOs0EmBA0LDqc4M/4sBUbNIkGTrMbNe3+OxoJZG/QvwGy4yMo3RPxmuajYISaEQo2isz2wDQnOf9v3zxt4fyeX7v+tP2PDWnB1wAmuPq0eDarx24tVKyH6rX44CiCvD2wi518dgDdkw1/rLAmIElvuZlnoT+CPFaEmasDj1qb4KNggjAuA3xofDn9m3eCzo/x3n/k8/8yxW7Z7RI71x3Wu/Dc3rABUIagBrJbB34YanM5yU896sDGIDVnrp25Me0sjJkSw28LJABKLDdmAlYyYY/Qrwmy4CvSK/L+Nzoc2RKcLFKHTSfDO+kYh0u/h1t1Wf++Tyde+zm3Tvm9IALiDQANdR6Xf9d+ZJ9X8VyNhPMbVhQmVysrBzUV4/cZfMNvCwwZsZy3+XFnpZn/0IcQcyMlaFLi1xtGjkcqGg9e1nmTl7lDOrSHOb9Ty71K5W5N5+vnLv+tN0y7F9D0gDUWOfW/ntLBZwTGx6a68TAio7w8bH76O3FF0wjNgEMwAXs+owHlg1/hDgiZkAT6Q0tAYPRkPMB8xzg7e5z/MHg52rczt0jyMmEv0LR7hrLmnfIM//ak5PyHGi/oe/BStmeHce8Zy73DkigEJmi/uzgNrZgO9eTcKYrtozuyLUdrqPl2b8QUxNbxtG+VkcHTsOFAzEIxGyvzmzjjKqoZA4vIYs6NfIF+8Sh0fJZss5/bkgDMEdatvY/Ppaz76yU7XOZOdxKuKRDvCv3hDo/93hD7RNgAYSK7NrQp4a8jRGikRGpjRm/oSKCqxP/Irw7eMSe6T3lZO3chf4s6tQYz5mf788Wz37LWfv2zNFhFjxpAObQUTf1P5svq3fEZftoNEdNgAUBSqkbB7dTe5K3Mc19EMdUJJaxJvJtq6sl8leIaUoso8vVakXgNsxGQRU46KSsvTLaTgZqTpb9EQGLuzRGx8z2kbHRc9525oHBmh9EvEQagDnWdf3ugUK+cna5aO6NWvWcdMxF8nFcqVdfOnqfHVPphwMZAC2OMmsiVyJ/hZghS6TWZXxyG2QUIGcDfDT6iX2D+6IuzMHMf6Wqd/4jY+Yf9z3c+/43nTWar/lBxCtIA1AHHTfuHfH3mXeXcub7YauGmoMrdKICXDlyJ20o7zfFlPcJMJaxNvI51Eoif4WYIWMZHa7W3Q0QEVyChw3OnuRjwT0qz7WdcMwAHIfQ0aYwPJp8feXbez+26UokNT2IeFXSANQJfenFcnhN34eL2eSWIKPg6Np2ARVysDgZ0VuHbuM0cwESBjpdbbpDl2K59gsxKwkDayOPopQjgstW2yvC27DEGVeVGi77YwYCjxAFhOFR88VVJ/ZtrdmLiyOSBqDOoi39W/I588eeR/Cd2gYGlXWED4//Qp2W32myOqzdC08DM2N9xmdPkWa5+xdiViwzWhyle6L0IoKzHOI0/2l7fvCwM26jmr0uM5CJCKQQj46ZS1ef1Pflmr24mBJpAFLQsqX/v+cL9lImjmuZGmig4CFRnx/6ITs2sabOswFiBo7ydbJcNvwRomaqEcEutaUQEWyg4CO210TbyCFbnXRcA5PRvsZgOJ+15/ds7vu7mrywmBZpAFLScm3f35WK9r2x4UO1zAooqhCb88+oD409ZMfruCxwMvJ3feSTIon8FaJWLAOBVnWPCJ7c7e/3ggftSe5Onavhs/9FnQqlkn12dBy/u/a0vh/X7IXFtEgDkKLW6wfuLBVxZlzhHZnW2nwUDICVq24Yvg1HJ2OmXKf5AAkzlgauXeK71GjhJUI0u9gyVvqu6nS1qdfKmjIcLKURc3n0YyqjNhOLJ5f5ZXP27kNDdOaxZ0quf5qkAUhZ2w19zxwcLv9uXDTbolaNWswNLJGLNeV9zhXD93CuDhHBDMAB7IbIB0i+U0LUGgNwNKn1GZ+ZuS7zAfPWxyeiu7jHOaCL7M7qtZirM/07OzSGR83fPjPae86bz959sEalihlKe8m4mMAASt9c/dUgUFuTMqMcM2gWn47LBiVyzPndN2GXv1RHtlyzWn9TxTJ6Ijc5oS1y5O5fiLlBABRgHxwt2IOVxHFnc4I4ggIH2OgMJP/Q8ZdKw6oEMw8YYwaikEAElEr8+VWbev9HDUsVsyB3aw2CAIRX9V1fGLdXMSHOhLObHBiTRqvJ6xsHt3EyR6ldQDXyNyDYdZFE/goxlxgAqWpEsJrDcCAGwTLbqzLb0aaKKp7lxb+jXcEyRnJ5e4Fc/BuLNAANJrO176/KJXtObPBipmV2H09Jhzg/+6g6J7cjGddzkxCYWMbqjG/bJPJXiDmXWMZiz1HLA9fOxbLAyYl/7/SftGd7T6hxO/PzBhFw1CKNYsk+MZKvnNlzSt+/17JWMXvSADSg1q399+bG+bS4zPdErRpqhp+SBUERq88O/QgZU7JxjXfktQxktDI9oSeRv0LUCQNqQ8aHS7UfBYih0UJFc2W0nQBSMxk5nHze39WhMTZuv7fnEM58w6l7flXjUkUNSAPQoLo+29d//77ed1UK5utBoBC4M3skUFQB3lJ8wfmDsZ/xuKrtssCEGWszHkeORP4KUS8JMzpc7ayqcUQwAchxiAuDn+It7m6dn0HePzPQEhFcBxgaSf5o+dt2X3ziu3rHa1akqClpABrYO/4Exr+qb2u+YD9pgFwmmv7HxQCM8rBl+A50Vw7ZkprdbN5JhoF2R5nuwFUS+StEfRkG1oYehQq2VnNvSnCxWh0wl4R3UwEzWz3U1akQG+zN5+17Vp/U92c1Kk3MEWkAmkDLlr7v5CvmzDi2T0Qz2EyoTC6WxYP62qE7bIFqs57XMmN9S8C+Vkoif4WoL8OMVlfpNZFfs7kARevay6LbebkzMq28f2ZA65fW9981PGQ392zuu60mRYk5JQ1Ak+i8duCx3n3qjHLe/H0QKfjTfCRQ0RE+Ov4zOqn4fDLbbICEGYt9nazwtUT+CpGShIE1kUetjjJmlq+V4xCb3J32A8EvVNZOfR+RyTz/wFcYGU2+vOJtvWe/8Z19/bMsR9SJNABNZOOf7M4GV/ddUsonlzOQy2Sm/vElUAi5rD976EcAs51VpjfDbogCaKUk8leIlFhmhFrptZHPZhaNuAVBs7HXZLZRqGKVTOOysKhTIzHYm82ZC1ae2PfFGRchUiENQBMKtwx8K1vm0ypl+8uoVUNP8VMsqhBn5X+lLsg9asdmuCwwZmBp4NglnlZp7U4mhKhKGFgVOKrT1TPaKKi67C/C+eEv7ene0zo7hWV/zIDrEhZ1auTyZtvwkN0sS/yakzQATarrur4n+yp8eilnvuZ7CpF/5A2FGAQorT4zuA1dSd7GNL2ADwagwXZDJgCUbPgjRNosMzyt1PoZbhRUgYMuGjeXh7dTDAdHegVmoK1VQSmOx8aSLyx7a+95MuTfvKQBaGIbt/ZXwmv6ri8U7QdiYwcyreqI8cFF8rCxPOBcNnKvHVdTf9YHVDckWRG6tstVjtz9C9EYYstY5mt1lK+TZJpNQM4G+Hh0jz3G3aOL/NoThBmAVtVgn0rZ7sjm7O+sOLHvK7MsXaRMGoB5IHNt3w8qBXtSXLT/HEZHzgxIVIArRu+hY8p7TVFNbVUAA/Cp+uzfzmEGuRBieqoXZ6U2ZALQNCKCi+zhGGfAfDT8icrxa98MTK7tD0OF0TFzy+Do6OYNp/U/UJPiRaqkAZgnWj4zsN+7qu+ifD653ADDmRb1ms/yKuSgKxnTNwzdxmVMbblPzIzujG/bXOXMZsKREKL2YstY4mm1LHDs1EYBCAlre1VmO3epnK7wqz8OVKq6vC9J0JvL2/eveHvvljedNZqvbfUiLdIAzDMtWwa+VSzGJ8dl3ha2vPZywbKO8IHxh9TvFJ5OxvXrPwqwACKlzFqJ/BWiYTGRWh8FcKYwCpDlEKd7T9l3e4+qV5v4N7mDX2tGYSxn/y6Xx0mrT+q9da5qF+mQBmAear9+z3Pelb3nlXLJFgMefbXRAAOCC6s+f+hH8G1szet8FRLL6Ik8zkjkrxANK7GMLlerlaH7uhHBBgoByubqaBtpxeo3lwRP3vUbw/3jWfORFW/dfen603Yfmuv6Rf1JAzCPhVsGbilV6KS4zLeGGYXQpVfM8i2qACcVn3UuHPvFay4LNAy0OcqsDj2a7gQjIUR9GUCti3wKtDKvFhE8uezvg+HP+UTvOZ2zL4eCVUN9FDKhwnjWfPvgIG3qPqnv/9ateFF3MptrgSh+Y9WntKNudgN1dClvXxoj9DnGHqfTvLf7JhrXkfI4ecXPxZZxQnuY9ESeU5Fn/0I0PI8IT+VKybO5suP9Rm54mV10qZz5x44/p6P0uCqzW13X7wAdbRrjObMrNvzZ7hNlXf9CICMAC0S4ZeBbiamcGBftPwS+QhRUTwxlctFd2a+vGr7b5tQrd/9KGOhytVkZuBL5K0STSAD0RB61aPVb83WL7OGS8E5e7RxSJa5uDNbepqA0YSxnv1oYxIly8V84ZARgAYd9jCAAAAtESURBVCp9Y837lYMvu6F6Q1yw4CRBTMq8b9WNeDpYoTO2DABImO2mjsguD1xHGgAhmoenCLvy5WTHeOmlUYA8BzjO6Uv+vv2rigjK8TQyGUIuxw9UDD67+sTdP0u5bFFnMgKwAAVbev9jZO/opkrR/ikTl7wWDxlb1DcNbmMLAoMQM2OJ79ilniORv0I0mYSB7tCjDlcZwxMpoMz26mgb2tyyau9wwYyh7Li54eov7T5dLv4Lk4wALHC5r69+s+vxn3qeOg+VEj6x+Arzw7a36vYkbzd3Zewiz5HUPyGakKsI/cVK8thowcmjFe/xHzLfXvEdPW4ClCv8f8pl/uOezX19adcp0iMNgAAAFL65+iMBl/5kX/uajacv3oqjfD85pc1z4qle+2WFgBD1M4U0TgJAYPvT4TJXqKz/ffnXsKLS/8vhOPyj1Zt675z7IkWjkwZAvGTwaz2ti3DoM19adulndr7xQ20tKCGuzil6bVwNIIEmdcSdRA5HNOX/nKqHAQivtrLp9UpTAE3rZ0DTfyxG02x+iKf5MxNvwHSPU7OmbJrRz0x02Ic2NXbyZ6Z7nOni6X2HJgbPp0OBp/frEzC9z4oAWDZk+XWLYwAh4AzGLnrG/23Pn7X9/Vf+5dnsLRddNN33QMxX0gCI3/LAtz+4/sDji/9oWe++jzlgN89cwWuczwjgxHUc6zrOlE5iXP2hShjAKvVaL/vKYzBgtLKlTFie6u9AzEg8F7HvTevCGfuux1rpqZ69mQiV0AdP8YxPABLXMeUwqKD6U1M4CCP2PRjXndaFInEdD1odeZvI1yyWAGOsE5vKdH7GqVTgVOIpNQ7VrwNxUCh6OjF6SpUSQJbhF6f8dQCIQEmSuOU4nmpDwyB45TJ0bKb6SQFgCnNFTzFPbbdMIugkgVesTP0YRNBxEus4Mfwq53AGoADVQsotEeX2HNf9zUXnPP8XZ521/cBUfwuxMEgDIF6TBZ1V7Fj2nwLXPcuAkbN28vr9MprcfmS6d6fTr2fqYwazO850WT29QQMmspZoypURAKsITDStP1irlJ71XzgDylozjf8cihlkeVpvvbJWT6tUZqiZzE2Z5sjETN6/aY8ZzOQ4RNV/hzV3DICI0EYKCRhcjv/VH993swIen35BYiGQBkAc0f6VGz6iNX2xhdSbi2xRlOf9s8MzbGZmcJyaqMNZgjH9RwDilVqUggNCgc39MePm5f27bk+7JtHY5E9OTMmvjj3WPSpvrlCEG9uU7smyRVkaASFSF5FCQIQs2x3W2i8vHXjuu2nXJJqDNABiWnavXt2egXcNMV3XqtTRWbaoSCMgRN2FRIhIIcv2Ocv4y4dR+tZ5/f1Tn68hFjxpAMSM7O7uProFwRYQX92qdFfWSiMgRD0ERGhRCmPG9BHh64Oj9DdvGNuZS7su0XykARCz8uKytSsDT2+xwOXtSneNSyMgxJwIiRAphXFr9ijgljyXv7m6v3807bpE85IGQNTE4LJ1K+CpLQx8qpX04jxblKQREGLWIlIIiTBuTZ8i/FWpQn+zct/O4bTrEs1PGgBRU32rNi4LFF9JjMvblF5WYEaRJXdEiOkgABml4IGQtXYXCN/Mo/ztnr6+sbRrE/OHNABiTuxZumGRcukyDVzRotW6GIz8RI6AEOLVKVSX8xGAouXHmfkWU/G/u+zArwpp1ybmH2kAxJz6VcexmSVt9iIiXB0QvZ0AZK2VLFIhDuOA0KoUSmxhGPcq0C1d/c/+K9UlykosVNIAiLr4Y4C2rtr4PkN8tSY6t6W6fAmxzBMQC5hPhBZSGLemzMAPLNRfLet/9t606xILgzQAou4Ordh4Ihy+wjJd2K5Ue3FinoC0AmIhOPz5/pg1+zTw3YTtt5cNPP/rtGsTC4s0ACI1e5b2rPJcfTGT+kSo6DgFIGcZibQCYh5yJ+72K8wos/2lIvp2uYJ/lhn9Ii3SAIjU8bHHugeK5jxiXArg3Hal/QIzSjIqIJoc4eWo3lFrcoroB9biO0sHdt6ddm1CSAMgGsre1RuO1eCPKqaLAqU2KhDyMldANBlv4m6/xIyY+TFifC9W+nvL+57uT7s2ISZJAyAaUv/y5YHntZyjGR8zzO9u17o1ZkbBWkx5b1oh6sgBIVIEDULWmkMKuBVM/7h4YOfdcqIVjUi+l6Lh7enpWeWz9wFj7UcA2tyuFGTioGgECkCkFHwQhq2JNdO9pOifjKr8cNnu3YfSrk+I1yMNgGgqI93rToihLrTgCzxSbwhJoTgROyzNgKgHBSAkBb+6BS+s5Ucche+XSP3byt5nd6ZdnxBTJQ2AaEp34wx9/OqDpxvwB9nivFDROp9ImgExJw6/6OfYwjDvUKBbifFvRw3sfCTt+oSYCWkARNPbvXKl30rBGVap9yXM7w1IrQ+JUJ54TCCpg2ImNAihIvio3ukb5h0a9B+k+d8X7d71sKT0iWYnDYCYV3Z2d3uLbbApUXy+Ad6jQG9p0woJM4rVGdlplygaFKG6Vj8kgqqG9MQKeJhA2xKD25bt2fmIXPTFfCINgJi3GMC+7mPfppG8k1i9yxCf3KpUmwKhxBZlZhkdWOA0gGBiaD8Bo2DtISb+BTPd7hLuXNy365m0axRirkgDIBaMwXXrVthEnW4Z5zBwuiba2EoKBowSMyoyd2DeU6iu0Q+ouuPemDUGwFOK6B5l6S4/sD9v27VrKOUyhagLaQDEgsTHHuvuz5kTWOFMZv5dgE4MFS0NSSEBozzxuEBGCJrb5AXfJwUNIFcNlepjxkOOorttEt+3dM/up+REKBYi+d4LAWBk9er2BMEJhu3pFjiDGW/xFS3NkIIFUJ4YITAyRtCwCIAmggeCT9VTW5YtLHMvgMcZuF+R/tn+kvPkCQd+VUizViEagTQAQryK3atXt3vWe6MGnQTiUxg4AcDaVqVcjerz4srEKIEkE9YfAVAguFTdUleDEIORN7ZIhOcAegRsHzTghxDnn1mxf38x7ZqFaDTSAAgxBXcD+vg1x6xj8AnG2BMt6O0g3qhAK1uVhgZgJpsCAEbmE9QMAXCI4ILgEkEDSMDIWZtY5gGAngbzo56jfula3tHRv2t32jUL0QykARBihvYd/aaInPI6KD7egt7MwJuJsAGMFaFSoU8EQvViFTMjQbUxkHkFr06hOoTvTNzZO6CJxy8WReacZu63RDuZeIdj8YQB/3opxc+r/v5K2rUL0YykARCihvjYY939ebPCENY5zG+Eog3G4g0EXsNEy3yiKJgYsmZURw0SrjYJhgGL+TtyoFAdtlcTF3dn4n+B6u9fZEaFbVaD9jDQS8DTxHimwvYZZfiFFfte2EuQ/kmIWpEGQIg6sN3d3t7YWUKO7tYK3QnzBge02jB6FHipBS0jQmtA5HgTQTSE6tXOHtYcmIn/jyceMUz+SwMd/o+oegcPQE0M0+uJ34FRrb3MjBJzDPAYgfYx835FeN4y9TvgnVZhQFun/6g1Rx2i++6TqRVCzDFpAIRIGeMDatfRT3R1+npRCbTcIV5imbsZtEwxljCwlMBdFuggUDuBMyDyPSJ4E6MJwMsX45dfd/JftUWYyq3z4a9BExfwV3/Nw+Y8MMMyl4mQBWiUGGOWMESgfSB7kKzaS0QvxjY5GLDdW7Hu8Ip9O4fl5CNEuuRvUIgm0b98eeAEQUtonEwetsMStytDbY6iFmu5g4E2C7RoohYGAgZHBPgARagOGrQSQb32iAETMWImyhFADM4DiDVTzpAtE6ssE7LMyDqaRmE5Zy2NWeZx7ThjXE7yy7xyVp7JCyGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIMSv/H4rOruCTL+3PAAAAAElFTkSuQmCC";
    var b3 = ".daffi-wallet-connect-modal-desktop-mode {\n  display: grid;\n  grid-template-columns: 205px auto;\n  gap: 70px;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view {\n  display: block;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available .daffi-wallet-accordion-item--web-wallet {\n  display: none;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available .daffi-wallet-accordion-item .daffi-wallet-accordion-toggle {\n  padding: 26px 24px 12px;\n  border-radius: 24px 24px 0 0;\n  transition: all ease-in 0.2s;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available .daffi-wallet-accordion-item .daffi-wallet-accordion-item__content {\n  height: auto;\n  border-radius: 0 0 24px 24px;\n  transition: height ease-in 0.2s;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available .daffi-wallet-accordion-item .daffi-wallet-accordion-icon {\n  transform: rotate(90deg);\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available .daffi-wallet-connect-modal-desktop-mode__download-daffi-description {\n  margin-top: 50px;\n}\n.daffi-wallet-connect-modal-desktop-mode--default .daffi-wallet-connect-modal-desktop-mode__download-view {\n  display: none;\n}\n.daffi-wallet-connect-modal-desktop-mode--download .daffi-wallet-connect-modal-desktop-mode__default-view {\n  display: none;\n}\n.daffi-wallet-connect-modal-desktop-mode--download .daffi-wallet-connect-modal-desktop-mode__download-view {\n  display: block;\n}\n.daffi-wallet-connect-modal-desktop-mode--download .daffi-wallet-connect-modal-desktop-mode__download-view .daffi-wallet-connect-modal-download-daffi-view__footer a {\n  display: flex;\n  cursor: pointer;\n}\n.daffi-wallet-connect-modal-desktop-mode--select-account {\n  width: 100%;\n  height: 100%;\n}\n.daffi-wallet-connect-modal-desktop-mode--select-account.daffi-wallet-connect-modal-desktop-mode--default {\n  overflow: hidden;\n}\n.daffi-wallet-connect-modal-desktop-mode--select-account .daffi-wallet-connect-modal-desktop-mode__web-wallet-iframe {\n  position: unset;\n}\n.daffi-wallet-connect-modal-desktop-mode--select-account .daffi-wallet-accordion {\n  overflow: hidden;\n}\n.daffi-wallet-connect-modal-desktop-mode--select-account #daffi-wallet-iframe {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: 3;\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__accordion__description,\n.daffi-wallet-connect-modal-desktop-mode__connect-button-wrapper {\n  padding: 0 40px 20px 64px;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__web-wallet {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  height: calc(100% - 88px);\n  padding: 48px 52px 40px;\n  margin: 0 auto;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 72px;\n  height: 72px;\n  margin: 0 auto 16px;\n  background: #ffffff;\n  border-radius: 50%;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.1), 0px 10px 16px rgba(20, 37, 63, 0.06);\n}\n\n.daffi-wallet-connect-modal-desktop-mode__web-wallet__description {\n  margin: 0 auto 32px;\n  font-size: 14px;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  text-align: center;\n  color: #6a6a81;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  width: 100%;\n  padding: 14px 0;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border-radius: 12px;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.1;\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__web-wallet-iframe {\n  position: relative;\n  width: fit-content;\n  margin: 0 auto;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__connect-button {\n  display: block;\n  width: 100%;\n  height: 48px;\n  border: unset;\n  border-radius: 6px;\n  background-color: #333333;\n  color: white;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 13px;\n}\n\n.daffi-wallet-connect-qr-code-wrapper {\n  width: fit-content;\n  margin: 0px auto 0;\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\n  border-radius: 24px;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__download-daffi-description {\n  color: #ffffff;\n  text-align: center;\n  margin: 0px 0 10px;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.04px;\n}\n\n.daffi-wallet-connect-modal-desktop-mode__download-daffi-button {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin: 0 auto;\n  padding: 0;\n  color: #6b46fe;\n  background-color: transparent;\n  outline: none;\n  border: none;\n  font-weight: 600;\n  font-size: 13px;\n  line-height: 20px;\n  letter-spacing: 0.01px;\n  cursor: pointer;\n}\n\n.daffi-wallet-connect-modal-download-daffi-view__back-button {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  margin-bottom: 14px;\n  padding: 12px 24px;\n  color: #ffffff;\n  background-color: #ffffff;\n  outline: none;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border: unset;\n  border-radius: 24px;\n  font-size: 14px;\n  font-weight: 600;\n  line-height: 24px;\n  letter-spacing: -0.1px;\n  cursor: pointer;\n}\n\n.daffi-wallet-connect-modal-download-daffi-view {\n  padding: 32px 37px 28px;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 24px;\n}\n\n.daffi-wallet-connect-modal-download-daffi-view__title {\n  margin-bottom: 8px;\n  color: #3c3c49;\n  font-weight: 600;\n  font-size: 15px;\n  line-height: 18px;\n  text-align: center;\n  letter-spacing: -0.13px;\n}\n\n.daffi-wallet-connect-modal-download-daffi-view__footer {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 12px;\n  margin-top: 53px;\n}\n\n.daffi-wallet-connect-modal-download-daffi-view__footer__button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 8px;\n  padding: 8px 16px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  text-decoration: none;\n  border-radius: 12px;\n  font-weight: 500;\n  font-size: 13px;\n  line-height: 200%;\n  letter-spacing: -0.04px;\n  cursor: pointer;\n}\n\n#daffi-wallet-iframe {\n  width: 285px;\n  height: 376px;\n  margin: 0 auto;\n  border: none;\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-connect-modal-desktop-mode {\n    grid-template-columns: 1fr;\n    gap: 24px;\n  }\n  .daffi-wallet-connect-qr-code-wrapper {\n    margin-top: 16px;\n  }\n  .daffi-wallet-connect-modal-download-daffi-view {\n    padding: 24px;\n  }\n  .daffi-wallet-download-qr-code-wrapper {\n    margin-top: 32px;\n  }\n  .daffi-wallet-connect-modal-download-daffi-view__footer {\n    margin-top: 40px;\n  }\n}";
    d3(b3);
    var u4 = ".daffi-wallet-accordion-item {\n  background-color: #1a1a1a;\n  border-radius: 24px;\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.02), 0px 4px 12px rgba(0, 0, 0, 0.03);\n}\n.daffi-wallet-accordion-item:not(:last-of-type) {\n  margin-bottom: 20px;\n}\n.daffi-wallet-accordion-item:not(:last-of-type) .daffi-wallet-accordion-panel {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.daffi-wallet-accordion-item .daffi-wallet-accordion-item__content {\n  height: 0;\n  overflow: hidden;\n  color: #ffffff;\n  background-color: #1a1a1a;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.04px;\n  transition: height ease-in 0.2s;\n}\n.daffi-wallet-accordion-item--active .daffi-wallet-accordion-toggle {\n  padding: 26px 24px 12px;\n  border-radius: 24px 24px 0 0;\n  transition: all ease-in 0.2s;\n}\n.daffi-wallet-accordion-item--active .daffi-wallet-accordion-item__content {\n  height: auto;\n  border-radius: 0 0 24px 24px;\n  transition: height ease-in 0.2s;\n}\n.daffi-wallet-accordion-item--active .daffi-wallet-accordion-icon {\n  transform: rotate(90deg);\n}\n\n.daffi-wallet-accordion-toggle {\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 12px 24px;\n  color: #ffffff;\n  background-color: #1a1a1a;\n  border: none;\n  border-radius: 24px;\n  outline: none;\n  cursor: pointer;\n  font-size: 16px;\n  line-height: 18px;\n  letter-spacing: -0.1px;\n  font-weight: 600;\n  transition: all ease-in 0.2s;\n}\n.daffi-wallet-accordion-toggle__text, .daffi-wallet-accordion-toggle__content-with-label__text {\n  color: #ffffff;\n}\n\n.daffi-wallet-accordion-icon {\n  transition: all ease-in 0.2s;\n}\n\n.daffi-wallet-accordion-toggle__bold-color {\n  color: #131313;\n  font-weight: 600;\n}\n\n.daffi-wallet-accordion-toggle__content-with-label {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.daffi-wallet-accordion-toggle__label {\n  padding: 4px 9px;\n  color: #ffffff;\n  background: rgba(0, 177, 158, 0.08);\n  border-radius: 12px;\n  font-size: 11px;\n  font-weight: 600;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n}\n\n.daffi-wallet-accordion-toggle__button {\n  position: absolute;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  background: transparent;\n  box-shadow: none;\n  outline: none;\n  border: none;\n  cursor: pointer;\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-accordion-toggle {\n    font-size: 14px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: -0.1px;\n  }\n}";
    d3(u4);
    var v2 = document.createElement("template");
    var y7 = document.createElement("style");
    var C3 = document.createElement("style");
    y7.textContent = b3, C3.textContent = u4;
    var D4 = `
  <div id="daffi-wallet-connect-modal-desktop-mode" class="daffi-wallet-connect-modal-desktop-mode daffi-wallet-connect-modal-desktop-mode--default">
    <daffi-wallet-connect-modal-information-section></daffi-wallet-connect-modal-information-section>
    
    <div class="daffi-wallet-connect-modal-desktop-mode__default-view">
      <div class="daffi-wallet-accordion-item daffi-wallet-accordion-item--active">
        <a class="daffi-wallet-accordion-toggle">
          <button class="daffi-wallet-accordion-toggle__button"></button>
          <img src="${h6}" class="daffi-wallet-accordion-icon" />
          <div class="daffi-wallet-accordion-toggle__text">
            Connect with Daffi<span style="font-style: italic;">Wallet</span> Mobile
            <span class="daffi-wallet-accordion-toggle__bold-color"> </span>
          </div>
        </a>
        <div class="daffi-wallet-accordion-item__content">
          <div id="daffi-wallet-connect-modal-connect-qr-code" class="daffi-wallet-connect-qr-code-wrapper f_copy-button"></div>
          
            <p class="daffi-wallet-connect-modal-desktop-mode__download-daffi-description f_copy-button" style="cursor: pointer">
             Copy Key
            </p>
        </div>
      </div>
      <div class="daffi-wallet-accordion-item daffi-wallet-accordion-item--web-wallet">
        <a class="daffi-wallet-accordion-toggle">
          <button class="daffi-wallet-accordion-toggle__button"></button>
          <img src="${h6}" class="daffi-wallet-accordion-icon" />
          <div class="daffi-wallet-accordion-toggle__content-with-label">
            <div class="daffi-wallet-accordion-toggle__content-with-label__text">
              Connect With Daffi<span style="font-style: italic;">Wallet</span> Web
              <span class="daffi-wallet-accordion-toggle__bold-color"></span>
            </div>
          </div>
        </a>
        <div class="daffi-wallet-accordion-item__content">          
            <p class="daffi-wallet-connect-modal-desktop-mode__download-daffi-description">
             Coming Soon
            </p>
        </div>
      </div>
    </div>
  </div>
  `;
    v2.innerHTML = D4;
    var E5 = class extends HTMLElement {
      constructor() {
        super(), this.attachShadow({ mode: "open" }), this.shadowRoot && (this.shadowRoot.append(v2.content.cloneNode(true), y7, C3), this.shadowRoot.addEventListener("click", (n5) => {
          this.handleAccordion(n5);
        }));
      }
      connectedCallback() {
        var e3;
        const t3 = this.getAttribute("should-display-new-badge"), a5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-web-new-label");
        if ("false" === t3 && (null == a5 || a5.setAttribute("style", "display:none")), this.handleChangeView(), "Chrome" === n4.detectBrowser() && this.shadowRoot) {
          const n5 = this.shadowRoot.querySelector(".daffi-wallet-connect-modal-desktop-mode__web-wallet-iframe");
          n5 && "true" === this.getAttribute("is-web-wallet-available") && window.onWebWalletConnect(n5);
        }
      }
      handleChangeView() {
        var n5, e3, t3, a5;
        const o4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("daffi-wallet-connect-modal-desktop-mode-download-daffi-button"), i4 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.querySelectorAll(".f_copy-button"), l5 = null === (t3 = this.shadowRoot) || void 0 === t3 ? void 0 : t3.getElementById("daffi-wallet-connect-modal-download-daffi-view-back-button"), d4 = null === (a5 = this.shadowRoot) || void 0 === a5 ? void 0 : a5.getElementById("daffi-wallet-connect-web-wallet-launch-button");
        o4 && o4.addEventListener("click", () => {
          this.onClickDownload();
        }), i4 && i4.length && i4.forEach((n6) => {
          n6.addEventListener("click", () => {
            this.onClickCopy();
          });
        }), l5 && l5.addEventListener("click", () => {
          this.onClickBack();
        }), d4 && d4.addEventListener("click", () => {
          this.webWalletConnect();
        }), this.renderQRCode(), this.checkWebWalletAvaliability();
      }
      webWalletConnect() {
        "true" === this.getAttribute("is-web-wallet-available") && window.onWebWalletConnect();
      }
      handleAccordion(n5) {
        var e3, t3;
        if (n5.target instanceof Element) {
          if (!n5.target.classList.contains("daffi-wallet-accordion-toggle__button"))
            return;
          if (this.shadowRoot && (null === (e3 = n5.target.parentElement) || void 0 === e3 ? void 0 : e3.parentElement)) {
            const e4 = null === (t3 = n5.target.parentElement) || void 0 === t3 ? void 0 : t3.parentElement;
            if (!e4)
              return;
            if (e4.classList.contains("daffi-wallet-accordion-item--active"))
              return;
            const a5 = this.shadowRoot.querySelectorAll(".daffi-wallet-accordion-item.daffi-wallet-accordion-item--active");
            for (let n6 = 0; n6 < a5.length; n6++)
              a5[n6].classList.remove("daffi-wallet-accordion-item--active");
            e4.classList.toggle("daffi-wallet-accordion-item--active");
          }
        }
      }
      renderQRCode() {
        var n5;
        const e3 = this.getAttribute("uri"), t3 = "false" === this.getAttribute("is-web-wallet-available") ? 250 : 205;
        if (e3) {
          const a5 = new o3.default({ width: t3, height: t3, data: e3, image: x5, imageOptions: { crossOrigin: "anonymous", hideBackgroundDots: true, imageSize: 0.5, margin: 9 }, backgroundOptions: { color: "#1a1a1a" }, dotsOptions: { color: "#ffffff", type: "dots" }, cornersSquareOptions: { type: "dot" }, cornersDotOptions: { type: "dot" }, qrOptions: { typeNumber: 0, mode: "Byte", errorCorrectionLevel: "Q" } }), i4 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("daffi-wallet-connect-modal-connect-qr-code");
          i4 && a5.append(i4);
        }
      }
      onClickDownload() {
        if (this.shadowRoot) {
          const n5 = this.shadowRoot.getElementById("daffi-wallet-connect-modal-desktop-mode");
          n5 && (n5.classList.remove("daffi-wallet-connect-modal-desktop-mode--default"), n5.classList.add("daffi-wallet-connect-modal-desktop-mode--download"));
        }
      }
      onClickCopy() {
        if (this.shadowRoot) {
          const n5 = this.getAttribute("uri");
          if (n5) {
            const e3 = document.createElement("textarea");
            e3.style.position = "fixed", e3.style.left = "0", e3.style.top = "0", e3.style.opacity = "0", e3.value = n5, document.body.appendChild(e3), e3.focus(), e3.select(), document.execCommand("copy"), document.body.removeChild(e3);
          }
        }
      }
      onClickBack() {
        if (this.shadowRoot) {
          const n5 = this.shadowRoot.getElementById("daffi-wallet-connect-modal-desktop-mode");
          n5 && (n5.classList.add("daffi-wallet-connect-modal-desktop-mode--default"), n5.classList.remove("daffi-wallet-connect-modal-desktop-mode--download"));
        }
      }
      checkWebWalletAvaliability() {
        var n5;
        if ("false" === this.getAttribute("is-web-wallet-available")) {
          const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.querySelector(".daffi-wallet-connect-modal-desktop-mode__default-view");
          null == e3 || e3.classList.add("daffi-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-available");
        }
      }
    };
    var k3 = ".daffi-wallet-connect-modal-touch-screen-mode {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 46px;\n  padding: 4px;\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode--pending-message-view {\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding-bottom: 70px;\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode__launch-daffi-wallet-button,\n.daffi-wallet-connect-modal-touch-screen-mode__install-daffi-wallet-button {\n  display: block;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode__launch-daffi-wallet-button {\n  margin-bottom: 32px;\n  background-color: #6b46fe;\n  color: #ffffff;\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode__install-daffi-wallet-button {\n  margin-bottom: 20px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode__new-to-daffi-box {\n  position: relative;\n  margin-bottom: 32px;\n  border-top: 1px solid #e6e8ee;\n}\n\n.daffi-wallet-connect-modal-touch-screen-mode__new-to-daffi-box__text {\n  position: absolute;\n  top: -25px;\n  right: calc(50% - 56px);\n  width: 116px;\n  color: #69708d;\n  background-color: #ffffff;\n  font-size: 13px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.04px;\n  text-align: center;\n}";
    d3(k3);
    var M3 = document.createElement("template");
    var L3 = class extends HTMLElement {
      constructor() {
        var e3;
        if (super(), this.attachShadow({ mode: "open" }), M3.innerHTML = '\n  <div class="daffi-wallet-connect-modal-touch-screen-mode">\n    <daffi-wallet-connect-modal-information-section></daffi-wallet-connect-modal-information-section>\n\n    <div>\n      <a\n        id="daffi-wallet-connect-modal-touch-screen-mode-launch-daffi-wallet-button"\n        class="daffi-wallet-connect-modal-touch-screen-mode__launch-daffi-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Launch DaffiWallet\n      </a>\n\n      <div\n        class="daffi-wallet-connect-modal-touch-screen-mode__new-to-daffi-box">\n        <p\n          class="daffi-wallet-connect-modal-touch-screen-mode__new-to-daffi-box__text"\n          >\n          New to DaffiWallet?\n        </p>\n      </div>\n\n      <a\n        href="https://daffiwallet.app/"\n        class="daffi-wallet-connect-modal-touch-screen-mode__install-daffi-wallet-button"\n        rel="noopener noreferrer"\n        target="_blank">\n        Install DaffiWallet\n      </a>\n    </div>\n  </div>\n', this.shadowRoot) {
          const t3 = document.createElement("style");
          t3.textContent = k3, this.shadowRoot.append(M3.content.cloneNode(true), t3);
          const a5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-wallet-connect-modal-touch-screen-mode-launch-daffi-wallet-button"), o4 = this.getAttribute("uri");
          a5 && o4 && (a5.setAttribute("href", n4.generateDaffiWalletConnectDeepLink(o4)), a5.addEventListener("click", () => {
            this.onClickLaunch();
          }));
        }
      }
      onClickLaunch() {
        if (M3.innerHTML = `
    <div class="daffi-wallet-connect-modal-touch-screen-mode daffi-wallet-connect-modal-touch-screen-mode--pending-message-view">
      <daffi-wallet-connect-modal-pending-message-section should-use-sound="${this.getAttribute("should-use-sound")}"></daffi-wallet-connect-modal-pending-message-section>
    </div>
  `, this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = k3, this.shadowRoot.innerHTML = "", this.shadowRoot.append(M3.content.cloneNode(true), n5);
        }
      }
    };
    var Q4 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.daffi-wallet-modal {\n  --daffi-wallet-modal-font-family: "Inter", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(76, 76, 76, 0.8745098039);\n}\n.daffi-wallet-modal--select-account .daffi-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #131313;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DaffiWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body::before {\n  background-image: unset;\n}\n.daffi-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.daffi-wallet-modal ul,\n.daffi-wallet-modal ol,\n.daffi-wallet-modal li {\n  list-style-type: none;\n}\n\n.daffi-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.daffi-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.daffi-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s DaffiWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-modal--desktop .daffi-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DaffiWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DaffiWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}';
    d3(Q4);
    var T2 = document.createElement("template");
    var I = n4.isMobile() ? `${n4.DAFFI_WALLET_MODAL_CLASS} ${n4.DAFFI_WALLET_MODAL_CLASS}--mobile` : `${n4.DAFFI_WALLET_MODAL_CLASS} ${n4.DAFFI_WALLET_MODAL_CLASS}--desktop`;
    var z3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = Q4, c3() && n4.isMobile() ? (T2.innerHTML = `
        <div class="${I}">
          <div class="daffi-wallet-modal__body" part="body">
            <daffi-wallet-modal-header modal-id="${n4.DAFFI_WALLET_CONNECT_MODAL_ID}"></daffi-wallet-modal-header/>
      
            <daffi-wallet-modal-touch-screen-mode uri="${this.getAttribute("uri")}" should-use-sound="${this.getAttribute("should-use-sound")}"></daffi-wallet-modal-touch-screen-mode>
          </div>
        </div>
      `, this.shadowRoot.append(T2.content.cloneNode(true), e3)) : (T2.innerHTML = `
          <div class="${I}">
            <div class="daffi-wallet-modal__body">
              <daffi-wallet-modal-header modal-id="${n4.DAFFI_WALLET_CONNECT_MODAL_ID}"></daffi-wallet-modal-header/>
        
              <daffi-wallet-modal-desktop-mode id="daffi-wallet-modal-desktop-mode" uri="${this.getAttribute("uri")}" is-web-wallet-available="${this.getAttribute("is-web-wallet-available")}" should-display-new-badge="${this.getAttribute("should-display-new-badge")}"></daffi-wallet-modal-desktop-mode>
            </div>
          </div>
        `, this.shadowRoot.append(T2.content.cloneNode(true), e3));
        }
      }
    };
    var P3 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.daffi-wallet-modal {\n  --daffi-wallet-modal-font-family: "Inter", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(76, 76, 76, 0.8745098039);\n}\n.daffi-wallet-modal--select-account .daffi-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #131313;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DaffiWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body::before {\n  background-image: unset;\n}\n.daffi-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.daffi-wallet-modal ul,\n.daffi-wallet-modal ol,\n.daffi-wallet-modal li {\n  list-style-type: none;\n}\n\n.daffi-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.daffi-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.daffi-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s DaffiWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-modal--desktop .daffi-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DaffiWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DaffiWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.daffi-wallet-redirect-modal {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: 56px;\n  grid-template-rows: auto 48px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.daffi-wallet-redirect-modal__content {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.daffi-wallet-redirect-modal__content__title {\n  margin: 20px 0 8px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 22px;\n  letter-spacing: -0.26px;\n}\n\n.daffi-wallet-redirect-modal__content__description,\n.daffi-wallet-redirect-modal__content__install-daffi-text {\n  color: #3c3c49;\n  max-width: 271px;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.daffi-wallet-redirect-modal__content__description {\n  margin-bottom: 24px;\n}\n\n.daffi-wallet-redirect-modal__content__install-daffi-text__link {\n  color: #6b46fe;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  text-align: center;\n}\n\n.daffi-wallet-redirect-modal__launch-daffi-wallet-button {\n  display: block;\n  padding: 14px;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n}';
    d3(P3);
    var B3 = document.createElement("template");
    B3.innerHTML = `
  <div class="daffi-wallet-modal daffi-wallet-modal--mobile">
    <div class="daffi-wallet-modal__body">
      <daffi-wallet-modal-header modal-id="${n4.DAFFI_WALLET_REDIRECT_MODAL_ID}"></daffi-wallet-modal-header/>

      <div class="daffi-wallet-redirect-modal">
        <div class="daffi-wallet-redirect-modal__content">
          <img src="${l4}" />

          <h1 class="daffi-wallet-redirect-modal__content__title">
            Can't Launch DaffiWallet
          </h1>

          <p class="daffi-wallet-redirect-modal__content__description">
            We couldn't redirect you to DaffiWallet automatically. Please try again.
          </p>

          <p class="daffi-wallet-redirect-modal__content__install-daffi-text">
            Don't have DaffiWallet installed yet?
            <br />
            
            <a
              id="daffi-wallet-redirect-modal-download-daffi-link"
              class="daffi-wallet-redirect-modal__content__install-daffi-text__link"
              href="https://daffiwallet.app/"
              rel="noopener noreferrer"
              target="_blank">
              Tap here to install.
            </a>
          </p>
        </div>

        <a
          id="daffi-wallet-redirect-modal-launch-daffi-link"
          class="daffi-wallet-redirect-modal__launch-daffi-wallet-button"
          rel="noopener noreferrer"
          target="_blank">
          Launch DaffiWallet
        </a>
      </div>
    </div>
  </div>
`;
    var R3 = class extends HTMLElement {
      constructor() {
        var e3, t3;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const a5 = document.createElement("style");
          a5.textContent = P3, this.shadowRoot.append(B3.content.cloneNode(true), a5);
          const o4 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-wallet-redirect-modal-download-daffi-link");
          null == o4 || o4.addEventListener("click", () => {
            this.onClose();
          });
          const i4 = null === (t3 = this.shadowRoot) || void 0 === t3 ? void 0 : t3.getElementById("daffi-wallet-redirect-modal-launch-daffi-link");
          null == i4 || i4.addEventListener("click", () => {
            this.onClose(), window.open(n4.generateDaffiWalletAppDeepLink(), "_blank");
          });
        }
      }
      connectedCallback() {
        const e3 = window.open(n4.generateDaffiWalletAppDeepLink(), "_blank");
        e3 && !e3.closed && this.onClose();
      }
      onClose() {
        n4.removeModalWrapperFromDOM(n4.DAFFI_WALLET_REDIRECT_MODAL_ID);
      }
    };
    var Z3 = ".daffi-wallet-connect-modal-information-section {\n  padding-left: 28px;\n  height: 100%;\n  text-align: center;\n  padding-top: 25%;\n}\n.daffi-wallet-connect-modal-information-section--mobile {\n  padding: 0;\n}\n.daffi-wallet-connect-modal-information-section--mobile .daffi-wallet-connect-modal-information-section__daffi-icon {\n  margin-bottom: 16px;\n}\n.daffi-wallet-connect-modal-information-section--mobile .daffi-wallet-connect-modal-information-section__connect-daffi-title {\n  margin-bottom: 8px;\n  color: #ffffff;\n  font-size: 18px;\n  font-weight: 600;\n  line-height: 22px;\n  letter-spacing: -0.2px;\n}\n.daffi-wallet-connect-modal-information-section--mobile .daffi-wallet-connect-modal-information-section__title {\n  margin-bottom: 24px;\n  color: #ffffff;\n  font-size: 14px;\n  line-height: 24px;\n  letter-spacing: -0.09px;\n  font-weight: 400;\n}\n.daffi-wallet-connect-modal-information-section--mobile .daffi-wallet-connect-modal-information-section__features-item__icon-wrapper {\n  background-color: #f2f3f8;\n}\n.daffi-wallet-connect-modal-information-section--mobile .daffi-wallet-connect-modal-information-section__features-item__description {\n  color: #ffffff;\n}\n.daffi-wallet-connect-modal-information-section * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.daffi-wallet-connect-modal-information-section__daffi-icon {\n  margin-bottom: 12px;\n  height: 100px;\n  width: 100px;\n}\n\n.daffi-wallet-connect-modal-information-section__title {\n  color: #ffffff;\n  font-size: 25px;\n  font-weight: 900;\n  line-height: 29px;\n  letter-spacing: 3.5px;\n  margin-bottom: 30px;\n}\n\n.daffi-wallet-connect-modal-information-section__secondary-title {\n  margin-bottom: 20px;\n  color: #ffffff;\n  font-size: 21px;\n  font-weight: 900;\n  line-height: 18px;\n  letter-spacing: 0.06px;\n  text-transform: uppercase;\n}\n\n.daffi-wallet-connect-modal-information-section__features-item {\n  display: grid;\n  align-items: center;\n  grid-template-columns: 36px auto;\n  gap: 16px;\n}\n.daffi-wallet-connect-modal-information-section__features-item:not(:last-of-type) {\n  margin-bottom: 24px;\n}\n\n.daffi-wallet-connect-modal-information-section__features-item__icon-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 36px;\n  height: 36px;\n  background-color: #ffffff;\n  border-radius: 50%;\n}\n\n.daffi-wallet-connect-modal-information-section__features-item__description {\n  color: #ffffff;\n  font-size: 12px;\n  font-weight: 500;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-connect-modal-information-section--desktop {\n    padding: 0;\n  }\n  .daffi-wallet-connect-modal-information-section--desktop .daffi-wallet-connect-modal-information-section__daffi-icon {\n    margin-bottom: 12px;\n  }\n  .daffi-wallet-connect-modal-information-section--desktop .daffi-wallet-connect-modal-information-section__title {\n    margin-bottom: 24px;\n    font-size: 16px;\n    font-weight: 500;\n    line-height: 24px;\n    letter-spacing: -0.26px;\n  }\n  .daffi-wallet-connect-modal-information-section--desktop .daffi-wallet-connect-modal-information-section__features-item {\n    display: none;\n  }\n  .daffi-wallet-connect-modal-information-section__secondary-title {\n    display: none;\n  }\n}";
    d3(Z3);
    var Y = document.createElement("template");
    var O4 = n4.isMobile() ? "daffi-wallet-connect-modal-information-section daffi-wallet-connect-modal-information-section--mobile" : "daffi-wallet-connect-modal-information-section daffi-wallet-connect-modal-information-section--desktop";
    Y.innerHTML = `
  <section class="${O4}">
    <img
      src="${x5}"
      id="daffi-wallet-connect-modal-information-section-daffi-icon"
      class="daffi-wallet-connect-modal-information-section__daffi-icon"
      alt="DaffiWallet Logo"
    />

    <h1 id="daffi-wallet-connect-modal-information-section-connect-daffi-mobile" class="daffi-wallet-connect-modal-information-section__connect-daffi-title">
        Connect to Daffi<span style="font-style: italic;">Wallet</span>
    </h1>

    <h1 class="daffi-wallet-connect-modal-information-section__title">
      Daffi<span style="font-style: italic;">Wallet</span><br/>Everyday<br/>Crypto
    </h1>
    <p class="daffi-wallet-connect-modal-information-section__features-item__description">
     install on<br/>Android &nbsp; &nbsp; &nbsp; IOS
    </p>
  </section>
`;
    var W4 = class extends HTMLElement {
      constructor() {
        var e3, t3, a5;
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const o4 = document.createElement("style");
          o4.textContent = Z3, this.shadowRoot.append(Y.content.cloneNode(true), o4), c3() && n4.isMobile() ? null === (e3 = this.shadowRoot.getElementById("daffi-wallet-connect-modal-information-section-title")) || void 0 === e3 || e3.setAttribute("style", "display: none;") : (null === (t3 = this.shadowRoot.getElementById("daffi-wallet-connect-modal-information-section-daffi-icon")) || void 0 === t3 || t3.setAttribute("src", x5), null === (a5 = this.shadowRoot.getElementById("daffi-wallet-connect-modal-information-section-connect-daffi-mobile")) || void 0 === a5 || a5.setAttribute("style", "display: none;"));
        }
      }
    };
    var K3 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.daffi-wallet-modal {\n  --daffi-wallet-modal-font-family: "Inter", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(76, 76, 76, 0.8745098039);\n}\n.daffi-wallet-modal--select-account .daffi-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #131313;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DaffiWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body::before {\n  background-image: unset;\n}\n.daffi-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.daffi-wallet-modal ul,\n.daffi-wallet-modal ol,\n.daffi-wallet-modal li {\n  list-style-type: none;\n}\n\n.daffi-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.daffi-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.daffi-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s DaffiWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-modal--desktop .daffi-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DaffiWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DaffiWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.daffi-wallet-connect-modal-pending-message-section {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: auto 48px;\n  gap: 56px;\n  height: 100%;\n  padding: 4px;\n  padding-bottom: 70px;\n}\n\n.daffi-wallet-connect-modal-pending-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  text-align: center;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view {\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  height: 100%;\n  margin-top: 10px;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__title {\n  margin: 16px 0 12px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 24px;\n  letter-spacing: -0.26px;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__description {\n  color: #6a6a81;\n  font-size: 14px;\n  font-weight: 400;\n  line-height: 24px;\n  letter-spacing: -0.01px;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__button {\n  display: block;\n  width: 100%;\n  padding: 14px;\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  color: #ffffff;\n  background-color: #6b46fe;\n  border: none;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {\n  display: flex;\n  gap: 12px;\n  margin-bottom: 20px;\n  padding: 16px;\n  background: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {\n  width: 24px;\n  height: 24px;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 4px;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {\n  margin: 0;\n  font-size: 14px;\n  font-weight: 500;\n  line-height: 20px;\n  letter-spacing: -0.1px;\n  color: #3c3c49;\n}\n.daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {\n  /* stylelint-disable value-no-vendor-prefix */\n  /* stylelint-disable  property-no-vendor-prefix */\n  display: -webkit-box;\n  max-width: 100%;\n  -webkit-line-clamp: 2;\n  /* autoprefixer: ignore next */\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  /* stylelint-enable value-no-vendor-prefix */\n  /* stylelint-enable property-no-vendor-prefix */\n  margin: 0;\n  font-size: 12px;\n  font-weight: 400;\n  line-height: 18px;\n  letter-spacing: 0.01px;\n  color: #9d9dae;\n}\n\n.daffi-wallet-connect-modal-pending-message__animation-wrapper {\n  width: 56px;\n  height: 56px;\n  background-color: #6b46fe;\n  border-radius: 50%;\n}\n\n.daffi-wallet-connect-modal-pending-message__text {\n  max-width: 271px;\n  margin-top: 24px;\n  color: #3c3c49;\n  font-size: 18px;\n  font-weight: 500;\n  line-height: 28px;\n  letter-spacing: -0.26px;\n}\n\n.daffi-wallet-connect-modal-pending-message__cancel-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 14px;\n  color: #6a6a81;\n  background-color: #ffffff;\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\n  border-radius: 12px;\n  text-decoration: none;\n  text-align: center;\n  font-size: 14px;\n  line-height: 20px;\n  letter-spacing: -0.09px;\n  font-weight: 500;\n  border: none;\n}';
    d3(K3);
    var G3 = document.createElement("template");
    G3.innerHTML = '\n  <div class="daffi-wallet-connect-modal-pending-message-section">\n    <div class="daffi-wallet-connect-modal-pending-message">\n      <div id="daffi-wallet-connect-modal-pending-message-animation-wrapper" class="daffi-wallet-connect-modal-pending-message__animation-wrapper"></div>\n\n      <div class="daffi-wallet-connect-modal-pending-message__text">\n        Please wait while we connect you to DaffiWallet\n      </div>\n    </div>\n\n    <button\n      id="daffi-wallet-connect-modal-pending-message-cancel-button"\n      class="daffi-wallet-button daffi-wallet-connect-modal-pending-message__cancel-button">\n        Cancel\n    </button>\n  </div>\n\n  <div id="daffi-wallet-connect-modal-pending-message-audio-wrapper"></div>\n';
    var J4 = `
  <div class="daffi-wallet-connect-modal-pending-message--try-again-view">
    <div>
      <img src="${l4}" alt="DaffiWallet Logo" />

      <h1 class="daffi-wallet-connect-modal-pending-message--try-again-view__title">
        Couldn\u2019t establish connection
      </h1>

      <p class="daffi-wallet-connect-modal-pending-message--try-again-view__description">
        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.
      </p>
    </div>

    <div>
      <a
        href="https://desk.daffi.me/portal/en/kb/daffi"
        target="_blank"
        rel="noopener noreferrer"
        class="daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor">
        <img
          class="daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image"
          src="data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e"
          alt="Help Icon"
        />

        <div>
          <div
            class="daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper">
            <h1
              class="daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title">
                Resolving WalletConnect issues
            </h1>

            <img src="data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e" alt="Send Icon"/>
          </div>

          <p
            class="daffi-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description">
            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...
          </p>
        </div>
      </a>

      <button id="daffi-wallet-connect-modal-pending-message-try-again-button" class="daffi-wallet-connect-button daffi-wallet-connect-modal-pending-message--try-again-view__button">
        Close & Try Again
      </button>
    </div>
  </div>
  `;
    var S3 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = K3, this.shadowRoot.append(G3.content.cloneNode(true), n5);
        }
      }
      connectedCallback() {
        var n5;
        const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("daffi-wallet-connect-modal-pending-message-cancel-button");
        null == e3 || e3.addEventListener("click", () => {
          this.onClose();
        }), this.addAudioForConnection(), this.renderLottieAnimation(), setTimeout(() => {
          var n6;
          if (G3.innerHTML = J4, this.shadowRoot) {
            const e4 = document.createElement("style");
            e4.textContent = K3, this.shadowRoot.innerHTML = "", this.shadowRoot.append(G3.content.cloneNode(true), e4);
            const t3 = null === (n6 = this.shadowRoot) || void 0 === n6 ? void 0 : n6.getElementById("daffi-wallet-connect-modal-pending-message-try-again-button");
            null == t3 || t3.addEventListener("click", () => {
              this.onClose();
            });
          }
        }, 3e4);
      }
      onClose() {
        n4.removeModalWrapperFromDOM(n4.DAFFI_WALLET_CONNECT_MODAL_ID);
      }
      addAudioForConnection() {
        var e3;
        if ("true" === this.getAttribute("should-use-sound") && n4.isIOS()) {
          const n5 = null === (e3 = this.shadowRoot) || void 0 === e3 ? void 0 : e3.getElementById("daffi-wallet-connect-modal-pending-message-audio-wrapper"), t3 = document.createElement("audio");
          t3.src = "https://s3.amazonaws.com/wc.daffiWallet.app/audio.mp3", t3.autoplay = true, t3.loop = true, null == n5 || n5.appendChild(t3);
        }
      }
      renderLottieAnimation() {
        var n5;
        const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("daffi-wallet-connect-modal-pending-message-animation-wrapper");
        e3 && i3.default.loadAnimation({ container: e3, renderer: "svg", loop: true, autoplay: true, path: "https://s3.amazonaws.com/wc.daffiWallet.app/static/daffi-loader-animation.json" });
      }
    };
    var H4 = '.daffi-wallet-sign-txn-toast {\n  --daffi-wallet-sign-txn-toast-width: 422px;\n  --daffi-wallet-sign-txn-toast-height: 134px;\n  --daffi-wallet-sign-txn-toast-font-family: "Inter", sans-serif;\n  position: fixed;\n  bottom: 28px;\n  right: 35px;\n  z-index: 11;\n  overflow: hidden;\n  width: var(--daffi-wallet-sign-txn-toast-width);\n  height: var(--daffi-wallet-sign-txn-toast-height);\n  background: #edeffb;\n  border-radius: 8px;\n  animation: 0.2s DaffiWalletSignTxnToastSlideIn ease-out;\n}\n.daffi-wallet-sign-txn-toast * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-sign-txn-toast-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.daffi-wallet-sign-txn-toast ul,\n.daffi-wallet-sign-txn-toast ol,\n.daffi-wallet-sign-txn-toast li {\n  list-style-type: none;\n}\n\n.daffi-wallet-sign-txn-toast__header__close-button {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  width: 20px;\n  height: 20px;\n  margin: 0;\n  padding: 0;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n}\n\n.daffi-wallet-sign-txn-toast__content__lottie-animation {\n  position: absolute;\n  top: -75px;\n  left: -100px;\n  width: 368px;\n  height: 368px;\n}\n\n.daffi-wallet-sign-txn-toast__content__description {\n  position: absolute;\n  top: 40px;\n  right: 48px;\n  max-width: 197px;\n  color: #3c3c49;\n  font-size: 14px;\n  line-height: 22px;\n  letter-spacing: -0.1px;\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-sign-txn-toast {\n    display: none;\n  }\n}\n@keyframes DaffiWalletSignTxnToastSlideIn {\n  0% {\n    bottom: 12px;\n    opacity: 0;\n  }\n  100% {\n    bottom: 26px;\n    opacity: 1;\n  }\n}';
    d3(H4);
    var q4 = document.createElement("template");
    q4.innerHTML = `
  <div class="daffi-wallet-sign-txn-toast">
    <div class="daffi-wallet-sign-txn-toast__header">
      <button
        id="daffi-wallet-sign-txn-toast-close-button"
        class="daffi-wallet-sign-txn-toast__header__close-button">
        <img src="data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z' fill='%239099BD'/%3e%3c/svg%3e" />
      </button>
    </div>
    <div class="daffi-wallet-sign-txn-toast__content">
      <div id="daffi-wallet-sign-txn-toast-lottie-animation" style="width:368;height:368" class="daffi-wallet-sign-txn-toast__content__lottie-animation"></div>
      <p class="daffi-wallet-sign-txn-toast__content__description">
        Please launch <b>DaffiWallet</b> on your iOS or Android device to sign this transaction.
      </p>
    </div>
  </div>
`;
    var V2 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const e3 = document.createElement("style");
          e3.textContent = H4, this.shadowRoot.append(q4.content.cloneNode(true), e3);
          const t3 = this.shadowRoot.getElementById("daffi-wallet-sign-txn-toast-close-button");
          null == t3 || t3.addEventListener("click", () => {
            n4.removeModalWrapperFromDOM(n4.DAFFI_WALLET_SIGN_TXN_TOAST_ID);
          }), this.renderLottieAnimation();
        }
      }
      renderLottieAnimation() {
        var n5;
        const e3 = null === (n5 = this.shadowRoot) || void 0 === n5 ? void 0 : n5.getElementById("daffi-wallet-sign-txn-toast-lottie-animation");
        e3 && i3.default.loadAnimation({ container: e3, renderer: "svg", loop: true, autoplay: true, path: "https://s3.amazonaws.com/wc.daffiWallet.app/static/sign-toast-animation.json" });
      }
    };
    var U5 = '@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");\n.daffi-wallet-modal {\n  --daffi-wallet-modal-font-family: "Inter", sans-serif;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  background-color: rgba(76, 76, 76, 0.8745098039);\n}\n.daffi-wallet-modal--select-account .daffi-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body {\n  top: 40px;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  max-width: unset;\n  height: calc(100 * var(--vh));\n  padding: 20px;\n  background-color: #131313;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\n  border-radius: 20px 20px 0px 0px;\n  animation: 0.3s DaffiWalletConnectMobileSlideIn ease-out;\n  overflow-y: auto;\n  transform: unset;\n}\n.daffi-wallet-modal--mobile .daffi-wallet-modal__body::before {\n  background-image: unset;\n}\n.daffi-wallet-modal * {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-smooth: antialiased;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n.daffi-wallet-modal ul,\n.daffi-wallet-modal ol,\n.daffi-wallet-modal li {\n  list-style-type: none;\n}\n\n.daffi-wallet-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: auto;\n  height: 48px;\n  padding: 14px;\n  border: none;\n  border-radius: 12px;\n  outline: none;\n  cursor: pointer;\n  font-family: var(--daffi-wallet-modal-font-family);\n  font-size: 14px;\n}\n\n.daffi-wallet-modal__logo img {\n  display: block;\n  width: 32px;\n}\n\n.daffi-wallet-modal__body {\n  position: relative;\n  top: 50%;\n  left: 50%;\n  width: 700px;\n  max-width: calc(100vw - 80px);\n  padding: 28px;\n  background-color: #131313;\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\n  border-radius: 24px;\n  animation: 0.3s DaffiWalletConnectSlideIn ease-out;\n  transform: translate(-50%, -50%);\n}\n\n@media (max-width: 767px) {\n  .daffi-wallet-modal--desktop .daffi-wallet-modal__body {\n    width: 100%;\n    max-width: calc(100vw - 32px);\n    padding: 24px;\n  }\n}\n@keyframes DaffiWalletConnectSlideIn {\n  0% {\n    opacity: 0;\n    transform: translate(-50%, calc(-50% + 24px));\n  }\n  100% {\n    opacity: 1;\n    transform: translate(-50%, -50%);\n  }\n}\n@keyframes DaffiWalletConnectMobileSlideIn {\n  0% {\n    top: 30%;\n    opacity: 0;\n  }\n  100% {\n    top: 40px;\n    opacity: 1;\n  }\n}\n.daffi-wallet-sign-txn-modal.daffi-wallet-modal .daffi-wallet-modal__body {\n  width: 480px;\n  height: 578px;\n  background-color: #ffffff;\n  background-image: unset;\n  padding: 0;\n}\n.daffi-wallet-sign-txn-modal.daffi-wallet-modal .daffi-wallet-modal__body .daffi-wallet-sign-txn-modal__body__content {\n  width: 100%;\n  height: 100%;\n}\n.daffi-wallet-sign-txn-modal.daffi-wallet-modal .daffi-wallet-modal__body #daffi-wallet-iframe {\n  width: 100%;\n  height: 100%;\n  border-radius: 16px;\n  margin: 0 auto;\n  border: none;\n}';
    d3(U5);
    var F3 = document.createElement("template");
    F3.innerHTML = `
  <div class="${n4.DAFFI_WALLET_MODAL_CLASS} daffi-wallet-sign-txn-modal">
    <div class="daffi-wallet-modal__body">
      <daffi-wallet-modal-header modal-id="${n4.DAFFI_WALLET_SIGN_TXN_MODAL_ID}"></daffi-wallet-modal-header/>

      <div class="daffi-wallet-sign-txn-modal__body__content" />
    </div>
  </div>
`;
    var X4 = class extends HTMLElement {
      constructor() {
        if (super(), this.attachShadow({ mode: "open" }), this.shadowRoot) {
          const n5 = document.createElement("style");
          n5.textContent = U5, this.shadowRoot.append(F3.content.cloneNode(true), n5);
        }
      }
    };
    window.addEventListener("DOMContentLoaded", () => {
      s2();
    }), window.addEventListener("resize", () => {
      s2();
    }), window.customElements.define("daffi-wallet-connect-modal", z3), window.customElements.define("daffi-wallet-modal-desktop-mode", E5), window.customElements.define("daffi-wallet-modal-header", m3), window.customElements.define("daffi-wallet-modal-touch-screen-mode", L3), window.customElements.define("daffi-wallet-redirect-modal", R3), window.customElements.define("daffi-wallet-connect-modal-information-section", W4), window.customElements.define("daffi-wallet-connect-modal-pending-message-section", S3), window.customElements.define("daffi-wallet-sign-txn-toast", V2), window.customElements.define("daffi-wallet-sign-txn-modal", X4), window.customElements.define("daffi-wallet-download-qr-code", A3);
  }
});

// node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/index-ba034060.js
var require_index_ba034060 = __commonJS({
  "node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/index-ba034060.js"(exports2) {
    "use strict";
    var e2 = (init_esm11(), __toCommonJS(esm_exports6));
    var t2 = (init_esm(), __toCommonJS(esm_exports));
    var n4 = require_es5();
    function a4(e3) {
      return e3 && "object" == typeof e3 && "default" in e3 ? e3 : { default: e3 };
    }
    var o3 = a4(e2);
    var i3 = a4(t2);
    var l4 = a4(n4);
    function s2(e3, t3, n5, a5) {
      return new (n5 || (n5 = Promise))(function(o4, i4) {
        function l5(e4) {
          try {
            r4(a5.next(e4));
          } catch (e5) {
            i4(e5);
          }
        }
        function s3(e4) {
          try {
            r4(a5.throw(e4));
          } catch (e5) {
            i4(e5);
          }
        }
        function r4(e4) {
          var t4;
          e4.done ? o4(e4.value) : (t4 = e4.value, t4 instanceof n5 ? t4 : new n5(function(e5) {
            e5(t4);
          })).then(l5, s3);
        }
        r4((a5 = a5.apply(e3, t3 || [])).next());
      });
    }
    var r3 = class extends Error {
      constructor(e3, t3, ...n5) {
        super(...n5), Error.captureStackTrace && Error.captureStackTrace(this, r3), this.name = "DaffiWalletConnectError", this.data = e3, this.message = t3;
      }
    };
    var d3 = new class {
      constructor(e3) {
        this.listener = void 0, this.channel = e3.channel;
      }
      setupListener({ onReceiveMessage: e3 }) {
        this.close(), this.listener = (t3) => {
          if ("object" == typeof t3.data)
            try {
              t3.data.channel === this.channel && e3(t3);
            } catch (e4) {
              console.error(e4);
            }
        }, window.addEventListener("message", this.listener);
      }
      sendMessage({ message: e3, targetWindow: t3, origin: n5, timeout: a5 = 1e3 }) {
        setTimeout(() => {
          const a6 = { channel: this.channel, message: e3 };
          t3.postMessage(a6, { targetOrigin: n5 || "*" });
        }, a5);
      }
      close() {
        this.listener && (window.removeEventListener("message", this.listener), this.listener = void 0);
      }
    }({ channel: "daffi-web-wallet" });
    function c3() {
      const e3 = document.querySelector('meta[name="name"]'), t3 = document.querySelector('meta[name="description"]');
      let { title: n5 } = document, a5 = "";
      return e3 instanceof HTMLMetaElement && (n5 = e3.content), t3 instanceof HTMLMetaElement && (a5 = t3.content), { title: n5, description: a5, url: window.location.origin, favicon: u4()[0] };
    }
    function u4() {
      const e3 = document.getElementsByTagName("link"), t3 = [];
      for (let n5 = 0; n5 < e3.length; n5++) {
        const a5 = e3[n5], o4 = a5.getAttribute("rel");
        if (o4 && o4.toLowerCase().indexOf("icon") > -1) {
          const e4 = a5.getAttribute("href");
          if (e4 && -1 === e4.toLowerCase().indexOf("https:") && -1 === e4.toLowerCase().indexOf("http:") && 0 !== e4.indexOf("//")) {
            let n6 = `${window.location.protocol}//${window.location.host}`;
            if (0 === e4.indexOf("/"))
              n6 += e4;
            else {
              const t4 = window.location.pathname.split("/");
              t4.pop();
              n6 += `${t4.join("/")}/${e4}`;
            }
            t3.push(n6);
          } else if (0 === (null == e4 ? void 0 : e4.indexOf("//"))) {
            const n6 = window.location.protocol + e4;
            t3.push(n6);
          } else
            e4 && t3.push(e4);
        }
      }
      return t3;
    }
    function f3(e3) {
      return new Promise((t3, n5) => {
        try {
          const a5 = window.open(e3, "_blank");
          let o4 = 0;
          const i4 = setInterval(() => {
            if (o4 += 1, 50 === o4)
              return clearInterval(i4), void n5(new r3({ type: "MESSAGE_NOT_RECEIVED" }, "Couldn't open Daffi Wallet, please try again."));
            a5 && (true === a5.closed && (clearInterval(i4), n5(new r3({ type: "OPERATION_CANCELLED" }, "Operation cancelled by user"))), d3.sendMessage({ message: { type: "TAB_OPEN" }, origin: e3, targetWindow: a5 }));
          }, 700);
          d3.setupListener({ onReceiveMessage: (e4) => {
            "TAB_OPEN_RECEIVED" === e4.data.message.type && (clearInterval(i4), t3(a5));
          } });
        } catch (e4) {
          n5(e4);
        }
      });
    }
    function w4(e3) {
      const t3 = document.createElement("div");
      return t3.setAttribute("id", e3), document.body.appendChild(t3), t3;
    }
    function g5() {
      const e3 = w4("daffi-wallet-sign-txn-modal-wrapper");
      e3.innerHTML = "<daffi-wallet-sign-txn-modal></daffi-wallet-sign-txn-modal>";
      const t3 = e3.querySelector("daffi-wallet-sign-txn-modal");
      return t3 ? (n5 = t3, a5 = "daffi-wallet-sign-txn-modal__body__content", new Promise((e4) => {
        var t4;
        const o4 = null === (t4 = n5.shadowRoot) || void 0 === t4 ? void 0 : t4.querySelector(`.${a5}`);
        if (o4)
          return e4(o4);
        const i4 = new MutationObserver(() => {
          o4 && (e4(o4), i4.disconnect());
        });
        i4.observe(n5, { childList: true, subtree: true });
      })) : Promise.reject();
      var n5, a5;
    }
    function m3(e3) {
      p6("daffi-wallet-sign-txn-modal-wrapper"), e3 && e3(new r3({ type: "SIGN_TXN_CANCELLED" }, "Transaction sign is cancelled"));
    }
    function p6(e3) {
      const t3 = document.getElementById(e3);
      t3 && t3.remove();
    }
    var h6 = "DaffiWallet.Wallet";
    var v2 = "walletconnect";
    function N12() {
      return "undefined" == typeof localStorage ? void 0 : localStorage;
    }
    function E5(e3, t3) {
      var n5;
      null === (n5 = N12()) || void 0 === n5 || n5.setItem(h6, JSON.stringify({ type: t3 || "daffi-wallet", accounts: e3, selectedAccount: e3[0] }));
    }
    function C3() {
      var e3;
      const t3 = null === (e3 = N12()) || void 0 === e3 ? void 0 : e3.getItem(h6);
      return t3 ? JSON.parse(t3) : null;
    }
    function T2() {
      return new Promise((e3, t3) => {
        var n5, a5;
        try {
          null === (n5 = N12()) || void 0 === n5 || n5.removeItem(v2), null === (a5 = N12()) || void 0 === a5 || a5.removeItem(h6), e3(void 0);
        } catch (e4) {
          t3(e4);
        }
      });
    }
    function y7(e3) {
      const t3 = e3.slice();
      for (let e4 = t3.length - 1; e4 > 0; e4--) {
        const n5 = Math.floor(Math.random() * (e4 + 1));
        [t3[e4], t3[n5]] = [t3[n5], t3[e4]];
      }
      return t3;
    }
    function I() {
      return function(e3, t3 = {}) {
        return fetch(e3, t3).then((e4) => e4.json()).then((e4) => e4);
      }("https://wc.peraWallet.app/config.json", { cache: "no-store" });
    }
    function _4() {
      return s2(this, void 0, void 0, function* () {
        let e3 = { bridgeURL: "", webWalletURL: "", isWebWalletAvailable: false, shouldDisplayNewBadge: false, shouldUseSound: true, silent: false };
        try {
          const t3 = yield I();
          void 0 !== t3.web_wallet && t3.web_wallet_url && (e3.isWebWalletAvailable = t3.web_wallet), void 0 !== t3.display_new_badge && (e3.shouldDisplayNewBadge = t3.display_new_badge), void 0 !== t3.use_sound && (e3.shouldUseSound = t3.use_sound), void 0 !== t3.silent && (e3.silent = t3.silent), e3 = Object.assign(Object.assign({}, e3), { bridgeURL: y7(t3.servers || [])[0] || "", webWalletURL: t3.web_wallet_url || "" });
        } catch (e4) {
          console.log(e4);
        }
        return e3;
      });
    }
    function S3(e3) {
      return Uint8Array.from(window.atob(e3), (e4) => e4.charCodeAt(0));
    }
    function A3() {
      return "undefined" != typeof navigator;
    }
    function b3() {
      return A3() && /Android/i.test(navigator.userAgent);
    }
    function O4() {
      return A3() && /iPhone|iPad|iPod/i.test(navigator.userAgent);
    }
    function L3() {
      return A3() && /iPhone|iPod|Android/i.test(navigator.userAgent);
    }
    function D4() {
      if (!A3())
        return null;
      const { userAgent: e3 } = navigator;
      let t3;
      return t3 = e3.match(/DuckDuckGo/i) ? "DuckDuckGo" : e3.match(/OPX/i) ? "Opera GX" : navigator.brave ? "Brave" : l4.default.getParser(navigator.userAgent).getBrowserName(), t3;
    }
    var W4 = b3() ? "algorand://" : "algorand-wc://";
    function M3(e3) {
      return { ROOT: `https://${e3}`, CONNECT: `https://${e3}/connect`, TRANSACTION_SIGN: `https://${e3}/transaction/sign` };
    }
    function R3(e3 = true) {
      let t3 = W4;
      const n5 = D4();
      return e3 && n5 && (t3 = `${t3}?browser=${encodeURIComponent(n5)}`), t3;
    }
    function x5(e3) {
      const t3 = new URL(e3);
      return t3.searchParams.append("embedded", "true"), t3.toString();
    }
    function B3({ isWebWalletAvailable: e3, shouldDisplayNewBadge: t3, shouldUseSound: n5 }) {
      return { open: (a5 = { isWebWalletAvailable: e3, shouldDisplayNewBadge: t3, shouldUseSound: n5 }, (e4) => {
        if (!document.getElementById("daffi-wallet-connect-modal-wrapper")) {
          const t4 = w4("daffi-wallet-connect-modal-wrapper"), n6 = `${e4}&algorand=true`, { isWebWalletAvailable: o4, shouldDisplayNewBadge: i4, shouldUseSound: l5 } = a5;
          t4.innerHTML = `<daffi-wallet-connect-modal uri="${n6}" is-web-wallet-available="${o4}" should-display-new-badge="${i4}" should-use-sound="${l5}"></daffi-wallet-connect-modal>`;
        }
      }), close: () => p6("daffi-wallet-connect-modal-wrapper") };
      var a5;
    }
    "undefined" != typeof window && (window.global = window, window.Buffer = window.Buffer || (init_buffer2(), __toCommonJS(buffer_exports)).Buffer, Promise.resolve().then(function() {
      return require_App_0f2743bc();
    })), exports2.DAFFI_DOWNLOAD_URL = "https://daffiwallet.app/", exports2.DAFFI_WALLET_CONNECT_MODAL_ID = "daffi-wallet-connect-modal-wrapper", exports2.DAFFI_WALLET_MODAL_CLASS = "daffi-wallet-modal", exports2.DAFFI_WALLET_REDIRECT_MODAL_ID = "daffi-wallet-redirect-modal-wrapper", exports2.DAFFI_WALLET_SIGN_TXN_MODAL_ID = "daffi-wallet-sign-txn-modal-wrapper", exports2.DAFFI_WALLET_SIGN_TXN_TOAST_ID = "daffi-wallet-sign-txn-toast-wrapper", exports2.DaffiWalletConnect = class {
      constructor(e3) {
        this.bridge = (null == e3 ? void 0 : e3.bridge) || "", this.connector = null, this.shouldShowSignTxnToast = void 0 === (null == e3 ? void 0 : e3.shouldShowSignTxnToast) || e3.shouldShowSignTxnToast, this.chainId = null == e3 ? void 0 : e3.chainId;
      }
      get platform() {
        return function() {
          const e3 = C3();
          let t3 = null;
          return "daffi-wallet" === (null == e3 ? void 0 : e3.type) ? t3 = "mobile" : "daffi-wallet-web" === (null == e3 ? void 0 : e3.type) && (t3 = "web"), t3;
        }();
      }
      get isConnected() {
        var e3;
        return "mobile" === this.platform ? !!this.connector : "web" === this.platform && !!(null === (e3 = C3()) || void 0 === e3 ? void 0 : e3.accounts.length);
      }
      connectWithWebWallet(e3, t3, n5, a5) {
        const o4 = D4(), i4 = M3(n5), l5 = document.createElement("iframe");
        function s3() {
          p6("daffi-wallet-connect-modal-wrapper");
        }
        return { onWebWalletConnect: function(n6) {
          if ("Chrome" === o4) {
            if (l5.setAttribute("id", "daffi-wallet-iframe"), l5.setAttribute("src", x5(i4.CONNECT)), n6.appendChild(l5), l5.contentWindow) {
              let n7 = 0;
              const o5 = setInterval(() => {
                n7 += 1, 50 !== n7 ? d3.sendMessage({ message: { type: "IFRAME_INITIALIZED" }, origin: i4.CONNECT, targetWindow: l5.contentWindow }) : clearInterval(o5);
              }, 700);
              d3.setupListener({ onReceiveMessage: (n8) => {
                var u5, w5, g6, m4, p7, h7;
                if ("IFRAME_INITIALIZED_RECEIVED" === n8.data.message.type)
                  clearInterval(o5), d3.sendMessage({ message: { type: "CONNECT", data: Object.assign(Object.assign({}, c3()), { chainId: a5 }) }, origin: i4.CONNECT, targetWindow: l5.contentWindow });
                else if (e3 && "CONNECT_CALLBACK" === n8.data.message.type) {
                  const t4 = n8.data.message.data.addresses;
                  E5(t4, "daffi-wallet-web"), e3(t4), s3(), null === (u5 = document.getElementById("daffi-wallet-iframe")) || void 0 === u5 || u5.remove();
                } else if ("CONNECT_NETWORK_MISMATCH" === n8.data.message.type)
                  t3(new r3({ type: "CONNECT_NETWORK_MISMATCH", detail: n8.data.message.error }, n8.data.message.error || "Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")), s3(), null === (w5 = document.getElementById("daffi-wallet-iframe")) || void 0 === w5 || w5.remove();
                else if (["CREATE_PASSCODE_EMBEDDED", "SELECT_ACCOUNT_EMBEDDED"].includes(n8.data.message.type)) {
                  if ("CREATE_PASSCODE_EMBEDDED" === n8.data.message.type)
                    f3(i4.CONNECT).then((n9) => {
                      n9 && d3.sendMessage({ message: { type: "CONNECT", data: Object.assign(Object.assign({}, c3()), { chainId: a5 }) }, origin: i4.CONNECT, targetWindow: n9 });
                      const o6 = setInterval(() => {
                        true === (null == n9 ? void 0 : n9.closed) && (t3(new r3({ type: "CONNECT_CANCELLED" }, "Connect is cancelled by user")), s3(), clearInterval(o6));
                      }, 2e3);
                      d3.setupListener({ onReceiveMessage: (t4) => {
                        if (e3 && "CONNECT_CALLBACK" === t4.data.message.type) {
                          const a6 = t4.data.message.data.addresses;
                          E5(a6, "daffi-wallet-web"), e3(a6), s3(), null == n9 || n9.close();
                        }
                      } });
                    });
                  else if ("SELECT_ACCOUNT_EMBEDDED" === n8.data.message.type) {
                    const e4 = document.getElementById("daffi-wallet-connect-modal-wrapper"), t4 = null === (m4 = null === (g6 = null == e4 ? void 0 : e4.querySelector("daffi-wallet-connect-modal")) || void 0 === g6 ? void 0 : g6.shadowRoot) || void 0 === m4 ? void 0 : m4.querySelector(".daffi-wallet-modal"), n9 = null === (h7 = null === (p7 = null == t4 ? void 0 : t4.querySelector("daffi-wallet-modal-desktop-mode")) || void 0 === p7 ? void 0 : p7.shadowRoot) || void 0 === h7 ? void 0 : h7.querySelector(".daffi-wallet-connect-modal-desktop-mode");
                    t4 && n9 && (t4.classList.add("daffi-wallet-modal--select-account"), t4.classList.remove("daffi-wallet-modal--create-passcode"), n9.classList.add("daffi-wallet-connect-modal-desktop-mode--select-account"), n9.classList.remove("daffi-wallet-connect-modal-desktop-mode--create-passcode")), d3.sendMessage({ message: { type: "SELECT_ACCOUNT_EMBEDDED_CALLBACK" }, origin: i4.CONNECT, targetWindow: l5.contentWindow });
                  }
                }
              } });
            }
          } else
            f3(i4.CONNECT).then((n7) => {
              n7 && d3.sendMessage({ message: { type: "CONNECT", data: Object.assign(Object.assign({}, c3()), { chainId: a5 }) }, origin: i4.CONNECT, targetWindow: n7 });
              const o5 = setInterval(() => {
                true === (null == n7 ? void 0 : n7.closed) && (t3(new r3({ type: "CONNECT_CANCELLED" }, "Connect is cancelled by user")), clearInterval(o5), s3());
              }, 2e3);
              d3.setupListener({ onReceiveMessage: (a6) => {
                if (e3 && "CONNECT_CALLBACK" === a6.data.message.type) {
                  const t4 = a6.data.message.data.addresses;
                  E5(t4, "daffi-wallet-web"), e3(t4), s3(), null == n7 || n7.close();
                } else
                  "CONNECT_NETWORK_MISMATCH" === a6.data.message.type && (t3(new r3({ type: "CONNECT_NETWORK_MISMATCH", detail: a6.data.message.error }, a6.data.message.error || "Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")), s3(), null == n7 || n7.close());
              } });
            }).catch((e4) => {
              s3(), t3(e4);
            });
        } };
      }
      connect() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5;
          try {
            if (null === (n5 = this.connector) || void 0 === n5 ? void 0 : n5.connected)
              try {
                yield this.connector.killSession();
              } catch (e4) {
              }
            const { isWebWalletAvailable: a5, bridgeURL: i4, webWalletURL: l5, shouldDisplayNewBadge: s3, shouldUseSound: d4 } = yield _4(), { onWebWalletConnect: c4 } = this.connectWithWebWallet(e3, t3, l5, this.chainId);
            a5 && (window.onWebWalletConnect = c4), this.connector = new o3.default({ bridge: this.bridge || i4 || "https://bridge.walletconnect.org", qrcodeModal: B3({ isWebWalletAvailable: a5, shouldDisplayNewBadge: s3, shouldUseSound: d4 }) }), yield this.connector.createSession({ chainId: this.chainId || 4160 }), function(e4) {
              var t4, n6, a6, o4;
              const i5 = document.getElementById("daffi-wallet-connect-modal-wrapper"), l6 = null === (n6 = null === (t4 = null == i5 ? void 0 : i5.querySelector("daffi-wallet-connect-modal")) || void 0 === t4 ? void 0 : t4.shadowRoot) || void 0 === n6 ? void 0 : n6.querySelector(".daffi-wallet-modal"), s4 = null === (o4 = null === (a6 = null == l6 ? void 0 : l6.querySelector("daffi-wallet-modal-header")) || void 0 === a6 ? void 0 : a6.shadowRoot) || void 0 === o4 ? void 0 : o4.getElementById("daffi-wallet-modal-header-close-button");
              null == s4 || s4.addEventListener("click", () => {
                e4(), p6("daffi-wallet-connect-modal-wrapper");
              });
            }(() => t3(new r3({ type: "CONNECT_MODAL_CLOSED" }, "Connect modal is closed by user"))), this.connector.on("connect", (n6, a6) => {
              var o4, i5;
              n6 && t3(n6), e3((null === (o4 = this.connector) || void 0 === o4 ? void 0 : o4.accounts) || []), E5((null === (i5 = this.connector) || void 0 === i5 ? void 0 : i5.accounts) || []);
            });
          } catch (e4) {
            console.log(e4), t3(new r3({ type: "SESSION_CONNECT", detail: e4 }, e4.message || "There was an error while connecting to Daffi Wallet"));
          }
        }));
      }
      reconnectSession() {
        return new Promise((e3, t3) => s2(this, void 0, void 0, function* () {
          var n5, a5;
          try {
            const i4 = C3();
            if ("daffi-wallet-web" === (null == i4 ? void 0 : i4.type)) {
              const { isWebWalletAvailable: n6 } = yield _4();
              n6 ? e3(i4.accounts || []) : t3(new r3({ type: "SESSION_RECONNECT", detail: "Daffi Web is not available" }, "Daffi Web is not available"));
            }
            this.connector && e3(this.connector.accounts || []), this.bridge = (null === (n5 = function() {
              var e4;
              const t4 = null === (e4 = N12()) || void 0 === e4 ? void 0 : e4.getItem(v2);
              return t4 ? JSON.parse(t4) : null;
            }()) || void 0 === n5 ? void 0 : n5.bridge) || "", this.bridge && (this.connector = new o3.default({ bridge: this.bridge }), e3((null === (a5 = this.connector) || void 0 === a5 ? void 0 : a5.accounts) || [])), this.isConnected || e3([]);
          } catch (e4) {
            yield this.disconnect(), t3(new r3({ type: "SESSION_RECONNECT", detail: e4 }, e4.message || "There was an error while reconnecting to Daffi Wallet"));
          }
        }));
      }
      disconnect() {
        var e3;
        return s2(this, void 0, void 0, function* () {
          let t3;
          this.isConnected && "mobile" === this.platform && (t3 = null === (e3 = this.connector) || void 0 === e3 ? void 0 : e3.killSession(), null == t3 || t3.then(() => {
            this.connector = null;
          })), yield T2();
        });
      }
      signTransactionWithMobile(e3) {
        return s2(this, void 0, void 0, function* () {
          const t3 = (n5 = "algo_signTxn", a5 = [e3], { id: Date.now() * Math.pow(10, 3) + Math.floor(Math.random() * Math.pow(10, 3)), jsonrpc: "2.0", method: n5, params: a5 });
          var n5, a5;
          try {
            try {
              const { silent: e4 } = yield _4(), n6 = (yield this.connector.sendCustomRequest(t3, { forcePushNotification: !e4 })).filter(Boolean);
              return "string" == typeof n6[0] ? n6.map(S3) : n6.map((e5) => Uint8Array.from(e5));
            } catch (e4) {
              return yield Promise.reject(new r3({ type: "SIGN_TRANSACTIONS", detail: e4 }, e4.message || "Failed to sign transaction"));
            }
          } finally {
            p6("daffi-wallet-redirect-modal-wrapper"), p6("daffi-wallet-sign-txn-toast-wrapper");
          }
        });
      }
      signTransactionWithWeb(e3, t3) {
        return new Promise((n5, a5) => {
          const o4 = M3(t3);
          "Chrome" === D4() ? g5().then((t4) => {
            var i4, l5, s3, c4;
            const u5 = t4, f4 = document.createElement("iframe"), w5 = x5(o4.TRANSACTION_SIGN), g6 = `hid ${w5}; bluetooth ${w5}`;
            f4.setAttribute("id", "daffi-wallet-iframe"), f4.setAttribute("src", w5), f4.setAttribute("allow", g6), null == u5 || u5.appendChild(f4);
            const h7 = null === (s3 = null === (l5 = null === (i4 = document.getElementById("daffi-wallet-sign-txn-modal-wrapper")) || void 0 === i4 ? void 0 : i4.querySelector("daffi-wallet-sign-txn-modal")) || void 0 === l5 ? void 0 : l5.shadowRoot) || void 0 === s3 ? void 0 : s3.querySelector("daffi-wallet-modal-header"), v3 = null === (c4 = null == h7 ? void 0 : h7.shadowRoot) || void 0 === c4 ? void 0 : c4.getElementById("daffi-wallet-modal-header-close-button");
            if (v3 && v3.addEventListener("click", () => {
              a5(new r3({ type: "SIGN_TXN_CANCELLED" }, "Transaction signing is cancelled by user.")), p6("daffi-wallet-sign-txn-modal-wrapper");
            }), f4.contentWindow) {
              let t5 = 0;
              const i5 = setInterval(() => {
                t5 += 1, 50 !== t5 ? d3.sendMessage({ message: { type: "IFRAME_INITIALIZED" }, origin: o4.CONNECT, targetWindow: f4.contentWindow }) : clearInterval(i5);
              }, 700);
              d3.setupListener({ onReceiveMessage: (t6) => {
                var l6, s4, c5;
                "IFRAME_INITIALIZED_RECEIVED" === t6.data.message.type && (clearInterval(i5), d3.sendMessage({ message: { type: "SIGN_TXN", txn: e3 }, origin: x5(o4.TRANSACTION_SIGN), targetWindow: f4.contentWindow })), "SIGN_TXN_CALLBACK" === t6.data.message.type && (null === (l6 = document.getElementById("daffi-wallet-iframe")) || void 0 === l6 || l6.remove(), m3(), n5(t6.data.message.signedTxns.map((e4) => S3(e4.signedTxn)))), "SIGN_TXN_NETWORK_MISMATCH" === t6.data.message.type && a5(new r3({ type: "SIGN_TXN_NETWORK_MISMATCH", detail: t6.data.message.error }, t6.data.message.error || "Network mismatch")), "SESSION_DISCONNECTED" === t6.data.message.type && (null === (s4 = document.getElementById("daffi-wallet-iframe")) || void 0 === s4 || s4.remove(), m3(), T2(), a5(new r3({ type: "SESSION_DISCONNECTED", detail: t6.data.message.error }, t6.data.message.error))), "SIGN_TXN_CALLBACK_ERROR" === t6.data.message.type && (null === (c5 = document.getElementById("daffi-wallet-iframe")) || void 0 === c5 || c5.remove(), m3(), a5(new r3({ type: "SIGN_TXN_CANCELLED" }, t6.data.message.error)));
              } });
            }
          }).catch((e4) => {
            console.log(e4);
          }) : f3(o4.TRANSACTION_SIGN).then((t4) => {
            t4 && d3.sendMessage({ message: { type: "SIGN_TXN", txn: e3 }, origin: o4.TRANSACTION_SIGN, targetWindow: t4 });
            const i4 = setInterval(() => {
              true === (null == t4 ? void 0 : t4.closed) && (a5(new r3({ type: "SIGN_TXN_CANCELLED" }, "Transaction signing is cancelled by user.")), clearInterval(i4));
            }, 2e3);
            d3.setupListener({ onReceiveMessage: (e4) => {
              "SIGN_TXN_CALLBACK" === e4.data.message.type && (null == t4 || t4.close(), n5(e4.data.message.signedTxns.map((e5) => S3(e5.signedTxn)))), "SIGN_TXN_NETWORK_MISMATCH" === e4.data.message.type && a5(new r3({ type: "SIGN_TXN_NETWORK_MISMATCH", detail: e4.data.message.error }, e4.data.message.error || "Network mismatch")), "SESSION_DISCONNECTED" === e4.data.message.type && (null == t4 || t4.close(), T2(), a5(new r3({ type: "SESSION_DISCONNECTED", detail: e4.data.message.error }, e4.data.message.error))), "SIGN_TXN_CALLBACK_ERROR" === e4.data.message.type && (null == t4 || t4.close(), a5(new r3({ type: "SIGN_TXN_CANCELLED" }, e4.data.message.error)));
            } });
          }).catch((e4) => {
            a5(e4);
          });
        });
      }
      signTransaction(e3, t3) {
        return s2(this, void 0, void 0, function* () {
          if ("mobile" === this.platform && (L3() ? w4("daffi-wallet-redirect-modal-wrapper").innerHTML = "<daffi-wallet-redirect-modal></daffi-wallet-redirect-modal>" : !L3() && this.shouldShowSignTxnToast && (w4("daffi-wallet-sign-txn-toast-wrapper").innerHTML = "<daffi-wallet-sign-txn-toast></daffi-wallet-sign-txn-toast>"), !this.connector))
            throw new Error("DaffiWalletConnect was not initialized correctly.");
          const n5 = e3.flatMap((e4) => e4.map((e5) => function(e6, t4) {
            let n6;
            t4 && !(e6.signers || []).includes(t4) && (n6 = []);
            const a5 = { txn: (o4 = e6.txn, Buffer.from(i3.default.encodeUnsignedTransaction(o4)).toString("base64")) };
            var o4;
            return Array.isArray(n6) && (a5.signers = n6), e6.authAddr && (a5.authAddr = e6.authAddr), e6.message && (a5.message = e6.message), e6.msig && (a5.msig = e6.msig), a5;
          }(e5, t3)));
          if ("web" === this.platform) {
            const { webWalletURL: e4 } = yield _4();
            return this.signTransactionWithWeb(n5, e4);
          }
          return this.signTransactionWithMobile(n5);
        });
      }
    }, exports2.closeDaffiWalletSignTxnToast = function() {
      p6("daffi-wallet-sign-txn-toast-wrapper");
    }, exports2.detectBrowser = D4, exports2.generateDaffiWalletAppDeepLink = R3, exports2.generateDaffiWalletConnectDeepLink = function(e3) {
      let t3 = R3(false);
      O4() && !t3.includes("-wc") && (t3 = t3.replace("://", "-wc://"));
      let n5 = `${t3}wc?uri=${encodeURIComponent(e3)}`;
      const a5 = D4();
      return b3() && (n5 = e3), a5 && (n5 = `${n5}&browser=${encodeURIComponent(a5)}`), n5;
    }, exports2.isIOS = O4, exports2.isMobile = L3, exports2.removeModalWrapperFromDOM = p6;
  }
});

// node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/index.js
var require_dist3 = __commonJS({
  "node_modules/.pnpm/@daffiwallet+connect@1.0.3_algosdk@2.7.0/node_modules/@daffiwallet/connect/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var e2 = require_index_ba034060();
    init_esm11(), init_esm(), require_es5(), exports2.DaffiWalletConnect = e2.DaffiWalletConnect, exports2.closeDaffiWalletSignTxnToast = e2.closeDaffiWalletSignTxnToast;
  }
});

// node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-4bd36a8f.js
function o() {
  o.init.call(this);
}
function u(e2) {
  if ("function" != typeof e2)
    throw new TypeError('The "listener" argument must be of type Function. Received type ' + typeof e2);
}
function f(e2) {
  return void 0 === e2._maxListeners ? o.defaultMaxListeners : e2._maxListeners;
}
function v(e2, t2, n4, r3) {
  var i3, o3, s2, v2;
  if (u(n4), void 0 === (o3 = e2._events) ? (o3 = e2._events = /* @__PURE__ */ Object.create(null), e2._eventsCount = 0) : (void 0 !== o3.newListener && (e2.emit("newListener", t2, n4.listener ? n4.listener : n4), o3 = e2._events), s2 = o3[t2]), void 0 === s2)
    s2 = o3[t2] = n4, ++e2._eventsCount;
  else if ("function" == typeof s2 ? s2 = o3[t2] = r3 ? [n4, s2] : [s2, n4] : r3 ? s2.unshift(n4) : s2.push(n4), (i3 = f(e2)) > 0 && s2.length > i3 && !s2.warned) {
    s2.warned = true;
    var a4 = new Error("Possible EventEmitter memory leak detected. " + s2.length + " " + String(t2) + " listeners added. Use emitter.setMaxListeners() to increase limit");
    a4.name = "MaxListenersExceededWarning", a4.emitter = e2, a4.type = t2, a4.count = s2.length, v2 = a4, console && console.warn && console.warn(v2);
  }
  return e2;
}
function a() {
  if (!this.fired)
    return this.target.removeListener(this.type, this.wrapFn), this.fired = true, 0 === arguments.length ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);
}
function l(e2, t2, n4) {
  var r3 = { fired: false, wrapFn: void 0, target: e2, type: t2, listener: n4 }, i3 = a.bind(r3);
  return i3.listener = n4, r3.wrapFn = i3, i3;
}
function h(e2, t2, n4) {
  var r3 = e2._events;
  if (void 0 === r3)
    return [];
  var i3 = r3[t2];
  return void 0 === i3 ? [] : "function" == typeof i3 ? n4 ? [i3.listener || i3] : [i3] : n4 ? function(e3) {
    for (var t3 = new Array(e3.length), n5 = 0; n5 < t3.length; ++n5)
      t3[n5] = e3[n5].listener || e3[n5];
    return t3;
  }(i3) : c(i3, i3.length);
}
function p2(e2) {
  var t2 = this._events;
  if (void 0 !== t2) {
    var n4 = t2[e2];
    if ("function" == typeof n4)
      return 1;
    if (void 0 !== n4)
      return n4.length;
  }
  return 0;
}
function c(e2, t2) {
  for (var n4 = new Array(t2), r3 = 0; r3 < t2; ++r3)
    n4[r3] = e2[r3];
  return n4;
}
var e, t, n, r, i, s, y2;
var init_chunk_4bd36a8f = __esm({
  "node_modules/.pnpm/@jspm+core@2.0.1/node_modules/@jspm/core/nodelibs/browser/chunk-4bd36a8f.js"() {
    n = "object" == typeof Reflect ? Reflect : null;
    r = n && "function" == typeof n.apply ? n.apply : function(e2, t2, n4) {
      return Function.prototype.apply.call(e2, t2, n4);
    };
    t = n && "function" == typeof n.ownKeys ? n.ownKeys : Object.getOwnPropertySymbols ? function(e2) {
      return Object.getOwnPropertyNames(e2).concat(Object.getOwnPropertySymbols(e2));
    } : function(e2) {
      return Object.getOwnPropertyNames(e2);
    };
    i = Number.isNaN || function(e2) {
      return e2 != e2;
    };
    e = o, o.EventEmitter = o, o.prototype._events = void 0, o.prototype._eventsCount = 0, o.prototype._maxListeners = void 0;
    s = 10;
    Object.defineProperty(o, "defaultMaxListeners", { enumerable: true, get: function() {
      return s;
    }, set: function(e2) {
      if ("number" != typeof e2 || e2 < 0 || i(e2))
        throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received ' + e2 + ".");
      s = e2;
    } }), o.init = function() {
      void 0 !== this._events && this._events !== Object.getPrototypeOf(this)._events || (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;
    }, o.prototype.setMaxListeners = function(e2) {
      if ("number" != typeof e2 || e2 < 0 || i(e2))
        throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received ' + e2 + ".");
      return this._maxListeners = e2, this;
    }, o.prototype.getMaxListeners = function() {
      return f(this);
    }, o.prototype.emit = function(e2) {
      for (var t2 = [], n4 = 1; n4 < arguments.length; n4++)
        t2.push(arguments[n4]);
      var i3 = "error" === e2, o3 = this._events;
      if (void 0 !== o3)
        i3 = i3 && void 0 === o3.error;
      else if (!i3)
        return false;
      if (i3) {
        var s2;
        if (t2.length > 0 && (s2 = t2[0]), s2 instanceof Error)
          throw s2;
        var u4 = new Error("Unhandled error." + (s2 ? " (" + s2.message + ")" : ""));
        throw u4.context = s2, u4;
      }
      var f3 = o3[e2];
      if (void 0 === f3)
        return false;
      if ("function" == typeof f3)
        r(f3, this, t2);
      else {
        var v2 = f3.length, a4 = c(f3, v2);
        for (n4 = 0; n4 < v2; ++n4)
          r(a4[n4], this, t2);
      }
      return true;
    }, o.prototype.addListener = function(e2, t2) {
      return v(this, e2, t2, false);
    }, o.prototype.on = o.prototype.addListener, o.prototype.prependListener = function(e2, t2) {
      return v(this, e2, t2, true);
    }, o.prototype.once = function(e2, t2) {
      return u(t2), this.on(e2, l(this, e2, t2)), this;
    }, o.prototype.prependOnceListener = function(e2, t2) {
      return u(t2), this.prependListener(e2, l(this, e2, t2)), this;
    }, o.prototype.removeListener = function(e2, t2) {
      var n4, r3, i3, o3, s2;
      if (u(t2), void 0 === (r3 = this._events))
        return this;
      if (void 0 === (n4 = r3[e2]))
        return this;
      if (n4 === t2 || n4.listener === t2)
        0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : (delete r3[e2], r3.removeListener && this.emit("removeListener", e2, n4.listener || t2));
      else if ("function" != typeof n4) {
        for (i3 = -1, o3 = n4.length - 1; o3 >= 0; o3--)
          if (n4[o3] === t2 || n4[o3].listener === t2) {
            s2 = n4[o3].listener, i3 = o3;
            break;
          }
        if (i3 < 0)
          return this;
        0 === i3 ? n4.shift() : !function(e3, t3) {
          for (; t3 + 1 < e3.length; t3++)
            e3[t3] = e3[t3 + 1];
          e3.pop();
        }(n4, i3), 1 === n4.length && (r3[e2] = n4[0]), void 0 !== r3.removeListener && this.emit("removeListener", e2, s2 || t2);
      }
      return this;
    }, o.prototype.off = o.prototype.removeListener, o.prototype.removeAllListeners = function(e2) {
      var t2, n4, r3;
      if (void 0 === (n4 = this._events))
        return this;
      if (void 0 === n4.removeListener)
        return 0 === arguments.length ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : void 0 !== n4[e2] && (0 == --this._eventsCount ? this._events = /* @__PURE__ */ Object.create(null) : delete n4[e2]), this;
      if (0 === arguments.length) {
        var i3, o3 = Object.keys(n4);
        for (r3 = 0; r3 < o3.length; ++r3)
          "removeListener" !== (i3 = o3[r3]) && this.removeAllListeners(i3);
        return this.removeAllListeners("removeListener"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;
      }
      if ("function" == typeof (t2 = n4[e2]))
        this.removeListener(e2, t2);
      else if (void 0 !== t2)
        for (r3 = t2.length - 1; r3 >= 0; r3--)
          this.removeListener(e2, t2[r3]);
      return this;
    }, o.prototype.listeners = function(e2) {
      return h(this, e2, true);
    }, o.prototype.rawListeners = function(e2) {
      return h(this, e2, false);
    }, o.listenerCount = function(e2, t2) {
      return "function" == typeof e2.listenerCount ? e2.listenerCount(t2) : p2.call(e2, t2);
    }, o.prototype.listenerCount = p2, o.prototype.eventNames = function() {
      return this._eventsCount > 0 ? t(this._events) : [];
    };
    y2 = e;
    y2.EventEmitter;
    y2.defaultMaxListeners;
    y2.init;
    y2.listenerCount;
    y2.EventEmitter;
    y2.defaultMaxListeners;
    y2.init;
    y2.listenerCount;
  }
});

// node-modules-polyfills:events
var EventEmitter, defaultMaxListeners, init, listenerCount, on, once;
var init_events2 = __esm({
  "node-modules-polyfills:events"() {
    init_chunk_4bd36a8f();
    init_chunk_4bd36a8f();
    y2.once = function(emitter, event) {
      return new Promise((resolve, reject) => {
        function eventListener(...args) {
          if (errorListener !== void 0) {
            emitter.removeListener("error", errorListener);
          }
          resolve(args);
        }
        let errorListener;
        if (event !== "error") {
          errorListener = (err) => {
            emitter.removeListener(name, eventListener);
            reject(err);
          };
          emitter.once("error", errorListener);
        }
        emitter.once(event, eventListener);
      });
    };
    y2.on = function(emitter, event) {
      const unconsumedEventValues = [];
      const unconsumedPromises = [];
      let error = null;
      let finished = false;
      const iterator = {
        async next() {
          const value2 = unconsumedEventValues.shift();
          if (value2) {
            return createIterResult(value2, false);
          }
          if (error) {
            const p6 = Promise.reject(error);
            error = null;
            return p6;
          }
          if (finished) {
            return createIterResult(void 0, true);
          }
          return new Promise((resolve, reject) => unconsumedPromises.push({ resolve, reject }));
        },
        async return() {
          emitter.removeListener(event, eventHandler);
          emitter.removeListener("error", errorHandler);
          finished = true;
          for (const promise of unconsumedPromises) {
            promise.resolve(createIterResult(void 0, true));
          }
          return createIterResult(void 0, true);
        },
        throw(err) {
          error = err;
          emitter.removeListener(event, eventHandler);
          emitter.removeListener("error", errorHandler);
        },
        [Symbol.asyncIterator]() {
          return this;
        }
      };
      emitter.on(event, eventHandler);
      emitter.on("error", errorHandler);
      return iterator;
      function eventHandler(...args) {
        const promise = unconsumedPromises.shift();
        if (promise) {
          promise.resolve(createIterResult(args, false));
        } else {
          unconsumedEventValues.push(args);
        }
      }
      function errorHandler(err) {
        finished = true;
        const toError = unconsumedPromises.shift();
        if (toError) {
          toError.reject(err);
        } else {
          error = err;
        }
        iterator.return();
      }
    };
    ({
      EventEmitter,
      defaultMaxListeners,
      init,
      listenerCount,
      on,
      once
    } = y2);
  }
});

// node-modules-polyfills-commonjs:events
var events_exports = {};
__export(events_exports, {
  EventEmitter: () => EventEmitter,
  defaultMaxListeners: () => defaultMaxListeners,
  init: () => init,
  listenerCount: () => listenerCount,
  on: () => on,
  once: () => once
});
var init_events3 = __esm({
  "node-modules-polyfills-commonjs:events"() {
    init_events2();
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/delay.js
var require_delay = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/delay.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.delay = void 0;
    function delay(timeout) {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve(true);
        }, timeout);
      });
    }
    exports2.delay = delay;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/misc.js
var require_misc = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/misc.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.ONE_THOUSAND = exports2.ONE_HUNDRED = void 0;
    exports2.ONE_HUNDRED = 100;
    exports2.ONE_THOUSAND = 1e3;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/time.js
var require_time = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/time.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.ONE_YEAR = exports2.FOUR_WEEKS = exports2.THREE_WEEKS = exports2.TWO_WEEKS = exports2.ONE_WEEK = exports2.THIRTY_DAYS = exports2.SEVEN_DAYS = exports2.FIVE_DAYS = exports2.THREE_DAYS = exports2.ONE_DAY = exports2.TWENTY_FOUR_HOURS = exports2.TWELVE_HOURS = exports2.SIX_HOURS = exports2.THREE_HOURS = exports2.ONE_HOUR = exports2.SIXTY_MINUTES = exports2.THIRTY_MINUTES = exports2.TEN_MINUTES = exports2.FIVE_MINUTES = exports2.ONE_MINUTE = exports2.SIXTY_SECONDS = exports2.THIRTY_SECONDS = exports2.TEN_SECONDS = exports2.FIVE_SECONDS = exports2.ONE_SECOND = void 0;
    exports2.ONE_SECOND = 1;
    exports2.FIVE_SECONDS = 5;
    exports2.TEN_SECONDS = 10;
    exports2.THIRTY_SECONDS = 30;
    exports2.SIXTY_SECONDS = 60;
    exports2.ONE_MINUTE = exports2.SIXTY_SECONDS;
    exports2.FIVE_MINUTES = exports2.ONE_MINUTE * 5;
    exports2.TEN_MINUTES = exports2.ONE_MINUTE * 10;
    exports2.THIRTY_MINUTES = exports2.ONE_MINUTE * 30;
    exports2.SIXTY_MINUTES = exports2.ONE_MINUTE * 60;
    exports2.ONE_HOUR = exports2.SIXTY_MINUTES;
    exports2.THREE_HOURS = exports2.ONE_HOUR * 3;
    exports2.SIX_HOURS = exports2.ONE_HOUR * 6;
    exports2.TWELVE_HOURS = exports2.ONE_HOUR * 12;
    exports2.TWENTY_FOUR_HOURS = exports2.ONE_HOUR * 24;
    exports2.ONE_DAY = exports2.TWENTY_FOUR_HOURS;
    exports2.THREE_DAYS = exports2.ONE_DAY * 3;
    exports2.FIVE_DAYS = exports2.ONE_DAY * 5;
    exports2.SEVEN_DAYS = exports2.ONE_DAY * 7;
    exports2.THIRTY_DAYS = exports2.ONE_DAY * 30;
    exports2.ONE_WEEK = exports2.SEVEN_DAYS;
    exports2.TWO_WEEKS = exports2.ONE_WEEK * 2;
    exports2.THREE_WEEKS = exports2.ONE_WEEK * 3;
    exports2.FOUR_WEEKS = exports2.ONE_WEEK * 4;
    exports2.ONE_YEAR = exports2.ONE_DAY * 365;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/index.js
var require_constants = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/constants/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_misc(), exports2);
    tslib_1.__exportStar(require_time(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/convert.js
var require_convert = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/convert.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.fromMiliseconds = exports2.toMiliseconds = void 0;
    var constants_1 = require_constants();
    function toMiliseconds(seconds) {
      return seconds * constants_1.ONE_THOUSAND;
    }
    exports2.toMiliseconds = toMiliseconds;
    function fromMiliseconds2(miliseconds) {
      return Math.floor(miliseconds / constants_1.ONE_THOUSAND);
    }
    exports2.fromMiliseconds = fromMiliseconds2;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/index.js
var require_utils = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/utils/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_delay(), exports2);
    tslib_1.__exportStar(require_convert(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/watch.js
var require_watch = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/watch.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.Watch = void 0;
    var Watch = class {
      constructor() {
        this.timestamps = /* @__PURE__ */ new Map();
      }
      start(label) {
        if (this.timestamps.has(label)) {
          throw new Error(`Watch already started for label: ${label}`);
        }
        this.timestamps.set(label, { started: Date.now() });
      }
      stop(label) {
        const timestamp = this.get(label);
        if (typeof timestamp.elapsed !== "undefined") {
          throw new Error(`Watch already stopped for label: ${label}`);
        }
        const elapsed = Date.now() - timestamp.started;
        this.timestamps.set(label, { started: timestamp.started, elapsed });
      }
      get(label) {
        const timestamp = this.timestamps.get(label);
        if (typeof timestamp === "undefined") {
          throw new Error(`No timestamp found for label: ${label}`);
        }
        return timestamp;
      }
      elapsed(label) {
        const timestamp = this.get(label);
        const elapsed = timestamp.elapsed || Date.now() - timestamp.started;
        return elapsed;
      }
    };
    exports2.Watch = Watch;
    exports2.default = Watch;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/watch.js
var require_watch2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/watch.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.IWatch = void 0;
    var IWatch = class {
    };
    exports2.IWatch = IWatch;
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/index.js
var require_types = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/types/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_watch2(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js
var require_cjs4 = __commonJS({
  "node_modules/.pnpm/@walletconnect+time@1.0.2/node_modules/@walletconnect/time/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_utils(), exports2);
    tslib_1.__exportStar(require_watch(), exports2);
    tslib_1.__exportStar(require_types(), exports2);
    tslib_1.__exportStar(require_constants(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/events.js
var IEvents2;
var init_events4 = __esm({
  "node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/events.js"() {
    IEvents2 = class {
    };
  }
});

// node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/index.js
var esm_exports7 = {};
__export(esm_exports7, {
  IEvents: () => IEvents2
});
var init_esm12 = __esm({
  "node_modules/.pnpm/@walletconnect+events@1.0.1/node_modules/@walletconnect/events/dist/esm/index.js"() {
    init_events4();
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/heartbeat.js
var require_heartbeat = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/heartbeat.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.IHeartBeat = void 0;
    var events_1 = (init_esm12(), __toCommonJS(esm_exports7));
    var IHeartBeat = class extends events_1.IEvents {
      constructor(opts) {
        super();
      }
    };
    exports2.IHeartBeat = IHeartBeat;
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js
var require_types2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/types/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_heartbeat(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/heartbeat.js
var require_heartbeat2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/heartbeat.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.HEARTBEAT_EVENTS = exports2.HEARTBEAT_INTERVAL = void 0;
    var time_1 = require_cjs4();
    exports2.HEARTBEAT_INTERVAL = time_1.FIVE_SECONDS;
    exports2.HEARTBEAT_EVENTS = {
      pulse: "heartbeat_pulse"
    };
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js
var require_constants2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/constants/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_heartbeat2(), exports2);
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/heartbeat.js
var require_heartbeat3 = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/heartbeat.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.HeartBeat = void 0;
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    var events_1 = (init_events3(), __toCommonJS(events_exports));
    var time_1 = require_cjs4();
    var types_1 = require_types2();
    var constants_1 = require_constants2();
    var HeartBeat = class extends types_1.IHeartBeat {
      constructor(opts) {
        super(opts);
        this.events = new events_1.EventEmitter();
        this.interval = constants_1.HEARTBEAT_INTERVAL;
        this.interval = (opts === null || opts === void 0 ? void 0 : opts.interval) || constants_1.HEARTBEAT_INTERVAL;
      }
      static init(opts) {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
          const heartbeat = new HeartBeat(opts);
          yield heartbeat.init();
          return heartbeat;
        });
      }
      init() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
          yield this.initialize();
        });
      }
      stop() {
        clearInterval(this.intervalRef);
      }
      on(event, listener) {
        this.events.on(event, listener);
      }
      once(event, listener) {
        this.events.once(event, listener);
      }
      off(event, listener) {
        this.events.off(event, listener);
      }
      removeListener(event, listener) {
        this.events.removeListener(event, listener);
      }
      initialize() {
        return tslib_1.__awaiter(this, void 0, void 0, function* () {
          this.intervalRef = setInterval(() => this.pulse(), time_1.toMiliseconds(this.interval));
        });
      }
      pulse() {
        this.events.emit(constants_1.HEARTBEAT_EVENTS.pulse);
      }
    };
    exports2.HeartBeat = HeartBeat;
  }
});

// node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/index.js
var require_cjs5 = __commonJS({
  "node_modules/.pnpm/@walletconnect+heartbeat@1.2.1/node_modules/@walletconnect/heartbeat/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    tslib_1.__exportStar(require_heartbeat3(), exports2);
    tslib_1.__exportStar(require_types2(), exports2);
    tslib_1.__exportStar(require_constants2(), exports2);
  }
});

// node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js
var require_quick_format_unescaped = __commonJS({
  "node_modules/.pnpm/quick-format-unescaped@4.0.4/node_modules/quick-format-unescaped/index.js"(exports2, module2) {
    "use strict";
    function tryStringify(o3) {
      try {
        return JSON.stringify(o3);
      } catch (e2) {
        return '"[Circular]"';
      }
    }
    module2.exports = format;
    function format(f3, args, opts) {
      var ss2 = opts && opts.stringify || tryStringify;
      var offset = 1;
      if (typeof f3 === "object" && f3 !== null) {
        var len = args.length + offset;
        if (len === 1)
          return f3;
        var objects = new Array(len);
        objects[0] = ss2(f3);
        for (var index2 = 1; index2 < len; index2++) {
          objects[index2] = ss2(args[index2]);
        }
        return objects.join(" ");
      }
      if (typeof f3 !== "string") {
        return f3;
      }
      var argLen = args.length;
      if (argLen === 0)
        return f3;
      var str = "";
      var a4 = 1 - offset;
      var lastPos = -1;
      var flen = f3 && f3.length || 0;
      for (var i3 = 0; i3 < flen; ) {
        if (f3.charCodeAt(i3) === 37 && i3 + 1 < flen) {
          lastPos = lastPos > -1 ? lastPos : 0;
          switch (f3.charCodeAt(i3 + 1)) {
            case 100:
            case 102:
              if (a4 >= argLen)
                break;
              if (args[a4] == null)
                break;
              if (lastPos < i3)
                str += f3.slice(lastPos, i3);
              str += Number(args[a4]);
              lastPos = i3 + 2;
              i3++;
              break;
            case 105:
              if (a4 >= argLen)
                break;
              if (args[a4] == null)
                break;
              if (lastPos < i3)
                str += f3.slice(lastPos, i3);
              str += Math.floor(Number(args[a4]));
              lastPos = i3 + 2;
              i3++;
              break;
            case 79:
            case 111:
            case 106:
              if (a4 >= argLen)
                break;
              if (args[a4] === void 0)
                break;
              if (lastPos < i3)
                str += f3.slice(lastPos, i3);
              var type = typeof args[a4];
              if (type === "string") {
                str += "'" + args[a4] + "'";
                lastPos = i3 + 2;
                i3++;
                break;
              }
              if (type === "function") {
                str += args[a4].name || "<anonymous>";
                lastPos = i3 + 2;
                i3++;
                break;
              }
              str += ss2(args[a4]);
              lastPos = i3 + 2;
              i3++;
              break;
            case 115:
              if (a4 >= argLen)
                break;
              if (lastPos < i3)
                str += f3.slice(lastPos, i3);
              str += String(args[a4]);
              lastPos = i3 + 2;
              i3++;
              break;
            case 37:
              if (lastPos < i3)
                str += f3.slice(lastPos, i3);
              str += "%";
              lastPos = i3 + 2;
              i3++;
              a4--;
              break;
          }
          ++a4;
        }
        ++i3;
      }
      if (lastPos === -1)
        return f3;
      else if (lastPos < flen) {
        str += f3.slice(lastPos);
      }
      return str;
    }
  }
});

// node_modules/.pnpm/pino@7.11.0/node_modules/pino/browser.js
var require_browser2 = __commonJS({
  "node_modules/.pnpm/pino@7.11.0/node_modules/pino/browser.js"(exports2, module2) {
    "use strict";
    var format = require_quick_format_unescaped();
    module2.exports = pino;
    var _console = pfGlobalThisOrFallback().console || {};
    var stdSerializers = {
      mapHttpRequest: mock,
      mapHttpResponse: mock,
      wrapRequestSerializer: passthrough,
      wrapResponseSerializer: passthrough,
      wrapErrorSerializer: passthrough,
      req: mock,
      res: mock,
      err: asErrValue
    };
    function shouldSerialize(serialize, serializers) {
      if (Array.isArray(serialize)) {
        const hasToFilter = serialize.filter(function(k3) {
          return k3 !== "!stdSerializers.err";
        });
        return hasToFilter;
      } else if (serialize === true) {
        return Object.keys(serializers);
      }
      return false;
    }
    function pino(opts) {
      opts = opts || {};
      opts.browser = opts.browser || {};
      const transmit2 = opts.browser.transmit;
      if (transmit2 && typeof transmit2.send !== "function") {
        throw Error("pino: transmit option must have a send function");
      }
      const proto = opts.browser.write || _console;
      if (opts.browser.write)
        opts.browser.asObject = true;
      const serializers = opts.serializers || {};
      const serialize = shouldSerialize(opts.browser.serialize, serializers);
      let stdErrSerialize = opts.browser.serialize;
      if (Array.isArray(opts.browser.serialize) && opts.browser.serialize.indexOf("!stdSerializers.err") > -1)
        stdErrSerialize = false;
      const levels = ["error", "fatal", "warn", "info", "debug", "trace"];
      if (typeof proto === "function") {
        proto.error = proto.fatal = proto.warn = proto.info = proto.debug = proto.trace = proto;
      }
      if (opts.enabled === false)
        opts.level = "silent";
      const level = opts.level || "info";
      const logger = Object.create(proto);
      if (!logger.log)
        logger.log = noop;
      Object.defineProperty(logger, "levelVal", {
        get: getLevelVal
      });
      Object.defineProperty(logger, "level", {
        get: getLevel,
        set: setLevel
      });
      const setOpts = {
        transmit: transmit2,
        serialize,
        asObject: opts.browser.asObject,
        levels,
        timestamp: getTimeFunction(opts)
      };
      logger.levels = pino.levels;
      logger.level = level;
      logger.setMaxListeners = logger.getMaxListeners = logger.emit = logger.addListener = logger.on = logger.prependListener = logger.once = logger.prependOnceListener = logger.removeListener = logger.removeAllListeners = logger.listeners = logger.listenerCount = logger.eventNames = logger.write = logger.flush = noop;
      logger.serializers = serializers;
      logger._serialize = serialize;
      logger._stdErrSerialize = stdErrSerialize;
      logger.child = child;
      if (transmit2)
        logger._logEvent = createLogEventShape();
      function getLevelVal() {
        return this.level === "silent" ? Infinity : this.levels.values[this.level];
      }
      function getLevel() {
        return this._level;
      }
      function setLevel(level2) {
        if (level2 !== "silent" && !this.levels.values[level2]) {
          throw Error("unknown level " + level2);
        }
        this._level = level2;
        set2(setOpts, logger, "error", "log");
        set2(setOpts, logger, "fatal", "error");
        set2(setOpts, logger, "warn", "error");
        set2(setOpts, logger, "info", "log");
        set2(setOpts, logger, "debug", "log");
        set2(setOpts, logger, "trace", "log");
      }
      function child(bindings, childOptions) {
        if (!bindings) {
          throw new Error("missing bindings for child Pino");
        }
        childOptions = childOptions || {};
        if (serialize && bindings.serializers) {
          childOptions.serializers = bindings.serializers;
        }
        const childOptionsSerializers = childOptions.serializers;
        if (serialize && childOptionsSerializers) {
          var childSerializers = Object.assign({}, serializers, childOptionsSerializers);
          var childSerialize = opts.browser.serialize === true ? Object.keys(childSerializers) : serialize;
          delete bindings.serializers;
          applySerializers([bindings], childSerialize, childSerializers, this._stdErrSerialize);
        }
        function Child(parent2) {
          this._childLevel = (parent2._childLevel | 0) + 1;
          this.error = bind(parent2, bindings, "error");
          this.fatal = bind(parent2, bindings, "fatal");
          this.warn = bind(parent2, bindings, "warn");
          this.info = bind(parent2, bindings, "info");
          this.debug = bind(parent2, bindings, "debug");
          this.trace = bind(parent2, bindings, "trace");
          if (childSerializers) {
            this.serializers = childSerializers;
            this._serialize = childSerialize;
          }
          if (transmit2) {
            this._logEvent = createLogEventShape(
              [].concat(parent2._logEvent.bindings, bindings)
            );
          }
        }
        Child.prototype = this;
        return new Child(this);
      }
      return logger;
    }
    pino.levels = {
      values: {
        fatal: 60,
        error: 50,
        warn: 40,
        info: 30,
        debug: 20,
        trace: 10
      },
      labels: {
        10: "trace",
        20: "debug",
        30: "info",
        40: "warn",
        50: "error",
        60: "fatal"
      }
    };
    pino.stdSerializers = stdSerializers;
    pino.stdTimeFunctions = Object.assign({}, { nullTime, epochTime, unixTime, isoTime });
    function set2(opts, logger, level, fallback) {
      const proto = Object.getPrototypeOf(logger);
      logger[level] = logger.levelVal > logger.levels.values[level] ? noop : proto[level] ? proto[level] : _console[level] || _console[fallback] || noop;
      wrap(opts, logger, level);
    }
    function wrap(opts, logger, level) {
      if (!opts.transmit && logger[level] === noop)
        return;
      logger[level] = function(write) {
        return function LOG() {
          const ts2 = opts.timestamp();
          const args = new Array(arguments.length);
          const proto = Object.getPrototypeOf && Object.getPrototypeOf(this) === _console ? _console : this;
          for (var i3 = 0; i3 < args.length; i3++)
            args[i3] = arguments[i3];
          if (opts.serialize && !opts.asObject) {
            applySerializers(args, this._serialize, this.serializers, this._stdErrSerialize);
          }
          if (opts.asObject)
            write.call(proto, asObject(this, level, args, ts2));
          else
            write.apply(proto, args);
          if (opts.transmit) {
            const transmitLevel = opts.transmit.level || logger.level;
            const transmitValue = pino.levels.values[transmitLevel];
            const methodValue = pino.levels.values[level];
            if (methodValue < transmitValue)
              return;
            transmit(this, {
              ts: ts2,
              methodLevel: level,
              methodValue,
              transmitLevel,
              transmitValue: pino.levels.values[opts.transmit.level || logger.level],
              send: opts.transmit.send,
              val: logger.levelVal
            }, args);
          }
        };
      }(logger[level]);
    }
    function asObject(logger, level, args, ts2) {
      if (logger._serialize)
        applySerializers(args, logger._serialize, logger.serializers, logger._stdErrSerialize);
      const argsCloned = args.slice();
      let msg = argsCloned[0];
      const o3 = {};
      if (ts2) {
        o3.time = ts2;
      }
      o3.level = pino.levels.values[level];
      let lvl = (logger._childLevel | 0) + 1;
      if (lvl < 1)
        lvl = 1;
      if (msg !== null && typeof msg === "object") {
        while (lvl-- && typeof argsCloned[0] === "object") {
          Object.assign(o3, argsCloned.shift());
        }
        msg = argsCloned.length ? format(argsCloned.shift(), argsCloned) : void 0;
      } else if (typeof msg === "string")
        msg = format(argsCloned.shift(), argsCloned);
      if (msg !== void 0)
        o3.msg = msg;
      return o3;
    }
    function applySerializers(args, serialize, serializers, stdErrSerialize) {
      for (const i3 in args) {
        if (stdErrSerialize && args[i3] instanceof Error) {
          args[i3] = pino.stdSerializers.err(args[i3]);
        } else if (typeof args[i3] === "object" && !Array.isArray(args[i3])) {
          for (const k3 in args[i3]) {
            if (serialize && serialize.indexOf(k3) > -1 && k3 in serializers) {
              args[i3][k3] = serializers[k3](args[i3][k3]);
            }
          }
        }
      }
    }
    function bind(parent2, bindings, level) {
      return function() {
        const args = new Array(1 + arguments.length);
        args[0] = bindings;
        for (var i3 = 1; i3 < args.length; i3++) {
          args[i3] = arguments[i3 - 1];
        }
        return parent2[level].apply(this, args);
      };
    }
    function transmit(logger, opts, args) {
      const send = opts.send;
      const ts2 = opts.ts;
      const methodLevel = opts.methodLevel;
      const methodValue = opts.methodValue;
      const val2 = opts.val;
      const bindings = logger._logEvent.bindings;
      applySerializers(
        args,
        logger._serialize || Object.keys(logger.serializers),
        logger.serializers,
        logger._stdErrSerialize === void 0 ? true : logger._stdErrSerialize
      );
      logger._logEvent.ts = ts2;
      logger._logEvent.messages = args.filter(function(arg) {
        return bindings.indexOf(arg) === -1;
      });
      logger._logEvent.level.label = methodLevel;
      logger._logEvent.level.value = methodValue;
      send(methodLevel, logger._logEvent, val2);
      logger._logEvent = createLogEventShape(bindings);
    }
    function createLogEventShape(bindings) {
      return {
        ts: 0,
        messages: [],
        bindings: bindings || [],
        level: { label: "", value: 0 }
      };
    }
    function asErrValue(err) {
      const obj = {
        type: err.constructor.name,
        msg: err.message,
        stack: err.stack
      };
      for (const key2 in err) {
        if (obj[key2] === void 0) {
          obj[key2] = err[key2];
        }
      }
      return obj;
    }
    function getTimeFunction(opts) {
      if (typeof opts.timestamp === "function") {
        return opts.timestamp;
      }
      if (opts.timestamp === false) {
        return nullTime;
      }
      return epochTime;
    }
    function mock() {
      return {};
    }
    function passthrough(a4) {
      return a4;
    }
    function noop() {
    }
    function nullTime() {
      return false;
    }
    function epochTime() {
      return Date.now();
    }
    function unixTime() {
      return Math.round(Date.now() / 1e3);
    }
    function isoTime() {
      return new Date(Date.now()).toISOString();
    }
    function pfGlobalThisOrFallback() {
      function defd(o3) {
        return typeof o3 !== "undefined" && o3;
      }
      try {
        if (typeof globalThis !== "undefined")
          return globalThis;
        Object.defineProperty(Object.prototype, "globalThis", {
          get: function() {
            delete Object.prototype.globalThis;
            return this.globalThis = this;
          },
          configurable: true
        });
        return globalThis;
      } catch (e2) {
        return defd(self) || defd(window) || defd(this) || {};
      }
    }
  }
});

// node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/constants.js
var require_constants3 = __commonJS({
  "node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/constants.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.PINO_CUSTOM_CONTEXT_KEY = exports2.PINO_LOGGER_DEFAULTS = void 0;
    exports2.PINO_LOGGER_DEFAULTS = {
      level: "info"
    };
    exports2.PINO_CUSTOM_CONTEXT_KEY = "custom_context";
  }
});

// node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/utils.js
var require_utils2 = __commonJS({
  "node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/utils.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.generateChildLogger = exports2.formatChildLoggerContext = exports2.getLoggerContext = exports2.setBrowserLoggerContext = exports2.getBrowserLoggerContext = exports2.getDefaultLoggerOptions = void 0;
    var constants_1 = require_constants3();
    function getDefaultLoggerOptions(opts) {
      return Object.assign(Object.assign({}, opts), { level: (opts === null || opts === void 0 ? void 0 : opts.level) || constants_1.PINO_LOGGER_DEFAULTS.level });
    }
    exports2.getDefaultLoggerOptions = getDefaultLoggerOptions;
    function getBrowserLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {
      return logger[customContextKey] || "";
    }
    exports2.getBrowserLoggerContext = getBrowserLoggerContext;
    function setBrowserLoggerContext(logger, context, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {
      logger[customContextKey] = context;
      return logger;
    }
    exports2.setBrowserLoggerContext = setBrowserLoggerContext;
    function getLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {
      let context = "";
      if (typeof logger.bindings === "undefined") {
        context = getBrowserLoggerContext(logger, customContextKey);
      } else {
        context = logger.bindings().context || "";
      }
      return context;
    }
    exports2.getLoggerContext = getLoggerContext;
    function formatChildLoggerContext(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {
      const parentContext = getLoggerContext(logger, customContextKey);
      const context = parentContext.trim() ? `${parentContext}/${childContext}` : childContext;
      return context;
    }
    exports2.formatChildLoggerContext = formatChildLoggerContext;
    function generateChildLogger(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {
      const context = formatChildLoggerContext(logger, childContext, customContextKey);
      const child = logger.child({ context });
      return setBrowserLoggerContext(child, context, customContextKey);
    }
    exports2.generateChildLogger = generateChildLogger;
  }
});

// node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/index.js
var require_cjs6 = __commonJS({
  "node_modules/.pnpm/@walletconnect+logger@2.0.1/node_modules/@walletconnect/logger/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.pino = void 0;
    var tslib_1 = (init_tslib_es6(), __toCommonJS(tslib_es6_exports));
    var pino_1 = tslib_1.__importDefault(require_browser2());
    Object.defineProperty(exports2, "pino", { enumerable: true, get: function() {
      return pino_1.default;
    } });
    tslib_1.__exportStar(require_constants3(), exports2);
    tslib_1.__exportStar(require_utils2(), exports2);
  }
});

// node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/browser.js
var require_browser3 = __commonJS({
  "node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/browser.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.BrowserRandomSource = void 0;
    var QUOTA = 65536;
    var BrowserRandomSource = class {
      constructor() {
        this.isAvailable = false;
        this.isInstantiated = false;
        const browserCrypto = typeof self !== "undefined" ? self.crypto || self.msCrypto : null;
        if (browserCrypto && browserCrypto.getRandomValues !== void 0) {
          this._crypto = browserCrypto;
          this.isAvailable = true;
          this.isInstantiated = true;
        }
      }
      randomBytes(length3) {
        if (!this.isAvailable || !this._crypto) {
          throw new Error("Browser random byte generator is not available.");
        }
        const out = new Uint8Array(length3);
        for (let i3 = 0; i3 < out.length; i3 += QUOTA) {
          this._crypto.getRandomValues(out.subarray(i3, i3 + Math.min(out.length - i3, QUOTA)));
        }
        return out;
      }
    };
    exports2.BrowserRandomSource = BrowserRandomSource;
  }
});

// node_modules/.pnpm/@stablelib+wipe@1.0.1/node_modules/@stablelib/wipe/lib/wipe.js
var require_wipe = __commonJS({
  "node_modules/.pnpm/@stablelib+wipe@1.0.1/node_modules/@stablelib/wipe/lib/wipe.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    function wipe(array) {
      for (var i3 = 0; i3 < array.length; i3++) {
        array[i3] = 0;
      }
      return array;
    }
    exports2.wipe = wipe;
  }
});

// node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/node.js
var require_node = __commonJS({
  "node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/node.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.NodeRandomSource = void 0;
    var wipe_1 = require_wipe();
    var NodeRandomSource = class {
      constructor() {
        this.isAvailable = false;
        this.isInstantiated = false;
        if (typeof __require !== "undefined") {
          const nodeCrypto = require_crypto();
          if (nodeCrypto && nodeCrypto.randomBytes) {
            this._crypto = nodeCrypto;
            this.isAvailable = true;
            this.isInstantiated = true;
          }
        }
      }
      randomBytes(length3) {
        if (!this.isAvailable || !this._crypto) {
          throw new Error("Node.js random byte generator is not available.");
        }
        let buffer = this._crypto.randomBytes(length3);
        if (buffer.length !== length3) {
          throw new Error("NodeRandomSource: got fewer bytes than requested");
        }
        const out = new Uint8Array(length3);
        for (let i3 = 0; i3 < out.length; i3++) {
          out[i3] = buffer[i3];
        }
        (0, wipe_1.wipe)(buffer);
        return out;
      }
    };
    exports2.NodeRandomSource = NodeRandomSource;
  }
});

// node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/system.js
var require_system = __commonJS({
  "node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/source/system.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.SystemRandomSource = void 0;
    var browser_1 = require_browser3();
    var node_1 = require_node();
    var SystemRandomSource = class {
      constructor() {
        this.isAvailable = false;
        this.name = "";
        this._source = new browser_1.BrowserRandomSource();
        if (this._source.isAvailable) {
          this.isAvailable = true;
          this.name = "Browser";
          return;
        }
        this._source = new node_1.NodeRandomSource();
        if (this._source.isAvailable) {
          this.isAvailable = true;
          this.name = "Node";
          return;
        }
      }
      randomBytes(length3) {
        if (!this.isAvailable) {
          throw new Error("System random byte generator is not available.");
        }
        return this._source.randomBytes(length3);
      }
    };
    exports2.SystemRandomSource = SystemRandomSource;
  }
});

// node_modules/.pnpm/@stablelib+int@1.0.1/node_modules/@stablelib/int/lib/int.js
var require_int = __commonJS({
  "node_modules/.pnpm/@stablelib+int@1.0.1/node_modules/@stablelib/int/lib/int.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    function imulShim(a4, b3) {
      var ah = a4 >>> 16 & 65535, al = a4 & 65535;
      var bh = b3 >>> 16 & 65535, bl = b3 & 65535;
      return al * bl + (ah * bl + al * bh << 16 >>> 0) | 0;
    }
    exports2.mul = Math.imul || imulShim;
    function add2(a4, b3) {
      return a4 + b3 | 0;
    }
    exports2.add = add2;
    function sub2(a4, b3) {
      return a4 - b3 | 0;
    }
    exports2.sub = sub2;
    function rotl(x5, n4) {
      return x5 << n4 | x5 >>> 32 - n4;
    }
    exports2.rotl = rotl;
    function rotr(x5, n4) {
      return x5 << 32 - n4 | x5 >>> n4;
    }
    exports2.rotr = rotr;
    function isIntegerShim(n4) {
      return typeof n4 === "number" && isFinite(n4) && Math.floor(n4) === n4;
    }
    exports2.isInteger = Number.isInteger || isIntegerShim;
    exports2.MAX_SAFE_INTEGER = 9007199254740991;
    exports2.isSafeInteger = function(n4) {
      return exports2.isInteger(n4) && (n4 >= -exports2.MAX_SAFE_INTEGER && n4 <= exports2.MAX_SAFE_INTEGER);
    };
  }
});

// node_modules/.pnpm/@stablelib+binary@1.0.1/node_modules/@stablelib/binary/lib/binary.js
var require_binary = __commonJS({
  "node_modules/.pnpm/@stablelib+binary@1.0.1/node_modules/@stablelib/binary/lib/binary.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var int_1 = require_int();
    function readInt16BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset + 0] << 8 | array[offset + 1]) << 16 >> 16;
    }
    exports2.readInt16BE = readInt16BE;
    function readUint16BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset + 0] << 8 | array[offset + 1]) >>> 0;
    }
    exports2.readUint16BE = readUint16BE;
    function readInt16LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset + 1] << 8 | array[offset]) << 16 >> 16;
    }
    exports2.readInt16LE = readInt16LE;
    function readUint16LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset + 1] << 8 | array[offset]) >>> 0;
    }
    exports2.readUint16LE = readUint16LE;
    function writeUint16BE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(2);
      }
      if (offset === void 0) {
        offset = 0;
      }
      out[offset + 0] = value2 >>> 8;
      out[offset + 1] = value2 >>> 0;
      return out;
    }
    exports2.writeUint16BE = writeUint16BE;
    exports2.writeInt16BE = writeUint16BE;
    function writeUint16LE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(2);
      }
      if (offset === void 0) {
        offset = 0;
      }
      out[offset + 0] = value2 >>> 0;
      out[offset + 1] = value2 >>> 8;
      return out;
    }
    exports2.writeUint16LE = writeUint16LE;
    exports2.writeInt16LE = writeUint16LE;
    function readInt32BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return array[offset] << 24 | array[offset + 1] << 16 | array[offset + 2] << 8 | array[offset + 3];
    }
    exports2.readInt32BE = readInt32BE;
    function readUint32BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset] << 24 | array[offset + 1] << 16 | array[offset + 2] << 8 | array[offset + 3]) >>> 0;
    }
    exports2.readUint32BE = readUint32BE;
    function readInt32LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return array[offset + 3] << 24 | array[offset + 2] << 16 | array[offset + 1] << 8 | array[offset];
    }
    exports2.readInt32LE = readInt32LE;
    function readUint32LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      return (array[offset + 3] << 24 | array[offset + 2] << 16 | array[offset + 1] << 8 | array[offset]) >>> 0;
    }
    exports2.readUint32LE = readUint32LE;
    function writeUint32BE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(4);
      }
      if (offset === void 0) {
        offset = 0;
      }
      out[offset + 0] = value2 >>> 24;
      out[offset + 1] = value2 >>> 16;
      out[offset + 2] = value2 >>> 8;
      out[offset + 3] = value2 >>> 0;
      return out;
    }
    exports2.writeUint32BE = writeUint32BE;
    exports2.writeInt32BE = writeUint32BE;
    function writeUint32LE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(4);
      }
      if (offset === void 0) {
        offset = 0;
      }
      out[offset + 0] = value2 >>> 0;
      out[offset + 1] = value2 >>> 8;
      out[offset + 2] = value2 >>> 16;
      out[offset + 3] = value2 >>> 24;
      return out;
    }
    exports2.writeUint32LE = writeUint32LE;
    exports2.writeInt32LE = writeUint32LE;
    function readInt64BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var hi = readInt32BE(array, offset);
      var lo = readInt32BE(array, offset + 4);
      return hi * 4294967296 + lo - (lo >> 31) * 4294967296;
    }
    exports2.readInt64BE = readInt64BE;
    function readUint64BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var hi = readUint32BE(array, offset);
      var lo = readUint32BE(array, offset + 4);
      return hi * 4294967296 + lo;
    }
    exports2.readUint64BE = readUint64BE;
    function readInt64LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var lo = readInt32LE(array, offset);
      var hi = readInt32LE(array, offset + 4);
      return hi * 4294967296 + lo - (lo >> 31) * 4294967296;
    }
    exports2.readInt64LE = readInt64LE;
    function readUint64LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var lo = readUint32LE(array, offset);
      var hi = readUint32LE(array, offset + 4);
      return hi * 4294967296 + lo;
    }
    exports2.readUint64LE = readUint64LE;
    function writeUint64BE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      writeUint32BE(value2 / 4294967296 >>> 0, out, offset);
      writeUint32BE(value2 >>> 0, out, offset + 4);
      return out;
    }
    exports2.writeUint64BE = writeUint64BE;
    exports2.writeInt64BE = writeUint64BE;
    function writeUint64LE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      writeUint32LE(value2 >>> 0, out, offset);
      writeUint32LE(value2 / 4294967296 >>> 0, out, offset + 4);
      return out;
    }
    exports2.writeUint64LE = writeUint64LE;
    exports2.writeInt64LE = writeUint64LE;
    function readUintBE(bitLength, array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      if (bitLength % 8 !== 0) {
        throw new Error("readUintBE supports only bitLengths divisible by 8");
      }
      if (bitLength / 8 > array.length - offset) {
        throw new Error("readUintBE: array is too short for the given bitLength");
      }
      var result = 0;
      var mul2 = 1;
      for (var i3 = bitLength / 8 + offset - 1; i3 >= offset; i3--) {
        result += array[i3] * mul2;
        mul2 *= 256;
      }
      return result;
    }
    exports2.readUintBE = readUintBE;
    function readUintLE(bitLength, array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      if (bitLength % 8 !== 0) {
        throw new Error("readUintLE supports only bitLengths divisible by 8");
      }
      if (bitLength / 8 > array.length - offset) {
        throw new Error("readUintLE: array is too short for the given bitLength");
      }
      var result = 0;
      var mul2 = 1;
      for (var i3 = offset; i3 < offset + bitLength / 8; i3++) {
        result += array[i3] * mul2;
        mul2 *= 256;
      }
      return result;
    }
    exports2.readUintLE = readUintLE;
    function writeUintBE(bitLength, value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(bitLength / 8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      if (bitLength % 8 !== 0) {
        throw new Error("writeUintBE supports only bitLengths divisible by 8");
      }
      if (!int_1.isSafeInteger(value2)) {
        throw new Error("writeUintBE value must be an integer");
      }
      var div2 = 1;
      for (var i3 = bitLength / 8 + offset - 1; i3 >= offset; i3--) {
        out[i3] = value2 / div2 & 255;
        div2 *= 256;
      }
      return out;
    }
    exports2.writeUintBE = writeUintBE;
    function writeUintLE(bitLength, value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(bitLength / 8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      if (bitLength % 8 !== 0) {
        throw new Error("writeUintLE supports only bitLengths divisible by 8");
      }
      if (!int_1.isSafeInteger(value2)) {
        throw new Error("writeUintLE value must be an integer");
      }
      var div2 = 1;
      for (var i3 = offset; i3 < offset + bitLength / 8; i3++) {
        out[i3] = value2 / div2 & 255;
        div2 *= 256;
      }
      return out;
    }
    exports2.writeUintLE = writeUintLE;
    function readFloat32BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(array.buffer, array.byteOffset, array.byteLength);
      return view.getFloat32(offset);
    }
    exports2.readFloat32BE = readFloat32BE;
    function readFloat32LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(array.buffer, array.byteOffset, array.byteLength);
      return view.getFloat32(offset, true);
    }
    exports2.readFloat32LE = readFloat32LE;
    function readFloat64BE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(array.buffer, array.byteOffset, array.byteLength);
      return view.getFloat64(offset);
    }
    exports2.readFloat64BE = readFloat64BE;
    function readFloat64LE(array, offset) {
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(array.buffer, array.byteOffset, array.byteLength);
      return view.getFloat64(offset, true);
    }
    exports2.readFloat64LE = readFloat64LE;
    function writeFloat32BE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(4);
      }
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(out.buffer, out.byteOffset, out.byteLength);
      view.setFloat32(offset, value2);
      return out;
    }
    exports2.writeFloat32BE = writeFloat32BE;
    function writeFloat32LE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(4);
      }
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(out.buffer, out.byteOffset, out.byteLength);
      view.setFloat32(offset, value2, true);
      return out;
    }
    exports2.writeFloat32LE = writeFloat32LE;
    function writeFloat64BE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(out.buffer, out.byteOffset, out.byteLength);
      view.setFloat64(offset, value2);
      return out;
    }
    exports2.writeFloat64BE = writeFloat64BE;
    function writeFloat64LE(value2, out, offset) {
      if (out === void 0) {
        out = new Uint8Array(8);
      }
      if (offset === void 0) {
        offset = 0;
      }
      var view = new DataView(out.buffer, out.byteOffset, out.byteLength);
      view.setFloat64(offset, value2, true);
      return out;
    }
    exports2.writeFloat64LE = writeFloat64LE;
  }
});

// node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/random.js
var require_random = __commonJS({
  "node_modules/.pnpm/@stablelib+random@1.0.2/node_modules/@stablelib/random/lib/random.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.randomStringForEntropy = exports2.randomString = exports2.randomUint32 = exports2.randomBytes = exports2.defaultRandomSource = void 0;
    var system_1 = require_system();
    var binary_1 = require_binary();
    var wipe_1 = require_wipe();
    exports2.defaultRandomSource = new system_1.SystemRandomSource();
    function randomBytes3(length3, prng = exports2.defaultRandomSource) {
      return prng.randomBytes(length3);
    }
    exports2.randomBytes = randomBytes3;
    function randomUint32(prng = exports2.defaultRandomSource) {
      const buf = randomBytes3(4, prng);
      const result = (0, binary_1.readUint32LE)(buf);
      (0, wipe_1.wipe)(buf);
      return result;
    }
    exports2.randomUint32 = randomUint32;
    var ALPHANUMERIC = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";
    function randomString(length3, charset = ALPHANUMERIC, prng = exports2.defaultRandomSource) {
      if (charset.length < 2) {
        throw new Error("randomString charset is too short");
      }
      if (charset.length > 256) {
        throw new Error("randomString charset is too long");
      }
      let out = "";
      const charsLen = charset.length;
      const maxByte = 256 - 256 % charsLen;
      while (length3 > 0) {
        const buf = randomBytes3(Math.ceil(length3 * 256 / maxByte), prng);
        for (let i3 = 0; i3 < buf.length && length3 > 0; i3++) {
          const randomByte = buf[i3];
          if (randomByte < maxByte) {
            out += charset.charAt(randomByte % charsLen);
            length3--;
          }
        }
        (0, wipe_1.wipe)(buf);
      }
      return out;
    }
    exports2.randomString = randomString;
    function randomStringForEntropy(bits, charset = ALPHANUMERIC, prng = exports2.defaultRandomSource) {
      const length3 = Math.ceil(bits / (Math.log(charset.length) / Math.LN2));
      return randomString(length3, charset, prng);
    }
    exports2.randomStringForEntropy = randomStringForEntropy;
  }
});

// node_modules/.pnpm/@stablelib+sha512@1.0.1/node_modules/@stablelib/sha512/lib/sha512.js
var require_sha512 = __commonJS({
  "node_modules/.pnpm/@stablelib+sha512@1.0.1/node_modules/@stablelib/sha512/lib/sha512.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var binary_1 = require_binary();
    var wipe_1 = require_wipe();
    exports2.DIGEST_LENGTH = 64;
    exports2.BLOCK_SIZE = 128;
    var SHA512 = (
      /** @class */
      function() {
        function SHA5122() {
          this.digestLength = exports2.DIGEST_LENGTH;
          this.blockSize = exports2.BLOCK_SIZE;
          this._stateHi = new Int32Array(8);
          this._stateLo = new Int32Array(8);
          this._tempHi = new Int32Array(16);
          this._tempLo = new Int32Array(16);
          this._buffer = new Uint8Array(256);
          this._bufferLength = 0;
          this._bytesHashed = 0;
          this._finished = false;
          this.reset();
        }
        SHA5122.prototype._initState = function() {
          this._stateHi[0] = 1779033703;
          this._stateHi[1] = 3144134277;
          this._stateHi[2] = 1013904242;
          this._stateHi[3] = 2773480762;
          this._stateHi[4] = 1359893119;
          this._stateHi[5] = 2600822924;
          this._stateHi[6] = 528734635;
          this._stateHi[7] = 1541459225;
          this._stateLo[0] = 4089235720;
          this._stateLo[1] = 2227873595;
          this._stateLo[2] = 4271175723;
          this._stateLo[3] = 1595750129;
          this._stateLo[4] = 2917565137;
          this._stateLo[5] = 725511199;
          this._stateLo[6] = 4215389547;
          this._stateLo[7] = 327033209;
        };
        SHA5122.prototype.reset = function() {
          this._initState();
          this._bufferLength = 0;
          this._bytesHashed = 0;
          this._finished = false;
          return this;
        };
        SHA5122.prototype.clean = function() {
          wipe_1.wipe(this._buffer);
          wipe_1.wipe(this._tempHi);
          wipe_1.wipe(this._tempLo);
          this.reset();
        };
        SHA5122.prototype.update = function(data2, dataLength) {
          if (dataLength === void 0) {
            dataLength = data2.length;
          }
          if (this._finished) {
            throw new Error("SHA512: can't update because hash was finished.");
          }
          var dataPos = 0;
          this._bytesHashed += dataLength;
          if (this._bufferLength > 0) {
            while (this._bufferLength < exports2.BLOCK_SIZE && dataLength > 0) {
              this._buffer[this._bufferLength++] = data2[dataPos++];
              dataLength--;
            }
            if (this._bufferLength === this.blockSize) {
              hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize);
              this._bufferLength = 0;
            }
          }
          if (dataLength >= this.blockSize) {
            dataPos = hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, data2, dataPos, dataLength);
            dataLength %= this.blockSize;
          }
          while (dataLength > 0) {
            this._buffer[this._bufferLength++] = data2[dataPos++];
            dataLength--;
          }
          return this;
        };
        SHA5122.prototype.finish = function(out) {
          if (!this._finished) {
            var bytesHashed = this._bytesHashed;
            var left = this._bufferLength;
            var bitLenHi = bytesHashed / 536870912 | 0;
            var bitLenLo = bytesHashed << 3;
            var padLength = bytesHashed % 128 < 112 ? 128 : 256;
            this._buffer[left] = 128;
            for (var i3 = left + 1; i3 < padLength - 8; i3++) {
              this._buffer[i3] = 0;
            }
            binary_1.writeUint32BE(bitLenHi, this._buffer, padLength - 8);
            binary_1.writeUint32BE(bitLenLo, this._buffer, padLength - 4);
            hashBlocks(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, padLength);
            this._finished = true;
          }
          for (var i3 = 0; i3 < this.digestLength / 8; i3++) {
            binary_1.writeUint32BE(this._stateHi[i3], out, i3 * 8);
            binary_1.writeUint32BE(this._stateLo[i3], out, i3 * 8 + 4);
          }
          return this;
        };
        SHA5122.prototype.digest = function() {
          var out = new Uint8Array(this.digestLength);
          this.finish(out);
          return out;
        };
        SHA5122.prototype.saveState = function() {
          if (this._finished) {
            throw new Error("SHA256: cannot save finished state");
          }
          return {
            stateHi: new Int32Array(this._stateHi),
            stateLo: new Int32Array(this._stateLo),
            buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
            bufferLength: this._bufferLength,
            bytesHashed: this._bytesHashed
          };
        };
        SHA5122.prototype.restoreState = function(savedState) {
          this._stateHi.set(savedState.stateHi);
          this._stateLo.set(savedState.stateLo);
          this._bufferLength = savedState.bufferLength;
          if (savedState.buffer) {
            this._buffer.set(savedState.buffer);
          }
          this._bytesHashed = savedState.bytesHashed;
          this._finished = false;
          return this;
        };
        SHA5122.prototype.cleanSavedState = function(savedState) {
          wipe_1.wipe(savedState.stateHi);
          wipe_1.wipe(savedState.stateLo);
          if (savedState.buffer) {
            wipe_1.wipe(savedState.buffer);
          }
          savedState.bufferLength = 0;
          savedState.bytesHashed = 0;
        };
        return SHA5122;
      }()
    );
    exports2.SHA512 = SHA512;
    var K3 = new Int32Array([
      1116352408,
      3609767458,
      1899447441,
      602891725,
      3049323471,
      3964484399,
      3921009573,
      2173295548,
      961987163,
      4081628472,
      1508970993,
      3053834265,
      2453635748,
      2937671579,
      2870763221,
      3664609560,
      3624381080,
      2734883394,
      310598401,
      1164996542,
      607225278,
      1323610764,
      1426881987,
      3590304994,
      1925078388,
      4068182383,
      2162078206,
      991336113,
      2614888103,
      633803317,
      3248222580,
      3479774868,
      3835390401,
      2666613458,
      4022224774,
      944711139,
      264347078,
      2341262773,
      604807628,
      2007800933,
      770255983,
      1495990901,
      1249150122,
      1856431235,
      1555081692,
      3175218132,
      1996064986,
      2198950837,
      2554220882,
      3999719339,
      2821834349,
      766784016,
      2952996808,
      2566594879,
      3210313671,
      3203337956,
      3336571891,
      1034457026,
      3584528711,
      2466948901,
      113926993,
      3758326383,
      338241895,
      168717936,
      666307205,
      1188179964,
      773529912,
      1546045734,
      1294757372,
      1522805485,
      1396182291,
      2643833823,
      1695183700,
      2343527390,
      1986661051,
      1014477480,
      2177026350,
      1206759142,
      2456956037,
      344077627,
      2730485921,
      1290863460,
      2820302411,
      3158454273,
      3259730800,
      3505952657,
      3345764771,
      106217008,
      3516065817,
      3606008344,
      3600352804,
      1432725776,
      4094571909,
      1467031594,
      275423344,
      851169720,
      430227734,
      3100823752,
      506948616,
      1363258195,
      659060556,
      3750685593,
      883997877,
      3785050280,
      958139571,
      3318307427,
      1322822218,
      3812723403,
      1537002063,
      2003034995,
      1747873779,
      3602036899,
      1955562222,
      1575990012,
      2024104815,
      1125592928,
      2227730452,
      2716904306,
      2361852424,
      442776044,
      2428436474,
      593698344,
      2756734187,
      3733110249,
      3204031479,
      2999351573,
      3329325298,
      3815920427,
      3391569614,
      3928383900,
      3515267271,
      566280711,
      3940187606,
      3454069534,
      4118630271,
      4000239992,
      116418474,
      1914138554,
      174292421,
      2731055270,
      289380356,
      3203993006,
      460393269,
      320620315,
      685471733,
      587496836,
      852142971,
      1086792851,
      1017036298,
      365543100,
      1126000580,
      2618297676,
      1288033470,
      3409855158,
      1501505948,
      4234509866,
      1607167915,
      987167468,
      1816402316,
      1246189591
    ]);
    function hashBlocks(wh, wl, hh, hl, m3, pos, len) {
      var ah0 = hh[0], ah1 = hh[1], ah2 = hh[2], ah3 = hh[3], ah4 = hh[4], ah5 = hh[5], ah6 = hh[6], ah7 = hh[7], al0 = hl[0], al1 = hl[1], al2 = hl[2], al3 = hl[3], al4 = hl[4], al5 = hl[5], al6 = hl[6], al7 = hl[7];
      var h6, l4;
      var th, tl;
      var a4, b3, c3, d3;
      while (len >= 128) {
        for (var i3 = 0; i3 < 16; i3++) {
          var j4 = 8 * i3 + pos;
          wh[i3] = binary_1.readUint32BE(m3, j4);
          wl[i3] = binary_1.readUint32BE(m3, j4 + 4);
        }
        for (var i3 = 0; i3 < 80; i3++) {
          var bh0 = ah0;
          var bh1 = ah1;
          var bh2 = ah2;
          var bh3 = ah3;
          var bh4 = ah4;
          var bh5 = ah5;
          var bh6 = ah6;
          var bh7 = ah7;
          var bl0 = al0;
          var bl1 = al1;
          var bl2 = al2;
          var bl3 = al3;
          var bl4 = al4;
          var bl5 = al5;
          var bl6 = al6;
          var bl7 = al7;
          h6 = ah7;
          l4 = al7;
          a4 = l4 & 65535;
          b3 = l4 >>> 16;
          c3 = h6 & 65535;
          d3 = h6 >>> 16;
          h6 = (ah4 >>> 14 | al4 << 32 - 14) ^ (ah4 >>> 18 | al4 << 32 - 18) ^ (al4 >>> 41 - 32 | ah4 << 32 - (41 - 32));
          l4 = (al4 >>> 14 | ah4 << 32 - 14) ^ (al4 >>> 18 | ah4 << 32 - 18) ^ (ah4 >>> 41 - 32 | al4 << 32 - (41 - 32));
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          h6 = ah4 & ah5 ^ ~ah4 & ah6;
          l4 = al4 & al5 ^ ~al4 & al6;
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          h6 = K3[i3 * 2];
          l4 = K3[i3 * 2 + 1];
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          h6 = wh[i3 % 16];
          l4 = wl[i3 % 16];
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          b3 += a4 >>> 16;
          c3 += b3 >>> 16;
          d3 += c3 >>> 16;
          th = c3 & 65535 | d3 << 16;
          tl = a4 & 65535 | b3 << 16;
          h6 = th;
          l4 = tl;
          a4 = l4 & 65535;
          b3 = l4 >>> 16;
          c3 = h6 & 65535;
          d3 = h6 >>> 16;
          h6 = (ah0 >>> 28 | al0 << 32 - 28) ^ (al0 >>> 34 - 32 | ah0 << 32 - (34 - 32)) ^ (al0 >>> 39 - 32 | ah0 << 32 - (39 - 32));
          l4 = (al0 >>> 28 | ah0 << 32 - 28) ^ (ah0 >>> 34 - 32 | al0 << 32 - (34 - 32)) ^ (ah0 >>> 39 - 32 | al0 << 32 - (39 - 32));
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          h6 = ah0 & ah1 ^ ah0 & ah2 ^ ah1 & ah2;
          l4 = al0 & al1 ^ al0 & al2 ^ al1 & al2;
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          b3 += a4 >>> 16;
          c3 += b3 >>> 16;
          d3 += c3 >>> 16;
          bh7 = c3 & 65535 | d3 << 16;
          bl7 = a4 & 65535 | b3 << 16;
          h6 = bh3;
          l4 = bl3;
          a4 = l4 & 65535;
          b3 = l4 >>> 16;
          c3 = h6 & 65535;
          d3 = h6 >>> 16;
          h6 = th;
          l4 = tl;
          a4 += l4 & 65535;
          b3 += l4 >>> 16;
          c3 += h6 & 65535;
          d3 += h6 >>> 16;
          b3 += a4 >>> 16;
          c3 += b3 >>> 16;
          d3 += c3 >>> 16;
          bh3 = c3 & 65535 | d3 << 16;
          bl3 = a4 & 65535 | b3 << 16;
          ah1 = bh0;
          ah2 = bh1;
          ah3 = bh2;
          ah4 = bh3;
          ah5 = bh4;
          ah6 = bh5;
          ah7 = bh6;
          ah0 = bh7;
          al1 = bl0;
          al2 = bl1;
          al3 = bl2;
          al4 = bl3;
          al5 = bl4;
          al6 = bl5;
          al7 = bl6;
          al0 = bl7;
          if (i3 % 16 === 15) {
            for (var j4 = 0; j4 < 16; j4++) {
              h6 = wh[j4];
              l4 = wl[j4];
              a4 = l4 & 65535;
              b3 = l4 >>> 16;
              c3 = h6 & 65535;
              d3 = h6 >>> 16;
              h6 = wh[(j4 + 9) % 16];
              l4 = wl[(j4 + 9) % 16];
              a4 += l4 & 65535;
              b3 += l4 >>> 16;
              c3 += h6 & 65535;
              d3 += h6 >>> 16;
              th = wh[(j4 + 1) % 16];
              tl = wl[(j4 + 1) % 16];
              h6 = (th >>> 1 | tl << 32 - 1) ^ (th >>> 8 | tl << 32 - 8) ^ th >>> 7;
              l4 = (tl >>> 1 | th << 32 - 1) ^ (tl >>> 8 | th << 32 - 8) ^ (tl >>> 7 | th << 32 - 7);
              a4 += l4 & 65535;
              b3 += l4 >>> 16;
              c3 += h6 & 65535;
              d3 += h6 >>> 16;
              th = wh[(j4 + 14) % 16];
              tl = wl[(j4 + 14) % 16];
              h6 = (th >>> 19 | tl << 32 - 19) ^ (tl >>> 61 - 32 | th << 32 - (61 - 32)) ^ th >>> 6;
              l4 = (tl >>> 19 | th << 32 - 19) ^ (th >>> 61 - 32 | tl << 32 - (61 - 32)) ^ (tl >>> 6 | th << 32 - 6);
              a4 += l4 & 65535;
              b3 += l4 >>> 16;
              c3 += h6 & 65535;
              d3 += h6 >>> 16;
              b3 += a4 >>> 16;
              c3 += b3 >>> 16;
              d3 += c3 >>> 16;
              wh[j4] = c3 & 65535 | d3 << 16;
              wl[j4] = a4 & 65535 | b3 << 16;
            }
          }
        }
        h6 = ah0;
        l4 = al0;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[0];
        l4 = hl[0];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[0] = ah0 = c3 & 65535 | d3 << 16;
        hl[0] = al0 = a4 & 65535 | b3 << 16;
        h6 = ah1;
        l4 = al1;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[1];
        l4 = hl[1];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[1] = ah1 = c3 & 65535 | d3 << 16;
        hl[1] = al1 = a4 & 65535 | b3 << 16;
        h6 = ah2;
        l4 = al2;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[2];
        l4 = hl[2];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[2] = ah2 = c3 & 65535 | d3 << 16;
        hl[2] = al2 = a4 & 65535 | b3 << 16;
        h6 = ah3;
        l4 = al3;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[3];
        l4 = hl[3];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[3] = ah3 = c3 & 65535 | d3 << 16;
        hl[3] = al3 = a4 & 65535 | b3 << 16;
        h6 = ah4;
        l4 = al4;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[4];
        l4 = hl[4];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[4] = ah4 = c3 & 65535 | d3 << 16;
        hl[4] = al4 = a4 & 65535 | b3 << 16;
        h6 = ah5;
        l4 = al5;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[5];
        l4 = hl[5];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[5] = ah5 = c3 & 65535 | d3 << 16;
        hl[5] = al5 = a4 & 65535 | b3 << 16;
        h6 = ah6;
        l4 = al6;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[6];
        l4 = hl[6];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[6] = ah6 = c3 & 65535 | d3 << 16;
        hl[6] = al6 = a4 & 65535 | b3 << 16;
        h6 = ah7;
        l4 = al7;
        a4 = l4 & 65535;
        b3 = l4 >>> 16;
        c3 = h6 & 65535;
        d3 = h6 >>> 16;
        h6 = hh[7];
        l4 = hl[7];
        a4 += l4 & 65535;
        b3 += l4 >>> 16;
        c3 += h6 & 65535;
        d3 += h6 >>> 16;
        b3 += a4 >>> 16;
        c3 += b3 >>> 16;
        d3 += c3 >>> 16;
        hh[7] = ah7 = c3 & 65535 | d3 << 16;
        hl[7] = al7 = a4 & 65535 | b3 << 16;
        pos += 128;
        len -= 128;
      }
      return pos;
    }
    function hash(data2) {
      var h6 = new SHA512();
      h6.update(data2);
      var digest2 = h6.digest();
      h6.clean();
      return digest2;
    }
    exports2.hash = hash;
  }
});

// node_modules/.pnpm/@stablelib+ed25519@1.0.3/node_modules/@stablelib/ed25519/lib/ed25519.js
var require_ed25519 = __commonJS({
  "node_modules/.pnpm/@stablelib+ed25519@1.0.3/node_modules/@stablelib/ed25519/lib/ed25519.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.convertSecretKeyToX25519 = exports2.convertPublicKeyToX25519 = exports2.verify = exports2.sign = exports2.extractPublicKeyFromSecretKey = exports2.generateKeyPair = exports2.generateKeyPairFromSeed = exports2.SEED_LENGTH = exports2.SECRET_KEY_LENGTH = exports2.PUBLIC_KEY_LENGTH = exports2.SIGNATURE_LENGTH = void 0;
    var random_1 = require_random();
    var sha512_1 = require_sha512();
    var wipe_1 = require_wipe();
    exports2.SIGNATURE_LENGTH = 64;
    exports2.PUBLIC_KEY_LENGTH = 32;
    exports2.SECRET_KEY_LENGTH = 64;
    exports2.SEED_LENGTH = 32;
    function gf(init2) {
      const r3 = new Float64Array(16);
      if (init2) {
        for (let i3 = 0; i3 < init2.length; i3++) {
          r3[i3] = init2[i3];
        }
      }
      return r3;
    }
    var _9 = new Uint8Array(32);
    _9[0] = 9;
    var gf0 = gf();
    var gf1 = gf([1]);
    var D4 = gf([
      30883,
      4953,
      19914,
      30187,
      55467,
      16705,
      2637,
      112,
      59544,
      30585,
      16505,
      36039,
      65139,
      11119,
      27886,
      20995
    ]);
    var D22 = gf([
      61785,
      9906,
      39828,
      60374,
      45398,
      33411,
      5274,
      224,
      53552,
      61171,
      33010,
      6542,
      64743,
      22239,
      55772,
      9222
    ]);
    var X4 = gf([
      54554,
      36645,
      11616,
      51542,
      42930,
      38181,
      51040,
      26924,
      56412,
      64982,
      57905,
      49316,
      21502,
      52590,
      14035,
      8553
    ]);
    var Y = gf([
      26200,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214,
      26214
    ]);
    var I = gf([
      41136,
      18958,
      6951,
      50414,
      58488,
      44335,
      6150,
      12099,
      55207,
      15867,
      153,
      11085,
      57099,
      20417,
      9344,
      11139
    ]);
    function set25519(r3, a4) {
      for (let i3 = 0; i3 < 16; i3++) {
        r3[i3] = a4[i3] | 0;
      }
    }
    function car25519(o3) {
      let c3 = 1;
      for (let i3 = 0; i3 < 16; i3++) {
        let v2 = o3[i3] + c3 + 65535;
        c3 = Math.floor(v2 / 65536);
        o3[i3] = v2 - c3 * 65536;
      }
      o3[0] += c3 - 1 + 37 * (c3 - 1);
    }
    function sel25519(p6, q4, b3) {
      const c3 = ~(b3 - 1);
      for (let i3 = 0; i3 < 16; i3++) {
        const t2 = c3 & (p6[i3] ^ q4[i3]);
        p6[i3] ^= t2;
        q4[i3] ^= t2;
      }
    }
    function pack25519(o3, n4) {
      const m3 = gf();
      const t2 = gf();
      for (let i3 = 0; i3 < 16; i3++) {
        t2[i3] = n4[i3];
      }
      car25519(t2);
      car25519(t2);
      car25519(t2);
      for (let j4 = 0; j4 < 2; j4++) {
        m3[0] = t2[0] - 65517;
        for (let i3 = 1; i3 < 15; i3++) {
          m3[i3] = t2[i3] - 65535 - (m3[i3 - 1] >> 16 & 1);
          m3[i3 - 1] &= 65535;
        }
        m3[15] = t2[15] - 32767 - (m3[14] >> 16 & 1);
        const b3 = m3[15] >> 16 & 1;
        m3[14] &= 65535;
        sel25519(t2, m3, 1 - b3);
      }
      for (let i3 = 0; i3 < 16; i3++) {
        o3[2 * i3] = t2[i3] & 255;
        o3[2 * i3 + 1] = t2[i3] >> 8;
      }
    }
    function verify32(x5, y7) {
      let d3 = 0;
      for (let i3 = 0; i3 < 32; i3++) {
        d3 |= x5[i3] ^ y7[i3];
      }
      return (1 & d3 - 1 >>> 8) - 1;
    }
    function neq25519(a4, b3) {
      const c3 = new Uint8Array(32);
      const d3 = new Uint8Array(32);
      pack25519(c3, a4);
      pack25519(d3, b3);
      return verify32(c3, d3);
    }
    function par25519(a4) {
      const d3 = new Uint8Array(32);
      pack25519(d3, a4);
      return d3[0] & 1;
    }
    function unpack25519(o3, n4) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = n4[2 * i3] + (n4[2 * i3 + 1] << 8);
      }
      o3[15] &= 32767;
    }
    function add2(o3, a4, b3) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = a4[i3] + b3[i3];
      }
    }
    function sub2(o3, a4, b3) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = a4[i3] - b3[i3];
      }
    }
    function mul2(o3, a4, b3) {
      let v2, c3, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b3[0], b1 = b3[1], b22 = b3[2], b32 = b3[3], b4 = b3[4], b5 = b3[5], b6 = b3[6], b7 = b3[7], b8 = b3[8], b9 = b3[9], b10 = b3[10], b11 = b3[11], b12 = b3[12], b13 = b3[13], b14 = b3[14], b15 = b3[15];
      v2 = a4[0];
      t0 += v2 * b0;
      t1 += v2 * b1;
      t2 += v2 * b22;
      t3 += v2 * b32;
      t4 += v2 * b4;
      t5 += v2 * b5;
      t6 += v2 * b6;
      t7 += v2 * b7;
      t8 += v2 * b8;
      t9 += v2 * b9;
      t10 += v2 * b10;
      t11 += v2 * b11;
      t12 += v2 * b12;
      t13 += v2 * b13;
      t14 += v2 * b14;
      t15 += v2 * b15;
      v2 = a4[1];
      t1 += v2 * b0;
      t2 += v2 * b1;
      t3 += v2 * b22;
      t4 += v2 * b32;
      t5 += v2 * b4;
      t6 += v2 * b5;
      t7 += v2 * b6;
      t8 += v2 * b7;
      t9 += v2 * b8;
      t10 += v2 * b9;
      t11 += v2 * b10;
      t12 += v2 * b11;
      t13 += v2 * b12;
      t14 += v2 * b13;
      t15 += v2 * b14;
      t16 += v2 * b15;
      v2 = a4[2];
      t2 += v2 * b0;
      t3 += v2 * b1;
      t4 += v2 * b22;
      t5 += v2 * b32;
      t6 += v2 * b4;
      t7 += v2 * b5;
      t8 += v2 * b6;
      t9 += v2 * b7;
      t10 += v2 * b8;
      t11 += v2 * b9;
      t12 += v2 * b10;
      t13 += v2 * b11;
      t14 += v2 * b12;
      t15 += v2 * b13;
      t16 += v2 * b14;
      t17 += v2 * b15;
      v2 = a4[3];
      t3 += v2 * b0;
      t4 += v2 * b1;
      t5 += v2 * b22;
      t6 += v2 * b32;
      t7 += v2 * b4;
      t8 += v2 * b5;
      t9 += v2 * b6;
      t10 += v2 * b7;
      t11 += v2 * b8;
      t12 += v2 * b9;
      t13 += v2 * b10;
      t14 += v2 * b11;
      t15 += v2 * b12;
      t16 += v2 * b13;
      t17 += v2 * b14;
      t18 += v2 * b15;
      v2 = a4[4];
      t4 += v2 * b0;
      t5 += v2 * b1;
      t6 += v2 * b22;
      t7 += v2 * b32;
      t8 += v2 * b4;
      t9 += v2 * b5;
      t10 += v2 * b6;
      t11 += v2 * b7;
      t12 += v2 * b8;
      t13 += v2 * b9;
      t14 += v2 * b10;
      t15 += v2 * b11;
      t16 += v2 * b12;
      t17 += v2 * b13;
      t18 += v2 * b14;
      t19 += v2 * b15;
      v2 = a4[5];
      t5 += v2 * b0;
      t6 += v2 * b1;
      t7 += v2 * b22;
      t8 += v2 * b32;
      t9 += v2 * b4;
      t10 += v2 * b5;
      t11 += v2 * b6;
      t12 += v2 * b7;
      t13 += v2 * b8;
      t14 += v2 * b9;
      t15 += v2 * b10;
      t16 += v2 * b11;
      t17 += v2 * b12;
      t18 += v2 * b13;
      t19 += v2 * b14;
      t20 += v2 * b15;
      v2 = a4[6];
      t6 += v2 * b0;
      t7 += v2 * b1;
      t8 += v2 * b22;
      t9 += v2 * b32;
      t10 += v2 * b4;
      t11 += v2 * b5;
      t12 += v2 * b6;
      t13 += v2 * b7;
      t14 += v2 * b8;
      t15 += v2 * b9;
      t16 += v2 * b10;
      t17 += v2 * b11;
      t18 += v2 * b12;
      t19 += v2 * b13;
      t20 += v2 * b14;
      t21 += v2 * b15;
      v2 = a4[7];
      t7 += v2 * b0;
      t8 += v2 * b1;
      t9 += v2 * b22;
      t10 += v2 * b32;
      t11 += v2 * b4;
      t12 += v2 * b5;
      t13 += v2 * b6;
      t14 += v2 * b7;
      t15 += v2 * b8;
      t16 += v2 * b9;
      t17 += v2 * b10;
      t18 += v2 * b11;
      t19 += v2 * b12;
      t20 += v2 * b13;
      t21 += v2 * b14;
      t22 += v2 * b15;
      v2 = a4[8];
      t8 += v2 * b0;
      t9 += v2 * b1;
      t10 += v2 * b22;
      t11 += v2 * b32;
      t12 += v2 * b4;
      t13 += v2 * b5;
      t14 += v2 * b6;
      t15 += v2 * b7;
      t16 += v2 * b8;
      t17 += v2 * b9;
      t18 += v2 * b10;
      t19 += v2 * b11;
      t20 += v2 * b12;
      t21 += v2 * b13;
      t22 += v2 * b14;
      t23 += v2 * b15;
      v2 = a4[9];
      t9 += v2 * b0;
      t10 += v2 * b1;
      t11 += v2 * b22;
      t12 += v2 * b32;
      t13 += v2 * b4;
      t14 += v2 * b5;
      t15 += v2 * b6;
      t16 += v2 * b7;
      t17 += v2 * b8;
      t18 += v2 * b9;
      t19 += v2 * b10;
      t20 += v2 * b11;
      t21 += v2 * b12;
      t22 += v2 * b13;
      t23 += v2 * b14;
      t24 += v2 * b15;
      v2 = a4[10];
      t10 += v2 * b0;
      t11 += v2 * b1;
      t12 += v2 * b22;
      t13 += v2 * b32;
      t14 += v2 * b4;
      t15 += v2 * b5;
      t16 += v2 * b6;
      t17 += v2 * b7;
      t18 += v2 * b8;
      t19 += v2 * b9;
      t20 += v2 * b10;
      t21 += v2 * b11;
      t22 += v2 * b12;
      t23 += v2 * b13;
      t24 += v2 * b14;
      t25 += v2 * b15;
      v2 = a4[11];
      t11 += v2 * b0;
      t12 += v2 * b1;
      t13 += v2 * b22;
      t14 += v2 * b32;
      t15 += v2 * b4;
      t16 += v2 * b5;
      t17 += v2 * b6;
      t18 += v2 * b7;
      t19 += v2 * b8;
      t20 += v2 * b9;
      t21 += v2 * b10;
      t22 += v2 * b11;
      t23 += v2 * b12;
      t24 += v2 * b13;
      t25 += v2 * b14;
      t26 += v2 * b15;
      v2 = a4[12];
      t12 += v2 * b0;
      t13 += v2 * b1;
      t14 += v2 * b22;
      t15 += v2 * b32;
      t16 += v2 * b4;
      t17 += v2 * b5;
      t18 += v2 * b6;
      t19 += v2 * b7;
      t20 += v2 * b8;
      t21 += v2 * b9;
      t22 += v2 * b10;
      t23 += v2 * b11;
      t24 += v2 * b12;
      t25 += v2 * b13;
      t26 += v2 * b14;
      t27 += v2 * b15;
      v2 = a4[13];
      t13 += v2 * b0;
      t14 += v2 * b1;
      t15 += v2 * b22;
      t16 += v2 * b32;
      t17 += v2 * b4;
      t18 += v2 * b5;
      t19 += v2 * b6;
      t20 += v2 * b7;
      t21 += v2 * b8;
      t22 += v2 * b9;
      t23 += v2 * b10;
      t24 += v2 * b11;
      t25 += v2 * b12;
      t26 += v2 * b13;
      t27 += v2 * b14;
      t28 += v2 * b15;
      v2 = a4[14];
      t14 += v2 * b0;
      t15 += v2 * b1;
      t16 += v2 * b22;
      t17 += v2 * b32;
      t18 += v2 * b4;
      t19 += v2 * b5;
      t20 += v2 * b6;
      t21 += v2 * b7;
      t22 += v2 * b8;
      t23 += v2 * b9;
      t24 += v2 * b10;
      t25 += v2 * b11;
      t26 += v2 * b12;
      t27 += v2 * b13;
      t28 += v2 * b14;
      t29 += v2 * b15;
      v2 = a4[15];
      t15 += v2 * b0;
      t16 += v2 * b1;
      t17 += v2 * b22;
      t18 += v2 * b32;
      t19 += v2 * b4;
      t20 += v2 * b5;
      t21 += v2 * b6;
      t22 += v2 * b7;
      t23 += v2 * b8;
      t24 += v2 * b9;
      t25 += v2 * b10;
      t26 += v2 * b11;
      t27 += v2 * b12;
      t28 += v2 * b13;
      t29 += v2 * b14;
      t30 += v2 * b15;
      t0 += 38 * t16;
      t1 += 38 * t17;
      t2 += 38 * t18;
      t3 += 38 * t19;
      t4 += 38 * t20;
      t5 += 38 * t21;
      t6 += 38 * t22;
      t7 += 38 * t23;
      t8 += 38 * t24;
      t9 += 38 * t25;
      t10 += 38 * t26;
      t11 += 38 * t27;
      t12 += 38 * t28;
      t13 += 38 * t29;
      t14 += 38 * t30;
      c3 = 1;
      v2 = t0 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t0 = v2 - c3 * 65536;
      v2 = t1 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t1 = v2 - c3 * 65536;
      v2 = t2 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t2 = v2 - c3 * 65536;
      v2 = t3 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t3 = v2 - c3 * 65536;
      v2 = t4 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t4 = v2 - c3 * 65536;
      v2 = t5 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t5 = v2 - c3 * 65536;
      v2 = t6 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t6 = v2 - c3 * 65536;
      v2 = t7 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t7 = v2 - c3 * 65536;
      v2 = t8 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t8 = v2 - c3 * 65536;
      v2 = t9 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t9 = v2 - c3 * 65536;
      v2 = t10 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t10 = v2 - c3 * 65536;
      v2 = t11 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t11 = v2 - c3 * 65536;
      v2 = t12 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t12 = v2 - c3 * 65536;
      v2 = t13 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t13 = v2 - c3 * 65536;
      v2 = t14 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t14 = v2 - c3 * 65536;
      v2 = t15 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t15 = v2 - c3 * 65536;
      t0 += c3 - 1 + 37 * (c3 - 1);
      c3 = 1;
      v2 = t0 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t0 = v2 - c3 * 65536;
      v2 = t1 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t1 = v2 - c3 * 65536;
      v2 = t2 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t2 = v2 - c3 * 65536;
      v2 = t3 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t3 = v2 - c3 * 65536;
      v2 = t4 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t4 = v2 - c3 * 65536;
      v2 = t5 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t5 = v2 - c3 * 65536;
      v2 = t6 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t6 = v2 - c3 * 65536;
      v2 = t7 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t7 = v2 - c3 * 65536;
      v2 = t8 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t8 = v2 - c3 * 65536;
      v2 = t9 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t9 = v2 - c3 * 65536;
      v2 = t10 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t10 = v2 - c3 * 65536;
      v2 = t11 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t11 = v2 - c3 * 65536;
      v2 = t12 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t12 = v2 - c3 * 65536;
      v2 = t13 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t13 = v2 - c3 * 65536;
      v2 = t14 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t14 = v2 - c3 * 65536;
      v2 = t15 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t15 = v2 - c3 * 65536;
      t0 += c3 - 1 + 37 * (c3 - 1);
      o3[0] = t0;
      o3[1] = t1;
      o3[2] = t2;
      o3[3] = t3;
      o3[4] = t4;
      o3[5] = t5;
      o3[6] = t6;
      o3[7] = t7;
      o3[8] = t8;
      o3[9] = t9;
      o3[10] = t10;
      o3[11] = t11;
      o3[12] = t12;
      o3[13] = t13;
      o3[14] = t14;
      o3[15] = t15;
    }
    function square(o3, a4) {
      mul2(o3, a4, a4);
    }
    function inv25519(o3, i3) {
      const c3 = gf();
      let a4;
      for (a4 = 0; a4 < 16; a4++) {
        c3[a4] = i3[a4];
      }
      for (a4 = 253; a4 >= 0; a4--) {
        square(c3, c3);
        if (a4 !== 2 && a4 !== 4) {
          mul2(c3, c3, i3);
        }
      }
      for (a4 = 0; a4 < 16; a4++) {
        o3[a4] = c3[a4];
      }
    }
    function pow2523(o3, i3) {
      const c3 = gf();
      let a4;
      for (a4 = 0; a4 < 16; a4++) {
        c3[a4] = i3[a4];
      }
      for (a4 = 250; a4 >= 0; a4--) {
        square(c3, c3);
        if (a4 !== 1) {
          mul2(c3, c3, i3);
        }
      }
      for (a4 = 0; a4 < 16; a4++) {
        o3[a4] = c3[a4];
      }
    }
    function edadd(p6, q4) {
      const a4 = gf(), b3 = gf(), c3 = gf(), d3 = gf(), e2 = gf(), f3 = gf(), g5 = gf(), h6 = gf(), t2 = gf();
      sub2(a4, p6[1], p6[0]);
      sub2(t2, q4[1], q4[0]);
      mul2(a4, a4, t2);
      add2(b3, p6[0], p6[1]);
      add2(t2, q4[0], q4[1]);
      mul2(b3, b3, t2);
      mul2(c3, p6[3], q4[3]);
      mul2(c3, c3, D22);
      mul2(d3, p6[2], q4[2]);
      add2(d3, d3, d3);
      sub2(e2, b3, a4);
      sub2(f3, d3, c3);
      add2(g5, d3, c3);
      add2(h6, b3, a4);
      mul2(p6[0], e2, f3);
      mul2(p6[1], h6, g5);
      mul2(p6[2], g5, f3);
      mul2(p6[3], e2, h6);
    }
    function cswap(p6, q4, b3) {
      for (let i3 = 0; i3 < 4; i3++) {
        sel25519(p6[i3], q4[i3], b3);
      }
    }
    function pack(r3, p6) {
      const tx = gf(), ty = gf(), zi2 = gf();
      inv25519(zi2, p6[2]);
      mul2(tx, p6[0], zi2);
      mul2(ty, p6[1], zi2);
      pack25519(r3, ty);
      r3[31] ^= par25519(tx) << 7;
    }
    function scalarmult(p6, q4, s2) {
      set25519(p6[0], gf0);
      set25519(p6[1], gf1);
      set25519(p6[2], gf1);
      set25519(p6[3], gf0);
      for (let i3 = 255; i3 >= 0; --i3) {
        const b3 = s2[i3 / 8 | 0] >> (i3 & 7) & 1;
        cswap(p6, q4, b3);
        edadd(q4, p6);
        edadd(p6, p6);
        cswap(p6, q4, b3);
      }
    }
    function scalarbase(p6, s2) {
      const q4 = [gf(), gf(), gf(), gf()];
      set25519(q4[0], X4);
      set25519(q4[1], Y);
      set25519(q4[2], gf1);
      mul2(q4[3], X4, Y);
      scalarmult(p6, q4, s2);
    }
    function generateKeyPairFromSeed2(seed) {
      if (seed.length !== exports2.SEED_LENGTH) {
        throw new Error(`ed25519: seed must be ${exports2.SEED_LENGTH} bytes`);
      }
      const d3 = (0, sha512_1.hash)(seed);
      d3[0] &= 248;
      d3[31] &= 127;
      d3[31] |= 64;
      const publicKey = new Uint8Array(32);
      const p6 = [gf(), gf(), gf(), gf()];
      scalarbase(p6, d3);
      pack(publicKey, p6);
      const secretKey = new Uint8Array(64);
      secretKey.set(seed);
      secretKey.set(publicKey, 32);
      return {
        publicKey,
        secretKey
      };
    }
    exports2.generateKeyPairFromSeed = generateKeyPairFromSeed2;
    function generateKeyPair3(prng) {
      const seed = (0, random_1.randomBytes)(32, prng);
      const result = generateKeyPairFromSeed2(seed);
      (0, wipe_1.wipe)(seed);
      return result;
    }
    exports2.generateKeyPair = generateKeyPair3;
    function extractPublicKeyFromSecretKey(secretKey) {
      if (secretKey.length !== exports2.SECRET_KEY_LENGTH) {
        throw new Error(`ed25519: secret key must be ${exports2.SECRET_KEY_LENGTH} bytes`);
      }
      return new Uint8Array(secretKey.subarray(32));
    }
    exports2.extractPublicKeyFromSecretKey = extractPublicKeyFromSecretKey;
    var L3 = new Float64Array([
      237,
      211,
      245,
      92,
      26,
      99,
      18,
      88,
      214,
      156,
      247,
      162,
      222,
      249,
      222,
      20,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      0,
      16
    ]);
    function modL(r3, x5) {
      let carry;
      let i3;
      let j4;
      let k3;
      for (i3 = 63; i3 >= 32; --i3) {
        carry = 0;
        for (j4 = i3 - 32, k3 = i3 - 12; j4 < k3; ++j4) {
          x5[j4] += carry - 16 * x5[i3] * L3[j4 - (i3 - 32)];
          carry = Math.floor((x5[j4] + 128) / 256);
          x5[j4] -= carry * 256;
        }
        x5[j4] += carry;
        x5[i3] = 0;
      }
      carry = 0;
      for (j4 = 0; j4 < 32; j4++) {
        x5[j4] += carry - (x5[31] >> 4) * L3[j4];
        carry = x5[j4] >> 8;
        x5[j4] &= 255;
      }
      for (j4 = 0; j4 < 32; j4++) {
        x5[j4] -= carry * L3[j4];
      }
      for (i3 = 0; i3 < 32; i3++) {
        x5[i3 + 1] += x5[i3] >> 8;
        r3[i3] = x5[i3] & 255;
      }
    }
    function reduce(r3) {
      const x5 = new Float64Array(64);
      for (let i3 = 0; i3 < 64; i3++) {
        x5[i3] = r3[i3];
      }
      for (let i3 = 0; i3 < 64; i3++) {
        r3[i3] = 0;
      }
      modL(r3, x5);
    }
    function sign2(secretKey, message) {
      const x5 = new Float64Array(64);
      const p6 = [gf(), gf(), gf(), gf()];
      const d3 = (0, sha512_1.hash)(secretKey.subarray(0, 32));
      d3[0] &= 248;
      d3[31] &= 127;
      d3[31] |= 64;
      const signature = new Uint8Array(64);
      signature.set(d3.subarray(32), 32);
      const hs3 = new sha512_1.SHA512();
      hs3.update(signature.subarray(32));
      hs3.update(message);
      const r3 = hs3.digest();
      hs3.clean();
      reduce(r3);
      scalarbase(p6, r3);
      pack(signature, p6);
      hs3.reset();
      hs3.update(signature.subarray(0, 32));
      hs3.update(secretKey.subarray(32));
      hs3.update(message);
      const h6 = hs3.digest();
      reduce(h6);
      for (let i3 = 0; i3 < 32; i3++) {
        x5[i3] = r3[i3];
      }
      for (let i3 = 0; i3 < 32; i3++) {
        for (let j4 = 0; j4 < 32; j4++) {
          x5[i3 + j4] += h6[i3] * d3[j4];
        }
      }
      modL(signature.subarray(32), x5);
      return signature;
    }
    exports2.sign = sign2;
    function unpackneg(r3, p6) {
      const t2 = gf(), chk = gf(), num = gf(), den = gf(), den2 = gf(), den4 = gf(), den6 = gf();
      set25519(r3[2], gf1);
      unpack25519(r3[1], p6);
      square(num, r3[1]);
      mul2(den, num, D4);
      sub2(num, num, r3[2]);
      add2(den, r3[2], den);
      square(den2, den);
      square(den4, den2);
      mul2(den6, den4, den2);
      mul2(t2, den6, num);
      mul2(t2, t2, den);
      pow2523(t2, t2);
      mul2(t2, t2, num);
      mul2(t2, t2, den);
      mul2(t2, t2, den);
      mul2(r3[0], t2, den);
      square(chk, r3[0]);
      mul2(chk, chk, den);
      if (neq25519(chk, num)) {
        mul2(r3[0], r3[0], I);
      }
      square(chk, r3[0]);
      mul2(chk, chk, den);
      if (neq25519(chk, num)) {
        return -1;
      }
      if (par25519(r3[0]) === p6[31] >> 7) {
        sub2(r3[0], gf0, r3[0]);
      }
      mul2(r3[3], r3[0], r3[1]);
      return 0;
    }
    function verify2(publicKey, message, signature) {
      const t2 = new Uint8Array(32);
      const p6 = [gf(), gf(), gf(), gf()];
      const q4 = [gf(), gf(), gf(), gf()];
      if (signature.length !== exports2.SIGNATURE_LENGTH) {
        throw new Error(`ed25519: signature must be ${exports2.SIGNATURE_LENGTH} bytes`);
      }
      if (unpackneg(q4, publicKey)) {
        return false;
      }
      const hs3 = new sha512_1.SHA512();
      hs3.update(signature.subarray(0, 32));
      hs3.update(publicKey);
      hs3.update(message);
      const h6 = hs3.digest();
      reduce(h6);
      scalarmult(p6, q4, h6);
      scalarbase(q4, signature.subarray(32));
      edadd(p6, q4);
      pack(t2, p6);
      if (verify32(signature, t2)) {
        return false;
      }
      return true;
    }
    exports2.verify = verify2;
    function convertPublicKeyToX25519(publicKey) {
      let q4 = [gf(), gf(), gf(), gf()];
      if (unpackneg(q4, publicKey)) {
        throw new Error("Ed25519: invalid public key");
      }
      let a4 = gf();
      let b3 = gf();
      let y7 = q4[1];
      add2(a4, gf1, y7);
      sub2(b3, gf1, y7);
      inv25519(b3, b3);
      mul2(a4, a4, b3);
      let z3 = new Uint8Array(32);
      pack25519(z3, a4);
      return z3;
    }
    exports2.convertPublicKeyToX25519 = convertPublicKeyToX25519;
    function convertSecretKeyToX25519(secretKey) {
      const d3 = (0, sha512_1.hash)(secretKey.subarray(0, 32));
      d3[0] &= 248;
      d3[31] &= 127;
      d3[31] |= 64;
      const o3 = new Uint8Array(d3.subarray(0, 32));
      (0, wipe_1.wipe)(d3);
      return o3;
    }
    exports2.convertSecretKeyToX25519 = convertSecretKeyToX25519;
  }
});

// node_modules/.pnpm/@stablelib+chacha@1.0.1/node_modules/@stablelib/chacha/lib/chacha.js
var require_chacha = __commonJS({
  "node_modules/.pnpm/@stablelib+chacha@1.0.1/node_modules/@stablelib/chacha/lib/chacha.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var binary_1 = require_binary();
    var wipe_1 = require_wipe();
    var ROUNDS = 20;
    function core(out, input, key2) {
      var j0 = 1634760805;
      var j1 = 857760878;
      var j22 = 2036477234;
      var j32 = 1797285236;
      var j4 = key2[3] << 24 | key2[2] << 16 | key2[1] << 8 | key2[0];
      var j5 = key2[7] << 24 | key2[6] << 16 | key2[5] << 8 | key2[4];
      var j6 = key2[11] << 24 | key2[10] << 16 | key2[9] << 8 | key2[8];
      var j7 = key2[15] << 24 | key2[14] << 16 | key2[13] << 8 | key2[12];
      var j8 = key2[19] << 24 | key2[18] << 16 | key2[17] << 8 | key2[16];
      var j9 = key2[23] << 24 | key2[22] << 16 | key2[21] << 8 | key2[20];
      var j10 = key2[27] << 24 | key2[26] << 16 | key2[25] << 8 | key2[24];
      var j11 = key2[31] << 24 | key2[30] << 16 | key2[29] << 8 | key2[28];
      var j12 = input[3] << 24 | input[2] << 16 | input[1] << 8 | input[0];
      var j13 = input[7] << 24 | input[6] << 16 | input[5] << 8 | input[4];
      var j14 = input[11] << 24 | input[10] << 16 | input[9] << 8 | input[8];
      var j15 = input[15] << 24 | input[14] << 16 | input[13] << 8 | input[12];
      var x0 = j0;
      var x1 = j1;
      var x22 = j22;
      var x32 = j32;
      var x42 = j4;
      var x5 = j5;
      var x6 = j6;
      var x7 = j7;
      var x8 = j8;
      var x9 = j9;
      var x10 = j10;
      var x11 = j11;
      var x12 = j12;
      var x13 = j13;
      var x14 = j14;
      var x15 = j15;
      for (var i3 = 0; i3 < ROUNDS; i3 += 2) {
        x0 = x0 + x42 | 0;
        x12 ^= x0;
        x12 = x12 >>> 32 - 16 | x12 << 16;
        x8 = x8 + x12 | 0;
        x42 ^= x8;
        x42 = x42 >>> 32 - 12 | x42 << 12;
        x1 = x1 + x5 | 0;
        x13 ^= x1;
        x13 = x13 >>> 32 - 16 | x13 << 16;
        x9 = x9 + x13 | 0;
        x5 ^= x9;
        x5 = x5 >>> 32 - 12 | x5 << 12;
        x22 = x22 + x6 | 0;
        x14 ^= x22;
        x14 = x14 >>> 32 - 16 | x14 << 16;
        x10 = x10 + x14 | 0;
        x6 ^= x10;
        x6 = x6 >>> 32 - 12 | x6 << 12;
        x32 = x32 + x7 | 0;
        x15 ^= x32;
        x15 = x15 >>> 32 - 16 | x15 << 16;
        x11 = x11 + x15 | 0;
        x7 ^= x11;
        x7 = x7 >>> 32 - 12 | x7 << 12;
        x22 = x22 + x6 | 0;
        x14 ^= x22;
        x14 = x14 >>> 32 - 8 | x14 << 8;
        x10 = x10 + x14 | 0;
        x6 ^= x10;
        x6 = x6 >>> 32 - 7 | x6 << 7;
        x32 = x32 + x7 | 0;
        x15 ^= x32;
        x15 = x15 >>> 32 - 8 | x15 << 8;
        x11 = x11 + x15 | 0;
        x7 ^= x11;
        x7 = x7 >>> 32 - 7 | x7 << 7;
        x1 = x1 + x5 | 0;
        x13 ^= x1;
        x13 = x13 >>> 32 - 8 | x13 << 8;
        x9 = x9 + x13 | 0;
        x5 ^= x9;
        x5 = x5 >>> 32 - 7 | x5 << 7;
        x0 = x0 + x42 | 0;
        x12 ^= x0;
        x12 = x12 >>> 32 - 8 | x12 << 8;
        x8 = x8 + x12 | 0;
        x42 ^= x8;
        x42 = x42 >>> 32 - 7 | x42 << 7;
        x0 = x0 + x5 | 0;
        x15 ^= x0;
        x15 = x15 >>> 32 - 16 | x15 << 16;
        x10 = x10 + x15 | 0;
        x5 ^= x10;
        x5 = x5 >>> 32 - 12 | x5 << 12;
        x1 = x1 + x6 | 0;
        x12 ^= x1;
        x12 = x12 >>> 32 - 16 | x12 << 16;
        x11 = x11 + x12 | 0;
        x6 ^= x11;
        x6 = x6 >>> 32 - 12 | x6 << 12;
        x22 = x22 + x7 | 0;
        x13 ^= x22;
        x13 = x13 >>> 32 - 16 | x13 << 16;
        x8 = x8 + x13 | 0;
        x7 ^= x8;
        x7 = x7 >>> 32 - 12 | x7 << 12;
        x32 = x32 + x42 | 0;
        x14 ^= x32;
        x14 = x14 >>> 32 - 16 | x14 << 16;
        x9 = x9 + x14 | 0;
        x42 ^= x9;
        x42 = x42 >>> 32 - 12 | x42 << 12;
        x22 = x22 + x7 | 0;
        x13 ^= x22;
        x13 = x13 >>> 32 - 8 | x13 << 8;
        x8 = x8 + x13 | 0;
        x7 ^= x8;
        x7 = x7 >>> 32 - 7 | x7 << 7;
        x32 = x32 + x42 | 0;
        x14 ^= x32;
        x14 = x14 >>> 32 - 8 | x14 << 8;
        x9 = x9 + x14 | 0;
        x42 ^= x9;
        x42 = x42 >>> 32 - 7 | x42 << 7;
        x1 = x1 + x6 | 0;
        x12 ^= x1;
        x12 = x12 >>> 32 - 8 | x12 << 8;
        x11 = x11 + x12 | 0;
        x6 ^= x11;
        x6 = x6 >>> 32 - 7 | x6 << 7;
        x0 = x0 + x5 | 0;
        x15 ^= x0;
        x15 = x15 >>> 32 - 8 | x15 << 8;
        x10 = x10 + x15 | 0;
        x5 ^= x10;
        x5 = x5 >>> 32 - 7 | x5 << 7;
      }
      binary_1.writeUint32LE(x0 + j0 | 0, out, 0);
      binary_1.writeUint32LE(x1 + j1 | 0, out, 4);
      binary_1.writeUint32LE(x22 + j22 | 0, out, 8);
      binary_1.writeUint32LE(x32 + j32 | 0, out, 12);
      binary_1.writeUint32LE(x42 + j4 | 0, out, 16);
      binary_1.writeUint32LE(x5 + j5 | 0, out, 20);
      binary_1.writeUint32LE(x6 + j6 | 0, out, 24);
      binary_1.writeUint32LE(x7 + j7 | 0, out, 28);
      binary_1.writeUint32LE(x8 + j8 | 0, out, 32);
      binary_1.writeUint32LE(x9 + j9 | 0, out, 36);
      binary_1.writeUint32LE(x10 + j10 | 0, out, 40);
      binary_1.writeUint32LE(x11 + j11 | 0, out, 44);
      binary_1.writeUint32LE(x12 + j12 | 0, out, 48);
      binary_1.writeUint32LE(x13 + j13 | 0, out, 52);
      binary_1.writeUint32LE(x14 + j14 | 0, out, 56);
      binary_1.writeUint32LE(x15 + j15 | 0, out, 60);
    }
    function streamXOR(key2, nonce, src2, dst, nonceInplaceCounterLength) {
      if (nonceInplaceCounterLength === void 0) {
        nonceInplaceCounterLength = 0;
      }
      if (key2.length !== 32) {
        throw new Error("ChaCha: key size must be 32 bytes");
      }
      if (dst.length < src2.length) {
        throw new Error("ChaCha: destination is shorter than source");
      }
      var nc;
      var counterLength;
      if (nonceInplaceCounterLength === 0) {
        if (nonce.length !== 8 && nonce.length !== 12) {
          throw new Error("ChaCha nonce must be 8 or 12 bytes");
        }
        nc = new Uint8Array(16);
        counterLength = nc.length - nonce.length;
        nc.set(nonce, counterLength);
      } else {
        if (nonce.length !== 16) {
          throw new Error("ChaCha nonce with counter must be 16 bytes");
        }
        nc = nonce;
        counterLength = nonceInplaceCounterLength;
      }
      var block = new Uint8Array(64);
      for (var i3 = 0; i3 < src2.length; i3 += 64) {
        core(block, nc, key2);
        for (var j4 = i3; j4 < i3 + 64 && j4 < src2.length; j4++) {
          dst[j4] = src2[j4] ^ block[j4 - i3];
        }
        incrementCounter(nc, 0, counterLength);
      }
      wipe_1.wipe(block);
      if (nonceInplaceCounterLength === 0) {
        wipe_1.wipe(nc);
      }
      return dst;
    }
    exports2.streamXOR = streamXOR;
    function stream(key2, nonce, dst, nonceInplaceCounterLength) {
      if (nonceInplaceCounterLength === void 0) {
        nonceInplaceCounterLength = 0;
      }
      wipe_1.wipe(dst);
      return streamXOR(key2, nonce, dst, dst, nonceInplaceCounterLength);
    }
    exports2.stream = stream;
    function incrementCounter(counter, pos, len) {
      var carry = 1;
      while (len--) {
        carry = carry + (counter[pos] & 255) | 0;
        counter[pos] = carry & 255;
        carry >>>= 8;
        pos++;
      }
      if (carry > 0) {
        throw new Error("ChaCha: counter overflow");
      }
    }
  }
});

// node_modules/.pnpm/@stablelib+constant-time@1.0.1/node_modules/@stablelib/constant-time/lib/constant-time.js
var require_constant_time = __commonJS({
  "node_modules/.pnpm/@stablelib+constant-time@1.0.1/node_modules/@stablelib/constant-time/lib/constant-time.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    function select(subject, resultIfOne, resultIfZero) {
      return ~(subject - 1) & resultIfOne | subject - 1 & resultIfZero;
    }
    exports2.select = select;
    function lessOrEqual(a4, b3) {
      return (a4 | 0) - (b3 | 0) - 1 >>> 31 & 1;
    }
    exports2.lessOrEqual = lessOrEqual;
    function compare2(a4, b3) {
      if (a4.length !== b3.length) {
        return 0;
      }
      var result = 0;
      for (var i3 = 0; i3 < a4.length; i3++) {
        result |= a4[i3] ^ b3[i3];
      }
      return 1 & result - 1 >>> 8;
    }
    exports2.compare = compare2;
    function equal(a4, b3) {
      if (a4.length === 0 || b3.length === 0) {
        return false;
      }
      return compare2(a4, b3) !== 0;
    }
    exports2.equal = equal;
  }
});

// node_modules/.pnpm/@stablelib+poly1305@1.0.1/node_modules/@stablelib/poly1305/lib/poly1305.js
var require_poly1305 = __commonJS({
  "node_modules/.pnpm/@stablelib+poly1305@1.0.1/node_modules/@stablelib/poly1305/lib/poly1305.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var constant_time_1 = require_constant_time();
    var wipe_1 = require_wipe();
    exports2.DIGEST_LENGTH = 16;
    var Poly1305 = (
      /** @class */
      function() {
        function Poly13052(key2) {
          this.digestLength = exports2.DIGEST_LENGTH;
          this._buffer = new Uint8Array(16);
          this._r = new Uint16Array(10);
          this._h = new Uint16Array(10);
          this._pad = new Uint16Array(8);
          this._leftover = 0;
          this._fin = 0;
          this._finished = false;
          var t0 = key2[0] | key2[1] << 8;
          this._r[0] = t0 & 8191;
          var t1 = key2[2] | key2[3] << 8;
          this._r[1] = (t0 >>> 13 | t1 << 3) & 8191;
          var t2 = key2[4] | key2[5] << 8;
          this._r[2] = (t1 >>> 10 | t2 << 6) & 7939;
          var t3 = key2[6] | key2[7] << 8;
          this._r[3] = (t2 >>> 7 | t3 << 9) & 8191;
          var t4 = key2[8] | key2[9] << 8;
          this._r[4] = (t3 >>> 4 | t4 << 12) & 255;
          this._r[5] = t4 >>> 1 & 8190;
          var t5 = key2[10] | key2[11] << 8;
          this._r[6] = (t4 >>> 14 | t5 << 2) & 8191;
          var t6 = key2[12] | key2[13] << 8;
          this._r[7] = (t5 >>> 11 | t6 << 5) & 8065;
          var t7 = key2[14] | key2[15] << 8;
          this._r[8] = (t6 >>> 8 | t7 << 8) & 8191;
          this._r[9] = t7 >>> 5 & 127;
          this._pad[0] = key2[16] | key2[17] << 8;
          this._pad[1] = key2[18] | key2[19] << 8;
          this._pad[2] = key2[20] | key2[21] << 8;
          this._pad[3] = key2[22] | key2[23] << 8;
          this._pad[4] = key2[24] | key2[25] << 8;
          this._pad[5] = key2[26] | key2[27] << 8;
          this._pad[6] = key2[28] | key2[29] << 8;
          this._pad[7] = key2[30] | key2[31] << 8;
        }
        Poly13052.prototype._blocks = function(m3, mpos, bytes) {
          var hibit = this._fin ? 0 : 1 << 11;
          var h0 = this._h[0], h1 = this._h[1], h22 = this._h[2], h32 = this._h[3], h42 = this._h[4], h52 = this._h[5], h6 = this._h[6], h7 = this._h[7], h8 = this._h[8], h9 = this._h[9];
          var r0 = this._r[0], r1 = this._r[1], r22 = this._r[2], r3 = this._r[3], r4 = this._r[4], r5 = this._r[5], r6 = this._r[6], r7 = this._r[7], r8 = this._r[8], r9 = this._r[9];
          while (bytes >= 16) {
            var t0 = m3[mpos + 0] | m3[mpos + 1] << 8;
            h0 += t0 & 8191;
            var t1 = m3[mpos + 2] | m3[mpos + 3] << 8;
            h1 += (t0 >>> 13 | t1 << 3) & 8191;
            var t2 = m3[mpos + 4] | m3[mpos + 5] << 8;
            h22 += (t1 >>> 10 | t2 << 6) & 8191;
            var t3 = m3[mpos + 6] | m3[mpos + 7] << 8;
            h32 += (t2 >>> 7 | t3 << 9) & 8191;
            var t4 = m3[mpos + 8] | m3[mpos + 9] << 8;
            h42 += (t3 >>> 4 | t4 << 12) & 8191;
            h52 += t4 >>> 1 & 8191;
            var t5 = m3[mpos + 10] | m3[mpos + 11] << 8;
            h6 += (t4 >>> 14 | t5 << 2) & 8191;
            var t6 = m3[mpos + 12] | m3[mpos + 13] << 8;
            h7 += (t5 >>> 11 | t6 << 5) & 8191;
            var t7 = m3[mpos + 14] | m3[mpos + 15] << 8;
            h8 += (t6 >>> 8 | t7 << 8) & 8191;
            h9 += t7 >>> 5 | hibit;
            var c3 = 0;
            var d0 = c3;
            d0 += h0 * r0;
            d0 += h1 * (5 * r9);
            d0 += h22 * (5 * r8);
            d0 += h32 * (5 * r7);
            d0 += h42 * (5 * r6);
            c3 = d0 >>> 13;
            d0 &= 8191;
            d0 += h52 * (5 * r5);
            d0 += h6 * (5 * r4);
            d0 += h7 * (5 * r3);
            d0 += h8 * (5 * r22);
            d0 += h9 * (5 * r1);
            c3 += d0 >>> 13;
            d0 &= 8191;
            var d1 = c3;
            d1 += h0 * r1;
            d1 += h1 * r0;
            d1 += h22 * (5 * r9);
            d1 += h32 * (5 * r8);
            d1 += h42 * (5 * r7);
            c3 = d1 >>> 13;
            d1 &= 8191;
            d1 += h52 * (5 * r6);
            d1 += h6 * (5 * r5);
            d1 += h7 * (5 * r4);
            d1 += h8 * (5 * r3);
            d1 += h9 * (5 * r22);
            c3 += d1 >>> 13;
            d1 &= 8191;
            var d22 = c3;
            d22 += h0 * r22;
            d22 += h1 * r1;
            d22 += h22 * r0;
            d22 += h32 * (5 * r9);
            d22 += h42 * (5 * r8);
            c3 = d22 >>> 13;
            d22 &= 8191;
            d22 += h52 * (5 * r7);
            d22 += h6 * (5 * r6);
            d22 += h7 * (5 * r5);
            d22 += h8 * (5 * r4);
            d22 += h9 * (5 * r3);
            c3 += d22 >>> 13;
            d22 &= 8191;
            var d3 = c3;
            d3 += h0 * r3;
            d3 += h1 * r22;
            d3 += h22 * r1;
            d3 += h32 * r0;
            d3 += h42 * (5 * r9);
            c3 = d3 >>> 13;
            d3 &= 8191;
            d3 += h52 * (5 * r8);
            d3 += h6 * (5 * r7);
            d3 += h7 * (5 * r6);
            d3 += h8 * (5 * r5);
            d3 += h9 * (5 * r4);
            c3 += d3 >>> 13;
            d3 &= 8191;
            var d4 = c3;
            d4 += h0 * r4;
            d4 += h1 * r3;
            d4 += h22 * r22;
            d4 += h32 * r1;
            d4 += h42 * r0;
            c3 = d4 >>> 13;
            d4 &= 8191;
            d4 += h52 * (5 * r9);
            d4 += h6 * (5 * r8);
            d4 += h7 * (5 * r7);
            d4 += h8 * (5 * r6);
            d4 += h9 * (5 * r5);
            c3 += d4 >>> 13;
            d4 &= 8191;
            var d5 = c3;
            d5 += h0 * r5;
            d5 += h1 * r4;
            d5 += h22 * r3;
            d5 += h32 * r22;
            d5 += h42 * r1;
            c3 = d5 >>> 13;
            d5 &= 8191;
            d5 += h52 * r0;
            d5 += h6 * (5 * r9);
            d5 += h7 * (5 * r8);
            d5 += h8 * (5 * r7);
            d5 += h9 * (5 * r6);
            c3 += d5 >>> 13;
            d5 &= 8191;
            var d6 = c3;
            d6 += h0 * r6;
            d6 += h1 * r5;
            d6 += h22 * r4;
            d6 += h32 * r3;
            d6 += h42 * r22;
            c3 = d6 >>> 13;
            d6 &= 8191;
            d6 += h52 * r1;
            d6 += h6 * r0;
            d6 += h7 * (5 * r9);
            d6 += h8 * (5 * r8);
            d6 += h9 * (5 * r7);
            c3 += d6 >>> 13;
            d6 &= 8191;
            var d7 = c3;
            d7 += h0 * r7;
            d7 += h1 * r6;
            d7 += h22 * r5;
            d7 += h32 * r4;
            d7 += h42 * r3;
            c3 = d7 >>> 13;
            d7 &= 8191;
            d7 += h52 * r22;
            d7 += h6 * r1;
            d7 += h7 * r0;
            d7 += h8 * (5 * r9);
            d7 += h9 * (5 * r8);
            c3 += d7 >>> 13;
            d7 &= 8191;
            var d8 = c3;
            d8 += h0 * r8;
            d8 += h1 * r7;
            d8 += h22 * r6;
            d8 += h32 * r5;
            d8 += h42 * r4;
            c3 = d8 >>> 13;
            d8 &= 8191;
            d8 += h52 * r3;
            d8 += h6 * r22;
            d8 += h7 * r1;
            d8 += h8 * r0;
            d8 += h9 * (5 * r9);
            c3 += d8 >>> 13;
            d8 &= 8191;
            var d9 = c3;
            d9 += h0 * r9;
            d9 += h1 * r8;
            d9 += h22 * r7;
            d9 += h32 * r6;
            d9 += h42 * r5;
            c3 = d9 >>> 13;
            d9 &= 8191;
            d9 += h52 * r4;
            d9 += h6 * r3;
            d9 += h7 * r22;
            d9 += h8 * r1;
            d9 += h9 * r0;
            c3 += d9 >>> 13;
            d9 &= 8191;
            c3 = (c3 << 2) + c3 | 0;
            c3 = c3 + d0 | 0;
            d0 = c3 & 8191;
            c3 = c3 >>> 13;
            d1 += c3;
            h0 = d0;
            h1 = d1;
            h22 = d22;
            h32 = d3;
            h42 = d4;
            h52 = d5;
            h6 = d6;
            h7 = d7;
            h8 = d8;
            h9 = d9;
            mpos += 16;
            bytes -= 16;
          }
          this._h[0] = h0;
          this._h[1] = h1;
          this._h[2] = h22;
          this._h[3] = h32;
          this._h[4] = h42;
          this._h[5] = h52;
          this._h[6] = h6;
          this._h[7] = h7;
          this._h[8] = h8;
          this._h[9] = h9;
        };
        Poly13052.prototype.finish = function(mac, macpos) {
          if (macpos === void 0) {
            macpos = 0;
          }
          var g5 = new Uint16Array(10);
          var c3;
          var mask2;
          var f3;
          var i3;
          if (this._leftover) {
            i3 = this._leftover;
            this._buffer[i3++] = 1;
            for (; i3 < 16; i3++) {
              this._buffer[i3] = 0;
            }
            this._fin = 1;
            this._blocks(this._buffer, 0, 16);
          }
          c3 = this._h[1] >>> 13;
          this._h[1] &= 8191;
          for (i3 = 2; i3 < 10; i3++) {
            this._h[i3] += c3;
            c3 = this._h[i3] >>> 13;
            this._h[i3] &= 8191;
          }
          this._h[0] += c3 * 5;
          c3 = this._h[0] >>> 13;
          this._h[0] &= 8191;
          this._h[1] += c3;
          c3 = this._h[1] >>> 13;
          this._h[1] &= 8191;
          this._h[2] += c3;
          g5[0] = this._h[0] + 5;
          c3 = g5[0] >>> 13;
          g5[0] &= 8191;
          for (i3 = 1; i3 < 10; i3++) {
            g5[i3] = this._h[i3] + c3;
            c3 = g5[i3] >>> 13;
            g5[i3] &= 8191;
          }
          g5[9] -= 1 << 13;
          mask2 = (c3 ^ 1) - 1;
          for (i3 = 0; i3 < 10; i3++) {
            g5[i3] &= mask2;
          }
          mask2 = ~mask2;
          for (i3 = 0; i3 < 10; i3++) {
            this._h[i3] = this._h[i3] & mask2 | g5[i3];
          }
          this._h[0] = (this._h[0] | this._h[1] << 13) & 65535;
          this._h[1] = (this._h[1] >>> 3 | this._h[2] << 10) & 65535;
          this._h[2] = (this._h[2] >>> 6 | this._h[3] << 7) & 65535;
          this._h[3] = (this._h[3] >>> 9 | this._h[4] << 4) & 65535;
          this._h[4] = (this._h[4] >>> 12 | this._h[5] << 1 | this._h[6] << 14) & 65535;
          this._h[5] = (this._h[6] >>> 2 | this._h[7] << 11) & 65535;
          this._h[6] = (this._h[7] >>> 5 | this._h[8] << 8) & 65535;
          this._h[7] = (this._h[8] >>> 8 | this._h[9] << 5) & 65535;
          f3 = this._h[0] + this._pad[0];
          this._h[0] = f3 & 65535;
          for (i3 = 1; i3 < 8; i3++) {
            f3 = (this._h[i3] + this._pad[i3] | 0) + (f3 >>> 16) | 0;
            this._h[i3] = f3 & 65535;
          }
          mac[macpos + 0] = this._h[0] >>> 0;
          mac[macpos + 1] = this._h[0] >>> 8;
          mac[macpos + 2] = this._h[1] >>> 0;
          mac[macpos + 3] = this._h[1] >>> 8;
          mac[macpos + 4] = this._h[2] >>> 0;
          mac[macpos + 5] = this._h[2] >>> 8;
          mac[macpos + 6] = this._h[3] >>> 0;
          mac[macpos + 7] = this._h[3] >>> 8;
          mac[macpos + 8] = this._h[4] >>> 0;
          mac[macpos + 9] = this._h[4] >>> 8;
          mac[macpos + 10] = this._h[5] >>> 0;
          mac[macpos + 11] = this._h[5] >>> 8;
          mac[macpos + 12] = this._h[6] >>> 0;
          mac[macpos + 13] = this._h[6] >>> 8;
          mac[macpos + 14] = this._h[7] >>> 0;
          mac[macpos + 15] = this._h[7] >>> 8;
          this._finished = true;
          return this;
        };
        Poly13052.prototype.update = function(m3) {
          var mpos = 0;
          var bytes = m3.length;
          var want;
          if (this._leftover) {
            want = 16 - this._leftover;
            if (want > bytes) {
              want = bytes;
            }
            for (var i3 = 0; i3 < want; i3++) {
              this._buffer[this._leftover + i3] = m3[mpos + i3];
            }
            bytes -= want;
            mpos += want;
            this._leftover += want;
            if (this._leftover < 16) {
              return this;
            }
            this._blocks(this._buffer, 0, 16);
            this._leftover = 0;
          }
          if (bytes >= 16) {
            want = bytes - bytes % 16;
            this._blocks(m3, mpos, want);
            mpos += want;
            bytes -= want;
          }
          if (bytes) {
            for (var i3 = 0; i3 < bytes; i3++) {
              this._buffer[this._leftover + i3] = m3[mpos + i3];
            }
            this._leftover += bytes;
          }
          return this;
        };
        Poly13052.prototype.digest = function() {
          if (this._finished) {
            throw new Error("Poly1305 was finished");
          }
          var mac = new Uint8Array(16);
          this.finish(mac);
          return mac;
        };
        Poly13052.prototype.clean = function() {
          wipe_1.wipe(this._buffer);
          wipe_1.wipe(this._r);
          wipe_1.wipe(this._h);
          wipe_1.wipe(this._pad);
          this._leftover = 0;
          this._fin = 0;
          this._finished = true;
          return this;
        };
        return Poly13052;
      }()
    );
    exports2.Poly1305 = Poly1305;
    function oneTimeAuth(key2, data2) {
      var h6 = new Poly1305(key2);
      h6.update(data2);
      var digest2 = h6.digest();
      h6.clean();
      return digest2;
    }
    exports2.oneTimeAuth = oneTimeAuth;
    function equal(a4, b3) {
      if (a4.length !== exports2.DIGEST_LENGTH || b3.length !== exports2.DIGEST_LENGTH) {
        return false;
      }
      return constant_time_1.equal(a4, b3);
    }
    exports2.equal = equal;
  }
});

// node_modules/.pnpm/@stablelib+chacha20poly1305@1.0.1/node_modules/@stablelib/chacha20poly1305/lib/chacha20poly1305.js
var require_chacha20poly1305 = __commonJS({
  "node_modules/.pnpm/@stablelib+chacha20poly1305@1.0.1/node_modules/@stablelib/chacha20poly1305/lib/chacha20poly1305.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var chacha_1 = require_chacha();
    var poly1305_1 = require_poly1305();
    var wipe_1 = require_wipe();
    var binary_1 = require_binary();
    var constant_time_1 = require_constant_time();
    exports2.KEY_LENGTH = 32;
    exports2.NONCE_LENGTH = 12;
    exports2.TAG_LENGTH = 16;
    var ZEROS = new Uint8Array(16);
    var ChaCha20Poly1305 = (
      /** @class */
      function() {
        function ChaCha20Poly13052(key2) {
          this.nonceLength = exports2.NONCE_LENGTH;
          this.tagLength = exports2.TAG_LENGTH;
          if (key2.length !== exports2.KEY_LENGTH) {
            throw new Error("ChaCha20Poly1305 needs 32-byte key");
          }
          this._key = new Uint8Array(key2);
        }
        ChaCha20Poly13052.prototype.seal = function(nonce, plaintext, associatedData, dst) {
          if (nonce.length > 16) {
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          }
          var counter = new Uint8Array(16);
          counter.set(nonce, counter.length - nonce.length);
          var authKey = new Uint8Array(32);
          chacha_1.stream(this._key, counter, authKey, 4);
          var resultLength = plaintext.length + this.tagLength;
          var result;
          if (dst) {
            if (dst.length !== resultLength) {
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            }
            result = dst;
          } else {
            result = new Uint8Array(resultLength);
          }
          chacha_1.streamXOR(this._key, counter, plaintext, result, 4);
          this._authenticate(result.subarray(result.length - this.tagLength, result.length), authKey, result.subarray(0, result.length - this.tagLength), associatedData);
          wipe_1.wipe(counter);
          return result;
        };
        ChaCha20Poly13052.prototype.open = function(nonce, sealed, associatedData, dst) {
          if (nonce.length > 16) {
            throw new Error("ChaCha20Poly1305: incorrect nonce length");
          }
          if (sealed.length < this.tagLength) {
            return null;
          }
          var counter = new Uint8Array(16);
          counter.set(nonce, counter.length - nonce.length);
          var authKey = new Uint8Array(32);
          chacha_1.stream(this._key, counter, authKey, 4);
          var calculatedTag = new Uint8Array(this.tagLength);
          this._authenticate(calculatedTag, authKey, sealed.subarray(0, sealed.length - this.tagLength), associatedData);
          if (!constant_time_1.equal(calculatedTag, sealed.subarray(sealed.length - this.tagLength, sealed.length))) {
            return null;
          }
          var resultLength = sealed.length - this.tagLength;
          var result;
          if (dst) {
            if (dst.length !== resultLength) {
              throw new Error("ChaCha20Poly1305: incorrect destination length");
            }
            result = dst;
          } else {
            result = new Uint8Array(resultLength);
          }
          chacha_1.streamXOR(this._key, counter, sealed.subarray(0, sealed.length - this.tagLength), result, 4);
          wipe_1.wipe(counter);
          return result;
        };
        ChaCha20Poly13052.prototype.clean = function() {
          wipe_1.wipe(this._key);
          return this;
        };
        ChaCha20Poly13052.prototype._authenticate = function(tagOut, authKey, ciphertext, associatedData) {
          var h6 = new poly1305_1.Poly1305(authKey);
          if (associatedData) {
            h6.update(associatedData);
            if (associatedData.length % 16 > 0) {
              h6.update(ZEROS.subarray(associatedData.length % 16));
            }
          }
          h6.update(ciphertext);
          if (ciphertext.length % 16 > 0) {
            h6.update(ZEROS.subarray(ciphertext.length % 16));
          }
          var length3 = new Uint8Array(8);
          if (associatedData) {
            binary_1.writeUint64LE(associatedData.length, length3);
          }
          h6.update(length3);
          binary_1.writeUint64LE(ciphertext.length, length3);
          h6.update(length3);
          var tag = h6.digest();
          for (var i3 = 0; i3 < tag.length; i3++) {
            tagOut[i3] = tag[i3];
          }
          h6.clean();
          wipe_1.wipe(tag);
          wipe_1.wipe(length3);
        };
        return ChaCha20Poly13052;
      }()
    );
    exports2.ChaCha20Poly1305 = ChaCha20Poly1305;
  }
});

// node_modules/.pnpm/@stablelib+hash@1.0.1/node_modules/@stablelib/hash/lib/hash.js
var require_hash = __commonJS({
  "node_modules/.pnpm/@stablelib+hash@1.0.1/node_modules/@stablelib/hash/lib/hash.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    function isSerializableHash(h6) {
      return typeof h6.saveState !== "undefined" && typeof h6.restoreState !== "undefined" && typeof h6.cleanSavedState !== "undefined";
    }
    exports2.isSerializableHash = isSerializableHash;
  }
});

// node_modules/.pnpm/@stablelib+hmac@1.0.1/node_modules/@stablelib/hmac/lib/hmac.js
var require_hmac = __commonJS({
  "node_modules/.pnpm/@stablelib+hmac@1.0.1/node_modules/@stablelib/hmac/lib/hmac.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var hash_1 = require_hash();
    var constant_time_1 = require_constant_time();
    var wipe_1 = require_wipe();
    var HMAC = (
      /** @class */
      function() {
        function HMAC2(hash, key2) {
          this._finished = false;
          this._inner = new hash();
          this._outer = new hash();
          this.blockSize = this._outer.blockSize;
          this.digestLength = this._outer.digestLength;
          var pad = new Uint8Array(this.blockSize);
          if (key2.length > this.blockSize) {
            this._inner.update(key2).finish(pad).clean();
          } else {
            pad.set(key2);
          }
          for (var i3 = 0; i3 < pad.length; i3++) {
            pad[i3] ^= 54;
          }
          this._inner.update(pad);
          for (var i3 = 0; i3 < pad.length; i3++) {
            pad[i3] ^= 54 ^ 92;
          }
          this._outer.update(pad);
          if (hash_1.isSerializableHash(this._inner) && hash_1.isSerializableHash(this._outer)) {
            this._innerKeyedState = this._inner.saveState();
            this._outerKeyedState = this._outer.saveState();
          }
          wipe_1.wipe(pad);
        }
        HMAC2.prototype.reset = function() {
          if (!hash_1.isSerializableHash(this._inner) || !hash_1.isSerializableHash(this._outer)) {
            throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");
          }
          this._inner.restoreState(this._innerKeyedState);
          this._outer.restoreState(this._outerKeyedState);
          this._finished = false;
          return this;
        };
        HMAC2.prototype.clean = function() {
          if (hash_1.isSerializableHash(this._inner)) {
            this._inner.cleanSavedState(this._innerKeyedState);
          }
          if (hash_1.isSerializableHash(this._outer)) {
            this._outer.cleanSavedState(this._outerKeyedState);
          }
          this._inner.clean();
          this._outer.clean();
        };
        HMAC2.prototype.update = function(data2) {
          this._inner.update(data2);
          return this;
        };
        HMAC2.prototype.finish = function(out) {
          if (this._finished) {
            this._outer.finish(out);
            return this;
          }
          this._inner.finish(out);
          this._outer.update(out.subarray(0, this.digestLength)).finish(out);
          this._finished = true;
          return this;
        };
        HMAC2.prototype.digest = function() {
          var out = new Uint8Array(this.digestLength);
          this.finish(out);
          return out;
        };
        HMAC2.prototype.saveState = function() {
          if (!hash_1.isSerializableHash(this._inner)) {
            throw new Error("hmac: can't saveState() because hash doesn't implement it");
          }
          return this._inner.saveState();
        };
        HMAC2.prototype.restoreState = function(savedState) {
          if (!hash_1.isSerializableHash(this._inner) || !hash_1.isSerializableHash(this._outer)) {
            throw new Error("hmac: can't restoreState() because hash doesn't implement it");
          }
          this._inner.restoreState(savedState);
          this._outer.restoreState(this._outerKeyedState);
          this._finished = false;
          return this;
        };
        HMAC2.prototype.cleanSavedState = function(savedState) {
          if (!hash_1.isSerializableHash(this._inner)) {
            throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");
          }
          this._inner.cleanSavedState(savedState);
        };
        return HMAC2;
      }()
    );
    exports2.HMAC = HMAC;
    function hmac(hash, key2, data2) {
      var h6 = new HMAC(hash, key2);
      h6.update(data2);
      var digest2 = h6.digest();
      h6.clean();
      return digest2;
    }
    exports2.hmac = hmac;
    exports2.equal = constant_time_1.equal;
  }
});

// node_modules/.pnpm/@stablelib+hkdf@1.0.1/node_modules/@stablelib/hkdf/lib/hkdf.js
var require_hkdf = __commonJS({
  "node_modules/.pnpm/@stablelib+hkdf@1.0.1/node_modules/@stablelib/hkdf/lib/hkdf.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var hmac_1 = require_hmac();
    var wipe_1 = require_wipe();
    var HKDF = (
      /** @class */
      function() {
        function HKDF2(hash, key2, salt, info) {
          if (salt === void 0) {
            salt = new Uint8Array(0);
          }
          this._counter = new Uint8Array(1);
          this._hash = hash;
          this._info = info;
          var okm = hmac_1.hmac(this._hash, salt, key2);
          this._hmac = new hmac_1.HMAC(hash, okm);
          this._buffer = new Uint8Array(this._hmac.digestLength);
          this._bufpos = this._buffer.length;
        }
        HKDF2.prototype._fillBuffer = function() {
          this._counter[0]++;
          var ctr = this._counter[0];
          if (ctr === 0) {
            throw new Error("hkdf: cannot expand more");
          }
          this._hmac.reset();
          if (ctr > 1) {
            this._hmac.update(this._buffer);
          }
          if (this._info) {
            this._hmac.update(this._info);
          }
          this._hmac.update(this._counter);
          this._hmac.finish(this._buffer);
          this._bufpos = 0;
        };
        HKDF2.prototype.expand = function(length3) {
          var out = new Uint8Array(length3);
          for (var i3 = 0; i3 < out.length; i3++) {
            if (this._bufpos === this._buffer.length) {
              this._fillBuffer();
            }
            out[i3] = this._buffer[this._bufpos++];
          }
          return out;
        };
        HKDF2.prototype.clean = function() {
          this._hmac.clean();
          wipe_1.wipe(this._buffer);
          wipe_1.wipe(this._counter);
          this._bufpos = 0;
        };
        return HKDF2;
      }()
    );
    exports2.HKDF = HKDF;
  }
});

// node_modules/.pnpm/@stablelib+sha256@1.0.1/node_modules/@stablelib/sha256/lib/sha256.js
var require_sha256 = __commonJS({
  "node_modules/.pnpm/@stablelib+sha256@1.0.1/node_modules/@stablelib/sha256/lib/sha256.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var binary_1 = require_binary();
    var wipe_1 = require_wipe();
    exports2.DIGEST_LENGTH = 32;
    exports2.BLOCK_SIZE = 64;
    var SHA256 = (
      /** @class */
      function() {
        function SHA2562() {
          this.digestLength = exports2.DIGEST_LENGTH;
          this.blockSize = exports2.BLOCK_SIZE;
          this._state = new Int32Array(8);
          this._temp = new Int32Array(64);
          this._buffer = new Uint8Array(128);
          this._bufferLength = 0;
          this._bytesHashed = 0;
          this._finished = false;
          this.reset();
        }
        SHA2562.prototype._initState = function() {
          this._state[0] = 1779033703;
          this._state[1] = 3144134277;
          this._state[2] = 1013904242;
          this._state[3] = 2773480762;
          this._state[4] = 1359893119;
          this._state[5] = 2600822924;
          this._state[6] = 528734635;
          this._state[7] = 1541459225;
        };
        SHA2562.prototype.reset = function() {
          this._initState();
          this._bufferLength = 0;
          this._bytesHashed = 0;
          this._finished = false;
          return this;
        };
        SHA2562.prototype.clean = function() {
          wipe_1.wipe(this._buffer);
          wipe_1.wipe(this._temp);
          this.reset();
        };
        SHA2562.prototype.update = function(data2, dataLength) {
          if (dataLength === void 0) {
            dataLength = data2.length;
          }
          if (this._finished) {
            throw new Error("SHA256: can't update because hash was finished.");
          }
          var dataPos = 0;
          this._bytesHashed += dataLength;
          if (this._bufferLength > 0) {
            while (this._bufferLength < this.blockSize && dataLength > 0) {
              this._buffer[this._bufferLength++] = data2[dataPos++];
              dataLength--;
            }
            if (this._bufferLength === this.blockSize) {
              hashBlocks(this._temp, this._state, this._buffer, 0, this.blockSize);
              this._bufferLength = 0;
            }
          }
          if (dataLength >= this.blockSize) {
            dataPos = hashBlocks(this._temp, this._state, data2, dataPos, dataLength);
            dataLength %= this.blockSize;
          }
          while (dataLength > 0) {
            this._buffer[this._bufferLength++] = data2[dataPos++];
            dataLength--;
          }
          return this;
        };
        SHA2562.prototype.finish = function(out) {
          if (!this._finished) {
            var bytesHashed = this._bytesHashed;
            var left = this._bufferLength;
            var bitLenHi = bytesHashed / 536870912 | 0;
            var bitLenLo = bytesHashed << 3;
            var padLength = bytesHashed % 64 < 56 ? 64 : 128;
            this._buffer[left] = 128;
            for (var i3 = left + 1; i3 < padLength - 8; i3++) {
              this._buffer[i3] = 0;
            }
            binary_1.writeUint32BE(bitLenHi, this._buffer, padLength - 8);
            binary_1.writeUint32BE(bitLenLo, this._buffer, padLength - 4);
            hashBlocks(this._temp, this._state, this._buffer, 0, padLength);
            this._finished = true;
          }
          for (var i3 = 0; i3 < this.digestLength / 4; i3++) {
            binary_1.writeUint32BE(this._state[i3], out, i3 * 4);
          }
          return this;
        };
        SHA2562.prototype.digest = function() {
          var out = new Uint8Array(this.digestLength);
          this.finish(out);
          return out;
        };
        SHA2562.prototype.saveState = function() {
          if (this._finished) {
            throw new Error("SHA256: cannot save finished state");
          }
          return {
            state: new Int32Array(this._state),
            buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,
            bufferLength: this._bufferLength,
            bytesHashed: this._bytesHashed
          };
        };
        SHA2562.prototype.restoreState = function(savedState) {
          this._state.set(savedState.state);
          this._bufferLength = savedState.bufferLength;
          if (savedState.buffer) {
            this._buffer.set(savedState.buffer);
          }
          this._bytesHashed = savedState.bytesHashed;
          this._finished = false;
          return this;
        };
        SHA2562.prototype.cleanSavedState = function(savedState) {
          wipe_1.wipe(savedState.state);
          if (savedState.buffer) {
            wipe_1.wipe(savedState.buffer);
          }
          savedState.bufferLength = 0;
          savedState.bytesHashed = 0;
        };
        return SHA2562;
      }()
    );
    exports2.SHA256 = SHA256;
    var K3 = new Int32Array([
      1116352408,
      1899447441,
      3049323471,
      3921009573,
      961987163,
      1508970993,
      2453635748,
      2870763221,
      3624381080,
      310598401,
      607225278,
      1426881987,
      1925078388,
      2162078206,
      2614888103,
      3248222580,
      3835390401,
      4022224774,
      264347078,
      604807628,
      770255983,
      1249150122,
      1555081692,
      1996064986,
      2554220882,
      2821834349,
      2952996808,
      3210313671,
      3336571891,
      3584528711,
      113926993,
      338241895,
      666307205,
      773529912,
      1294757372,
      1396182291,
      1695183700,
      1986661051,
      2177026350,
      2456956037,
      2730485921,
      2820302411,
      3259730800,
      3345764771,
      3516065817,
      3600352804,
      4094571909,
      275423344,
      430227734,
      506948616,
      659060556,
      883997877,
      958139571,
      1322822218,
      1537002063,
      1747873779,
      1955562222,
      2024104815,
      2227730452,
      2361852424,
      2428436474,
      2756734187,
      3204031479,
      3329325298
    ]);
    function hashBlocks(w4, v2, p6, pos, len) {
      while (len >= 64) {
        var a4 = v2[0];
        var b3 = v2[1];
        var c3 = v2[2];
        var d3 = v2[3];
        var e2 = v2[4];
        var f3 = v2[5];
        var g5 = v2[6];
        var h6 = v2[7];
        for (var i3 = 0; i3 < 16; i3++) {
          var j4 = pos + i3 * 4;
          w4[i3] = binary_1.readUint32BE(p6, j4);
        }
        for (var i3 = 16; i3 < 64; i3++) {
          var u4 = w4[i3 - 2];
          var t1 = (u4 >>> 17 | u4 << 32 - 17) ^ (u4 >>> 19 | u4 << 32 - 19) ^ u4 >>> 10;
          u4 = w4[i3 - 15];
          var t2 = (u4 >>> 7 | u4 << 32 - 7) ^ (u4 >>> 18 | u4 << 32 - 18) ^ u4 >>> 3;
          w4[i3] = (t1 + w4[i3 - 7] | 0) + (t2 + w4[i3 - 16] | 0);
        }
        for (var i3 = 0; i3 < 64; i3++) {
          var t1 = (((e2 >>> 6 | e2 << 32 - 6) ^ (e2 >>> 11 | e2 << 32 - 11) ^ (e2 >>> 25 | e2 << 32 - 25)) + (e2 & f3 ^ ~e2 & g5) | 0) + (h6 + (K3[i3] + w4[i3] | 0) | 0) | 0;
          var t2 = ((a4 >>> 2 | a4 << 32 - 2) ^ (a4 >>> 13 | a4 << 32 - 13) ^ (a4 >>> 22 | a4 << 32 - 22)) + (a4 & b3 ^ a4 & c3 ^ b3 & c3) | 0;
          h6 = g5;
          g5 = f3;
          f3 = e2;
          e2 = d3 + t1 | 0;
          d3 = c3;
          c3 = b3;
          b3 = a4;
          a4 = t1 + t2 | 0;
        }
        v2[0] += a4;
        v2[1] += b3;
        v2[2] += c3;
        v2[3] += d3;
        v2[4] += e2;
        v2[5] += f3;
        v2[6] += g5;
        v2[7] += h6;
        pos += 64;
        len -= 64;
      }
      return pos;
    }
    function hash(data2) {
      var h6 = new SHA256();
      h6.update(data2);
      var digest2 = h6.digest();
      h6.clean();
      return digest2;
    }
    exports2.hash = hash;
  }
});

// node_modules/.pnpm/@stablelib+x25519@1.0.3/node_modules/@stablelib/x25519/lib/x25519.js
var require_x25519 = __commonJS({
  "node_modules/.pnpm/@stablelib+x25519@1.0.3/node_modules/@stablelib/x25519/lib/x25519.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.sharedKey = exports2.generateKeyPair = exports2.generateKeyPairFromSeed = exports2.scalarMultBase = exports2.scalarMult = exports2.SHARED_KEY_LENGTH = exports2.SECRET_KEY_LENGTH = exports2.PUBLIC_KEY_LENGTH = void 0;
    var random_1 = require_random();
    var wipe_1 = require_wipe();
    exports2.PUBLIC_KEY_LENGTH = 32;
    exports2.SECRET_KEY_LENGTH = 32;
    exports2.SHARED_KEY_LENGTH = 32;
    function gf(init2) {
      const r3 = new Float64Array(16);
      if (init2) {
        for (let i3 = 0; i3 < init2.length; i3++) {
          r3[i3] = init2[i3];
        }
      }
      return r3;
    }
    var _9 = new Uint8Array(32);
    _9[0] = 9;
    var _121665 = gf([56129, 1]);
    function car25519(o3) {
      let c3 = 1;
      for (let i3 = 0; i3 < 16; i3++) {
        let v2 = o3[i3] + c3 + 65535;
        c3 = Math.floor(v2 / 65536);
        o3[i3] = v2 - c3 * 65536;
      }
      o3[0] += c3 - 1 + 37 * (c3 - 1);
    }
    function sel25519(p6, q4, b3) {
      const c3 = ~(b3 - 1);
      for (let i3 = 0; i3 < 16; i3++) {
        const t2 = c3 & (p6[i3] ^ q4[i3]);
        p6[i3] ^= t2;
        q4[i3] ^= t2;
      }
    }
    function pack25519(o3, n4) {
      const m3 = gf();
      const t2 = gf();
      for (let i3 = 0; i3 < 16; i3++) {
        t2[i3] = n4[i3];
      }
      car25519(t2);
      car25519(t2);
      car25519(t2);
      for (let j4 = 0; j4 < 2; j4++) {
        m3[0] = t2[0] - 65517;
        for (let i3 = 1; i3 < 15; i3++) {
          m3[i3] = t2[i3] - 65535 - (m3[i3 - 1] >> 16 & 1);
          m3[i3 - 1] &= 65535;
        }
        m3[15] = t2[15] - 32767 - (m3[14] >> 16 & 1);
        const b3 = m3[15] >> 16 & 1;
        m3[14] &= 65535;
        sel25519(t2, m3, 1 - b3);
      }
      for (let i3 = 0; i3 < 16; i3++) {
        o3[2 * i3] = t2[i3] & 255;
        o3[2 * i3 + 1] = t2[i3] >> 8;
      }
    }
    function unpack25519(o3, n4) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = n4[2 * i3] + (n4[2 * i3 + 1] << 8);
      }
      o3[15] &= 32767;
    }
    function add2(o3, a4, b3) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = a4[i3] + b3[i3];
      }
    }
    function sub2(o3, a4, b3) {
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = a4[i3] - b3[i3];
      }
    }
    function mul2(o3, a4, b3) {
      let v2, c3, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b3[0], b1 = b3[1], b22 = b3[2], b32 = b3[3], b4 = b3[4], b5 = b3[5], b6 = b3[6], b7 = b3[7], b8 = b3[8], b9 = b3[9], b10 = b3[10], b11 = b3[11], b12 = b3[12], b13 = b3[13], b14 = b3[14], b15 = b3[15];
      v2 = a4[0];
      t0 += v2 * b0;
      t1 += v2 * b1;
      t2 += v2 * b22;
      t3 += v2 * b32;
      t4 += v2 * b4;
      t5 += v2 * b5;
      t6 += v2 * b6;
      t7 += v2 * b7;
      t8 += v2 * b8;
      t9 += v2 * b9;
      t10 += v2 * b10;
      t11 += v2 * b11;
      t12 += v2 * b12;
      t13 += v2 * b13;
      t14 += v2 * b14;
      t15 += v2 * b15;
      v2 = a4[1];
      t1 += v2 * b0;
      t2 += v2 * b1;
      t3 += v2 * b22;
      t4 += v2 * b32;
      t5 += v2 * b4;
      t6 += v2 * b5;
      t7 += v2 * b6;
      t8 += v2 * b7;
      t9 += v2 * b8;
      t10 += v2 * b9;
      t11 += v2 * b10;
      t12 += v2 * b11;
      t13 += v2 * b12;
      t14 += v2 * b13;
      t15 += v2 * b14;
      t16 += v2 * b15;
      v2 = a4[2];
      t2 += v2 * b0;
      t3 += v2 * b1;
      t4 += v2 * b22;
      t5 += v2 * b32;
      t6 += v2 * b4;
      t7 += v2 * b5;
      t8 += v2 * b6;
      t9 += v2 * b7;
      t10 += v2 * b8;
      t11 += v2 * b9;
      t12 += v2 * b10;
      t13 += v2 * b11;
      t14 += v2 * b12;
      t15 += v2 * b13;
      t16 += v2 * b14;
      t17 += v2 * b15;
      v2 = a4[3];
      t3 += v2 * b0;
      t4 += v2 * b1;
      t5 += v2 * b22;
      t6 += v2 * b32;
      t7 += v2 * b4;
      t8 += v2 * b5;
      t9 += v2 * b6;
      t10 += v2 * b7;
      t11 += v2 * b8;
      t12 += v2 * b9;
      t13 += v2 * b10;
      t14 += v2 * b11;
      t15 += v2 * b12;
      t16 += v2 * b13;
      t17 += v2 * b14;
      t18 += v2 * b15;
      v2 = a4[4];
      t4 += v2 * b0;
      t5 += v2 * b1;
      t6 += v2 * b22;
      t7 += v2 * b32;
      t8 += v2 * b4;
      t9 += v2 * b5;
      t10 += v2 * b6;
      t11 += v2 * b7;
      t12 += v2 * b8;
      t13 += v2 * b9;
      t14 += v2 * b10;
      t15 += v2 * b11;
      t16 += v2 * b12;
      t17 += v2 * b13;
      t18 += v2 * b14;
      t19 += v2 * b15;
      v2 = a4[5];
      t5 += v2 * b0;
      t6 += v2 * b1;
      t7 += v2 * b22;
      t8 += v2 * b32;
      t9 += v2 * b4;
      t10 += v2 * b5;
      t11 += v2 * b6;
      t12 += v2 * b7;
      t13 += v2 * b8;
      t14 += v2 * b9;
      t15 += v2 * b10;
      t16 += v2 * b11;
      t17 += v2 * b12;
      t18 += v2 * b13;
      t19 += v2 * b14;
      t20 += v2 * b15;
      v2 = a4[6];
      t6 += v2 * b0;
      t7 += v2 * b1;
      t8 += v2 * b22;
      t9 += v2 * b32;
      t10 += v2 * b4;
      t11 += v2 * b5;
      t12 += v2 * b6;
      t13 += v2 * b7;
      t14 += v2 * b8;
      t15 += v2 * b9;
      t16 += v2 * b10;
      t17 += v2 * b11;
      t18 += v2 * b12;
      t19 += v2 * b13;
      t20 += v2 * b14;
      t21 += v2 * b15;
      v2 = a4[7];
      t7 += v2 * b0;
      t8 += v2 * b1;
      t9 += v2 * b22;
      t10 += v2 * b32;
      t11 += v2 * b4;
      t12 += v2 * b5;
      t13 += v2 * b6;
      t14 += v2 * b7;
      t15 += v2 * b8;
      t16 += v2 * b9;
      t17 += v2 * b10;
      t18 += v2 * b11;
      t19 += v2 * b12;
      t20 += v2 * b13;
      t21 += v2 * b14;
      t22 += v2 * b15;
      v2 = a4[8];
      t8 += v2 * b0;
      t9 += v2 * b1;
      t10 += v2 * b22;
      t11 += v2 * b32;
      t12 += v2 * b4;
      t13 += v2 * b5;
      t14 += v2 * b6;
      t15 += v2 * b7;
      t16 += v2 * b8;
      t17 += v2 * b9;
      t18 += v2 * b10;
      t19 += v2 * b11;
      t20 += v2 * b12;
      t21 += v2 * b13;
      t22 += v2 * b14;
      t23 += v2 * b15;
      v2 = a4[9];
      t9 += v2 * b0;
      t10 += v2 * b1;
      t11 += v2 * b22;
      t12 += v2 * b32;
      t13 += v2 * b4;
      t14 += v2 * b5;
      t15 += v2 * b6;
      t16 += v2 * b7;
      t17 += v2 * b8;
      t18 += v2 * b9;
      t19 += v2 * b10;
      t20 += v2 * b11;
      t21 += v2 * b12;
      t22 += v2 * b13;
      t23 += v2 * b14;
      t24 += v2 * b15;
      v2 = a4[10];
      t10 += v2 * b0;
      t11 += v2 * b1;
      t12 += v2 * b22;
      t13 += v2 * b32;
      t14 += v2 * b4;
      t15 += v2 * b5;
      t16 += v2 * b6;
      t17 += v2 * b7;
      t18 += v2 * b8;
      t19 += v2 * b9;
      t20 += v2 * b10;
      t21 += v2 * b11;
      t22 += v2 * b12;
      t23 += v2 * b13;
      t24 += v2 * b14;
      t25 += v2 * b15;
      v2 = a4[11];
      t11 += v2 * b0;
      t12 += v2 * b1;
      t13 += v2 * b22;
      t14 += v2 * b32;
      t15 += v2 * b4;
      t16 += v2 * b5;
      t17 += v2 * b6;
      t18 += v2 * b7;
      t19 += v2 * b8;
      t20 += v2 * b9;
      t21 += v2 * b10;
      t22 += v2 * b11;
      t23 += v2 * b12;
      t24 += v2 * b13;
      t25 += v2 * b14;
      t26 += v2 * b15;
      v2 = a4[12];
      t12 += v2 * b0;
      t13 += v2 * b1;
      t14 += v2 * b22;
      t15 += v2 * b32;
      t16 += v2 * b4;
      t17 += v2 * b5;
      t18 += v2 * b6;
      t19 += v2 * b7;
      t20 += v2 * b8;
      t21 += v2 * b9;
      t22 += v2 * b10;
      t23 += v2 * b11;
      t24 += v2 * b12;
      t25 += v2 * b13;
      t26 += v2 * b14;
      t27 += v2 * b15;
      v2 = a4[13];
      t13 += v2 * b0;
      t14 += v2 * b1;
      t15 += v2 * b22;
      t16 += v2 * b32;
      t17 += v2 * b4;
      t18 += v2 * b5;
      t19 += v2 * b6;
      t20 += v2 * b7;
      t21 += v2 * b8;
      t22 += v2 * b9;
      t23 += v2 * b10;
      t24 += v2 * b11;
      t25 += v2 * b12;
      t26 += v2 * b13;
      t27 += v2 * b14;
      t28 += v2 * b15;
      v2 = a4[14];
      t14 += v2 * b0;
      t15 += v2 * b1;
      t16 += v2 * b22;
      t17 += v2 * b32;
      t18 += v2 * b4;
      t19 += v2 * b5;
      t20 += v2 * b6;
      t21 += v2 * b7;
      t22 += v2 * b8;
      t23 += v2 * b9;
      t24 += v2 * b10;
      t25 += v2 * b11;
      t26 += v2 * b12;
      t27 += v2 * b13;
      t28 += v2 * b14;
      t29 += v2 * b15;
      v2 = a4[15];
      t15 += v2 * b0;
      t16 += v2 * b1;
      t17 += v2 * b22;
      t18 += v2 * b32;
      t19 += v2 * b4;
      t20 += v2 * b5;
      t21 += v2 * b6;
      t22 += v2 * b7;
      t23 += v2 * b8;
      t24 += v2 * b9;
      t25 += v2 * b10;
      t26 += v2 * b11;
      t27 += v2 * b12;
      t28 += v2 * b13;
      t29 += v2 * b14;
      t30 += v2 * b15;
      t0 += 38 * t16;
      t1 += 38 * t17;
      t2 += 38 * t18;
      t3 += 38 * t19;
      t4 += 38 * t20;
      t5 += 38 * t21;
      t6 += 38 * t22;
      t7 += 38 * t23;
      t8 += 38 * t24;
      t9 += 38 * t25;
      t10 += 38 * t26;
      t11 += 38 * t27;
      t12 += 38 * t28;
      t13 += 38 * t29;
      t14 += 38 * t30;
      c3 = 1;
      v2 = t0 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t0 = v2 - c3 * 65536;
      v2 = t1 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t1 = v2 - c3 * 65536;
      v2 = t2 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t2 = v2 - c3 * 65536;
      v2 = t3 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t3 = v2 - c3 * 65536;
      v2 = t4 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t4 = v2 - c3 * 65536;
      v2 = t5 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t5 = v2 - c3 * 65536;
      v2 = t6 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t6 = v2 - c3 * 65536;
      v2 = t7 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t7 = v2 - c3 * 65536;
      v2 = t8 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t8 = v2 - c3 * 65536;
      v2 = t9 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t9 = v2 - c3 * 65536;
      v2 = t10 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t10 = v2 - c3 * 65536;
      v2 = t11 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t11 = v2 - c3 * 65536;
      v2 = t12 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t12 = v2 - c3 * 65536;
      v2 = t13 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t13 = v2 - c3 * 65536;
      v2 = t14 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t14 = v2 - c3 * 65536;
      v2 = t15 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t15 = v2 - c3 * 65536;
      t0 += c3 - 1 + 37 * (c3 - 1);
      c3 = 1;
      v2 = t0 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t0 = v2 - c3 * 65536;
      v2 = t1 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t1 = v2 - c3 * 65536;
      v2 = t2 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t2 = v2 - c3 * 65536;
      v2 = t3 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t3 = v2 - c3 * 65536;
      v2 = t4 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t4 = v2 - c3 * 65536;
      v2 = t5 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t5 = v2 - c3 * 65536;
      v2 = t6 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t6 = v2 - c3 * 65536;
      v2 = t7 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t7 = v2 - c3 * 65536;
      v2 = t8 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t8 = v2 - c3 * 65536;
      v2 = t9 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t9 = v2 - c3 * 65536;
      v2 = t10 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t10 = v2 - c3 * 65536;
      v2 = t11 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t11 = v2 - c3 * 65536;
      v2 = t12 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t12 = v2 - c3 * 65536;
      v2 = t13 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t13 = v2 - c3 * 65536;
      v2 = t14 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t14 = v2 - c3 * 65536;
      v2 = t15 + c3 + 65535;
      c3 = Math.floor(v2 / 65536);
      t15 = v2 - c3 * 65536;
      t0 += c3 - 1 + 37 * (c3 - 1);
      o3[0] = t0;
      o3[1] = t1;
      o3[2] = t2;
      o3[3] = t3;
      o3[4] = t4;
      o3[5] = t5;
      o3[6] = t6;
      o3[7] = t7;
      o3[8] = t8;
      o3[9] = t9;
      o3[10] = t10;
      o3[11] = t11;
      o3[12] = t12;
      o3[13] = t13;
      o3[14] = t14;
      o3[15] = t15;
    }
    function square(o3, a4) {
      mul2(o3, a4, a4);
    }
    function inv25519(o3, inp) {
      const c3 = gf();
      for (let i3 = 0; i3 < 16; i3++) {
        c3[i3] = inp[i3];
      }
      for (let i3 = 253; i3 >= 0; i3--) {
        square(c3, c3);
        if (i3 !== 2 && i3 !== 4) {
          mul2(c3, c3, inp);
        }
      }
      for (let i3 = 0; i3 < 16; i3++) {
        o3[i3] = c3[i3];
      }
    }
    function scalarMult(n4, p6) {
      const z3 = new Uint8Array(32);
      const x5 = new Float64Array(80);
      const a4 = gf(), b3 = gf(), c3 = gf(), d3 = gf(), e2 = gf(), f3 = gf();
      for (let i3 = 0; i3 < 31; i3++) {
        z3[i3] = n4[i3];
      }
      z3[31] = n4[31] & 127 | 64;
      z3[0] &= 248;
      unpack25519(x5, p6);
      for (let i3 = 0; i3 < 16; i3++) {
        b3[i3] = x5[i3];
      }
      a4[0] = d3[0] = 1;
      for (let i3 = 254; i3 >= 0; --i3) {
        const r3 = z3[i3 >>> 3] >>> (i3 & 7) & 1;
        sel25519(a4, b3, r3);
        sel25519(c3, d3, r3);
        add2(e2, a4, c3);
        sub2(a4, a4, c3);
        add2(c3, b3, d3);
        sub2(b3, b3, d3);
        square(d3, e2);
        square(f3, a4);
        mul2(a4, c3, a4);
        mul2(c3, b3, e2);
        add2(e2, a4, c3);
        sub2(a4, a4, c3);
        square(b3, a4);
        sub2(c3, d3, f3);
        mul2(a4, c3, _121665);
        add2(a4, a4, d3);
        mul2(c3, c3, a4);
        mul2(a4, d3, f3);
        mul2(d3, b3, x5);
        square(b3, e2);
        sel25519(a4, b3, r3);
        sel25519(c3, d3, r3);
      }
      for (let i3 = 0; i3 < 16; i3++) {
        x5[i3 + 16] = a4[i3];
        x5[i3 + 32] = c3[i3];
        x5[i3 + 48] = b3[i3];
        x5[i3 + 64] = d3[i3];
      }
      const x32 = x5.subarray(32);
      const x16 = x5.subarray(16);
      inv25519(x32, x32);
      mul2(x16, x16, x32);
      const q4 = new Uint8Array(32);
      pack25519(q4, x16);
      return q4;
    }
    exports2.scalarMult = scalarMult;
    function scalarMultBase(n4) {
      return scalarMult(n4, _9);
    }
    exports2.scalarMultBase = scalarMultBase;
    function generateKeyPairFromSeed2(seed) {
      if (seed.length !== exports2.SECRET_KEY_LENGTH) {
        throw new Error(`x25519: seed must be ${exports2.SECRET_KEY_LENGTH} bytes`);
      }
      const secretKey = new Uint8Array(seed);
      const publicKey = scalarMultBase(secretKey);
      return {
        publicKey,
        secretKey
      };
    }
    exports2.generateKeyPairFromSeed = generateKeyPairFromSeed2;
    function generateKeyPair3(prng) {
      const seed = (0, random_1.randomBytes)(32, prng);
      const result = generateKeyPairFromSeed2(seed);
      (0, wipe_1.wipe)(seed);
      return result;
    }
    exports2.generateKeyPair = generateKeyPair3;
    function sharedKey2(mySecretKey, theirPublicKey, rejectZero = false) {
      if (mySecretKey.length !== exports2.PUBLIC_KEY_LENGTH) {
        throw new Error("X25519: incorrect secret key length");
      }
      if (theirPublicKey.length !== exports2.PUBLIC_KEY_LENGTH) {
        throw new Error("X25519: incorrect public key length");
      }
      const result = scalarMult(mySecretKey, theirPublicKey);
      if (rejectZero) {
        let zeros = 0;
        for (let i3 = 0; i3 < result.length; i3++) {
          zeros |= result[i3];
        }
        if (zeros === 0) {
          throw new Error("X25519: invalid shared key");
        }
      }
      return result;
    }
    exports2.sharedKey = sharedKey2;
  }
});

// node_modules/.pnpm/@walletconnect+window-getters@1.0.1/node_modules/@walletconnect/window-getters/dist/cjs/index.js
var require_cjs7 = __commonJS({
  "node_modules/.pnpm/@walletconnect+window-getters@1.0.1/node_modules/@walletconnect/window-getters/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.getLocalStorage = exports2.getLocalStorageOrThrow = exports2.getCrypto = exports2.getCryptoOrThrow = exports2.getLocation = exports2.getLocationOrThrow = exports2.getNavigator = exports2.getNavigatorOrThrow = exports2.getDocument = exports2.getDocumentOrThrow = exports2.getFromWindowOrThrow = exports2.getFromWindow = void 0;
    function getFromWindow2(name3) {
      let res = void 0;
      if (typeof window !== "undefined" && typeof window[name3] !== "undefined") {
        res = window[name3];
      }
      return res;
    }
    exports2.getFromWindow = getFromWindow2;
    function getFromWindowOrThrow2(name3) {
      const res = getFromWindow2(name3);
      if (!res) {
        throw new Error(`${name3} is not defined in Window`);
      }
      return res;
    }
    exports2.getFromWindowOrThrow = getFromWindowOrThrow2;
    function getDocumentOrThrow2() {
      return getFromWindowOrThrow2("document");
    }
    exports2.getDocumentOrThrow = getDocumentOrThrow2;
    function getDocument2() {
      return getFromWindow2("document");
    }
    exports2.getDocument = getDocument2;
    function getNavigatorOrThrow2() {
      return getFromWindowOrThrow2("navigator");
    }
    exports2.getNavigatorOrThrow = getNavigatorOrThrow2;
    function getNavigator3() {
      return getFromWindow2("navigator");
    }
    exports2.getNavigator = getNavigator3;
    function getLocationOrThrow2() {
      return getFromWindowOrThrow2("location");
    }
    exports2.getLocationOrThrow = getLocationOrThrow2;
    function getLocation3() {
      return getFromWindow2("location");
    }
    exports2.getLocation = getLocation3;
    function getCryptoOrThrow2() {
      return getFromWindowOrThrow2("crypto");
    }
    exports2.getCryptoOrThrow = getCryptoOrThrow2;
    function getCrypto2() {
      return getFromWindow2("crypto");
    }
    exports2.getCrypto = getCrypto2;
    function getLocalStorageOrThrow2() {
      return getFromWindowOrThrow2("localStorage");
    }
    exports2.getLocalStorageOrThrow = getLocalStorageOrThrow2;
    function getLocalStorage3() {
      return getFromWindow2("localStorage");
    }
    exports2.getLocalStorage = getLocalStorage3;
  }
});

// node_modules/.pnpm/@walletconnect+window-metadata@1.0.1/node_modules/@walletconnect/window-metadata/dist/cjs/index.js
var require_cjs8 = __commonJS({
  "node_modules/.pnpm/@walletconnect+window-metadata@1.0.1/node_modules/@walletconnect/window-metadata/dist/cjs/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    exports2.getWindowMetadata = void 0;
    var window_getters_1 = require_cjs7();
    function getWindowMetadata2() {
      let doc;
      let loc;
      try {
        doc = window_getters_1.getDocumentOrThrow();
        loc = window_getters_1.getLocationOrThrow();
      } catch (e2) {
        return null;
      }
      function getIcons() {
        const links2 = doc.getElementsByTagName("link");
        const icons2 = [];
        for (let i3 = 0; i3 < links2.length; i3++) {
          const link = links2[i3];
          const rel = link.getAttribute("rel");
          if (rel) {
            if (rel.toLowerCase().indexOf("icon") > -1) {
              const href = link.getAttribute("href");
              if (href) {
                if (href.toLowerCase().indexOf("https:") === -1 && href.toLowerCase().indexOf("http:") === -1 && href.indexOf("//") !== 0) {
                  let absoluteHref = loc.protocol + "//" + loc.host;
                  if (href.indexOf("/") === 0) {
                    absoluteHref += href;
                  } else {
                    const path = loc.pathname.split("/");
                    path.pop();
                    const finalPath = path.join("/");
                    absoluteHref += finalPath + "/" + href;
                  }
                  icons2.push(absoluteHref);
                } else if (href.indexOf("//") === 0) {
                  const absoluteUrl = loc.protocol + href;
                  icons2.push(absoluteUrl);
                } else {
                  icons2.push(href);
                }
              }
            }
          }
        }
        return icons2;
      }
      function getWindowMetadataOfAny(...args) {
        const metaTags = doc.getElementsByTagName("meta");
        for (let i3 = 0; i3 < metaTags.length; i3++) {
          const tag = metaTags[i3];
          const attributes = ["itemprop", "property", "name"].map((target) => tag.getAttribute(target)).filter((attr) => {
            if (attr) {
              return args.includes(attr);
            }
            return false;
          });
          if (attributes.length && attributes) {
            const content2 = tag.getAttribute("content");
            if (content2) {
              return content2;
            }
          }
        }
        return "";
      }
      function getName() {
        let name4 = getWindowMetadataOfAny("name", "og:site_name", "og:title", "twitter:title");
        if (!name4) {
          name4 = doc.title;
        }
        return name4;
      }
      function getDescription() {
        const description2 = getWindowMetadataOfAny("description", "og:description", "twitter:description", "keywords");
        return description2;
      }
      const name3 = getName();
      const description = getDescription();
      const url = loc.origin;
      const icons = getIcons();
      const meta = {
        description,
        url,
        icons,
        name: name3
      };
      return meta;
    }
    exports2.getWindowMetadata = getWindowMetadata2;
  }
});

// node_modules/.pnpm/filter-obj@1.1.0/node_modules/filter-obj/index.js
var require_filter_obj = __commonJS({
  "node_modules/.pnpm/filter-obj@1.1.0/node_modules/filter-obj/index.js"(exports2, module2) {
    "use strict";
    module2.exports = function(obj, predicate) {
      var ret = {};
      var keys2 = Object.keys(obj);
      var isArr = Array.isArray(predicate);
      for (var i3 = 0; i3 < keys2.length; i3++) {
        var key2 = keys2[i3];
        var val2 = obj[key2];
        if (isArr ? predicate.indexOf(key2) !== -1 : predicate(key2, val2, obj)) {
          ret[key2] = val2;
        }
      }
      return ret;
    };
  }
});

// node_modules/.pnpm/query-string@7.1.3/node_modules/query-string/index.js
var require_query_string2 = __commonJS({
  "node_modules/.pnpm/query-string@7.1.3/node_modules/query-string/index.js"(exports2) {
    "use strict";
    var strictUriEncode = require_strict_uri_encode();
    var decodeComponent = require_decode_uri_component();
    var splitOnFirst = require_split_on_first();
    var filterObject = require_filter_obj();
    var isNullOrUndefined = (value2) => value2 === null || value2 === void 0;
    var encodeFragmentIdentifier = Symbol("encodeFragmentIdentifier");
    function encoderForArrayFormat(options) {
      switch (options.arrayFormat) {
        case "index":
          return (key2) => (result, value2) => {
            const index2 = result.length;
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, [encode5(key2, options), "[", index2, "]"].join("")];
            }
            return [
              ...result,
              [encode5(key2, options), "[", encode5(index2, options), "]=", encode5(value2, options)].join("")
            ];
          };
        case "bracket":
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, [encode5(key2, options), "[]"].join("")];
            }
            return [...result, [encode5(key2, options), "[]=", encode5(value2, options)].join("")];
          };
        case "colon-list-separator":
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, [encode5(key2, options), ":list="].join("")];
            }
            return [...result, [encode5(key2, options), ":list=", encode5(value2, options)].join("")];
          };
        case "comma":
        case "separator":
        case "bracket-separator": {
          const keyValueSep = options.arrayFormat === "bracket-separator" ? "[]=" : "=";
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            value2 = value2 === null ? "" : value2;
            if (result.length === 0) {
              return [[encode5(key2, options), keyValueSep, encode5(value2, options)].join("")];
            }
            return [[result, encode5(value2, options)].join(options.arrayFormatSeparator)];
          };
        }
        default:
          return (key2) => (result, value2) => {
            if (value2 === void 0 || options.skipNull && value2 === null || options.skipEmptyString && value2 === "") {
              return result;
            }
            if (value2 === null) {
              return [...result, encode5(key2, options)];
            }
            return [...result, [encode5(key2, options), "=", encode5(value2, options)].join("")];
          };
      }
    }
    function parserForArrayFormat(options) {
      let result;
      switch (options.arrayFormat) {
        case "index":
          return (key2, value2, accumulator) => {
            result = /\[(\d*)\]$/.exec(key2);
            key2 = key2.replace(/\[\d*\]$/, "");
            if (!result) {
              accumulator[key2] = value2;
              return;
            }
            if (accumulator[key2] === void 0) {
              accumulator[key2] = {};
            }
            accumulator[key2][result[1]] = value2;
          };
        case "bracket":
          return (key2, value2, accumulator) => {
            result = /(\[\])$/.exec(key2);
            key2 = key2.replace(/\[\]$/, "");
            if (!result) {
              accumulator[key2] = value2;
              return;
            }
            if (accumulator[key2] === void 0) {
              accumulator[key2] = [value2];
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], value2);
          };
        case "colon-list-separator":
          return (key2, value2, accumulator) => {
            result = /(:list)$/.exec(key2);
            key2 = key2.replace(/:list$/, "");
            if (!result) {
              accumulator[key2] = value2;
              return;
            }
            if (accumulator[key2] === void 0) {
              accumulator[key2] = [value2];
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], value2);
          };
        case "comma":
        case "separator":
          return (key2, value2, accumulator) => {
            const isArray = typeof value2 === "string" && value2.includes(options.arrayFormatSeparator);
            const isEncodedArray = typeof value2 === "string" && !isArray && decode6(value2, options).includes(options.arrayFormatSeparator);
            value2 = isEncodedArray ? decode6(value2, options) : value2;
            const newValue = isArray || isEncodedArray ? value2.split(options.arrayFormatSeparator).map((item) => decode6(item, options)) : value2 === null ? value2 : decode6(value2, options);
            accumulator[key2] = newValue;
          };
        case "bracket-separator":
          return (key2, value2, accumulator) => {
            const isArray = /(\[\])$/.test(key2);
            key2 = key2.replace(/\[\]$/, "");
            if (!isArray) {
              accumulator[key2] = value2 ? decode6(value2, options) : value2;
              return;
            }
            const arrayValue = value2 === null ? [] : value2.split(options.arrayFormatSeparator).map((item) => decode6(item, options));
            if (accumulator[key2] === void 0) {
              accumulator[key2] = arrayValue;
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], arrayValue);
          };
        default:
          return (key2, value2, accumulator) => {
            if (accumulator[key2] === void 0) {
              accumulator[key2] = value2;
              return;
            }
            accumulator[key2] = [].concat(accumulator[key2], value2);
          };
      }
    }
    function validateArrayFormatSeparator(value2) {
      if (typeof value2 !== "string" || value2.length !== 1) {
        throw new TypeError("arrayFormatSeparator must be single character string");
      }
    }
    function encode5(value2, options) {
      if (options.encode) {
        return options.strict ? strictUriEncode(value2) : encodeURIComponent(value2);
      }
      return value2;
    }
    function decode6(value2, options) {
      if (options.decode) {
        return decodeComponent(value2);
      }
      return value2;
    }
    function keysSorter(input) {
      if (Array.isArray(input)) {
        return input.sort();
      }
      if (typeof input === "object") {
        return keysSorter(Object.keys(input)).sort((a4, b3) => Number(a4) - Number(b3)).map((key2) => input[key2]);
      }
      return input;
    }
    function removeHash(input) {
      const hashStart = input.indexOf("#");
      if (hashStart !== -1) {
        input = input.slice(0, hashStart);
      }
      return input;
    }
    function getHash(url) {
      let hash = "";
      const hashStart = url.indexOf("#");
      if (hashStart !== -1) {
        hash = url.slice(hashStart);
      }
      return hash;
    }
    function extract(input) {
      input = removeHash(input);
      const queryStart = input.indexOf("?");
      if (queryStart === -1) {
        return "";
      }
      return input.slice(queryStart + 1);
    }
    function parseValue(value2, options) {
      if (options.parseNumbers && !Number.isNaN(Number(value2)) && (typeof value2 === "string" && value2.trim() !== "")) {
        value2 = Number(value2);
      } else if (options.parseBooleans && value2 !== null && (value2.toLowerCase() === "true" || value2.toLowerCase() === "false")) {
        value2 = value2.toLowerCase() === "true";
      }
      return value2;
    }
    function parse3(query, options) {
      options = Object.assign({
        decode: true,
        sort: true,
        arrayFormat: "none",
        arrayFormatSeparator: ",",
        parseNumbers: false,
        parseBooleans: false
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const formatter = parserForArrayFormat(options);
      const ret = /* @__PURE__ */ Object.create(null);
      if (typeof query !== "string") {
        return ret;
      }
      query = query.trim().replace(/^[?#&]/, "");
      if (!query) {
        return ret;
      }
      for (const param of query.split("&")) {
        if (param === "") {
          continue;
        }
        let [key2, value2] = splitOnFirst(options.decode ? param.replace(/\+/g, " ") : param, "=");
        value2 = value2 === void 0 ? null : ["comma", "separator", "bracket-separator"].includes(options.arrayFormat) ? value2 : decode6(value2, options);
        formatter(decode6(key2, options), value2, ret);
      }
      for (const key2 of Object.keys(ret)) {
        const value2 = ret[key2];
        if (typeof value2 === "object" && value2 !== null) {
          for (const k3 of Object.keys(value2)) {
            value2[k3] = parseValue(value2[k3], options);
          }
        } else {
          ret[key2] = parseValue(value2, options);
        }
      }
      if (options.sort === false) {
        return ret;
      }
      return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key2) => {
        const value2 = ret[key2];
        if (Boolean(value2) && typeof value2 === "object" && !Array.isArray(value2)) {
          result[key2] = keysSorter(value2);
        } else {
          result[key2] = value2;
        }
        return result;
      }, /* @__PURE__ */ Object.create(null));
    }
    exports2.extract = extract;
    exports2.parse = parse3;
    exports2.stringify = (object, options) => {
      if (!object) {
        return "";
      }
      options = Object.assign({
        encode: true,
        strict: true,
        arrayFormat: "none",
        arrayFormatSeparator: ","
      }, options);
      validateArrayFormatSeparator(options.arrayFormatSeparator);
      const shouldFilter = (key2) => options.skipNull && isNullOrUndefined(object[key2]) || options.skipEmptyString && object[key2] === "";
      const formatter = encoderForArrayFormat(options);
      const objectCopy = {};
      for (const key2 of Object.keys(object)) {
        if (!shouldFilter(key2)) {
          objectCopy[key2] = object[key2];
        }
      }
      const keys2 = Object.keys(objectCopy);
      if (options.sort !== false) {
        keys2.sort(options.sort);
      }
      return keys2.map((key2) => {
        const value2 = object[key2];
        if (value2 === void 0) {
          return "";
        }
        if (value2 === null) {
          return encode5(key2, options);
        }
        if (Array.isArray(value2)) {
          if (value2.length === 0 && options.arrayFormat === "bracket-separator") {
            return encode5(key2, options) + "[]";
          }
          return value2.reduce(formatter(key2), []).join("&");
        }
        return encode5(key2, options) + "=" + encode5(value2, options);
      }).filter((x5) => x5.length > 0).join("&");
    };
    exports2.parseUrl = (url, options) => {
      options = Object.assign({
        decode: true
      }, options);
      const [url_, hash] = splitOnFirst(url, "#");
      return Object.assign(
        {
          url: url_.split("?")[0] || "",
          query: parse3(extract(url), options)
        },
        options && options.parseFragmentIdentifier && hash ? { fragmentIdentifier: decode6(hash, options) } : {}
      );
    };
    exports2.stringifyUrl = (object, options) => {
      options = Object.assign({
        encode: true,
        strict: true,
        [encodeFragmentIdentifier]: true
      }, options);
      const url = removeHash(object.url).split("?")[0] || "";
      const queryFromUrl = exports2.extract(object.url);
      const parsedQueryFromUrl = exports2.parse(queryFromUrl, { sort: false });
      const query = Object.assign(parsedQueryFromUrl, object.query);
      let queryString2 = exports2.stringify(query, options);
      if (queryString2) {
        queryString2 = `?${queryString2}`;
      }
      let hash = getHash(object.url);
      if (object.fragmentIdentifier) {
        hash = `#${options[encodeFragmentIdentifier] ? encode5(object.fragmentIdentifier, options) : object.fragmentIdentifier}`;
      }
      return `${url}${queryString2}${hash}`;
    };
    exports2.pick = (input, filter, options) => {
      options = Object.assign({
        parseFragmentIdentifier: true,
        [encodeFragmentIdentifier]: false
      }, options);
      const { url, query, fragmentIdentifier } = exports2.parseUrl(input, options);
      return exports2.stringifyUrl({
        url,
        query: filterObject(query, filter),
        fragmentIdentifier
      }, options);
    };
    exports2.exclude = (input, filter, options) => {
      const exclusionFilter = Array.isArray(filter) ? (key2) => !filter.includes(key2) : (key2, value2) => !filter(key2, value2);
      return exports2.pick(input, exclusionFilter, options);
    };
  }
});

// node_modules/.pnpm/ws@7.5.9/node_modules/ws/browser.js
var require_browser4 = __commonJS({
  "node_modules/.pnpm/ws@7.5.9/node_modules/ws/browser.js"(exports2, module2) {
    "use strict";
    module2.exports = function() {
      throw new Error(
        "ws does not work in the browser. Browser clients must use the native WebSocket object"
      );
    };
  }
});

// node_modules/.pnpm/lodash.isequal@4.5.0/node_modules/lodash.isequal/index.js
var require_lodash = __commonJS({
  "node_modules/.pnpm/lodash.isequal@4.5.0/node_modules/lodash.isequal/index.js"(exports2, module2) {
    var LARGE_ARRAY_SIZE = 200;
    var HASH_UNDEFINED = "__lodash_hash_undefined__";
    var COMPARE_PARTIAL_FLAG = 1;
    var COMPARE_UNORDERED_FLAG = 2;
    var MAX_SAFE_INTEGER = 9007199254740991;
    var argsTag = "[object Arguments]";
    var arrayTag = "[object Array]";
    var asyncTag = "[object AsyncFunction]";
    var boolTag = "[object Boolean]";
    var dateTag = "[object Date]";
    var errorTag = "[object Error]";
    var funcTag = "[object Function]";
    var genTag = "[object GeneratorFunction]";
    var mapTag = "[object Map]";
    var numberTag = "[object Number]";
    var nullTag = "[object Null]";
    var objectTag = "[object Object]";
    var promiseTag = "[object Promise]";
    var proxyTag = "[object Proxy]";
    var regexpTag = "[object RegExp]";
    var setTag = "[object Set]";
    var stringTag = "[object String]";
    var symbolTag = "[object Symbol]";
    var undefinedTag = "[object Undefined]";
    var weakMapTag = "[object WeakMap]";
    var arrayBufferTag = "[object ArrayBuffer]";
    var dataViewTag = "[object DataView]";
    var float32Tag = "[object Float32Array]";
    var float64Tag = "[object Float64Array]";
    var int8Tag = "[object Int8Array]";
    var int16Tag = "[object Int16Array]";
    var int32Tag = "[object Int32Array]";
    var uint8Tag = "[object Uint8Array]";
    var uint8ClampedTag = "[object Uint8ClampedArray]";
    var uint16Tag = "[object Uint16Array]";
    var uint32Tag = "[object Uint32Array]";
    var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;
    var reIsHostCtor = /^\[object .+?Constructor\]$/;
    var reIsUint = /^(?:0|[1-9]\d*)$/;
    var typedArrayTags = {};
    typedArrayTags[float32Tag] = typedArrayTags[float64Tag] = typedArrayTags[int8Tag] = typedArrayTags[int16Tag] = typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] = typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] = typedArrayTags[uint32Tag] = true;
    typedArrayTags[argsTag] = typedArrayTags[arrayTag] = typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] = typedArrayTags[dataViewTag] = typedArrayTags[dateTag] = typedArrayTags[errorTag] = typedArrayTags[funcTag] = typedArrayTags[mapTag] = typedArrayTags[numberTag] = typedArrayTags[objectTag] = typedArrayTags[regexpTag] = typedArrayTags[setTag] = typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;
    var freeGlobal = typeof globalThis == "object" && globalThis && globalThis.Object === Object && globalThis;
    var freeSelf = typeof self == "object" && self && self.Object === Object && self;
    var root = freeGlobal || freeSelf || Function("return this")();
    var freeExports = typeof exports2 == "object" && exports2 && !exports2.nodeType && exports2;
    var freeModule = freeExports && typeof module2 == "object" && module2 && !module2.nodeType && module2;
    var moduleExports = freeModule && freeModule.exports === freeExports;
    var freeProcess = moduleExports && freeGlobal.process;
    var nodeUtil = function() {
      try {
        return freeProcess && freeProcess.binding && freeProcess.binding("util");
      } catch (e2) {
      }
    }();
    var nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;
    function arrayFilter(array, predicate) {
      var index2 = -1, length3 = array == null ? 0 : array.length, resIndex = 0, result = [];
      while (++index2 < length3) {
        var value2 = array[index2];
        if (predicate(value2, index2, array)) {
          result[resIndex++] = value2;
        }
      }
      return result;
    }
    function arrayPush(array, values) {
      var index2 = -1, length3 = values.length, offset = array.length;
      while (++index2 < length3) {
        array[offset + index2] = values[index2];
      }
      return array;
    }
    function arraySome(array, predicate) {
      var index2 = -1, length3 = array == null ? 0 : array.length;
      while (++index2 < length3) {
        if (predicate(array[index2], index2, array)) {
          return true;
        }
      }
      return false;
    }
    function baseTimes(n4, iteratee) {
      var index2 = -1, result = Array(n4);
      while (++index2 < n4) {
        result[index2] = iteratee(index2);
      }
      return result;
    }
    function baseUnary(func) {
      return function(value2) {
        return func(value2);
      };
    }
    function cacheHas(cache, key2) {
      return cache.has(key2);
    }
    function getValue(object, key2) {
      return object == null ? void 0 : object[key2];
    }
    function mapToArray(map) {
      var index2 = -1, result = Array(map.size);
      map.forEach(function(value2, key2) {
        result[++index2] = [key2, value2];
      });
      return result;
    }
    function overArg(func, transform2) {
      return function(arg) {
        return func(transform2(arg));
      };
    }
    function setToArray(set2) {
      var index2 = -1, result = Array(set2.size);
      set2.forEach(function(value2) {
        result[++index2] = value2;
      });
      return result;
    }
    var arrayProto = Array.prototype;
    var funcProto = Function.prototype;
    var objectProto = Object.prototype;
    var coreJsData = root["__core-js_shared__"];
    var funcToString = funcProto.toString;
    var hasOwnProperty = objectProto.hasOwnProperty;
    var maskSrcKey = function() {
      var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || "");
      return uid ? "Symbol(src)_1." + uid : "";
    }();
    var nativeObjectToString = objectProto.toString;
    var reIsNative = RegExp(
      "^" + funcToString.call(hasOwnProperty).replace(reRegExpChar, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"
    );
    var Buffer3 = moduleExports ? root.Buffer : void 0;
    var Symbol2 = root.Symbol;
    var Uint8Array2 = root.Uint8Array;
    var propertyIsEnumerable = objectProto.propertyIsEnumerable;
    var splice = arrayProto.splice;
    var symToStringTag = Symbol2 ? Symbol2.toStringTag : void 0;
    var nativeGetSymbols = Object.getOwnPropertySymbols;
    var nativeIsBuffer = Buffer3 ? Buffer3.isBuffer : void 0;
    var nativeKeys = overArg(Object.keys, Object);
    var DataView2 = getNative(root, "DataView");
    var Map2 = getNative(root, "Map");
    var Promise2 = getNative(root, "Promise");
    var Set2 = getNative(root, "Set");
    var WeakMap2 = getNative(root, "WeakMap");
    var nativeCreate = getNative(Object, "create");
    var dataViewCtorString = toSource(DataView2);
    var mapCtorString = toSource(Map2);
    var promiseCtorString = toSource(Promise2);
    var setCtorString = toSource(Set2);
    var weakMapCtorString = toSource(WeakMap2);
    var symbolProto = Symbol2 ? Symbol2.prototype : void 0;
    var symbolValueOf = symbolProto ? symbolProto.valueOf : void 0;
    function Hash(entries) {
      var index2 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index2 < length3) {
        var entry = entries[index2];
        this.set(entry[0], entry[1]);
      }
    }
    function hashClear() {
      this.__data__ = nativeCreate ? nativeCreate(null) : {};
      this.size = 0;
    }
    function hashDelete(key2) {
      var result = this.has(key2) && delete this.__data__[key2];
      this.size -= result ? 1 : 0;
      return result;
    }
    function hashGet(key2) {
      var data2 = this.__data__;
      if (nativeCreate) {
        var result = data2[key2];
        return result === HASH_UNDEFINED ? void 0 : result;
      }
      return hasOwnProperty.call(data2, key2) ? data2[key2] : void 0;
    }
    function hashHas(key2) {
      var data2 = this.__data__;
      return nativeCreate ? data2[key2] !== void 0 : hasOwnProperty.call(data2, key2);
    }
    function hashSet(key2, value2) {
      var data2 = this.__data__;
      this.size += this.has(key2) ? 0 : 1;
      data2[key2] = nativeCreate && value2 === void 0 ? HASH_UNDEFINED : value2;
      return this;
    }
    Hash.prototype.clear = hashClear;
    Hash.prototype["delete"] = hashDelete;
    Hash.prototype.get = hashGet;
    Hash.prototype.has = hashHas;
    Hash.prototype.set = hashSet;
    function ListCache(entries) {
      var index2 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index2 < length3) {
        var entry = entries[index2];
        this.set(entry[0], entry[1]);
      }
    }
    function listCacheClear() {
      this.__data__ = [];
      this.size = 0;
    }
    function listCacheDelete(key2) {
      var data2 = this.__data__, index2 = assocIndexOf(data2, key2);
      if (index2 < 0) {
        return false;
      }
      var lastIndex = data2.length - 1;
      if (index2 == lastIndex) {
        data2.pop();
      } else {
        splice.call(data2, index2, 1);
      }
      --this.size;
      return true;
    }
    function listCacheGet(key2) {
      var data2 = this.__data__, index2 = assocIndexOf(data2, key2);
      return index2 < 0 ? void 0 : data2[index2][1];
    }
    function listCacheHas(key2) {
      return assocIndexOf(this.__data__, key2) > -1;
    }
    function listCacheSet(key2, value2) {
      var data2 = this.__data__, index2 = assocIndexOf(data2, key2);
      if (index2 < 0) {
        ++this.size;
        data2.push([key2, value2]);
      } else {
        data2[index2][1] = value2;
      }
      return this;
    }
    ListCache.prototype.clear = listCacheClear;
    ListCache.prototype["delete"] = listCacheDelete;
    ListCache.prototype.get = listCacheGet;
    ListCache.prototype.has = listCacheHas;
    ListCache.prototype.set = listCacheSet;
    function MapCache(entries) {
      var index2 = -1, length3 = entries == null ? 0 : entries.length;
      this.clear();
      while (++index2 < length3) {
        var entry = entries[index2];
        this.set(entry[0], entry[1]);
      }
    }
    function mapCacheClear() {
      this.size = 0;
      this.__data__ = {
        "hash": new Hash(),
        "map": new (Map2 || ListCache)(),
        "string": new Hash()
      };
    }
    function mapCacheDelete(key2) {
      var result = getMapData(this, key2)["delete"](key2);
      this.size -= result ? 1 : 0;
      return result;
    }
    function mapCacheGet(key2) {
      return getMapData(this, key2).get(key2);
    }
    function mapCacheHas(key2) {
      return getMapData(this, key2).has(key2);
    }
    function mapCacheSet(key2, value2) {
      var data2 = getMapData(this, key2), size = data2.size;
      data2.set(key2, value2);
      this.size += data2.size == size ? 0 : 1;
      return this;
    }
    MapCache.prototype.clear = mapCacheClear;
    MapCache.prototype["delete"] = mapCacheDelete;
    MapCache.prototype.get = mapCacheGet;
    MapCache.prototype.has = mapCacheHas;
    MapCache.prototype.set = mapCacheSet;
    function SetCache(values) {
      var index2 = -1, length3 = values == null ? 0 : values.length;
      this.__data__ = new MapCache();
      while (++index2 < length3) {
        this.add(values[index2]);
      }
    }
    function setCacheAdd(value2) {
      this.__data__.set(value2, HASH_UNDEFINED);
      return this;
    }
    function setCacheHas(value2) {
      return this.__data__.has(value2);
    }
    SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
    SetCache.prototype.has = setCacheHas;
    function Stack(entries) {
      var data2 = this.__data__ = new ListCache(entries);
      this.size = data2.size;
    }
    function stackClear() {
      this.__data__ = new ListCache();
      this.size = 0;
    }
    function stackDelete(key2) {
      var data2 = this.__data__, result = data2["delete"](key2);
      this.size = data2.size;
      return result;
    }
    function stackGet(key2) {
      return this.__data__.get(key2);
    }
    function stackHas(key2) {
      return this.__data__.has(key2);
    }
    function stackSet(key2, value2) {
      var data2 = this.__data__;
      if (data2 instanceof ListCache) {
        var pairs = data2.__data__;
        if (!Map2 || pairs.length < LARGE_ARRAY_SIZE - 1) {
          pairs.push([key2, value2]);
          this.size = ++data2.size;
          return this;
        }
        data2 = this.__data__ = new MapCache(pairs);
      }
      data2.set(key2, value2);
      this.size = data2.size;
      return this;
    }
    Stack.prototype.clear = stackClear;
    Stack.prototype["delete"] = stackDelete;
    Stack.prototype.get = stackGet;
    Stack.prototype.has = stackHas;
    Stack.prototype.set = stackSet;
    function arrayLikeKeys(value2, inherited) {
      var isArr = isArray(value2), isArg = !isArr && isArguments(value2), isBuff = !isArr && !isArg && isBuffer2(value2), isType = !isArr && !isArg && !isBuff && isTypedArray2(value2), skipIndexes = isArr || isArg || isBuff || isType, result = skipIndexes ? baseTimes(value2.length, String) : [], length3 = result.length;
      for (var key2 in value2) {
        if ((inherited || hasOwnProperty.call(value2, key2)) && !(skipIndexes && // Safari 9 has enumerable `arguments.length` in strict mode.
        (key2 == "length" || // Node.js 0.10 has enumerable non-index properties on buffers.
        isBuff && (key2 == "offset" || key2 == "parent") || // PhantomJS 2 has enumerable non-index properties on typed arrays.
        isType && (key2 == "buffer" || key2 == "byteLength" || key2 == "byteOffset") || // Skip index properties.
        isIndex(key2, length3)))) {
          result.push(key2);
        }
      }
      return result;
    }
    function assocIndexOf(array, key2) {
      var length3 = array.length;
      while (length3--) {
        if (eq(array[length3][0], key2)) {
          return length3;
        }
      }
      return -1;
    }
    function baseGetAllKeys(object, keysFunc, symbolsFunc) {
      var result = keysFunc(object);
      return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
    }
    function baseGetTag(value2) {
      if (value2 == null) {
        return value2 === void 0 ? undefinedTag : nullTag;
      }
      return symToStringTag && symToStringTag in Object(value2) ? getRawTag(value2) : objectToString(value2);
    }
    function baseIsArguments(value2) {
      return isObjectLike(value2) && baseGetTag(value2) == argsTag;
    }
    function baseIsEqual(value2, other, bitmask, customizer, stack) {
      if (value2 === other) {
        return true;
      }
      if (value2 == null || other == null || !isObjectLike(value2) && !isObjectLike(other)) {
        return value2 !== value2 && other !== other;
      }
      return baseIsEqualDeep(value2, other, bitmask, customizer, baseIsEqual, stack);
    }
    function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
      var objIsArr = isArray(object), othIsArr = isArray(other), objTag = objIsArr ? arrayTag : getTag(object), othTag = othIsArr ? arrayTag : getTag(other);
      objTag = objTag == argsTag ? objectTag : objTag;
      othTag = othTag == argsTag ? objectTag : othTag;
      var objIsObj = objTag == objectTag, othIsObj = othTag == objectTag, isSameTag = objTag == othTag;
      if (isSameTag && isBuffer2(object)) {
        if (!isBuffer2(other)) {
          return false;
        }
        objIsArr = true;
        objIsObj = false;
      }
      if (isSameTag && !objIsObj) {
        stack || (stack = new Stack());
        return objIsArr || isTypedArray2(object) ? equalArrays(object, other, bitmask, customizer, equalFunc, stack) : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
      }
      if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
        var objIsWrapped = objIsObj && hasOwnProperty.call(object, "__wrapped__"), othIsWrapped = othIsObj && hasOwnProperty.call(other, "__wrapped__");
        if (objIsWrapped || othIsWrapped) {
          var objUnwrapped = objIsWrapped ? object.value() : object, othUnwrapped = othIsWrapped ? other.value() : other;
          stack || (stack = new Stack());
          return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
        }
      }
      if (!isSameTag) {
        return false;
      }
      stack || (stack = new Stack());
      return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
    }
    function baseIsNative(value2) {
      if (!isObject(value2) || isMasked(value2)) {
        return false;
      }
      var pattern = isFunction(value2) ? reIsNative : reIsHostCtor;
      return pattern.test(toSource(value2));
    }
    function baseIsTypedArray(value2) {
      return isObjectLike(value2) && isLength(value2.length) && !!typedArrayTags[baseGetTag(value2)];
    }
    function baseKeys(object) {
      if (!isPrototype(object)) {
        return nativeKeys(object);
      }
      var result = [];
      for (var key2 in Object(object)) {
        if (hasOwnProperty.call(object, key2) && key2 != "constructor") {
          result.push(key2);
        }
      }
      return result;
    }
    function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, arrLength = array.length, othLength = other.length;
      if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
        return false;
      }
      var stacked = stack.get(array);
      if (stacked && stack.get(other)) {
        return stacked == other;
      }
      var index2 = -1, result = true, seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : void 0;
      stack.set(array, other);
      stack.set(other, array);
      while (++index2 < arrLength) {
        var arrValue = array[index2], othValue = other[index2];
        if (customizer) {
          var compared = isPartial ? customizer(othValue, arrValue, index2, other, array, stack) : customizer(arrValue, othValue, index2, array, other, stack);
        }
        if (compared !== void 0) {
          if (compared) {
            continue;
          }
          result = false;
          break;
        }
        if (seen) {
          if (!arraySome(other, function(othValue2, othIndex) {
            if (!cacheHas(seen, othIndex) && (arrValue === othValue2 || equalFunc(arrValue, othValue2, bitmask, customizer, stack))) {
              return seen.push(othIndex);
            }
          })) {
            result = false;
            break;
          }
        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
          result = false;
          break;
        }
      }
      stack["delete"](array);
      stack["delete"](other);
      return result;
    }
    function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
      switch (tag) {
        case dataViewTag:
          if (object.byteLength != other.byteLength || object.byteOffset != other.byteOffset) {
            return false;
          }
          object = object.buffer;
          other = other.buffer;
        case arrayBufferTag:
          if (object.byteLength != other.byteLength || !equalFunc(new Uint8Array2(object), new Uint8Array2(other))) {
            return false;
          }
          return true;
        case boolTag:
        case dateTag:
        case numberTag:
          return eq(+object, +other);
        case errorTag:
          return object.name == other.name && object.message == other.message;
        case regexpTag:
        case stringTag:
          return object == other + "";
        case mapTag:
          var convert = mapToArray;
        case setTag:
          var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
          convert || (convert = setToArray);
          if (object.size != other.size && !isPartial) {
            return false;
          }
          var stacked = stack.get(object);
          if (stacked) {
            return stacked == other;
          }
          bitmask |= COMPARE_UNORDERED_FLAG;
          stack.set(object, other);
          var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
          stack["delete"](object);
          return result;
        case symbolTag:
          if (symbolValueOf) {
            return symbolValueOf.call(object) == symbolValueOf.call(other);
          }
      }
      return false;
    }
    function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
      var isPartial = bitmask & COMPARE_PARTIAL_FLAG, objProps = getAllKeys(object), objLength = objProps.length, othProps = getAllKeys(other), othLength = othProps.length;
      if (objLength != othLength && !isPartial) {
        return false;
      }
      var index2 = objLength;
      while (index2--) {
        var key2 = objProps[index2];
        if (!(isPartial ? key2 in other : hasOwnProperty.call(other, key2))) {
          return false;
        }
      }
      var stacked = stack.get(object);
      if (stacked && stack.get(other)) {
        return stacked == other;
      }
      var result = true;
      stack.set(object, other);
      stack.set(other, object);
      var skipCtor = isPartial;
      while (++index2 < objLength) {
        key2 = objProps[index2];
        var objValue = object[key2], othValue = other[key2];
        if (customizer) {
          var compared = isPartial ? customizer(othValue, objValue, key2, other, object, stack) : customizer(objValue, othValue, key2, object, other, stack);
        }
        if (!(compared === void 0 ? objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) : compared)) {
          result = false;
          break;
        }
        skipCtor || (skipCtor = key2 == "constructor");
      }
      if (result && !skipCtor) {
        var objCtor = object.constructor, othCtor = other.constructor;
        if (objCtor != othCtor && ("constructor" in object && "constructor" in other) && !(typeof objCtor == "function" && objCtor instanceof objCtor && typeof othCtor == "function" && othCtor instanceof othCtor)) {
          result = false;
        }
      }
      stack["delete"](object);
      stack["delete"](other);
      return result;
    }
    function getAllKeys(object) {
      return baseGetAllKeys(object, keys2, getSymbols);
    }
    function getMapData(map, key2) {
      var data2 = map.__data__;
      return isKeyable(key2) ? data2[typeof key2 == "string" ? "string" : "hash"] : data2.map;
    }
    function getNative(object, key2) {
      var value2 = getValue(object, key2);
      return baseIsNative(value2) ? value2 : void 0;
    }
    function getRawTag(value2) {
      var isOwn = hasOwnProperty.call(value2, symToStringTag), tag = value2[symToStringTag];
      try {
        value2[symToStringTag] = void 0;
        var unmasked = true;
      } catch (e2) {
      }
      var result = nativeObjectToString.call(value2);
      if (unmasked) {
        if (isOwn) {
          value2[symToStringTag] = tag;
        } else {
          delete value2[symToStringTag];
        }
      }
      return result;
    }
    var getSymbols = !nativeGetSymbols ? stubArray : function(object) {
      if (object == null) {
        return [];
      }
      object = Object(object);
      return arrayFilter(nativeGetSymbols(object), function(symbol) {
        return propertyIsEnumerable.call(object, symbol);
      });
    };
    var getTag = baseGetTag;
    if (DataView2 && getTag(new DataView2(new ArrayBuffer(1))) != dataViewTag || Map2 && getTag(new Map2()) != mapTag || Promise2 && getTag(Promise2.resolve()) != promiseTag || Set2 && getTag(new Set2()) != setTag || WeakMap2 && getTag(new WeakMap2()) != weakMapTag) {
      getTag = function(value2) {
        var result = baseGetTag(value2), Ctor = result == objectTag ? value2.constructor : void 0, ctorString = Ctor ? toSource(Ctor) : "";
        if (ctorString) {
          switch (ctorString) {
            case dataViewCtorString:
              return dataViewTag;
            case mapCtorString:
              return mapTag;
            case promiseCtorString:
              return promiseTag;
            case setCtorString:
              return setTag;
            case weakMapCtorString:
              return weakMapTag;
          }
        }
        return result;
      };
    }
    function isIndex(value2, length3) {
      length3 = length3 == null ? MAX_SAFE_INTEGER : length3;
      return !!length3 && (typeof value2 == "number" || reIsUint.test(value2)) && (value2 > -1 && value2 % 1 == 0 && value2 < length3);
    }
    function isKeyable(value2) {
      var type = typeof value2;
      return type == "string" || type == "number" || type == "symbol" || type == "boolean" ? value2 !== "__proto__" : value2 === null;
    }
    function isMasked(func) {
      return !!maskSrcKey && maskSrcKey in func;
    }
    function isPrototype(value2) {
      var Ctor = value2 && value2.constructor, proto = typeof Ctor == "function" && Ctor.prototype || objectProto;
      return value2 === proto;
    }
    function objectToString(value2) {
      return nativeObjectToString.call(value2);
    }
    function toSource(func) {
      if (func != null) {
        try {
          return funcToString.call(func);
        } catch (e2) {
        }
        try {
          return func + "";
        } catch (e2) {
        }
      }
      return "";
    }
    function eq(value2, other) {
      return value2 === other || value2 !== value2 && other !== other;
    }
    var isArguments = baseIsArguments(function() {
      return arguments;
    }()) ? baseIsArguments : function(value2) {
      return isObjectLike(value2) && hasOwnProperty.call(value2, "callee") && !propertyIsEnumerable.call(value2, "callee");
    };
    var isArray = Array.isArray;
    function isArrayLike(value2) {
      return value2 != null && isLength(value2.length) && !isFunction(value2);
    }
    var isBuffer2 = nativeIsBuffer || stubFalse;
    function isEqual(value2, other) {
      return baseIsEqual(value2, other);
    }
    function isFunction(value2) {
      if (!isObject(value2)) {
        return false;
      }
      var tag = baseGetTag(value2);
      return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
    }
    function isLength(value2) {
      return typeof value2 == "number" && value2 > -1 && value2 % 1 == 0 && value2 <= MAX_SAFE_INTEGER;
    }
    function isObject(value2) {
      var type = typeof value2;
      return value2 != null && (type == "object" || type == "function");
    }
    function isObjectLike(value2) {
      return value2 != null && typeof value2 == "object";
    }
    var isTypedArray2 = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;
    function keys2(object) {
      return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
    }
    function stubArray() {
      return [];
    }
    function stubFalse() {
      return false;
    }
    module2.exports = isEqual;
  }
});

// css-bundle-plugin-ns:@remix-run/css-bundle
var cssBundleHref = "/build/css-bundle-4225ZG7K.css";

// app/tailwind.css
var tailwind_default = "/build/_assets/tailwind-Z6XCS6YN.css";

// app/providers/wallet/index.tsx
init_esm();
var import_defly_connect = __toESM(require_dist(), 1);
var import_connect = __toESM(require_dist2(), 1);
var import_connect2 = __toESM(require_dist3(), 1);

// node_modules/.pnpm/@walletconnect+modal@2.6.2_@types+react@18.2.48_react@18.2.0/node_modules/@walletconnect/modal/dist/index.js
var d = class {
  constructor(e2) {
    this.openModal = se.open, this.closeModal = se.close, this.subscribeModal = se.subscribe, this.setTheme = ne.setThemeConfig, ne.setThemeConfig(e2), y.setConfig(e2), this.initUi();
  }
  async initUi() {
    if (typeof window < "u") {
      await import("/build/_shared/dist-TTC2I5SP.js");
      const e2 = document.createElement("wcm-modal");
      document.body.insertAdjacentElement("beforeend", e2), p.setIsUiLoaded(true);
    }
  }
};

// node_modules/.pnpm/@walletconnect+core@2.10.0/node_modules/@walletconnect/core/dist/index.es.js
init_events2();

// node_modules/.pnpm/destr@2.0.2/node_modules/destr/dist/index.mjs
var suspectProtoRx = /"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/;
var suspectConstructorRx = /"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;
var JsonSigRx = /^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;
function jsonParseTransform(key2, value2) {
  if (key2 === "__proto__" || key2 === "constructor" && value2 && typeof value2 === "object" && "prototype" in value2) {
    warnKeyDropped(key2);
    return;
  }
  return value2;
}
function warnKeyDropped(key2) {
  console.warn(`[destr] Dropping "${key2}" key to prevent prototype pollution.`);
}
function destr(value2, options = {}) {
  if (typeof value2 !== "string") {
    return value2;
  }
  const _value = value2.trim();
  if (
    // eslint-disable-next-line unicorn/prefer-at
    value2[0] === '"' && value2.at(-1) === '"' && !value2.includes("\\")
  ) {
    return _value.slice(1, -1);
  }
  if (_value.length <= 9) {
    const _lval = _value.toLowerCase();
    if (_lval === "true") {
      return true;
    }
    if (_lval === "false") {
      return false;
    }
    if (_lval === "undefined") {
      return void 0;
    }
    if (_lval === "null") {
      return null;
    }
    if (_lval === "nan") {
      return Number.NaN;
    }
    if (_lval === "infinity") {
      return Number.POSITIVE_INFINITY;
    }
    if (_lval === "-infinity") {
      return Number.NEGATIVE_INFINITY;
    }
  }
  if (!JsonSigRx.test(value2)) {
    if (options.strict) {
      throw new SyntaxError("[destr] Invalid JSON");
    }
    return value2;
  }
  try {
    if (suspectProtoRx.test(value2) || suspectConstructorRx.test(value2)) {
      if (options.strict) {
        throw new Error("[destr] Possible prototype pollution");
      }
      return JSON.parse(value2, jsonParseTransform);
    }
    return JSON.parse(value2);
  } catch (error) {
    if (options.strict) {
      throw error;
    }
    return value2;
  }
}

// node_modules/.pnpm/unstorage@1.10.1_idb-keyval@6.2.1/node_modules/unstorage/dist/shared/unstorage.8581f561.mjs
function wrapToPromise(value2) {
  if (!value2 || typeof value2.then !== "function") {
    return Promise.resolve(value2);
  }
  return value2;
}
function asyncCall(function_, ...arguments_) {
  try {
    return wrapToPromise(function_(...arguments_));
  } catch (error) {
    return Promise.reject(error);
  }
}
function isPrimitive(value2) {
  const type = typeof value2;
  return value2 === null || type !== "object" && type !== "function";
}
function isPureObject(value2) {
  const proto = Object.getPrototypeOf(value2);
  return !proto || proto.isPrototypeOf(Object);
}
function stringify2(value2) {
  if (isPrimitive(value2)) {
    return String(value2);
  }
  if (isPureObject(value2) || Array.isArray(value2)) {
    return JSON.stringify(value2);
  }
  if (typeof value2.toJSON === "function") {
    return stringify2(value2.toJSON());
  }
  throw new Error("[unstorage] Cannot stringify value!");
}
function checkBufferSupport() {
  if (typeof Buffer === void 0) {
    throw new TypeError("[unstorage] Buffer is not supported!");
  }
}
var BASE64_PREFIX = "base64:";
function serializeRaw(value2) {
  if (typeof value2 === "string") {
    return value2;
  }
  checkBufferSupport();
  const base642 = Buffer.from(value2).toString("base64");
  return BASE64_PREFIX + base642;
}
function deserializeRaw(value2) {
  if (typeof value2 !== "string") {
    return value2;
  }
  if (!value2.startsWith(BASE64_PREFIX)) {
    return value2;
  }
  checkBufferSupport();
  return Buffer.from(value2.slice(BASE64_PREFIX.length), "base64");
}
function normalizeKey(key2) {
  if (!key2) {
    return "";
  }
  return key2.split("?")[0].replace(/[/\\]/g, ":").replace(/:+/g, ":").replace(/^:|:$/g, "");
}
function joinKeys(...keys2) {
  return normalizeKey(keys2.join(":"));
}
function normalizeBaseKey(base3) {
  base3 = normalizeKey(base3);
  return base3 ? base3 + ":" : "";
}

// node_modules/.pnpm/unstorage@1.10.1_idb-keyval@6.2.1/node_modules/unstorage/dist/index.mjs
function defineDriver(factory) {
  return factory;
}
var DRIVER_NAME = "memory";
var memory = defineDriver(() => {
  const data2 = /* @__PURE__ */ new Map();
  return {
    name: DRIVER_NAME,
    options: {},
    hasItem(key2) {
      return data2.has(key2);
    },
    getItem(key2) {
      return data2.get(key2) ?? null;
    },
    getItemRaw(key2) {
      return data2.get(key2) ?? null;
    },
    setItem(key2, value2) {
      data2.set(key2, value2);
    },
    setItemRaw(key2, value2) {
      data2.set(key2, value2);
    },
    removeItem(key2) {
      data2.delete(key2);
    },
    getKeys() {
      return Array.from(data2.keys());
    },
    clear() {
      data2.clear();
    },
    dispose() {
      data2.clear();
    }
  };
});
function createStorage(options = {}) {
  const context = {
    mounts: { "": options.driver || memory() },
    mountpoints: [""],
    watching: false,
    watchListeners: [],
    unwatch: {}
  };
  const getMount = (key2) => {
    for (const base3 of context.mountpoints) {
      if (key2.startsWith(base3)) {
        return {
          base: base3,
          relativeKey: key2.slice(base3.length),
          driver: context.mounts[base3]
        };
      }
    }
    return {
      base: "",
      relativeKey: key2,
      driver: context.mounts[""]
    };
  };
  const getMounts = (base3, includeParent) => {
    return context.mountpoints.filter(
      (mountpoint) => mountpoint.startsWith(base3) || includeParent && base3.startsWith(mountpoint)
    ).map((mountpoint) => ({
      relativeBase: base3.length > mountpoint.length ? base3.slice(mountpoint.length) : void 0,
      mountpoint,
      driver: context.mounts[mountpoint]
    }));
  };
  const onChange = (event, key2) => {
    if (!context.watching) {
      return;
    }
    key2 = normalizeKey(key2);
    for (const listener of context.watchListeners) {
      listener(event, key2);
    }
  };
  const startWatch = async () => {
    if (context.watching) {
      return;
    }
    context.watching = true;
    for (const mountpoint in context.mounts) {
      context.unwatch[mountpoint] = await watch(
        context.mounts[mountpoint],
        onChange,
        mountpoint
      );
    }
  };
  const stopWatch = async () => {
    if (!context.watching) {
      return;
    }
    for (const mountpoint in context.unwatch) {
      await context.unwatch[mountpoint]();
    }
    context.unwatch = {};
    context.watching = false;
  };
  const runBatch = (items, commonOptions, cb) => {
    const batches = /* @__PURE__ */ new Map();
    const getBatch = (mount) => {
      let batch = batches.get(mount.base);
      if (!batch) {
        batch = {
          driver: mount.driver,
          base: mount.base,
          items: []
        };
        batches.set(mount.base, batch);
      }
      return batch;
    };
    for (const item of items) {
      const isStringItem = typeof item === "string";
      const key2 = normalizeKey(isStringItem ? item : item.key);
      const value2 = isStringItem ? void 0 : item.value;
      const options2 = isStringItem || !item.options ? commonOptions : { ...commonOptions, ...item.options };
      const mount = getMount(key2);
      getBatch(mount).items.push({
        key: key2,
        value: value2,
        relativeKey: mount.relativeKey,
        options: options2
      });
    }
    return Promise.all([...batches.values()].map((batch) => cb(batch))).then(
      (r3) => r3.flat()
    );
  };
  const storage = {
    // Item
    hasItem(key2, opts = {}) {
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      return asyncCall(driver.hasItem, relativeKey, opts);
    },
    getItem(key2, opts = {}) {
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      return asyncCall(driver.getItem, relativeKey, opts).then(
        (value2) => destr(value2)
      );
    },
    getItems(items, commonOptions) {
      return runBatch(items, commonOptions, (batch) => {
        if (batch.driver.getItems) {
          return asyncCall(
            batch.driver.getItems,
            batch.items.map((item) => ({
              key: item.relativeKey,
              options: item.options
            })),
            commonOptions
          ).then(
            (r3) => r3.map((item) => ({
              key: joinKeys(batch.base, item.key),
              value: destr(item.value)
            }))
          );
        }
        return Promise.all(
          batch.items.map((item) => {
            return asyncCall(
              batch.driver.getItem,
              item.relativeKey,
              item.options
            ).then((value2) => ({
              key: item.key,
              value: destr(value2)
            }));
          })
        );
      });
    },
    getItemRaw(key2, opts = {}) {
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      if (driver.getItemRaw) {
        return asyncCall(driver.getItemRaw, relativeKey, opts);
      }
      return asyncCall(driver.getItem, relativeKey, opts).then(
        (value2) => deserializeRaw(value2)
      );
    },
    async setItem(key2, value2, opts = {}) {
      if (value2 === void 0) {
        return storage.removeItem(key2);
      }
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      if (!driver.setItem) {
        return;
      }
      await asyncCall(driver.setItem, relativeKey, stringify2(value2), opts);
      if (!driver.watch) {
        onChange("update", key2);
      }
    },
    async setItems(items, commonOptions) {
      await runBatch(items, commonOptions, async (batch) => {
        if (batch.driver.setItems) {
          await asyncCall(
            batch.driver.setItems,
            batch.items.map((item) => ({
              key: item.relativeKey,
              value: stringify2(item.value),
              options: item.options
            })),
            commonOptions
          );
        }
        if (!batch.driver.setItem) {
          return;
        }
        await Promise.all(
          batch.items.map((item) => {
            return asyncCall(
              batch.driver.setItem,
              item.relativeKey,
              stringify2(item.value),
              item.options
            );
          })
        );
      });
    },
    async setItemRaw(key2, value2, opts = {}) {
      if (value2 === void 0) {
        return storage.removeItem(key2, opts);
      }
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      if (driver.setItemRaw) {
        await asyncCall(driver.setItemRaw, relativeKey, value2, opts);
      } else if (driver.setItem) {
        await asyncCall(driver.setItem, relativeKey, serializeRaw(value2), opts);
      } else {
        return;
      }
      if (!driver.watch) {
        onChange("update", key2);
      }
    },
    async removeItem(key2, opts = {}) {
      if (typeof opts === "boolean") {
        opts = { removeMeta: opts };
      }
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      if (!driver.removeItem) {
        return;
      }
      await asyncCall(driver.removeItem, relativeKey, opts);
      if (opts.removeMeta || opts.removeMata) {
        await asyncCall(driver.removeItem, relativeKey + "$", opts);
      }
      if (!driver.watch) {
        onChange("remove", key2);
      }
    },
    // Meta
    async getMeta(key2, opts = {}) {
      if (typeof opts === "boolean") {
        opts = { nativeOnly: opts };
      }
      key2 = normalizeKey(key2);
      const { relativeKey, driver } = getMount(key2);
      const meta = /* @__PURE__ */ Object.create(null);
      if (driver.getMeta) {
        Object.assign(meta, await asyncCall(driver.getMeta, relativeKey, opts));
      }
      if (!opts.nativeOnly) {
        const value2 = await asyncCall(
          driver.getItem,
          relativeKey + "$",
          opts
        ).then((value_) => destr(value_));
        if (value2 && typeof value2 === "object") {
          if (typeof value2.atime === "string") {
            value2.atime = new Date(value2.atime);
          }
          if (typeof value2.mtime === "string") {
            value2.mtime = new Date(value2.mtime);
          }
          Object.assign(meta, value2);
        }
      }
      return meta;
    },
    setMeta(key2, value2, opts = {}) {
      return this.setItem(key2 + "$", value2, opts);
    },
    removeMeta(key2, opts = {}) {
      return this.removeItem(key2 + "$", opts);
    },
    // Keys
    async getKeys(base3, opts = {}) {
      base3 = normalizeBaseKey(base3);
      const mounts = getMounts(base3, true);
      let maskedMounts = [];
      const allKeys = [];
      for (const mount of mounts) {
        const rawKeys = await asyncCall(
          mount.driver.getKeys,
          mount.relativeBase,
          opts
        );
        const keys2 = rawKeys.map((key2) => mount.mountpoint + normalizeKey(key2)).filter((key2) => !maskedMounts.some((p6) => key2.startsWith(p6)));
        allKeys.push(...keys2);
        maskedMounts = [
          mount.mountpoint,
          ...maskedMounts.filter((p6) => !p6.startsWith(mount.mountpoint))
        ];
      }
      return base3 ? allKeys.filter((key2) => key2.startsWith(base3) && !key2.endsWith("$")) : allKeys.filter((key2) => !key2.endsWith("$"));
    },
    // Utils
    async clear(base3, opts = {}) {
      base3 = normalizeBaseKey(base3);
      await Promise.all(
        getMounts(base3, false).map(async (m3) => {
          if (m3.driver.clear) {
            return asyncCall(m3.driver.clear, m3.relativeBase, opts);
          }
          if (m3.driver.removeItem) {
            const keys2 = await m3.driver.getKeys(m3.relativeBase || "", opts);
            return Promise.all(
              keys2.map((key2) => m3.driver.removeItem(key2, opts))
            );
          }
        })
      );
    },
    async dispose() {
      await Promise.all(
        Object.values(context.mounts).map((driver) => dispose(driver))
      );
    },
    async watch(callback) {
      await startWatch();
      context.watchListeners.push(callback);
      return async () => {
        context.watchListeners = context.watchListeners.filter(
          (listener) => listener !== callback
        );
        if (context.watchListeners.length === 0) {
          await stopWatch();
        }
      };
    },
    async unwatch() {
      context.watchListeners = [];
      await stopWatch();
    },
    // Mount
    mount(base3, driver) {
      base3 = normalizeBaseKey(base3);
      if (base3 && context.mounts[base3]) {
        throw new Error(`already mounted at ${base3}`);
      }
      if (base3) {
        context.mountpoints.push(base3);
        context.mountpoints.sort((a4, b3) => b3.length - a4.length);
      }
      context.mounts[base3] = driver;
      if (context.watching) {
        Promise.resolve(watch(driver, onChange, base3)).then((unwatcher) => {
          context.unwatch[base3] = unwatcher;
        }).catch(console.error);
      }
      return storage;
    },
    async unmount(base3, _dispose = true) {
      base3 = normalizeBaseKey(base3);
      if (!base3 || !context.mounts[base3]) {
        return;
      }
      if (context.watching && base3 in context.unwatch) {
        context.unwatch[base3]();
        delete context.unwatch[base3];
      }
      if (_dispose) {
        await dispose(context.mounts[base3]);
      }
      context.mountpoints = context.mountpoints.filter((key2) => key2 !== base3);
      delete context.mounts[base3];
    },
    getMount(key2 = "") {
      key2 = normalizeKey(key2) + ":";
      const m3 = getMount(key2);
      return {
        driver: m3.driver,
        base: m3.base
      };
    },
    getMounts(base3 = "", opts = {}) {
      base3 = normalizeKey(base3);
      const mounts = getMounts(base3, opts.parents);
      return mounts.map((m3) => ({
        driver: m3.driver,
        base: m3.mountpoint
      }));
    }
  };
  return storage;
}
function watch(driver, onChange, base3) {
  return driver.watch ? driver.watch((event, key2) => onChange(event, base3 + key2)) : () => {
  };
}
async function dispose(driver) {
  if (typeof driver.dispose === "function") {
    await asyncCall(driver.dispose);
  }
}

// node_modules/.pnpm/idb-keyval@6.2.1/node_modules/idb-keyval/dist/index.js
function promisifyRequest(request) {
  return new Promise((resolve, reject) => {
    request.oncomplete = request.onsuccess = () => resolve(request.result);
    request.onabort = request.onerror = () => reject(request.error);
  });
}
function createStore(dbName, storeName) {
  const request = indexedDB.open(dbName);
  request.onupgradeneeded = () => request.result.createObjectStore(storeName);
  const dbp = promisifyRequest(request);
  return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));
}
var defaultGetStoreFunc;
function defaultGetStore() {
  if (!defaultGetStoreFunc) {
    defaultGetStoreFunc = createStore("keyval-store", "keyval");
  }
  return defaultGetStoreFunc;
}
function get(key2, customStore = defaultGetStore()) {
  return customStore("readonly", (store) => promisifyRequest(store.get(key2)));
}
function set(key2, value2, customStore = defaultGetStore()) {
  return customStore("readwrite", (store) => {
    store.put(value2, key2);
    return promisifyRequest(store.transaction);
  });
}
function del(key2, customStore = defaultGetStore()) {
  return customStore("readwrite", (store) => {
    store.delete(key2);
    return promisifyRequest(store.transaction);
  });
}
function clear(customStore = defaultGetStore()) {
  return customStore("readwrite", (store) => {
    store.clear();
    return promisifyRequest(store.transaction);
  });
}
function eachCursor(store, callback) {
  store.openCursor().onsuccess = function() {
    if (!this.result)
      return;
    callback(this.result);
    this.result.continue();
  };
  return promisifyRequest(store.transaction);
}
function keys(customStore = defaultGetStore()) {
  return customStore("readonly", (store) => {
    if (store.getAllKeys) {
      return promisifyRequest(store.getAllKeys());
    }
    const items = [];
    return eachCursor(store, (cursor) => items.push(cursor.key)).then(() => items);
  });
}

// node_modules/.pnpm/@walletconnect+safe-json@1.0.2/node_modules/@walletconnect/safe-json/dist/esm/index.js
var JSONStringify = (data2) => JSON.stringify(data2, (_4, value2) => typeof value2 === "bigint" ? value2.toString() + "n" : value2);
var JSONParse = (json2) => {
  const numbersBiggerThanMaxInt = /([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g;
  const serializedData = json2.replace(numbersBiggerThanMaxInt, '$1"$2n"$3');
  return JSON.parse(serializedData, (_4, value2) => {
    const isCustomFormatBigInt = typeof value2 === "string" && value2.match(/^\d+n$/);
    if (isCustomFormatBigInt)
      return BigInt(value2.substring(0, value2.length - 1));
    return value2;
  });
};
function safeJsonParse3(value2) {
  if (typeof value2 !== "string") {
    throw new Error(`Cannot safe json parse value of type ${typeof value2}`);
  }
  try {
    return JSONParse(value2);
  } catch (_a) {
    return value2;
  }
}
function safeJsonStringify3(value2) {
  return typeof value2 === "string" ? value2 : JSONStringify(value2) || "";
}

// node_modules/.pnpm/@walletconnect+keyvaluestorage@1.1.1/node_modules/@walletconnect/keyvaluestorage/dist/index.es.js
var x = "idb-keyval";
var z = (i3 = {}) => {
  const t2 = i3.base && i3.base.length > 0 ? `${i3.base}:` : "", e2 = (s2) => t2 + s2;
  let n4;
  return i3.dbName && i3.storeName && (n4 = createStore(i3.dbName, i3.storeName)), { name: x, options: i3, async hasItem(s2) {
    return !(typeof await get(e2(s2), n4) > "u");
  }, async getItem(s2) {
    return await get(e2(s2), n4) ?? null;
  }, setItem(s2, a4) {
    return set(e2(s2), a4, n4);
  }, removeItem(s2) {
    return del(e2(s2), n4);
  }, getKeys() {
    return keys(n4);
  }, clear() {
    return clear(n4);
  } };
};
var D = "WALLET_CONNECT_V2_INDEXED_DB";
var E = "keyvaluestorage";
var _ = class {
  constructor() {
    this.indexedDb = createStorage({ driver: z({ dbName: D, storeName: E }) });
  }
  async getKeys() {
    return this.indexedDb.getKeys();
  }
  async getEntries() {
    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((t2) => [t2.key, t2.value]);
  }
  async getItem(t2) {
    const e2 = await this.indexedDb.getItem(t2);
    if (e2 !== null)
      return e2;
  }
  async setItem(t2, e2) {
    await this.indexedDb.setItem(t2, safeJsonStringify3(e2));
  }
  async removeItem(t2) {
    await this.indexedDb.removeItem(t2);
  }
};
var l2 = typeof globalThis < "u" ? globalThis : typeof window < "u" ? window : typeof globalThis < "u" ? globalThis : typeof self < "u" ? self : {};
var c2 = { exports: {} };
(function() {
  let i3;
  function t2() {
  }
  i3 = t2, i3.prototype.getItem = function(e2) {
    return this.hasOwnProperty(e2) ? String(this[e2]) : null;
  }, i3.prototype.setItem = function(e2, n4) {
    this[e2] = String(n4);
  }, i3.prototype.removeItem = function(e2) {
    delete this[e2];
  }, i3.prototype.clear = function() {
    const e2 = this;
    Object.keys(e2).forEach(function(n4) {
      e2[n4] = void 0, delete e2[n4];
    });
  }, i3.prototype.key = function(e2) {
    return e2 = e2 || 0, Object.keys(this)[e2];
  }, i3.prototype.__defineGetter__("length", function() {
    return Object.keys(this).length;
  }), typeof l2 < "u" && l2.localStorage ? c2.exports = l2.localStorage : typeof window < "u" && window.localStorage ? c2.exports = window.localStorage : c2.exports = new t2();
})();
function k(i3) {
  var t2;
  return [i3[0], safeJsonParse3((t2 = i3[1]) != null ? t2 : "")];
}
var K = class {
  constructor() {
    this.localStorage = c2.exports;
  }
  async getKeys() {
    return Object.keys(this.localStorage);
  }
  async getEntries() {
    return Object.entries(this.localStorage).map(k);
  }
  async getItem(t2) {
    const e2 = this.localStorage.getItem(t2);
    if (e2 !== null)
      return safeJsonParse3(e2);
  }
  async setItem(t2, e2) {
    this.localStorage.setItem(t2, safeJsonStringify3(e2));
  }
  async removeItem(t2) {
    this.localStorage.removeItem(t2);
  }
};
var N = "wc_storage_version";
var y3 = 1;
var O = async (i3, t2, e2) => {
  const n4 = N, s2 = await t2.getItem(n4);
  if (s2 && s2 >= y3) {
    e2(t2);
    return;
  }
  const a4 = await i3.getKeys();
  if (!a4.length) {
    e2(t2);
    return;
  }
  const m3 = [];
  for (; a4.length; ) {
    const r3 = a4.shift();
    if (!r3)
      continue;
    const o3 = r3.toLowerCase();
    if (o3.includes("wc@") || o3.includes("walletconnect") || o3.includes("wc_") || o3.includes("wallet_connect")) {
      const f3 = await i3.getItem(r3);
      await t2.setItem(r3, f3), m3.push(r3);
    }
  }
  await t2.setItem(n4, y3), e2(t2), j(i3, m3);
};
var j = async (i3, t2) => {
  t2.length && t2.forEach(async (e2) => {
    await i3.removeItem(e2);
  });
};
var h2 = class {
  constructor() {
    this.initialized = false, this.setInitialized = (e2) => {
      this.storage = e2, this.initialized = true;
    };
    const t2 = new K();
    this.storage = t2;
    try {
      const e2 = new _();
      O(t2, e2, this.setInitialized);
    } catch {
      this.initialized = true;
    }
  }
  async getKeys() {
    return await this.initialize(), this.storage.getKeys();
  }
  async getEntries() {
    return await this.initialize(), this.storage.getEntries();
  }
  async getItem(t2) {
    return await this.initialize(), this.storage.getItem(t2);
  }
  async setItem(t2, e2) {
    return await this.initialize(), this.storage.setItem(t2, e2);
  }
  async removeItem(t2) {
    return await this.initialize(), this.storage.removeItem(t2);
  }
  async initialize() {
    this.initialized || await new Promise((t2) => {
      const e2 = setInterval(() => {
        this.initialized && (clearInterval(e2), t2());
      }, 20);
    });
  }
};

// node_modules/.pnpm/@walletconnect+core@2.10.0/node_modules/@walletconnect/core/dist/index.es.js
var import_heartbeat = __toESM(require_cjs5());
var import_logger = __toESM(require_cjs6());

// node_modules/.pnpm/@walletconnect+types@2.10.0/node_modules/@walletconnect/types/dist/index.es.js
init_esm12();
var n2 = class extends IEvents2 {
  constructor(s2) {
    super(), this.opts = s2, this.protocol = "wc", this.version = 2;
  }
};
var h3 = class extends IEvents2 {
  constructor(s2, t2) {
    super(), this.core = s2, this.logger = t2, this.records = /* @__PURE__ */ new Map();
  }
};
var a2 = class {
  constructor(s2, t2) {
    this.logger = s2, this.core = t2;
  }
};
var u2 = class extends IEvents2 {
  constructor(s2, t2) {
    super(), this.relayer = s2, this.logger = t2;
  }
};
var g = class extends IEvents2 {
  constructor(s2) {
    super();
  }
};
var p3 = class {
  constructor(s2, t2, o3, w4) {
    this.core = s2, this.logger = t2, this.name = o3;
  }
};
var d2 = class extends IEvents2 {
  constructor(s2, t2) {
    super(), this.relayer = s2, this.logger = t2;
  }
};
var E2 = class extends IEvents2 {
  constructor(s2, t2) {
    super(), this.core = s2, this.logger = t2;
  }
};
var y4 = class {
  constructor(s2, t2) {
    this.projectId = s2, this.logger = t2;
  }
};
var b = class {
  constructor(s2) {
    this.opts = s2, this.protocol = "wc", this.version = 2;
  }
};
var S = class {
  constructor(s2) {
    this.client = s2;
  }
};

// node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/api.js
var ed25519 = __toESM(require_ed25519());
var import_random = __toESM(require_random());
var import_time = __toESM(require_cjs4());

// node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/constants.js
var JWT_IRIDIUM_ALG = "EdDSA";
var JWT_IRIDIUM_TYP = "JWT";
var JWT_DELIMITER = ".";
var JWT_ENCODING = "base64url";
var JSON_ENCODING = "utf8";
var DATA_ENCODING = "utf8";
var DID_DELIMITER = ":";
var DID_PREFIX = "did";
var DID_METHOD = "key";
var MULTICODEC_ED25519_ENCODING = "base58btc";
var MULTICODEC_ED25519_BASE = "z";
var MULTICODEC_ED25519_HEADER = "K36";
var KEY_PAIR_SEED_LENGTH = 32;

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/util/as-uint8array.js
function asUint8Array(buf) {
  if (globalThis.Buffer != null) {
    return new Uint8Array(buf.buffer, buf.byteOffset, buf.byteLength);
  }
  return buf;
}

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/alloc.js
function allocUnsafe(size = 0) {
  if (globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null) {
    return asUint8Array(globalThis.Buffer.allocUnsafe(size));
  }
  return new Uint8Array(size);
}

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/concat.js
function concat(arrays, length3) {
  if (!length3) {
    length3 = arrays.reduce((acc, curr) => acc + curr.length, 0);
  }
  const output = allocUnsafe(length3);
  let offset = 0;
  for (const arr of arrays) {
    output.set(arr, offset);
    offset += arr.length;
  }
  return asUint8Array(output);
}

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/identity.js
var identity_exports = {};
__export(identity_exports, {
  identity: () => identity
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/vendor/base-x.js
function base(ALPHABET, name3) {
  if (ALPHABET.length >= 255) {
    throw new TypeError("Alphabet too long");
  }
  var BASE_MAP = new Uint8Array(256);
  for (var j4 = 0; j4 < BASE_MAP.length; j4++) {
    BASE_MAP[j4] = 255;
  }
  for (var i3 = 0; i3 < ALPHABET.length; i3++) {
    var x5 = ALPHABET.charAt(i3);
    var xc = x5.charCodeAt(0);
    if (BASE_MAP[xc] !== 255) {
      throw new TypeError(x5 + " is ambiguous");
    }
    BASE_MAP[xc] = i3;
  }
  var BASE = ALPHABET.length;
  var LEADER = ALPHABET.charAt(0);
  var FACTOR = Math.log(BASE) / Math.log(256);
  var iFACTOR = Math.log(256) / Math.log(BASE);
  function encode5(source) {
    if (source instanceof Uint8Array)
      ;
    else if (ArrayBuffer.isView(source)) {
      source = new Uint8Array(source.buffer, source.byteOffset, source.byteLength);
    } else if (Array.isArray(source)) {
      source = Uint8Array.from(source);
    }
    if (!(source instanceof Uint8Array)) {
      throw new TypeError("Expected Uint8Array");
    }
    if (source.length === 0) {
      return "";
    }
    var zeroes = 0;
    var length3 = 0;
    var pbegin = 0;
    var pend = source.length;
    while (pbegin !== pend && source[pbegin] === 0) {
      pbegin++;
      zeroes++;
    }
    var size = (pend - pbegin) * iFACTOR + 1 >>> 0;
    var b58 = new Uint8Array(size);
    while (pbegin !== pend) {
      var carry = source[pbegin];
      var i4 = 0;
      for (var it1 = size - 1; (carry !== 0 || i4 < length3) && it1 !== -1; it1--, i4++) {
        carry += 256 * b58[it1] >>> 0;
        b58[it1] = carry % BASE >>> 0;
        carry = carry / BASE >>> 0;
      }
      if (carry !== 0) {
        throw new Error("Non-zero carry");
      }
      length3 = i4;
      pbegin++;
    }
    var it22 = size - length3;
    while (it22 !== size && b58[it22] === 0) {
      it22++;
    }
    var str = LEADER.repeat(zeroes);
    for (; it22 < size; ++it22) {
      str += ALPHABET.charAt(b58[it22]);
    }
    return str;
  }
  function decodeUnsafe(source) {
    if (typeof source !== "string") {
      throw new TypeError("Expected String");
    }
    if (source.length === 0) {
      return new Uint8Array();
    }
    var psz = 0;
    if (source[psz] === " ") {
      return;
    }
    var zeroes = 0;
    var length3 = 0;
    while (source[psz] === LEADER) {
      zeroes++;
      psz++;
    }
    var size = (source.length - psz) * FACTOR + 1 >>> 0;
    var b256 = new Uint8Array(size);
    while (source[psz]) {
      var carry = BASE_MAP[source.charCodeAt(psz)];
      if (carry === 255) {
        return;
      }
      var i4 = 0;
      for (var it3 = size - 1; (carry !== 0 || i4 < length3) && it3 !== -1; it3--, i4++) {
        carry += BASE * b256[it3] >>> 0;
        b256[it3] = carry % 256 >>> 0;
        carry = carry / 256 >>> 0;
      }
      if (carry !== 0) {
        throw new Error("Non-zero carry");
      }
      length3 = i4;
      psz++;
    }
    if (source[psz] === " ") {
      return;
    }
    var it4 = size - length3;
    while (it4 !== size && b256[it4] === 0) {
      it4++;
    }
    var vch = new Uint8Array(zeroes + (size - it4));
    var j5 = zeroes;
    while (it4 !== size) {
      vch[j5++] = b256[it4++];
    }
    return vch;
  }
  function decode6(string2) {
    var buffer = decodeUnsafe(string2);
    if (buffer) {
      return buffer;
    }
    throw new Error(`Non-${name3} character`);
  }
  return {
    encode: encode5,
    decodeUnsafe,
    decode: decode6
  };
}
var src = base;
var _brrp__multiformats_scope_baseX = src;
var base_x_default = _brrp__multiformats_scope_baseX;

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bytes.js
var empty = new Uint8Array(0);
var equals = (aa, bb) => {
  if (aa === bb)
    return true;
  if (aa.byteLength !== bb.byteLength) {
    return false;
  }
  for (let ii = 0; ii < aa.byteLength; ii++) {
    if (aa[ii] !== bb[ii]) {
      return false;
    }
  }
  return true;
};
var coerce = (o3) => {
  if (o3 instanceof Uint8Array && o3.constructor.name === "Uint8Array")
    return o3;
  if (o3 instanceof ArrayBuffer)
    return new Uint8Array(o3);
  if (ArrayBuffer.isView(o3)) {
    return new Uint8Array(o3.buffer, o3.byteOffset, o3.byteLength);
  }
  throw new Error("Unknown type, must be binary type");
};
var fromString = (str) => new TextEncoder().encode(str);
var toString = (b3) => new TextDecoder().decode(b3);

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base.js
var Encoder = class {
  constructor(name3, prefix, baseEncode) {
    this.name = name3;
    this.prefix = prefix;
    this.baseEncode = baseEncode;
  }
  encode(bytes) {
    if (bytes instanceof Uint8Array) {
      return `${this.prefix}${this.baseEncode(bytes)}`;
    } else {
      throw Error("Unknown type, must be binary type");
    }
  }
};
var Decoder = class {
  constructor(name3, prefix, baseDecode) {
    this.name = name3;
    this.prefix = prefix;
    if (prefix.codePointAt(0) === void 0) {
      throw new Error("Invalid prefix character");
    }
    this.prefixCodePoint = prefix.codePointAt(0);
    this.baseDecode = baseDecode;
  }
  decode(text2) {
    if (typeof text2 === "string") {
      if (text2.codePointAt(0) !== this.prefixCodePoint) {
        throw Error(`Unable to decode multibase string ${JSON.stringify(text2)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);
      }
      return this.baseDecode(text2.slice(this.prefix.length));
    } else {
      throw Error("Can only multibase decode strings");
    }
  }
  or(decoder) {
    return or(this, decoder);
  }
};
var ComposedDecoder = class {
  constructor(decoders) {
    this.decoders = decoders;
  }
  or(decoder) {
    return or(this, decoder);
  }
  decode(input) {
    const prefix = input[0];
    const decoder = this.decoders[prefix];
    if (decoder) {
      return decoder.decode(input);
    } else {
      throw RangeError(`Unable to decode multibase string ${JSON.stringify(input)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);
    }
  }
};
var or = (left, right) => new ComposedDecoder({
  ...left.decoders || { [left.prefix]: left },
  ...right.decoders || { [right.prefix]: right }
});
var Codec = class {
  constructor(name3, prefix, baseEncode, baseDecode) {
    this.name = name3;
    this.prefix = prefix;
    this.baseEncode = baseEncode;
    this.baseDecode = baseDecode;
    this.encoder = new Encoder(name3, prefix, baseEncode);
    this.decoder = new Decoder(name3, prefix, baseDecode);
  }
  encode(input) {
    return this.encoder.encode(input);
  }
  decode(input) {
    return this.decoder.decode(input);
  }
};
var from = ({ name: name3, prefix, encode: encode5, decode: decode6 }) => new Codec(name3, prefix, encode5, decode6);
var baseX = ({ prefix, name: name3, alphabet: alphabet2 }) => {
  const { encode: encode5, decode: decode6 } = base_x_default(alphabet2, name3);
  return from({
    prefix,
    name: name3,
    encode: encode5,
    decode: (text2) => coerce(decode6(text2))
  });
};
var decode = (string2, alphabet2, bitsPerChar, name3) => {
  const codes = {};
  for (let i3 = 0; i3 < alphabet2.length; ++i3) {
    codes[alphabet2[i3]] = i3;
  }
  let end = string2.length;
  while (string2[end - 1] === "=") {
    --end;
  }
  const out = new Uint8Array(end * bitsPerChar / 8 | 0);
  let bits = 0;
  let buffer = 0;
  let written = 0;
  for (let i3 = 0; i3 < end; ++i3) {
    const value2 = codes[string2[i3]];
    if (value2 === void 0) {
      throw new SyntaxError(`Non-${name3} character`);
    }
    buffer = buffer << bitsPerChar | value2;
    bits += bitsPerChar;
    if (bits >= 8) {
      bits -= 8;
      out[written++] = 255 & buffer >> bits;
    }
  }
  if (bits >= bitsPerChar || 255 & buffer << 8 - bits) {
    throw new SyntaxError("Unexpected end of data");
  }
  return out;
};
var encode = (data2, alphabet2, bitsPerChar) => {
  const pad = alphabet2[alphabet2.length - 1] === "=";
  const mask2 = (1 << bitsPerChar) - 1;
  let out = "";
  let bits = 0;
  let buffer = 0;
  for (let i3 = 0; i3 < data2.length; ++i3) {
    buffer = buffer << 8 | data2[i3];
    bits += 8;
    while (bits > bitsPerChar) {
      bits -= bitsPerChar;
      out += alphabet2[mask2 & buffer >> bits];
    }
  }
  if (bits) {
    out += alphabet2[mask2 & buffer << bitsPerChar - bits];
  }
  if (pad) {
    while (out.length * bitsPerChar & 7) {
      out += "=";
    }
  }
  return out;
};
var rfc4648 = ({ name: name3, prefix, bitsPerChar, alphabet: alphabet2 }) => {
  return from({
    prefix,
    name: name3,
    encode(input) {
      return encode(input, alphabet2, bitsPerChar);
    },
    decode(input) {
      return decode(input, alphabet2, bitsPerChar, name3);
    }
  });
};

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/identity.js
var identity = from({
  prefix: "\0",
  name: "identity",
  encode: (buf) => toString(buf),
  decode: (str) => fromString(str)
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base2.js
var base2_exports = {};
__export(base2_exports, {
  base2: () => base2
});
var base2 = rfc4648({
  prefix: "0",
  name: "base2",
  alphabet: "01",
  bitsPerChar: 1
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base8.js
var base8_exports = {};
__export(base8_exports, {
  base8: () => base8
});
var base8 = rfc4648({
  prefix: "7",
  name: "base8",
  alphabet: "01234567",
  bitsPerChar: 3
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base10.js
var base10_exports = {};
__export(base10_exports, {
  base10: () => base10
});
var base10 = baseX({
  prefix: "9",
  name: "base10",
  alphabet: "0123456789"
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base16.js
var base16_exports = {};
__export(base16_exports, {
  base16: () => base16,
  base16upper: () => base16upper
});
var base16 = rfc4648({
  prefix: "f",
  name: "base16",
  alphabet: "0123456789abcdef",
  bitsPerChar: 4
});
var base16upper = rfc4648({
  prefix: "F",
  name: "base16upper",
  alphabet: "0123456789ABCDEF",
  bitsPerChar: 4
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base32.js
var base32_exports = {};
__export(base32_exports, {
  base32: () => base32,
  base32hex: () => base32hex,
  base32hexpad: () => base32hexpad,
  base32hexpadupper: () => base32hexpadupper,
  base32hexupper: () => base32hexupper,
  base32pad: () => base32pad,
  base32padupper: () => base32padupper,
  base32upper: () => base32upper,
  base32z: () => base32z
});
var base32 = rfc4648({
  prefix: "b",
  name: "base32",
  alphabet: "abcdefghijklmnopqrstuvwxyz234567",
  bitsPerChar: 5
});
var base32upper = rfc4648({
  prefix: "B",
  name: "base32upper",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",
  bitsPerChar: 5
});
var base32pad = rfc4648({
  prefix: "c",
  name: "base32pad",
  alphabet: "abcdefghijklmnopqrstuvwxyz234567=",
  bitsPerChar: 5
});
var base32padupper = rfc4648({
  prefix: "C",
  name: "base32padupper",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",
  bitsPerChar: 5
});
var base32hex = rfc4648({
  prefix: "v",
  name: "base32hex",
  alphabet: "0123456789abcdefghijklmnopqrstuv",
  bitsPerChar: 5
});
var base32hexupper = rfc4648({
  prefix: "V",
  name: "base32hexupper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV",
  bitsPerChar: 5
});
var base32hexpad = rfc4648({
  prefix: "t",
  name: "base32hexpad",
  alphabet: "0123456789abcdefghijklmnopqrstuv=",
  bitsPerChar: 5
});
var base32hexpadupper = rfc4648({
  prefix: "T",
  name: "base32hexpadupper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=",
  bitsPerChar: 5
});
var base32z = rfc4648({
  prefix: "h",
  name: "base32z",
  alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769",
  bitsPerChar: 5
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base36.js
var base36_exports = {};
__export(base36_exports, {
  base36: () => base36,
  base36upper: () => base36upper
});
var base36 = baseX({
  prefix: "k",
  name: "base36",
  alphabet: "0123456789abcdefghijklmnopqrstuvwxyz"
});
var base36upper = baseX({
  prefix: "K",
  name: "base36upper",
  alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base58.js
var base58_exports = {};
__export(base58_exports, {
  base58btc: () => base58btc,
  base58flickr: () => base58flickr
});
var base58btc = baseX({
  name: "base58btc",
  prefix: "z",
  alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"
});
var base58flickr = baseX({
  name: "base58flickr",
  prefix: "Z",
  alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base64.js
var base64_exports = {};
__export(base64_exports, {
  base64: () => base64,
  base64pad: () => base64pad,
  base64url: () => base64url,
  base64urlpad: () => base64urlpad
});
var base64 = rfc4648({
  prefix: "m",
  name: "base64",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",
  bitsPerChar: 6
});
var base64pad = rfc4648({
  prefix: "M",
  name: "base64pad",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",
  bitsPerChar: 6
});
var base64url = rfc4648({
  prefix: "u",
  name: "base64url",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",
  bitsPerChar: 6
});
var base64urlpad = rfc4648({
  prefix: "U",
  name: "base64urlpad",
  alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",
  bitsPerChar: 6
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/bases/base256emoji.js
var base256emoji_exports = {};
__export(base256emoji_exports, {
  base256emoji: () => base256emoji
});
var alphabet = Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}");
var alphabetBytesToChars = alphabet.reduce((p6, c3, i3) => {
  p6[i3] = c3;
  return p6;
}, []);
var alphabetCharsToBytes = alphabet.reduce((p6, c3, i3) => {
  p6[c3.codePointAt(0)] = i3;
  return p6;
}, []);
function encode2(data2) {
  return data2.reduce((p6, c3) => {
    p6 += alphabetBytesToChars[c3];
    return p6;
  }, "");
}
function decode2(str) {
  const byts = [];
  for (const char of str) {
    const byt = alphabetCharsToBytes[char.codePointAt(0)];
    if (byt === void 0) {
      throw new Error(`Non-base256emoji character: ${char}`);
    }
    byts.push(byt);
  }
  return new Uint8Array(byts);
}
var base256emoji = from({
  prefix: "\u{1F680}",
  name: "base256emoji",
  encode: encode2,
  decode: decode2
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/hashes/sha2-browser.js
var sha2_browser_exports = {};
__export(sha2_browser_exports, {
  sha256: () => sha2562,
  sha512: () => sha5122
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/vendor/varint.js
var encode_1 = encode3;
var MSB = 128;
var REST = 127;
var MSBALL = ~REST;
var INT = Math.pow(2, 31);
function encode3(num, out, offset) {
  out = out || [];
  offset = offset || 0;
  var oldOffset = offset;
  while (num >= INT) {
    out[offset++] = num & 255 | MSB;
    num /= 128;
  }
  while (num & MSBALL) {
    out[offset++] = num & 255 | MSB;
    num >>>= 7;
  }
  out[offset] = num | 0;
  encode3.bytes = offset - oldOffset + 1;
  return out;
}
var decode3 = read;
var MSB$1 = 128;
var REST$1 = 127;
function read(buf, offset) {
  var res = 0, offset = offset || 0, shift = 0, counter = offset, b3, l4 = buf.length;
  do {
    if (counter >= l4) {
      read.bytes = 0;
      throw new RangeError("Could not decode varint");
    }
    b3 = buf[counter++];
    res += shift < 28 ? (b3 & REST$1) << shift : (b3 & REST$1) * Math.pow(2, shift);
    shift += 7;
  } while (b3 >= MSB$1);
  read.bytes = counter - offset;
  return res;
}
var N1 = Math.pow(2, 7);
var N2 = Math.pow(2, 14);
var N3 = Math.pow(2, 21);
var N4 = Math.pow(2, 28);
var N5 = Math.pow(2, 35);
var N6 = Math.pow(2, 42);
var N7 = Math.pow(2, 49);
var N8 = Math.pow(2, 56);
var N9 = Math.pow(2, 63);
var length2 = function(value2) {
  return value2 < N1 ? 1 : value2 < N2 ? 2 : value2 < N3 ? 3 : value2 < N4 ? 4 : value2 < N5 ? 5 : value2 < N6 ? 6 : value2 < N7 ? 7 : value2 < N8 ? 8 : value2 < N9 ? 9 : 10;
};
var varint = {
  encode: encode_1,
  decode: decode3,
  encodingLength: length2
};
var _brrp_varint = varint;
var varint_default = _brrp_varint;

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/varint.js
var decode4 = (data2, offset = 0) => {
  const code2 = varint_default.decode(data2, offset);
  return [
    code2,
    varint_default.decode.bytes
  ];
};
var encodeTo = (int, target, offset = 0) => {
  varint_default.encode(int, target, offset);
  return target;
};
var encodingLength = (int) => {
  return varint_default.encodingLength(int);
};

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/hashes/digest.js
var create = (code2, digest2) => {
  const size = digest2.byteLength;
  const sizeOffset = encodingLength(code2);
  const digestOffset = sizeOffset + encodingLength(size);
  const bytes = new Uint8Array(digestOffset + size);
  encodeTo(code2, bytes, 0);
  encodeTo(size, bytes, sizeOffset);
  bytes.set(digest2, digestOffset);
  return new Digest(code2, size, digest2, bytes);
};
var decode5 = (multihash) => {
  const bytes = coerce(multihash);
  const [code2, sizeOffset] = decode4(bytes);
  const [size, digestOffset] = decode4(bytes.subarray(sizeOffset));
  const digest2 = bytes.subarray(sizeOffset + digestOffset);
  if (digest2.byteLength !== size) {
    throw new Error("Incorrect length");
  }
  return new Digest(code2, size, digest2, bytes);
};
var equals2 = (a4, b3) => {
  if (a4 === b3) {
    return true;
  } else {
    return a4.code === b3.code && a4.size === b3.size && equals(a4.bytes, b3.bytes);
  }
};
var Digest = class {
  constructor(code2, size, digest2, bytes) {
    this.code = code2;
    this.size = size;
    this.digest = digest2;
    this.bytes = bytes;
  }
};

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/hashes/hasher.js
var from2 = ({ name: name3, code: code2, encode: encode5 }) => new Hasher(name3, code2, encode5);
var Hasher = class {
  constructor(name3, code2, encode5) {
    this.name = name3;
    this.code = code2;
    this.encode = encode5;
  }
  digest(input) {
    if (input instanceof Uint8Array) {
      const result = this.encode(input);
      return result instanceof Uint8Array ? create(this.code, result) : result.then((digest2) => create(this.code, digest2));
    } else {
      throw Error("Unknown type, must be binary type");
    }
  }
};

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/hashes/sha2-browser.js
var sha = (name3) => async (data2) => new Uint8Array(await crypto.subtle.digest(name3, data2));
var sha2562 = from2({
  name: "sha2-256",
  code: 18,
  encode: sha("SHA-256")
});
var sha5122 = from2({
  name: "sha2-512",
  code: 19,
  encode: sha("SHA-512")
});

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/hashes/identity.js
var identity_exports2 = {};
__export(identity_exports2, {
  identity: () => identity2
});
var code = 0;
var name2 = "identity";
var encode4 = coerce;
var digest = (input) => create(code, encode4(input));
var identity2 = {
  code,
  name: name2,
  encode: encode4,
  digest
};

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/codecs/json.js
var textEncoder = new TextEncoder();
var textDecoder = new TextDecoder();

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/cid.js
var CID = class {
  constructor(version2, code2, multihash, bytes) {
    this.code = code2;
    this.version = version2;
    this.multihash = multihash;
    this.bytes = bytes;
    this.byteOffset = bytes.byteOffset;
    this.byteLength = bytes.byteLength;
    this.asCID = this;
    this._baseCache = /* @__PURE__ */ new Map();
    Object.defineProperties(this, {
      byteOffset: hidden,
      byteLength: hidden,
      code: readonly,
      version: readonly,
      multihash: readonly,
      bytes: readonly,
      _baseCache: hidden,
      asCID: hidden
    });
  }
  toV0() {
    switch (this.version) {
      case 0: {
        return this;
      }
      default: {
        const { code: code2, multihash } = this;
        if (code2 !== DAG_PB_CODE) {
          throw new Error("Cannot convert a non dag-pb CID to CIDv0");
        }
        if (multihash.code !== SHA_256_CODE) {
          throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");
        }
        return CID.createV0(multihash);
      }
    }
  }
  toV1() {
    switch (this.version) {
      case 0: {
        const { code: code2, digest: digest2 } = this.multihash;
        const multihash = create(code2, digest2);
        return CID.createV1(this.code, multihash);
      }
      case 1: {
        return this;
      }
      default: {
        throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`);
      }
    }
  }
  equals(other) {
    return other && this.code === other.code && this.version === other.version && equals2(this.multihash, other.multihash);
  }
  toString(base3) {
    const { bytes, version: version2, _baseCache } = this;
    switch (version2) {
      case 0:
        return toStringV0(bytes, _baseCache, base3 || base58btc.encoder);
      default:
        return toStringV1(bytes, _baseCache, base3 || base32.encoder);
    }
  }
  toJSON() {
    return {
      code: this.code,
      version: this.version,
      hash: this.multihash.bytes
    };
  }
  get [Symbol.toStringTag]() {
    return "CID";
  }
  [Symbol.for("nodejs.util.inspect.custom")]() {
    return "CID(" + this.toString() + ")";
  }
  static isCID(value2) {
    deprecate(/^0\.0/, IS_CID_DEPRECATION);
    return !!(value2 && (value2[cidSymbol] || value2.asCID === value2));
  }
  get toBaseEncodedString() {
    throw new Error("Deprecated, use .toString()");
  }
  get codec() {
    throw new Error('"codec" property is deprecated, use integer "code" property instead');
  }
  get buffer() {
    throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead");
  }
  get multibaseName() {
    throw new Error('"multibaseName" property is deprecated');
  }
  get prefix() {
    throw new Error('"prefix" property is deprecated');
  }
  static asCID(value2) {
    if (value2 instanceof CID) {
      return value2;
    } else if (value2 != null && value2.asCID === value2) {
      const { version: version2, code: code2, multihash, bytes } = value2;
      return new CID(version2, code2, multihash, bytes || encodeCID(version2, code2, multihash.bytes));
    } else if (value2 != null && value2[cidSymbol] === true) {
      const { version: version2, multihash, code: code2 } = value2;
      const digest2 = decode5(multihash);
      return CID.create(version2, code2, digest2);
    } else {
      return null;
    }
  }
  static create(version2, code2, digest2) {
    if (typeof code2 !== "number") {
      throw new Error("String codecs are no longer supported");
    }
    switch (version2) {
      case 0: {
        if (code2 !== DAG_PB_CODE) {
          throw new Error(`Version 0 CID must use dag-pb (code: ${DAG_PB_CODE}) block encoding`);
        } else {
          return new CID(version2, code2, digest2, digest2.bytes);
        }
      }
      case 1: {
        const bytes = encodeCID(version2, code2, digest2.bytes);
        return new CID(version2, code2, digest2, bytes);
      }
      default: {
        throw new Error("Invalid version");
      }
    }
  }
  static createV0(digest2) {
    return CID.create(0, DAG_PB_CODE, digest2);
  }
  static createV1(code2, digest2) {
    return CID.create(1, code2, digest2);
  }
  static decode(bytes) {
    const [cid, remainder] = CID.decodeFirst(bytes);
    if (remainder.length) {
      throw new Error("Incorrect length");
    }
    return cid;
  }
  static decodeFirst(bytes) {
    const specs = CID.inspectBytes(bytes);
    const prefixSize = specs.size - specs.multihashSize;
    const multihashBytes = coerce(bytes.subarray(prefixSize, prefixSize + specs.multihashSize));
    if (multihashBytes.byteLength !== specs.multihashSize) {
      throw new Error("Incorrect length");
    }
    const digestBytes = multihashBytes.subarray(specs.multihashSize - specs.digestSize);
    const digest2 = new Digest(specs.multihashCode, specs.digestSize, digestBytes, multihashBytes);
    const cid = specs.version === 0 ? CID.createV0(digest2) : CID.createV1(specs.codec, digest2);
    return [
      cid,
      bytes.subarray(specs.size)
    ];
  }
  static inspectBytes(initialBytes) {
    let offset = 0;
    const next = () => {
      const [i3, length3] = decode4(initialBytes.subarray(offset));
      offset += length3;
      return i3;
    };
    let version2 = next();
    let codec = DAG_PB_CODE;
    if (version2 === 18) {
      version2 = 0;
      offset = 0;
    } else if (version2 === 1) {
      codec = next();
    }
    if (version2 !== 0 && version2 !== 1) {
      throw new RangeError(`Invalid CID version ${version2}`);
    }
    const prefixSize = offset;
    const multihashCode = next();
    const digestSize = next();
    const size = offset + digestSize;
    const multihashSize = size - prefixSize;
    return {
      version: version2,
      codec,
      multihashCode,
      digestSize,
      multihashSize,
      size
    };
  }
  static parse(source, base3) {
    const [prefix, bytes] = parseCIDtoBytes(source, base3);
    const cid = CID.decode(bytes);
    cid._baseCache.set(prefix, source);
    return cid;
  }
};
var parseCIDtoBytes = (source, base3) => {
  switch (source[0]) {
    case "Q": {
      const decoder = base3 || base58btc;
      return [
        base58btc.prefix,
        decoder.decode(`${base58btc.prefix}${source}`)
      ];
    }
    case base58btc.prefix: {
      const decoder = base3 || base58btc;
      return [
        base58btc.prefix,
        decoder.decode(source)
      ];
    }
    case base32.prefix: {
      const decoder = base3 || base32;
      return [
        base32.prefix,
        decoder.decode(source)
      ];
    }
    default: {
      if (base3 == null) {
        throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");
      }
      return [
        source[0],
        base3.decode(source)
      ];
    }
  }
};
var toStringV0 = (bytes, cache, base3) => {
  const { prefix } = base3;
  if (prefix !== base58btc.prefix) {
    throw Error(`Cannot string encode V0 in ${base3.name} encoding`);
  }
  const cid = cache.get(prefix);
  if (cid == null) {
    const cid2 = base3.encode(bytes).slice(1);
    cache.set(prefix, cid2);
    return cid2;
  } else {
    return cid;
  }
};
var toStringV1 = (bytes, cache, base3) => {
  const { prefix } = base3;
  const cid = cache.get(prefix);
  if (cid == null) {
    const cid2 = base3.encode(bytes);
    cache.set(prefix, cid2);
    return cid2;
  } else {
    return cid;
  }
};
var DAG_PB_CODE = 112;
var SHA_256_CODE = 18;
var encodeCID = (version2, code2, multihash) => {
  const codeOffset = encodingLength(version2);
  const hashOffset = codeOffset + encodingLength(code2);
  const bytes = new Uint8Array(hashOffset + multihash.byteLength);
  encodeTo(version2, bytes, 0);
  encodeTo(code2, bytes, codeOffset);
  bytes.set(multihash, hashOffset);
  return bytes;
};
var cidSymbol = Symbol.for("@ipld/js-cid/CID");
var readonly = {
  writable: false,
  configurable: false,
  enumerable: true
};
var hidden = {
  writable: false,
  enumerable: false,
  configurable: false
};
var version = "0.0.0-dev";
var deprecate = (range, message) => {
  if (range.test(version)) {
    console.warn(message);
  } else {
    throw new Error(message);
  }
};
var IS_CID_DEPRECATION = `CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;

// node_modules/.pnpm/multiformats@9.9.0/node_modules/multiformats/esm/src/basics.js
var bases = {
  ...identity_exports,
  ...base2_exports,
  ...base8_exports,
  ...base10_exports,
  ...base16_exports,
  ...base32_exports,
  ...base36_exports,
  ...base58_exports,
  ...base64_exports,
  ...base256emoji_exports
};
var hashes = {
  ...sha2_browser_exports,
  ...identity_exports2
};

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/util/bases.js
function createCodec(name3, prefix, encode5, decode6) {
  return {
    name: name3,
    prefix,
    encoder: {
      name: name3,
      prefix,
      encode: encode5
    },
    decoder: { decode: decode6 }
  };
}
var string = createCodec("utf8", "u", (buf) => {
  const decoder = new TextDecoder("utf8");
  return "u" + decoder.decode(buf);
}, (str) => {
  const encoder = new TextEncoder();
  return encoder.encode(str.substring(1));
});
var ascii = createCodec("ascii", "a", (buf) => {
  let string2 = "a";
  for (let i3 = 0; i3 < buf.length; i3++) {
    string2 += String.fromCharCode(buf[i3]);
  }
  return string2;
}, (str) => {
  str = str.substring(1);
  const buf = allocUnsafe(str.length);
  for (let i3 = 0; i3 < str.length; i3++) {
    buf[i3] = str.charCodeAt(i3);
  }
  return buf;
});
var BASES = {
  utf8: string,
  "utf-8": string,
  hex: bases.base16,
  latin1: ascii,
  ascii,
  binary: ascii,
  ...bases
};
var bases_default = BASES;

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/to-string.js
function toString2(array, encoding = "utf8") {
  const base3 = bases_default[encoding];
  if (!base3) {
    throw new Error(`Unsupported encoding "${encoding}"`);
  }
  if ((encoding === "utf8" || encoding === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    return globalThis.Buffer.from(array.buffer, array.byteOffset, array.byteLength).toString("utf8");
  }
  return base3.encoder.encode(array).substring(1);
}

// node_modules/.pnpm/uint8arrays@3.1.1/node_modules/uint8arrays/esm/src/from-string.js
function fromString2(string2, encoding = "utf8") {
  const base3 = bases_default[encoding];
  if (!base3) {
    throw new Error(`Unsupported encoding "${encoding}"`);
  }
  if ((encoding === "utf8" || encoding === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null) {
    return asUint8Array(globalThis.Buffer.from(string2, "utf-8"));
  }
  return base3.decoder.decode(`${base3.prefix}${string2}`);
}

// node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/utils.js
function encodeJSON(val2) {
  return toString2(fromString2(safeJsonStringify3(val2), JSON_ENCODING), JWT_ENCODING);
}
function encodeIss(publicKey) {
  const header = fromString2(MULTICODEC_ED25519_HEADER, MULTICODEC_ED25519_ENCODING);
  const multicodec = MULTICODEC_ED25519_BASE + toString2(concat([header, publicKey]), MULTICODEC_ED25519_ENCODING);
  return [DID_PREFIX, DID_METHOD, multicodec].join(DID_DELIMITER);
}
function encodeSig(bytes) {
  return toString2(bytes, JWT_ENCODING);
}
function encodeData(params) {
  return fromString2([encodeJSON(params.header), encodeJSON(params.payload)].join(JWT_DELIMITER), DATA_ENCODING);
}
function encodeJWT(params) {
  return [
    encodeJSON(params.header),
    encodeJSON(params.payload),
    encodeSig(params.signature)
  ].join(JWT_DELIMITER);
}

// node_modules/.pnpm/@walletconnect+relay-auth@1.0.4/node_modules/@walletconnect/relay-auth/dist/esm/api.js
function generateKeyPair(seed = (0, import_random.randomBytes)(KEY_PAIR_SEED_LENGTH)) {
  return ed25519.generateKeyPairFromSeed(seed);
}
async function signJWT(sub2, aud, ttl, keyPair, iat = (0, import_time.fromMiliseconds)(Date.now())) {
  const header = { alg: JWT_IRIDIUM_ALG, typ: JWT_IRIDIUM_TYP };
  const iss = encodeIss(keyPair.publicKey);
  const exp = iat + ttl;
  const payload = { iss, sub: sub2, aud, iat, exp };
  const data2 = encodeData({ header, payload });
  const signature = ed25519.sign(keyPair.secretKey, data2);
  return encodeJWT({ header, payload, signature });
}

// node_modules/.pnpm/@walletconnect+utils@2.10.0/node_modules/@walletconnect/utils/dist/index.es.js
var import_chacha20poly1305 = __toESM(require_chacha20poly1305());
var import_hkdf = __toESM(require_hkdf());
var import_random2 = __toESM(require_random());
var import_sha256 = __toESM(require_sha256());
var fe = __toESM(require_x25519());

// node_modules/.pnpm/detect-browser@5.3.0/node_modules/detect-browser/es/index.js
var __spreadArray = function(to, from3, pack) {
  if (pack || arguments.length === 2)
    for (var i3 = 0, l4 = from3.length, ar2; i3 < l4; i3++) {
      if (ar2 || !(i3 in from3)) {
        if (!ar2)
          ar2 = Array.prototype.slice.call(from3, 0, i3);
        ar2[i3] = from3[i3];
      }
    }
  return to.concat(ar2 || Array.prototype.slice.call(from3));
};
var BrowserInfo2 = (
  /** @class */
  function() {
    function BrowserInfo3(name3, version2, os3) {
      this.name = name3;
      this.version = version2;
      this.os = os3;
      this.type = "browser";
    }
    return BrowserInfo3;
  }()
);
var NodeInfo2 = (
  /** @class */
  function() {
    function NodeInfo3(version2) {
      this.version = version2;
      this.type = "node";
      this.name = "node";
      this.os = process.platform;
    }
    return NodeInfo3;
  }()
);
var SearchBotDeviceInfo2 = (
  /** @class */
  function() {
    function SearchBotDeviceInfo3(name3, version2, os3, bot) {
      this.name = name3;
      this.version = version2;
      this.os = os3;
      this.bot = bot;
      this.type = "bot-device";
    }
    return SearchBotDeviceInfo3;
  }()
);
var BotInfo2 = (
  /** @class */
  function() {
    function BotInfo3() {
      this.type = "bot";
      this.bot = true;
      this.name = "bot";
      this.version = null;
      this.os = null;
    }
    return BotInfo3;
  }()
);
var ReactNativeInfo2 = (
  /** @class */
  function() {
    function ReactNativeInfo3() {
      this.type = "react-native";
      this.name = "react-native";
      this.version = null;
      this.os = null;
    }
    return ReactNativeInfo3;
  }()
);
var SEARCHBOX_UA_REGEX2 = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/;
var SEARCHBOT_OS_REGEX2 = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/;
var REQUIRED_VERSION_PARTS2 = 3;
var userAgentRules2 = [
  ["aol", /AOLShield\/([0-9\._]+)/],
  ["edge", /Edge\/([0-9\._]+)/],
  ["edge-ios", /EdgiOS\/([0-9\._]+)/],
  ["yandexbrowser", /YaBrowser\/([0-9\._]+)/],
  ["kakaotalk", /KAKAOTALK\s([0-9\.]+)/],
  ["samsung", /SamsungBrowser\/([0-9\.]+)/],
  ["silk", /\bSilk\/([0-9._-]+)\b/],
  ["miui", /MiuiBrowser\/([0-9\.]+)$/],
  ["beaker", /BeakerBrowser\/([0-9\.]+)/],
  ["edge-chromium", /EdgA?\/([0-9\.]+)/],
  [
    "chromium-webview",
    /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/
  ],
  ["chrome", /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
  ["phantomjs", /PhantomJS\/([0-9\.]+)(:?\s|$)/],
  ["crios", /CriOS\/([0-9\.]+)(:?\s|$)/],
  ["firefox", /Firefox\/([0-9\.]+)(?:\s|$)/],
  ["fxios", /FxiOS\/([0-9\.]+)/],
  ["opera-mini", /Opera Mini.*Version\/([0-9\.]+)/],
  ["opera", /Opera\/([0-9\.]+)(?:\s|$)/],
  ["opera", /OPR\/([0-9\.]+)(:?\s|$)/],
  ["pie", /^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],
  ["pie", /^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],
  ["netfront", /^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],
  ["ie", /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
  ["ie", /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
  ["ie", /MSIE\s(7\.0)/],
  ["bb10", /BB10;\sTouch.*Version\/([0-9\.]+)/],
  ["android", /Android\s([0-9\.]+)/],
  ["ios", /Version\/([0-9\._]+).*Mobile.*Safari.*/],
  ["safari", /Version\/([0-9\._]+).*Safari/],
  ["facebook", /FB[AS]V\/([0-9\.]+)/],
  ["instagram", /Instagram\s([0-9\.]+)/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Mobile/],
  ["ios-webview", /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
  ["curl", /^curl\/([0-9\.]+)$/],
  ["searchbot", SEARCHBOX_UA_REGEX2]
];
var operatingSystemRules2 = [
  ["iOS", /iP(hone|od|ad)/],
  ["Android OS", /Android/],
  ["BlackBerry OS", /BlackBerry|BB10/],
  ["Windows Mobile", /IEMobile/],
  ["Amazon OS", /Kindle/],
  ["Windows 3.11", /Win16/],
  ["Windows 95", /(Windows 95)|(Win95)|(Windows_95)/],
  ["Windows 98", /(Windows 98)|(Win98)/],
  ["Windows 2000", /(Windows NT 5.0)|(Windows 2000)/],
  ["Windows XP", /(Windows NT 5.1)|(Windows XP)/],
  ["Windows Server 2003", /(Windows NT 5.2)/],
  ["Windows Vista", /(Windows NT 6.0)/],
  ["Windows 7", /(Windows NT 6.1)/],
  ["Windows 8", /(Windows NT 6.2)/],
  ["Windows 8.1", /(Windows NT 6.3)/],
  ["Windows 10", /(Windows NT 10.0)/],
  ["Windows ME", /Windows ME/],
  ["Windows CE", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],
  ["Open BSD", /OpenBSD/],
  ["Sun OS", /SunOS/],
  ["Chrome OS", /CrOS/],
  ["Linux", /(Linux)|(X11)/],
  ["Mac OS", /(Mac_PowerPC)|(Macintosh)/],
  ["QNX", /QNX/],
  ["BeOS", /BeOS/],
  ["OS/2", /OS\/2/]
];
function detect2(userAgent) {
  if (!!userAgent) {
    return parseUserAgent2(userAgent);
  }
  if (typeof document === "undefined" && typeof navigator !== "undefined" && navigator.product === "ReactNative") {
    return new ReactNativeInfo2();
  }
  if (typeof navigator !== "undefined") {
    return parseUserAgent2(navigator.userAgent);
  }
  return getNodeVersion2();
}
function matchUserAgent2(ua) {
  return ua !== "" && userAgentRules2.reduce(function(matched, _a) {
    var browser = _a[0], regex = _a[1];
    if (matched) {
      return matched;
    }
    var uaMatch = regex.exec(ua);
    return !!uaMatch && [browser, uaMatch];
  }, false);
}
function parseUserAgent2(ua) {
  var matchedRule = matchUserAgent2(ua);
  if (!matchedRule) {
    return null;
  }
  var name3 = matchedRule[0], match = matchedRule[1];
  if (name3 === "searchbot") {
    return new BotInfo2();
  }
  var versionParts = match[1] && match[1].split(".").join("_").split("_").slice(0, 3);
  if (versionParts) {
    if (versionParts.length < REQUIRED_VERSION_PARTS2) {
      versionParts = __spreadArray(__spreadArray([], versionParts, true), createVersionParts2(REQUIRED_VERSION_PARTS2 - versionParts.length), true);
    }
  } else {
    versionParts = [];
  }
  var version2 = versionParts.join(".");
  var os3 = detectOS3(ua);
  var searchBotMatch = SEARCHBOT_OS_REGEX2.exec(ua);
  if (searchBotMatch && searchBotMatch[1]) {
    return new SearchBotDeviceInfo2(name3, version2, os3, searchBotMatch[1]);
  }
  return new BrowserInfo2(name3, version2, os3);
}
function detectOS3(ua) {
  for (var ii = 0, count = operatingSystemRules2.length; ii < count; ii++) {
    var _a = operatingSystemRules2[ii], os3 = _a[0], regex = _a[1];
    var match = regex.exec(ua);
    if (match) {
      return os3;
    }
  }
  return null;
}
function getNodeVersion2() {
  var isNode3 = typeof process !== "undefined" && process.version;
  return isNode3 ? new NodeInfo2(process.version.slice(1)) : null;
}
function createVersionParts2(count) {
  var output = [];
  for (var ii = 0; ii < count; ii++) {
    output.push("0");
  }
  return output;
}

// node_modules/.pnpm/@walletconnect+utils@2.10.0/node_modules/@walletconnect/utils/dist/index.es.js
var import_time2 = __toESM(require_cjs4());
var import_window_getters = __toESM(require_cjs7());
var import_window_metadata = __toESM(require_cjs8());
var k2 = __toESM(require_query_string2());

// node_modules/.pnpm/@walletconnect+relay-api@1.0.9/node_modules/@walletconnect/relay-api/dist/esm/jsonrpc.js
var RELAY_JSONRPC = {
  waku: {
    publish: "waku_publish",
    batchPublish: "waku_batchPublish",
    subscribe: "waku_subscribe",
    batchSubscribe: "waku_batchSubscribe",
    subscription: "waku_subscription",
    unsubscribe: "waku_unsubscribe",
    batchUnsubscribe: "waku_batchUnsubscribe"
  },
  irn: {
    publish: "irn_publish",
    batchPublish: "irn_batchPublish",
    subscribe: "irn_subscribe",
    batchSubscribe: "irn_batchSubscribe",
    subscription: "irn_subscription",
    unsubscribe: "irn_unsubscribe",
    batchUnsubscribe: "irn_batchUnsubscribe"
  },
  iridium: {
    publish: "iridium_publish",
    batchPublish: "iridium_batchPublish",
    subscribe: "iridium_subscribe",
    batchSubscribe: "iridium_batchSubscribe",
    subscription: "iridium_subscription",
    unsubscribe: "iridium_unsubscribe",
    batchUnsubscribe: "iridium_batchUnsubscribe"
  }
};

// node_modules/.pnpm/@walletconnect+utils@2.10.0/node_modules/@walletconnect/utils/dist/index.es.js
function M(e2, n4) {
  return e2.includes(":") ? [e2] : n4.chains || [];
}
var J = "base10";
var p4 = "base16";
var L = "base64pad";
var x2 = "utf8";
var Q = 0;
var _2 = 1;
var $n = 0;
var Ie = 1;
var Z = 12;
var X = 32;
function jn() {
  const e2 = fe.generateKeyPair();
  return { privateKey: toString2(e2.secretKey, p4), publicKey: toString2(e2.publicKey, p4) };
}
function Dn() {
  const e2 = (0, import_random2.randomBytes)(X);
  return toString2(e2, p4);
}
function kn(e2, n4) {
  const t2 = fe.sharedKey(fromString2(e2, p4), fromString2(n4, p4)), r3 = new import_hkdf.HKDF(import_sha256.SHA256, t2).expand(X);
  return toString2(r3, p4);
}
function Vn(e2) {
  const n4 = (0, import_sha256.hash)(fromString2(e2, p4));
  return toString2(n4, p4);
}
function Mn(e2) {
  const n4 = (0, import_sha256.hash)(fromString2(e2, x2));
  return toString2(n4, p4);
}
function Pe(e2) {
  return fromString2(`${e2}`, J);
}
function $(e2) {
  return Number(toString2(e2, J));
}
function Kn(e2) {
  const n4 = Pe(typeof e2.type < "u" ? e2.type : Q);
  if ($(n4) === _2 && typeof e2.senderPublicKey > "u")
    throw new Error("Missing sender public key for type 1 envelope");
  const t2 = typeof e2.senderPublicKey < "u" ? fromString2(e2.senderPublicKey, p4) : void 0, r3 = typeof e2.iv < "u" ? fromString2(e2.iv, p4) : (0, import_random2.randomBytes)(Z), o3 = new import_chacha20poly1305.ChaCha20Poly1305(fromString2(e2.symKey, p4)).seal(r3, fromString2(e2.message, x2));
  return Te({ type: n4, sealed: o3, iv: r3, senderPublicKey: t2 });
}
function Ln(e2) {
  const n4 = new import_chacha20poly1305.ChaCha20Poly1305(fromString2(e2.symKey, p4)), { sealed: t2, iv: r3 } = ee(e2.encoded), o3 = n4.open(r3, t2);
  if (o3 === null)
    throw new Error("Failed to decrypt");
  return toString2(o3, x2);
}
function Te(e2) {
  if ($(e2.type) === _2) {
    if (typeof e2.senderPublicKey > "u")
      throw new Error("Missing sender public key for type 1 envelope");
    return toString2(concat([e2.type, e2.senderPublicKey, e2.iv, e2.sealed]), L);
  }
  return toString2(concat([e2.type, e2.iv, e2.sealed]), L);
}
function ee(e2) {
  const n4 = fromString2(e2, L), t2 = n4.slice($n, Ie), r3 = Ie;
  if ($(t2) === _2) {
    const l4 = r3 + X, d3 = l4 + Z, c3 = n4.slice(r3, l4), u4 = n4.slice(l4, d3), a4 = n4.slice(d3);
    return { type: t2, sealed: a4, iv: u4, senderPublicKey: c3 };
  }
  const o3 = r3 + Z, s2 = n4.slice(r3, o3), i3 = n4.slice(o3);
  return { type: t2, sealed: i3, iv: s2 };
}
function xn(e2, n4) {
  const t2 = ee(e2);
  return Re({ type: $(t2.type), senderPublicKey: typeof t2.senderPublicKey < "u" ? toString2(t2.senderPublicKey, p4) : void 0, receiverPublicKey: n4?.receiverPublicKey });
}
function Re(e2) {
  const n4 = e2?.type || Q;
  if (n4 === _2) {
    if (typeof e2?.senderPublicKey > "u")
      throw new Error("missing sender public key");
    if (typeof e2?.receiverPublicKey > "u")
      throw new Error("missing receiver public key");
  }
  return { type: n4, senderPublicKey: e2?.senderPublicKey, receiverPublicKey: e2?.receiverPublicKey };
}
function Fn(e2) {
  return e2.type === _2 && typeof e2.senderPublicKey == "string" && typeof e2.receiverPublicKey == "string";
}
var Hn = Object.defineProperty;
var Ae = Object.getOwnPropertySymbols;
var qn = Object.prototype.hasOwnProperty;
var Bn = Object.prototype.propertyIsEnumerable;
var Ue = (e2, n4, t2) => n4 in e2 ? Hn(e2, n4, { enumerable: true, configurable: true, writable: true, value: t2 }) : e2[n4] = t2;
var _e = (e2, n4) => {
  for (var t2 in n4 || (n4 = {}))
    qn.call(n4, t2) && Ue(e2, t2, n4[t2]);
  if (Ae)
    for (var t2 of Ae(n4))
      Bn.call(n4, t2) && Ue(e2, t2, n4[t2]);
  return e2;
};
var Ce = "ReactNative";
var m = { reactNative: "react-native", node: "node", browser: "browser", unknown: "unknown" };
var je = "js";
function te() {
  return typeof process < "u" && typeof process.versions < "u" && typeof process.versions.node < "u";
}
function H() {
  return !(0, import_window_getters.getDocument)() && !!(0, import_window_getters.getNavigator)() && navigator.product === Ce;
}
function q() {
  return !te() && !!(0, import_window_getters.getNavigator)();
}
function R() {
  return H() ? m.reactNative : te() ? m.node : q() ? m.browser : m.unknown;
}
function De(e2, n4) {
  let t2 = k2.parse(e2);
  return t2 = _e(_e({}, t2), n4), e2 = k2.stringify(t2), e2;
}
function zn() {
  return (0, import_window_metadata.getWindowMetadata)() || { name: "", description: "", url: "", icons: [""] };
}
function ke() {
  if (R() === m.reactNative && typeof globalThis < "u" && typeof (globalThis == null ? void 0 : globalThis.Platform) < "u") {
    const { OS: t2, Version: r3 } = globalThis.Platform;
    return [t2, r3].join("-");
  }
  const e2 = detect2();
  if (e2 === null)
    return "unknown";
  const n4 = e2.os ? e2.os.replace(" ", "").toLowerCase() : "unknown";
  return e2.type === "browser" ? [n4, e2.name, e2.version].join("-") : [n4, e2.version].join("-");
}
function Ve() {
  var e2;
  const n4 = R();
  return n4 === m.browser ? [n4, ((e2 = (0, import_window_getters.getLocation)()) == null ? void 0 : e2.host) || "unknown"].join(":") : n4;
}
function Me(e2, n4, t2) {
  const r3 = ke(), o3 = Ve();
  return [[e2, n4].join("-"), [je, t2].join("-"), r3, o3].join("/");
}
function Jn({ protocol: e2, version: n4, relayUrl: t2, sdkVersion: r3, auth: o3, projectId: s2, useOnCloseEvent: i3 }) {
  const l4 = t2.split("?"), d3 = Me(e2, n4, r3), c3 = { auth: o3, ua: d3, projectId: s2, useOnCloseEvent: i3 || void 0 }, u4 = De(l4[1] || "", c3);
  return l4[0] + "?" + u4;
}
function O2(e2, n4) {
  return e2.filter((t2) => n4.includes(t2)).length === e2.length;
}
function et(e2) {
  return Object.fromEntries(e2.entries());
}
function nt(e2) {
  return new Map(Object.entries(e2));
}
function st(e2 = import_time2.FIVE_MINUTES, n4) {
  const t2 = (0, import_time2.toMiliseconds)(e2 || import_time2.FIVE_MINUTES);
  let r3, o3, s2;
  return { resolve: (i3) => {
    s2 && r3 && (clearTimeout(s2), r3(i3));
  }, reject: (i3) => {
    s2 && o3 && (clearTimeout(s2), o3(i3));
  }, done: () => new Promise((i3, l4) => {
    s2 = setTimeout(() => {
      l4(new Error(n4));
    }, t2), r3 = i3, o3 = l4;
  }) };
}
function it(e2, n4, t2) {
  return new Promise(async (r3, o3) => {
    const s2 = setTimeout(() => o3(new Error(t2)), n4);
    try {
      const i3 = await e2;
      r3(i3);
    } catch (i3) {
      o3(i3);
    }
    clearTimeout(s2);
  });
}
function re(e2, n4) {
  if (typeof n4 == "string" && n4.startsWith(`${e2}:`))
    return n4;
  if (e2.toLowerCase() === "topic") {
    if (typeof n4 != "string")
      throw new Error('Value must be "string" for expirer target type: topic');
    return `topic:${n4}`;
  } else if (e2.toLowerCase() === "id") {
    if (typeof n4 != "number")
      throw new Error('Value must be "number" for expirer target type: id');
    return `id:${n4}`;
  }
  throw new Error(`Unknown expirer target type: ${e2}`);
}
function ct(e2) {
  return re("topic", e2);
}
function at(e2) {
  return re("id", e2);
}
function ut(e2) {
  const [n4, t2] = e2.split(":"), r3 = { id: void 0, topic: void 0 };
  if (n4 === "topic" && typeof t2 == "string")
    r3.topic = t2;
  else if (n4 === "id" && Number.isInteger(Number(t2)))
    r3.id = Number(t2);
  else
    throw new Error(`Invalid target, expected id:number or topic:string, got ${n4}:${t2}`);
  return r3;
}
function lt(e2, n4) {
  return (0, import_time2.fromMiliseconds)((n4 || Date.now()) + (0, import_time2.toMiliseconds)(e2));
}
function dt(e2) {
  return Date.now() >= (0, import_time2.toMiliseconds)(e2);
}
function ft(e2, n4) {
  return `${e2}${n4 ? `:${n4}` : ""}`;
}
async function pt({ id: e2, topic: n4, wcDeepLink: t2 }) {
  try {
    if (!t2)
      return;
    const r3 = typeof t2 == "string" ? JSON.parse(t2) : t2;
    let o3 = r3?.href;
    if (typeof o3 != "string")
      return;
    o3.endsWith("/") && (o3 = o3.slice(0, -1));
    const s2 = `${o3}/wc?requestId=${e2}&sessionTopic=${n4}`, i3 = R();
    i3 === m.browser ? s2.startsWith("https://") ? window.open(s2, "_blank", "noreferrer noopener") : window.open(s2, "_self", "noreferrer noopener") : i3 === m.reactNative && typeof (globalThis == null ? void 0 : globalThis.Linking) < "u" && await globalThis.Linking.openURL(s2);
  } catch (r3) {
    console.error(r3);
  }
}
var Fe = "irn";
function mt(e2) {
  return e2?.relay || { protocol: Fe };
}
function yt(e2) {
  const n4 = RELAY_JSONRPC[e2];
  if (typeof n4 > "u")
    throw new Error(`Relay Protocol not supported: ${e2}`);
  return n4;
}
var ht = Object.defineProperty;
var He = Object.getOwnPropertySymbols;
var vt = Object.prototype.hasOwnProperty;
var gt = Object.prototype.propertyIsEnumerable;
var qe = (e2, n4, t2) => n4 in e2 ? ht(e2, n4, { enumerable: true, configurable: true, writable: true, value: t2 }) : e2[n4] = t2;
var Et = (e2, n4) => {
  for (var t2 in n4 || (n4 = {}))
    vt.call(n4, t2) && qe(e2, t2, n4[t2]);
  if (He)
    for (var t2 of He(n4))
      gt.call(n4, t2) && qe(e2, t2, n4[t2]);
  return e2;
};
function Be(e2, n4 = "-") {
  const t2 = {}, r3 = "relay" + n4;
  return Object.keys(e2).forEach((o3) => {
    if (o3.startsWith(r3)) {
      const s2 = o3.replace(r3, ""), i3 = e2[o3];
      t2[s2] = i3;
    }
  }), t2;
}
function bt(e2) {
  const n4 = e2.indexOf(":"), t2 = e2.indexOf("?") !== -1 ? e2.indexOf("?") : void 0, r3 = e2.substring(0, n4), o3 = e2.substring(n4 + 1, t2).split("@"), s2 = typeof t2 < "u" ? e2.substring(t2) : "", i3 = k2.parse(s2);
  return { protocol: r3, topic: Ge(o3[0]), version: parseInt(o3[1], 10), symKey: i3.symKey, relay: Be(i3) };
}
function Ge(e2) {
  return e2.startsWith("//") ? e2.substring(2) : e2;
}
function We(e2, n4 = "-") {
  const t2 = "relay", r3 = {};
  return Object.keys(e2).forEach((o3) => {
    const s2 = t2 + n4 + o3;
    e2[o3] && (r3[s2] = e2[o3]);
  }), r3;
}
function Nt(e2) {
  return `${e2.protocol}:${e2.topic}@${e2.version}?` + k2.stringify(Et({ symKey: e2.symKey }, We(e2.relay)));
}
function A(e2) {
  const n4 = [];
  return e2.forEach((t2) => {
    const [r3, o3] = t2.split(":");
    n4.push(`${r3}:${o3}`);
  }), n4;
}
function Je(e2) {
  const n4 = [];
  return Object.values(e2).forEach((t2) => {
    n4.push(...A(t2.accounts));
  }), n4;
}
function Qe(e2, n4) {
  const t2 = [];
  return Object.values(e2).forEach((r3) => {
    A(r3.accounts).includes(n4) && t2.push(...r3.methods);
  }), t2;
}
function Ze(e2, n4) {
  const t2 = [];
  return Object.values(e2).forEach((r3) => {
    A(r3.accounts).includes(n4) && t2.push(...r3.events);
  }), t2;
}
function At(e2, n4) {
  const t2 = cn(e2, n4);
  if (t2)
    throw new Error(t2.message);
  const r3 = {};
  for (const [o3, s2] of Object.entries(e2))
    r3[o3] = { methods: s2.methods, events: s2.events, chains: s2.accounts.map((i3) => `${i3.split(":")[0]}:${i3.split(":")[1]}`) };
  return r3;
}
var _t = { INVALID_METHOD: { message: "Invalid method.", code: 1001 }, INVALID_EVENT: { message: "Invalid event.", code: 1002 }, INVALID_UPDATE_REQUEST: { message: "Invalid update request.", code: 1003 }, INVALID_EXTEND_REQUEST: { message: "Invalid extend request.", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: "Invalid session settle request.", code: 1005 }, UNAUTHORIZED_METHOD: { message: "Unauthorized method.", code: 3001 }, UNAUTHORIZED_EVENT: { message: "Unauthorized event.", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: "Unauthorized update request.", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: "Unauthorized extend request.", code: 3004 }, USER_REJECTED: { message: "User rejected.", code: 5e3 }, USER_REJECTED_CHAINS: { message: "User rejected chains.", code: 5001 }, USER_REJECTED_METHODS: { message: "User rejected methods.", code: 5002 }, USER_REJECTED_EVENTS: { message: "User rejected events.", code: 5003 }, UNSUPPORTED_CHAINS: { message: "Unsupported chains.", code: 5100 }, UNSUPPORTED_METHODS: { message: "Unsupported methods.", code: 5101 }, UNSUPPORTED_EVENTS: { message: "Unsupported events.", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: "Unsupported accounts.", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: "Unsupported namespace key.", code: 5104 }, USER_DISCONNECTED: { message: "User disconnected.", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: "Session settlement failed.", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: "Unsupported wc_ method.", code: 10001 } };
var Ct = { NOT_INITIALIZED: { message: "Not initialized.", code: 1 }, NO_MATCHING_KEY: { message: "No matching key.", code: 2 }, RESTORE_WILL_OVERRIDE: { message: "Restore will override.", code: 3 }, RESUBSCRIBED: { message: "Resubscribed.", code: 4 }, MISSING_OR_INVALID: { message: "Missing or invalid.", code: 5 }, EXPIRED: { message: "Expired.", code: 6 }, UNKNOWN_TYPE: { message: "Unknown type.", code: 7 }, MISMATCHED_TOPIC: { message: "Mismatched topic.", code: 8 }, NON_CONFORMING_NAMESPACES: { message: "Non conforming namespaces.", code: 9 } };
function N10(e2, n4) {
  const { message: t2, code: r3 } = Ct[e2];
  return { message: n4 ? `${t2} ${n4}` : t2, code: r3 };
}
function U(e2, n4) {
  const { message: t2, code: r3 } = _t[e2];
  return { message: n4 ? `${t2} ${n4}` : t2, code: r3 };
}
function j2(e2, n4) {
  return Array.isArray(e2) ? typeof n4 < "u" && e2.length ? e2.every(n4) : true : false;
}
function B(e2) {
  return Object.getPrototypeOf(e2) === Object.prototype && Object.keys(e2).length;
}
function w(e2) {
  return typeof e2 > "u";
}
function h4(e2, n4) {
  return n4 && w(e2) ? true : typeof e2 == "string" && !!e2.trim().length;
}
function G(e2, n4) {
  return n4 && w(e2) ? true : typeof e2 == "number" && !isNaN(e2);
}
function $t(e2, n4) {
  const { requiredNamespaces: t2 } = n4, r3 = Object.keys(e2.namespaces), o3 = Object.keys(t2);
  let s2 = true;
  return O2(o3, r3) ? (r3.forEach((i3) => {
    const { accounts: l4, methods: d3, events: c3 } = e2.namespaces[i3], u4 = A(l4), a4 = t2[i3];
    (!O2(M(i3, a4), u4) || !O2(a4.methods, d3) || !O2(a4.events, c3)) && (s2 = false);
  }), s2) : false;
}
function D2(e2) {
  return h4(e2, false) && e2.includes(":") ? e2.split(":").length === 2 : false;
}
function en(e2) {
  if (h4(e2, false) && e2.includes(":")) {
    const n4 = e2.split(":");
    if (n4.length === 3) {
      const t2 = n4[0] + ":" + n4[1];
      return !!n4[2] && D2(t2);
    }
  }
  return false;
}
function jt(e2) {
  if (h4(e2, false))
    try {
      return typeof new URL(e2) < "u";
    } catch {
      return false;
    }
  return false;
}
function Dt(e2) {
  var n4;
  return (n4 = e2?.proposer) == null ? void 0 : n4.publicKey;
}
function kt(e2) {
  return e2?.topic;
}
function Vt(e2, n4) {
  let t2 = null;
  return h4(e2?.publicKey, false) || (t2 = N10("MISSING_OR_INVALID", `${n4} controller public key should be a string`)), t2;
}
function ie(e2) {
  let n4 = true;
  return j2(e2) ? e2.length && (n4 = e2.every((t2) => h4(t2, false))) : n4 = false, n4;
}
function nn(e2, n4, t2) {
  let r3 = null;
  return j2(n4) && n4.length ? n4.forEach((o3) => {
    r3 || D2(o3) || (r3 = U("UNSUPPORTED_CHAINS", `${t2}, chain ${o3} should be a string and conform to "namespace:chainId" format`));
  }) : D2(e2) || (r3 = U("UNSUPPORTED_CHAINS", `${t2}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)), r3;
}
function tn(e2, n4, t2) {
  let r3 = null;
  return Object.entries(e2).forEach(([o3, s2]) => {
    if (r3)
      return;
    const i3 = nn(o3, M(o3, s2), `${n4} ${t2}`);
    i3 && (r3 = i3);
  }), r3;
}
function rn(e2, n4) {
  let t2 = null;
  return j2(e2) ? e2.forEach((r3) => {
    t2 || en(r3) || (t2 = U("UNSUPPORTED_ACCOUNTS", `${n4}, account ${r3} should be a string and conform to "namespace:chainId:address" format`));
  }) : t2 = U("UNSUPPORTED_ACCOUNTS", `${n4}, accounts should be an array of strings conforming to "namespace:chainId:address" format`), t2;
}
function on2(e2, n4) {
  let t2 = null;
  return Object.values(e2).forEach((r3) => {
    if (t2)
      return;
    const o3 = rn(r3?.accounts, `${n4} namespace`);
    o3 && (t2 = o3);
  }), t2;
}
function sn(e2, n4) {
  let t2 = null;
  return ie(e2?.methods) ? ie(e2?.events) || (t2 = U("UNSUPPORTED_EVENTS", `${n4}, events should be an array of strings or empty array for no events`)) : t2 = U("UNSUPPORTED_METHODS", `${n4}, methods should be an array of strings or empty array for no methods`), t2;
}
function ce(e2, n4) {
  let t2 = null;
  return Object.values(e2).forEach((r3) => {
    if (t2)
      return;
    const o3 = sn(r3, `${n4}, namespace`);
    o3 && (t2 = o3);
  }), t2;
}
function Mt(e2, n4, t2) {
  let r3 = null;
  if (e2 && B(e2)) {
    const o3 = ce(e2, n4);
    o3 && (r3 = o3);
    const s2 = tn(e2, n4, t2);
    s2 && (r3 = s2);
  } else
    r3 = N10("MISSING_OR_INVALID", `${n4}, ${t2} should be an object with data`);
  return r3;
}
function cn(e2, n4) {
  let t2 = null;
  if (e2 && B(e2)) {
    const r3 = ce(e2, n4);
    r3 && (t2 = r3);
    const o3 = on2(e2, n4);
    o3 && (t2 = o3);
  } else
    t2 = N10("MISSING_OR_INVALID", `${n4}, namespaces should be an object with data`);
  return t2;
}
function an(e2) {
  return h4(e2.protocol, true);
}
function Kt(e2, n4) {
  let t2 = false;
  return n4 && !e2 ? t2 = true : e2 && j2(e2) && e2.length && e2.forEach((r3) => {
    t2 = an(r3);
  }), t2;
}
function Lt(e2) {
  return typeof e2 == "number";
}
function xt(e2) {
  return typeof e2 < "u" && typeof e2 !== null;
}
function Ft(e2) {
  return !(!e2 || typeof e2 != "object" || !e2.code || !G(e2.code, false) || !e2.message || !h4(e2.message, false));
}
function Ht(e2) {
  return !(w(e2) || !h4(e2.method, false));
}
function qt(e2) {
  return !(w(e2) || w(e2.result) && w(e2.error) || !G(e2.id, false) || !h4(e2.jsonrpc, false));
}
function Bt(e2) {
  return !(w(e2) || !h4(e2.name, false));
}
function Gt(e2, n4) {
  return !(!D2(n4) || !Je(e2).includes(n4));
}
function Wt(e2, n4, t2) {
  return h4(t2, false) ? Qe(e2, n4).includes(t2) : false;
}
function zt(e2, n4, t2) {
  return h4(t2, false) ? Ze(e2, n4).includes(t2) : false;
}
function un(e2, n4, t2) {
  let r3 = null;
  const o3 = Yt(e2), s2 = Jt(n4), i3 = Object.keys(o3), l4 = Object.keys(s2), d3 = ln(Object.keys(e2)), c3 = ln(Object.keys(n4)), u4 = d3.filter((a4) => !c3.includes(a4));
  return u4.length && (r3 = N10("NON_CONFORMING_NAMESPACES", `${t2} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u4.toString()}
      Received: ${Object.keys(n4).toString()}`)), O2(i3, l4) || (r3 = N10("NON_CONFORMING_NAMESPACES", `${t2} namespaces chains don't satisfy required namespaces.
      Required: ${i3.toString()}
      Approved: ${l4.toString()}`)), Object.keys(n4).forEach((a4) => {
    if (!a4.includes(":") || r3)
      return;
    const b3 = A(n4[a4].accounts);
    b3.includes(a4) || (r3 = N10("NON_CONFORMING_NAMESPACES", `${t2} namespaces accounts don't satisfy namespace accounts for ${a4}
        Required: ${a4}
        Approved: ${b3.toString()}`));
  }), i3.forEach((a4) => {
    r3 || (O2(o3[a4].methods, s2[a4].methods) ? O2(o3[a4].events, s2[a4].events) || (r3 = N10("NON_CONFORMING_NAMESPACES", `${t2} namespaces events don't satisfy namespace events for ${a4}`)) : r3 = N10("NON_CONFORMING_NAMESPACES", `${t2} namespaces methods don't satisfy namespace methods for ${a4}`));
  }), r3;
}
function Yt(e2) {
  const n4 = {};
  return Object.keys(e2).forEach((t2) => {
    var r3;
    t2.includes(":") ? n4[t2] = e2[t2] : (r3 = e2[t2].chains) == null || r3.forEach((o3) => {
      n4[o3] = { methods: e2[t2].methods, events: e2[t2].events };
    });
  }), n4;
}
function ln(e2) {
  return [...new Set(e2.map((n4) => n4.includes(":") ? n4.split(":")[0] : n4))];
}
function Jt(e2) {
  const n4 = {};
  return Object.keys(e2).forEach((t2) => {
    if (t2.includes(":"))
      n4[t2] = e2[t2];
    else {
      const r3 = A(e2[t2].accounts);
      r3?.forEach((o3) => {
        n4[o3] = { accounts: e2[t2].accounts.filter((s2) => s2.includes(`${o3}:`)), methods: e2[t2].methods, events: e2[t2].events };
      });
    }
  }), n4;
}
function Qt(e2, n4) {
  return G(e2, false) && e2 <= n4.max && e2 >= n4.min;
}
function Zt() {
  const e2 = R();
  return new Promise((n4) => {
    switch (e2) {
      case m.browser:
        n4(dn());
        break;
      case m.reactNative:
        n4(fn());
        break;
      case m.node:
        n4(pn());
        break;
      default:
        n4(true);
    }
  });
}
function dn() {
  return q() && navigator?.onLine;
}
async function fn() {
  if (H() && typeof globalThis < "u" && globalThis != null && globalThis.NetInfo) {
    const e2 = await (globalThis == null ? void 0 : globalThis.NetInfo.fetch());
    return e2?.isConnected;
  }
  return true;
}
function pn() {
  return true;
}
function Xt(e2) {
  switch (R()) {
    case m.browser:
      mn(e2);
      break;
    case m.reactNative:
      yn(e2);
      break;
    case m.node:
      break;
  }
}
function mn(e2) {
  q() && (window.addEventListener("online", () => e2(true)), window.addEventListener("offline", () => e2(false)));
}
function yn(e2) {
  H() && typeof globalThis < "u" && globalThis != null && globalThis.NetInfo && globalThis?.NetInfo.addEventListener((n4) => e2(n4?.isConnected));
}
var ae = {};
var er = class {
  static get(n4) {
    return ae[n4];
  }
  static set(n4, t2) {
    ae[n4] = t2;
  }
  static delete(n4) {
    delete ae[n4];
  }
};

// node_modules/.pnpm/@walletconnect+core@2.10.0/node_modules/@walletconnect/core/dist/index.es.js
var import_time3 = __toESM(require_cjs4());

// node_modules/.pnpm/@walletconnect+jsonrpc-provider@1.0.13/node_modules/@walletconnect/jsonrpc-provider/dist/esm/provider.js
init_events2();
init_esm6();
var JsonRpcProvider = class extends IJsonRpcProvider {
  constructor(connection) {
    super(connection);
    this.events = new EventEmitter();
    this.hasRegisteredEventListeners = false;
    this.connection = this.setConnection(connection);
    if (this.connection.connected) {
      this.registerEventListeners();
    }
  }
  async connect(connection = this.connection) {
    await this.open(connection);
  }
  async disconnect() {
    await this.close();
  }
  on(event, listener) {
    this.events.on(event, listener);
  }
  once(event, listener) {
    this.events.once(event, listener);
  }
  off(event, listener) {
    this.events.off(event, listener);
  }
  removeListener(event, listener) {
    this.events.removeListener(event, listener);
  }
  async request(request, context) {
    return this.requestStrict(formatJsonRpcRequest(request.method, request.params || [], request.id || getBigIntRpcId().toString()), context);
  }
  async requestStrict(request, context) {
    return new Promise(async (resolve, reject) => {
      if (!this.connection.connected) {
        try {
          await this.open();
        } catch (e2) {
          reject(e2);
        }
      }
      this.events.on(`${request.id}`, (response) => {
        if (isJsonRpcError(response)) {
          reject(response.error);
        } else {
          resolve(response.result);
        }
      });
      try {
        await this.connection.send(request, context);
      } catch (e2) {
        reject(e2);
      }
    });
  }
  setConnection(connection = this.connection) {
    return connection;
  }
  onPayload(payload) {
    this.events.emit("payload", payload);
    if (isJsonRpcResponse(payload)) {
      this.events.emit(`${payload.id}`, payload);
    } else {
      this.events.emit("message", {
        type: payload.method,
        data: payload.params
      });
    }
  }
  onClose(event) {
    if (event && event.code === 3e3) {
      this.events.emit("error", new Error(`WebSocket connection closed abnormally with code: ${event.code} ${event.reason ? `(${event.reason})` : ""}`));
    }
    this.events.emit("disconnect");
  }
  async open(connection = this.connection) {
    if (this.connection === connection && this.connection.connected)
      return;
    if (this.connection.connected)
      this.close();
    if (typeof connection === "string") {
      await this.connection.open(connection);
      connection = this.connection;
    }
    this.connection = this.setConnection(connection);
    await this.connection.open();
    this.registerEventListeners();
    this.events.emit("connect");
  }
  async close() {
    await this.connection.close();
  }
  registerEventListeners() {
    if (this.hasRegisteredEventListeners)
      return;
    this.connection.on("payload", (payload) => this.onPayload(payload));
    this.connection.on("close", (event) => this.onClose(event));
    this.connection.on("error", (error) => this.events.emit("error", error));
    this.connection.on("register_error", (error) => this.onClose());
    this.hasRegisteredEventListeners = true;
  }
};

// node_modules/.pnpm/@walletconnect+core@2.10.0/node_modules/@walletconnect/core/dist/index.es.js
init_esm6();

// node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.13/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/ws.js
init_events2();
init_esm6();

// node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.13/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/utils.js
var resolveWebSocketImplementation = () => {
  if (typeof WebSocket !== "undefined") {
    return WebSocket;
  } else if (typeof globalThis !== "undefined" && typeof globalThis.WebSocket !== "undefined") {
    return globalThis.WebSocket;
  } else if (typeof window !== "undefined" && typeof window.WebSocket !== "undefined") {
    return window.WebSocket;
  } else if (typeof self !== "undefined" && typeof self.WebSocket !== "undefined") {
    return self.WebSocket;
  }
  return require_browser4();
};
var hasBuiltInWebSocket = () => typeof WebSocket !== "undefined" || typeof globalThis !== "undefined" && typeof globalThis.WebSocket !== "undefined" || typeof window !== "undefined" && typeof window.WebSocket !== "undefined" || typeof self !== "undefined" && typeof self.WebSocket !== "undefined";
var truncateQuery = (wssUrl) => wssUrl.split("?")[0];

// node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.13/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/ws.js
var EVENT_EMITTER_MAX_LISTENERS_DEFAULT = 10;
var WS2 = resolveWebSocketImplementation();
var WsConnection = class {
  constructor(url) {
    this.url = url;
    this.events = new EventEmitter();
    this.registering = false;
    if (!isWsUrl(url)) {
      throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);
    }
    this.url = url;
  }
  get connected() {
    return typeof this.socket !== "undefined";
  }
  get connecting() {
    return this.registering;
  }
  on(event, listener) {
    this.events.on(event, listener);
  }
  once(event, listener) {
    this.events.once(event, listener);
  }
  off(event, listener) {
    this.events.off(event, listener);
  }
  removeListener(event, listener) {
    this.events.removeListener(event, listener);
  }
  async open(url = this.url) {
    await this.register(url);
  }
  async close() {
    return new Promise((resolve, reject) => {
      if (typeof this.socket === "undefined") {
        reject(new Error("Connection already closed"));
        return;
      }
      this.socket.onclose = (event) => {
        this.onClose(event);
        resolve();
      };
      this.socket.close();
    });
  }
  async send(payload, context) {
    if (typeof this.socket === "undefined") {
      this.socket = await this.register();
    }
    try {
      this.socket.send(safeJsonStringify3(payload));
    } catch (e2) {
      this.onError(payload.id, e2);
    }
  }
  register(url = this.url) {
    if (!isWsUrl(url)) {
      throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);
    }
    if (this.registering) {
      const currentMaxListeners = this.events.getMaxListeners();
      if (this.events.listenerCount("register_error") >= currentMaxListeners || this.events.listenerCount("open") >= currentMaxListeners) {
        this.events.setMaxListeners(currentMaxListeners + 1);
      }
      return new Promise((resolve, reject) => {
        this.events.once("register_error", (error) => {
          this.resetMaxListeners();
          reject(error);
        });
        this.events.once("open", () => {
          this.resetMaxListeners();
          if (typeof this.socket === "undefined") {
            return reject(new Error("WebSocket connection is missing or invalid"));
          }
          resolve(this.socket);
        });
      });
    }
    this.url = url;
    this.registering = true;
    return new Promise((resolve, reject) => {
      const opts = !(0, esm_exports4.isReactNative)() ? { rejectUnauthorized: !isLocalhostUrl(url) } : void 0;
      const socket = new WS2(url, [], opts);
      if (hasBuiltInWebSocket()) {
        socket.onerror = (event) => {
          const errorEvent = event;
          reject(this.emitError(errorEvent.error));
        };
      } else {
        socket.on("error", (errorEvent) => {
          reject(this.emitError(errorEvent));
        });
      }
      socket.onopen = () => {
        this.onOpen(socket);
        resolve(socket);
      };
    });
  }
  onOpen(socket) {
    socket.onmessage = (event) => this.onPayload(event);
    socket.onclose = (event) => this.onClose(event);
    this.socket = socket;
    this.registering = false;
    this.events.emit("open");
  }
  onClose(event) {
    this.socket = void 0;
    this.registering = false;
    this.events.emit("close", event);
  }
  onPayload(e2) {
    if (typeof e2.data === "undefined")
      return;
    const payload = typeof e2.data === "string" ? safeJsonParse3(e2.data) : e2.data;
    this.events.emit("payload", payload);
  }
  onError(id, e2) {
    const error = this.parseError(e2);
    const message = error.message || error.toString();
    const payload = formatJsonRpcError(id, message);
    this.events.emit("payload", payload);
  }
  parseError(e2, url = this.url) {
    return parseConnectionError(e2, truncateQuery(url), "WS");
  }
  resetMaxListeners() {
    if (this.events.getMaxListeners() > EVENT_EMITTER_MAX_LISTENERS_DEFAULT) {
      this.events.setMaxListeners(EVENT_EMITTER_MAX_LISTENERS_DEFAULT);
    }
  }
  emitError(errorEvent) {
    const error = this.parseError(new Error((errorEvent === null || errorEvent === void 0 ? void 0 : errorEvent.message) || `WebSocket connection failed for host: ${truncateQuery(this.url)}`));
    this.events.emit("register_error", error);
    return error;
  }
};
var ws_default = WsConnection;

// node_modules/.pnpm/@walletconnect+jsonrpc-ws-connection@1.0.13/node_modules/@walletconnect/jsonrpc-ws-connection/dist/esm/index.js
var esm_default5 = ws_default;

// node_modules/.pnpm/@walletconnect+core@2.10.0/node_modules/@walletconnect/core/dist/index.es.js
var import_lodash = __toESM(require_lodash());
function ki(r3, e2) {
  if (r3.length >= 255)
    throw new TypeError("Alphabet too long");
  for (var t2 = new Uint8Array(256), i3 = 0; i3 < t2.length; i3++)
    t2[i3] = 255;
  for (var s2 = 0; s2 < r3.length; s2++) {
    var n4 = r3.charAt(s2), a4 = n4.charCodeAt(0);
    if (t2[a4] !== 255)
      throw new TypeError(n4 + " is ambiguous");
    t2[a4] = s2;
  }
  var o3 = r3.length, h6 = r3.charAt(0), l4 = Math.log(o3) / Math.log(256), d3 = Math.log(256) / Math.log(o3);
  function p6(c3) {
    if (c3 instanceof Uint8Array || (ArrayBuffer.isView(c3) ? c3 = new Uint8Array(c3.buffer, c3.byteOffset, c3.byteLength) : Array.isArray(c3) && (c3 = Uint8Array.from(c3))), !(c3 instanceof Uint8Array))
      throw new TypeError("Expected Uint8Array");
    if (c3.length === 0)
      return "";
    for (var b3 = 0, z3 = 0, v2 = 0, _4 = c3.length; v2 !== _4 && c3[v2] === 0; )
      v2++, b3++;
    for (var T2 = (_4 - v2) * d3 + 1 >>> 0, m3 = new Uint8Array(T2); v2 !== _4; ) {
      for (var S3 = c3[v2], A3 = 0, I = T2 - 1; (S3 !== 0 || A3 < z3) && I !== -1; I--, A3++)
        S3 += 256 * m3[I] >>> 0, m3[I] = S3 % o3 >>> 0, S3 = S3 / o3 >>> 0;
      if (S3 !== 0)
        throw new Error("Non-zero carry");
      z3 = A3, v2++;
    }
    for (var O4 = T2 - z3; O4 !== T2 && m3[O4] === 0; )
      O4++;
    for (var V2 = h6.repeat(b3); O4 < T2; ++O4)
      V2 += r3.charAt(m3[O4]);
    return V2;
  }
  function y7(c3) {
    if (typeof c3 != "string")
      throw new TypeError("Expected String");
    if (c3.length === 0)
      return new Uint8Array();
    var b3 = 0;
    if (c3[b3] !== " ") {
      for (var z3 = 0, v2 = 0; c3[b3] === h6; )
        z3++, b3++;
      for (var _4 = (c3.length - b3) * l4 + 1 >>> 0, T2 = new Uint8Array(_4); c3[b3]; ) {
        var m3 = t2[c3.charCodeAt(b3)];
        if (m3 === 255)
          return;
        for (var S3 = 0, A3 = _4 - 1; (m3 !== 0 || S3 < v2) && A3 !== -1; A3--, S3++)
          m3 += o3 * T2[A3] >>> 0, T2[A3] = m3 % 256 >>> 0, m3 = m3 / 256 >>> 0;
        if (m3 !== 0)
          throw new Error("Non-zero carry");
        v2 = S3, b3++;
      }
      if (c3[b3] !== " ") {
        for (var I = _4 - v2; I !== _4 && T2[I] === 0; )
          I++;
        for (var O4 = new Uint8Array(z3 + (_4 - I)), V2 = z3; I !== _4; )
          O4[V2++] = T2[I++];
        return O4;
      }
    }
  }
  function $2(c3) {
    var b3 = y7(c3);
    if (b3)
      return b3;
    throw new Error(`Non-${e2} character`);
  }
  return { encode: p6, decodeUnsafe: y7, decode: $2 };
}
var Ki = ki;
var Bi = Ki;
var Ae2 = (r3) => {
  if (r3 instanceof Uint8Array && r3.constructor.name === "Uint8Array")
    return r3;
  if (r3 instanceof ArrayBuffer)
    return new Uint8Array(r3);
  if (ArrayBuffer.isView(r3))
    return new Uint8Array(r3.buffer, r3.byteOffset, r3.byteLength);
  throw new Error("Unknown type, must be binary type");
};
var Vi = (r3) => new TextEncoder().encode(r3);
var qi = (r3) => new TextDecoder().decode(r3);
var ji = class {
  constructor(e2, t2, i3) {
    this.name = e2, this.prefix = t2, this.baseEncode = i3;
  }
  encode(e2) {
    if (e2 instanceof Uint8Array)
      return `${this.prefix}${this.baseEncode(e2)}`;
    throw Error("Unknown type, must be binary type");
  }
};
var Yi = class {
  constructor(e2, t2, i3) {
    if (this.name = e2, this.prefix = t2, t2.codePointAt(0) === void 0)
      throw new Error("Invalid prefix character");
    this.prefixCodePoint = t2.codePointAt(0), this.baseDecode = i3;
  }
  decode(e2) {
    if (typeof e2 == "string") {
      if (e2.codePointAt(0) !== this.prefixCodePoint)
        throw Error(`Unable to decode multibase string ${JSON.stringify(e2)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);
      return this.baseDecode(e2.slice(this.prefix.length));
    } else
      throw Error("Can only multibase decode strings");
  }
  or(e2) {
    return ze(this, e2);
  }
};
var Gi = class {
  constructor(e2) {
    this.decoders = e2;
  }
  or(e2) {
    return ze(this, e2);
  }
  decode(e2) {
    const t2 = e2[0], i3 = this.decoders[t2];
    if (i3)
      return i3.decode(e2);
    throw RangeError(`Unable to decode multibase string ${JSON.stringify(e2)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);
  }
};
var ze = (r3, e2) => new Gi({ ...r3.decoders || { [r3.prefix]: r3 }, ...e2.decoders || { [e2.prefix]: e2 } });
var Hi = class {
  constructor(e2, t2, i3, s2) {
    this.name = e2, this.prefix = t2, this.baseEncode = i3, this.baseDecode = s2, this.encoder = new ji(e2, t2, i3), this.decoder = new Yi(e2, t2, s2);
  }
  encode(e2) {
    return this.encoder.encode(e2);
  }
  decode(e2) {
    return this.decoder.decode(e2);
  }
};
var J2 = ({ name: r3, prefix: e2, encode: t2, decode: i3 }) => new Hi(r3, e2, t2, i3);
var K2 = ({ prefix: r3, name: e2, alphabet: t2 }) => {
  const { encode: i3, decode: s2 } = Bi(t2, e2);
  return J2({ prefix: r3, name: e2, encode: i3, decode: (n4) => Ae2(s2(n4)) });
};
var Ji = (r3, e2, t2, i3) => {
  const s2 = {};
  for (let d3 = 0; d3 < e2.length; ++d3)
    s2[e2[d3]] = d3;
  let n4 = r3.length;
  for (; r3[n4 - 1] === "="; )
    --n4;
  const a4 = new Uint8Array(n4 * t2 / 8 | 0);
  let o3 = 0, h6 = 0, l4 = 0;
  for (let d3 = 0; d3 < n4; ++d3) {
    const p6 = s2[r3[d3]];
    if (p6 === void 0)
      throw new SyntaxError(`Non-${i3} character`);
    h6 = h6 << t2 | p6, o3 += t2, o3 >= 8 && (o3 -= 8, a4[l4++] = 255 & h6 >> o3);
  }
  if (o3 >= t2 || 255 & h6 << 8 - o3)
    throw new SyntaxError("Unexpected end of data");
  return a4;
};
var Wi = (r3, e2, t2) => {
  const i3 = e2[e2.length - 1] === "=", s2 = (1 << t2) - 1;
  let n4 = "", a4 = 0, o3 = 0;
  for (let h6 = 0; h6 < r3.length; ++h6)
    for (o3 = o3 << 8 | r3[h6], a4 += 8; a4 > t2; )
      a4 -= t2, n4 += e2[s2 & o3 >> a4];
  if (a4 && (n4 += e2[s2 & o3 << t2 - a4]), i3)
    for (; n4.length * t2 & 7; )
      n4 += "=";
  return n4;
};
var g2 = ({ name: r3, prefix: e2, bitsPerChar: t2, alphabet: i3 }) => J2({ prefix: e2, name: r3, encode(s2) {
  return Wi(s2, i3, t2);
}, decode(s2) {
  return Ji(s2, i3, t2, r3);
} });
var Xi = J2({ prefix: "\0", name: "identity", encode: (r3) => qi(r3), decode: (r3) => Vi(r3) });
var Qi = Object.freeze({ __proto__: null, identity: Xi });
var Zi = g2({ prefix: "0", name: "base2", alphabet: "01", bitsPerChar: 1 });
var es = Object.freeze({ __proto__: null, base2: Zi });
var ts = g2({ prefix: "7", name: "base8", alphabet: "01234567", bitsPerChar: 3 });
var is = Object.freeze({ __proto__: null, base8: ts });
var ss = K2({ prefix: "9", name: "base10", alphabet: "0123456789" });
var rs = Object.freeze({ __proto__: null, base10: ss });
var ns = g2({ prefix: "f", name: "base16", alphabet: "0123456789abcdef", bitsPerChar: 4 });
var as = g2({ prefix: "F", name: "base16upper", alphabet: "0123456789ABCDEF", bitsPerChar: 4 });
var os = Object.freeze({ __proto__: null, base16: ns, base16upper: as });
var hs = g2({ prefix: "b", name: "base32", alphabet: "abcdefghijklmnopqrstuvwxyz234567", bitsPerChar: 5 });
var cs = g2({ prefix: "B", name: "base32upper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567", bitsPerChar: 5 });
var us = g2({ prefix: "c", name: "base32pad", alphabet: "abcdefghijklmnopqrstuvwxyz234567=", bitsPerChar: 5 });
var ls = g2({ prefix: "C", name: "base32padupper", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=", bitsPerChar: 5 });
var ds = g2({ prefix: "v", name: "base32hex", alphabet: "0123456789abcdefghijklmnopqrstuv", bitsPerChar: 5 });
var gs = g2({ prefix: "V", name: "base32hexupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV", bitsPerChar: 5 });
var ps = g2({ prefix: "t", name: "base32hexpad", alphabet: "0123456789abcdefghijklmnopqrstuv=", bitsPerChar: 5 });
var Ds = g2({ prefix: "T", name: "base32hexpadupper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUV=", bitsPerChar: 5 });
var ys = g2({ prefix: "h", name: "base32z", alphabet: "ybndrfg8ejkmcpqxot1uwisza345h769", bitsPerChar: 5 });
var bs = Object.freeze({ __proto__: null, base32: hs, base32upper: cs, base32pad: us, base32padupper: ls, base32hex: ds, base32hexupper: gs, base32hexpad: ps, base32hexpadupper: Ds, base32z: ys });
var ms = K2({ prefix: "k", name: "base36", alphabet: "0123456789abcdefghijklmnopqrstuvwxyz" });
var fs = K2({ prefix: "K", name: "base36upper", alphabet: "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ" });
var Es = Object.freeze({ __proto__: null, base36: ms, base36upper: fs });
var ws = K2({ name: "base58btc", prefix: "z", alphabet: "123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz" });
var vs = K2({ name: "base58flickr", prefix: "Z", alphabet: "123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ" });
var Is = Object.freeze({ __proto__: null, base58btc: ws, base58flickr: vs });
var Cs = g2({ prefix: "m", name: "base64", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", bitsPerChar: 6 });
var Rs = g2({ prefix: "M", name: "base64pad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", bitsPerChar: 6 });
var _s = g2({ prefix: "u", name: "base64url", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_", bitsPerChar: 6 });
var Ts = g2({ prefix: "U", name: "base64urlpad", alphabet: "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=", bitsPerChar: 6 });
var Ss = Object.freeze({ __proto__: null, base64: Cs, base64pad: Rs, base64url: _s, base64urlpad: Ts });
var Ne = Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}");
var Ps = Ne.reduce((r3, e2, t2) => (r3[t2] = e2, r3), []);
var Os = Ne.reduce((r3, e2, t2) => (r3[e2.codePointAt(0)] = t2, r3), []);
function xs(r3) {
  return r3.reduce((e2, t2) => (e2 += Ps[t2], e2), "");
}
function As(r3) {
  const e2 = [];
  for (const t2 of r3) {
    const i3 = Os[t2.codePointAt(0)];
    if (i3 === void 0)
      throw new Error(`Non-base256emoji character: ${t2}`);
    e2.push(i3);
  }
  return new Uint8Array(e2);
}
var zs = J2({ prefix: "\u{1F680}", name: "base256emoji", encode: xs, decode: As });
var Ns = Object.freeze({ __proto__: null, base256emoji: zs });
var Ls = Ue2;
var Le = 128;
var Us = 127;
var Fs = ~Us;
var $s = Math.pow(2, 31);
function Ue2(r3, e2, t2) {
  e2 = e2 || [], t2 = t2 || 0;
  for (var i3 = t2; r3 >= $s; )
    e2[t2++] = r3 & 255 | Le, r3 /= 128;
  for (; r3 & Fs; )
    e2[t2++] = r3 & 255 | Le, r3 >>>= 7;
  return e2[t2] = r3 | 0, Ue2.bytes = t2 - i3 + 1, e2;
}
var Ms = ae2;
var ks = 128;
var Fe2 = 127;
function ae2(r3, i3) {
  var t2 = 0, i3 = i3 || 0, s2 = 0, n4 = i3, a4, o3 = r3.length;
  do {
    if (n4 >= o3)
      throw ae2.bytes = 0, new RangeError("Could not decode varint");
    a4 = r3[n4++], t2 += s2 < 28 ? (a4 & Fe2) << s2 : (a4 & Fe2) * Math.pow(2, s2), s2 += 7;
  } while (a4 >= ks);
  return ae2.bytes = n4 - i3, t2;
}
var Ks = Math.pow(2, 7);
var Bs = Math.pow(2, 14);
var Vs = Math.pow(2, 21);
var qs = Math.pow(2, 28);
var js = Math.pow(2, 35);
var Ys = Math.pow(2, 42);
var Gs = Math.pow(2, 49);
var Hs = Math.pow(2, 56);
var Js = Math.pow(2, 63);
var Ws = function(r3) {
  return r3 < Ks ? 1 : r3 < Bs ? 2 : r3 < Vs ? 3 : r3 < qs ? 4 : r3 < js ? 5 : r3 < Ys ? 6 : r3 < Gs ? 7 : r3 < Hs ? 8 : r3 < Js ? 9 : 10;
};
var Xs = { encode: Ls, decode: Ms, encodingLength: Ws };
var $e = Xs;
var Me2 = (r3, e2, t2 = 0) => ($e.encode(r3, e2, t2), e2);
var ke2 = (r3) => $e.encodingLength(r3);
var oe = (r3, e2) => {
  const t2 = e2.byteLength, i3 = ke2(r3), s2 = i3 + ke2(t2), n4 = new Uint8Array(s2 + t2);
  return Me2(r3, n4, 0), Me2(t2, n4, i3), n4.set(e2, s2), new Qs(r3, t2, e2, n4);
};
var Qs = class {
  constructor(e2, t2, i3, s2) {
    this.code = e2, this.size = t2, this.digest = i3, this.bytes = s2;
  }
};
var Ke = ({ name: r3, code: e2, encode: t2 }) => new Zs(r3, e2, t2);
var Zs = class {
  constructor(e2, t2, i3) {
    this.name = e2, this.code = t2, this.encode = i3;
  }
  digest(e2) {
    if (e2 instanceof Uint8Array) {
      const t2 = this.encode(e2);
      return t2 instanceof Uint8Array ? oe(this.code, t2) : t2.then((i3) => oe(this.code, i3));
    } else
      throw Error("Unknown type, must be binary type");
  }
};
var Be2 = (r3) => async (e2) => new Uint8Array(await crypto.subtle.digest(r3, e2));
var er2 = Ke({ name: "sha2-256", code: 18, encode: Be2("SHA-256") });
var tr = Ke({ name: "sha2-512", code: 19, encode: Be2("SHA-512") });
var ir = Object.freeze({ __proto__: null, sha256: er2, sha512: tr });
var Ve2 = 0;
var sr = "identity";
var qe2 = Ae2;
var rr = (r3) => oe(Ve2, qe2(r3));
var nr = { code: Ve2, name: sr, encode: qe2, digest: rr };
var ar = Object.freeze({ __proto__: null, identity: nr });
new TextEncoder(), new TextDecoder();
var je2 = { ...Qi, ...es, ...is, ...rs, ...os, ...bs, ...Es, ...Is, ...Ss, ...Ns };
({ ...ir, ...ar });
function Ye(r3) {
  return globalThis.Buffer != null ? new Uint8Array(r3.buffer, r3.byteOffset, r3.byteLength) : r3;
}
function or2(r3 = 0) {
  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null ? Ye(globalThis.Buffer.allocUnsafe(r3)) : new Uint8Array(r3);
}
function Ge2(r3, e2, t2, i3) {
  return { name: r3, prefix: e2, encoder: { name: r3, prefix: e2, encode: t2 }, decoder: { decode: i3 } };
}
var He2 = Ge2("utf8", "u", (r3) => "u" + new TextDecoder("utf8").decode(r3), (r3) => new TextEncoder().encode(r3.substring(1)));
var he2 = Ge2("ascii", "a", (r3) => {
  let e2 = "a";
  for (let t2 = 0; t2 < r3.length; t2++)
    e2 += String.fromCharCode(r3[t2]);
  return e2;
}, (r3) => {
  r3 = r3.substring(1);
  const e2 = or2(r3.length);
  for (let t2 = 0; t2 < r3.length; t2++)
    e2[t2] = r3.charCodeAt(t2);
  return e2;
});
var hr = { utf8: He2, "utf-8": He2, hex: je2.base16, latin1: he2, ascii: he2, binary: he2, ...je2 };
function cr(r3, e2 = "utf8") {
  const t2 = hr[e2];
  if (!t2)
    throw new Error(`Unsupported encoding "${e2}"`);
  return (e2 === "utf8" || e2 === "utf-8") && globalThis.Buffer != null && globalThis.Buffer.from != null ? Ye(globalThis.Buffer.from(r3, "utf-8")) : t2.decoder.decode(`${t2.prefix}${r3}`);
}
var ce2 = "wc";
var Je2 = 2;
var W2 = "core";
var x3 = `${ce2}@2:${W2}:`;
var We2 = { name: W2, logger: "error" };
var Xe = { database: ":memory:" };
var Qe2 = "crypto";
var ue2 = "client_ed25519_seed";
var Ze2 = import_time3.ONE_DAY;
var et2 = "keychain";
var tt = "0.3";
var it2 = "messages";
var st2 = "0.3";
var rt = import_time3.SIX_HOURS;
var nt2 = "publisher";
var at2 = "irn";
var ot = "error";
var le2 = "wss://relay.walletconnect.com";
var de2 = "wss://relay.walletconnect.org";
var ht2 = "relayer";
var D3 = { message: "relayer_message", message_ack: "relayer_message_ack", connect: "relayer_connect", disconnect: "relayer_disconnect", error: "relayer_error", connection_stalled: "relayer_connection_stalled", transport_closed: "relayer_transport_closed", publish: "relayer_publish" };
var ct2 = "_subscription";
var P = { payload: "payload", connect: "connect", disconnect: "disconnect", error: "error" };
var ut2 = import_time3.ONE_SECOND;
var lt2 = "2.10.0";
var dt2 = 1e4;
var gt2 = "0.3";
var pt2 = "WALLETCONNECT_CLIENT_ID";
var C = { created: "subscription_created", deleted: "subscription_deleted", expired: "subscription_expired", disabled: "subscription_disabled", sync: "subscription_sync", resubscribed: "subscription_resubscribed" };
var Dt2 = "subscription";
var yt2 = "0.3";
var bt2 = import_time3.FIVE_SECONDS * 1e3;
var mt2 = "pairing";
var ft2 = "0.3";
var F = { wc_pairingDelete: { req: { ttl: import_time3.ONE_DAY, prompt: false, tag: 1e3 }, res: { ttl: import_time3.ONE_DAY, prompt: false, tag: 1001 } }, wc_pairingPing: { req: { ttl: import_time3.THIRTY_SECONDS, prompt: false, tag: 1002 }, res: { ttl: import_time3.THIRTY_SECONDS, prompt: false, tag: 1003 } }, unregistered_method: { req: { ttl: import_time3.ONE_DAY, prompt: false, tag: 0 }, res: { ttl: import_time3.ONE_DAY, prompt: false, tag: 0 } } };
var R2 = { created: "history_created", updated: "history_updated", deleted: "history_deleted", sync: "history_sync" };
var Et2 = "history";
var wt = "0.3";
var vt2 = "expirer";
var w2 = { created: "expirer_created", deleted: "expirer_deleted", expired: "expirer_expired", sync: "expirer_sync" };
var It = "0.3";
var X2 = "verify-api";
var Q2 = "https://verify.walletconnect.com";
var ge = "https://verify.walletconnect.org";
var Ct2 = class {
  constructor(e2, t2) {
    this.core = e2, this.logger = t2, this.keychain = /* @__PURE__ */ new Map(), this.name = et2, this.version = tt, this.initialized = false, this.storagePrefix = x3, this.init = async () => {
      if (!this.initialized) {
        const i3 = await this.getKeyChain();
        typeof i3 < "u" && (this.keychain = i3), this.initialized = true;
      }
    }, this.has = (i3) => (this.isInitialized(), this.keychain.has(i3)), this.set = async (i3, s2) => {
      this.isInitialized(), this.keychain.set(i3, s2), await this.persist();
    }, this.get = (i3) => {
      this.isInitialized();
      const s2 = this.keychain.get(i3);
      if (typeof s2 > "u") {
        const { message: n4 } = N10("NO_MATCHING_KEY", `${this.name}: ${i3}`);
        throw new Error(n4);
      }
      return s2;
    }, this.del = async (i3) => {
      this.isInitialized(), this.keychain.delete(i3), await this.persist();
    }, this.core = e2, this.logger = (0, import_logger.generateChildLogger)(t2, this.name);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  async setKeyChain(e2) {
    await this.core.storage.setItem(this.storageKey, et(e2));
  }
  async getKeyChain() {
    const e2 = await this.core.storage.getItem(this.storageKey);
    return typeof e2 < "u" ? nt(e2) : void 0;
  }
  async persist() {
    await this.setKeyChain(this.keychain);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var Rt = class {
  constructor(e2, t2, i3) {
    this.core = e2, this.logger = t2, this.name = Qe2, this.initialized = false, this.init = async () => {
      this.initialized || (await this.keychain.init(), this.initialized = true);
    }, this.hasKeys = (s2) => (this.isInitialized(), this.keychain.has(s2)), this.getClientId = async () => {
      this.isInitialized();
      const s2 = await this.getClientSeed(), n4 = generateKeyPair(s2);
      return encodeIss(n4.publicKey);
    }, this.generateKeyPair = () => {
      this.isInitialized();
      const s2 = jn();
      return this.setPrivateKey(s2.publicKey, s2.privateKey);
    }, this.signJWT = async (s2) => {
      this.isInitialized();
      const n4 = await this.getClientSeed(), a4 = generateKeyPair(n4), o3 = Dn(), h6 = Ze2;
      return await signJWT(o3, s2, h6, a4);
    }, this.generateSharedKey = (s2, n4, a4) => {
      this.isInitialized();
      const o3 = this.getPrivateKey(s2), h6 = kn(o3, n4);
      return this.setSymKey(h6, a4);
    }, this.setSymKey = async (s2, n4) => {
      this.isInitialized();
      const a4 = n4 || Vn(s2);
      return await this.keychain.set(a4, s2), a4;
    }, this.deleteKeyPair = async (s2) => {
      this.isInitialized(), await this.keychain.del(s2);
    }, this.deleteSymKey = async (s2) => {
      this.isInitialized(), await this.keychain.del(s2);
    }, this.encode = async (s2, n4, a4) => {
      this.isInitialized();
      const o3 = Re(a4), h6 = safeJsonStringify3(n4);
      if (Fn(o3)) {
        const y7 = o3.senderPublicKey, $2 = o3.receiverPublicKey;
        s2 = await this.generateSharedKey(y7, $2);
      }
      const l4 = this.getSymKey(s2), { type: d3, senderPublicKey: p6 } = o3;
      return Kn({ type: d3, symKey: l4, message: h6, senderPublicKey: p6 });
    }, this.decode = async (s2, n4, a4) => {
      this.isInitialized();
      const o3 = xn(n4, a4);
      if (Fn(o3)) {
        const h6 = o3.receiverPublicKey, l4 = o3.senderPublicKey;
        s2 = await this.generateSharedKey(h6, l4);
      }
      try {
        const h6 = this.getSymKey(s2), l4 = Ln({ symKey: h6, encoded: n4 });
        return safeJsonParse3(l4);
      } catch (h6) {
        this.logger.error(`Failed to decode message from topic: '${s2}', clientId: '${await this.getClientId()}'`), this.logger.error(h6);
      }
    }, this.getPayloadType = (s2) => {
      const n4 = ee(s2);
      return $(n4.type);
    }, this.getPayloadSenderPublicKey = (s2) => {
      const n4 = ee(s2);
      return n4.senderPublicKey ? toString2(n4.senderPublicKey, p4) : void 0;
    }, this.core = e2, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.keychain = i3 || new Ct2(this.core, this.logger);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  async setPrivateKey(e2, t2) {
    return await this.keychain.set(e2, t2), e2;
  }
  getPrivateKey(e2) {
    return this.keychain.get(e2);
  }
  async getClientSeed() {
    let e2 = "";
    try {
      e2 = this.keychain.get(ue2);
    } catch {
      e2 = Dn(), await this.keychain.set(ue2, e2);
    }
    return cr(e2, "base16");
  }
  getSymKey(e2) {
    return this.keychain.get(e2);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var _t2 = class extends a2 {
  constructor(e2, t2) {
    super(e2, t2), this.logger = e2, this.core = t2, this.messages = /* @__PURE__ */ new Map(), this.name = it2, this.version = st2, this.initialized = false, this.storagePrefix = x3, this.init = async () => {
      if (!this.initialized) {
        this.logger.trace("Initialized");
        try {
          const i3 = await this.getRelayerMessages();
          typeof i3 < "u" && (this.messages = i3), this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", size: this.messages.size });
        } catch (i3) {
          this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(i3);
        } finally {
          this.initialized = true;
        }
      }
    }, this.set = async (i3, s2) => {
      this.isInitialized();
      const n4 = Mn(s2);
      let a4 = this.messages.get(i3);
      return typeof a4 > "u" && (a4 = {}), typeof a4[n4] < "u" || (a4[n4] = s2, this.messages.set(i3, a4), await this.persist()), n4;
    }, this.get = (i3) => {
      this.isInitialized();
      let s2 = this.messages.get(i3);
      return typeof s2 > "u" && (s2 = {}), s2;
    }, this.has = (i3, s2) => {
      this.isInitialized();
      const n4 = this.get(i3), a4 = Mn(s2);
      return typeof n4[a4] < "u";
    }, this.del = async (i3) => {
      this.isInitialized(), this.messages.delete(i3), await this.persist();
    }, this.logger = (0, import_logger.generateChildLogger)(e2, this.name), this.core = t2;
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  async setRelayerMessages(e2) {
    await this.core.storage.setItem(this.storageKey, et(e2));
  }
  async getRelayerMessages() {
    const e2 = await this.core.storage.getItem(this.storageKey);
    return typeof e2 < "u" ? nt(e2) : void 0;
  }
  async persist() {
    await this.setRelayerMessages(this.messages);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var pr = class extends u2 {
  constructor(e2, t2) {
    super(e2, t2), this.relayer = e2, this.logger = t2, this.events = new EventEmitter(), this.name = nt2, this.queue = /* @__PURE__ */ new Map(), this.publishTimeout = (0, import_time3.toMiliseconds)(import_time3.TEN_SECONDS), this.needsTransportRestart = false, this.publish = async (i3, s2, n4) => {
      var a4;
      this.logger.debug("Publishing Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: i3, message: s2, opts: n4 } });
      try {
        const o3 = n4?.ttl || rt, h6 = mt(n4), l4 = n4?.prompt || false, d3 = n4?.tag || 0, p6 = n4?.id || getBigIntRpcId().toString(), y7 = { topic: i3, message: s2, opts: { ttl: o3, relay: h6, prompt: l4, tag: d3, id: p6 } }, $2 = setTimeout(() => this.queue.set(p6, y7), this.publishTimeout);
        try {
          await await it(this.rpcPublish(i3, s2, o3, h6, l4, d3, p6), this.publishTimeout, "Failed to publish payload, please try again."), this.removeRequestFromQueue(p6), this.relayer.events.emit(D3.publish, y7);
        } catch (c3) {
          if (this.logger.debug("Publishing Payload stalled"), this.needsTransportRestart = true, (a4 = n4?.internal) != null && a4.throwOnFailedPublish)
            throw this.removeRequestFromQueue(p6), c3;
          return;
        } finally {
          clearTimeout($2);
        }
        this.logger.debug("Successfully Published Payload"), this.logger.trace({ type: "method", method: "publish", params: { topic: i3, message: s2, opts: n4 } });
      } catch (o3) {
        throw this.logger.debug("Failed to Publish Payload"), this.logger.error(o3), o3;
      }
    }, this.on = (i3, s2) => {
      this.events.on(i3, s2);
    }, this.once = (i3, s2) => {
      this.events.once(i3, s2);
    }, this.off = (i3, s2) => {
      this.events.off(i3, s2);
    }, this.removeListener = (i3, s2) => {
      this.events.removeListener(i3, s2);
    }, this.relayer = e2, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.registerEventListeners();
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  rpcPublish(e2, t2, i3, s2, n4, a4, o3) {
    var h6, l4, d3, p6;
    const y7 = { method: yt(s2.protocol).publish, params: { topic: e2, message: t2, ttl: i3, prompt: n4, tag: a4 }, id: o3 };
    return w((h6 = y7.params) == null ? void 0 : h6.prompt) && ((l4 = y7.params) == null || delete l4.prompt), w((d3 = y7.params) == null ? void 0 : d3.tag) && ((p6 = y7.params) == null || delete p6.tag), this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "message", direction: "outgoing", request: y7 }), this.relayer.request(y7);
  }
  removeRequestFromQueue(e2) {
    this.queue.delete(e2);
  }
  checkQueue() {
    this.queue.forEach(async (e2) => {
      const { topic: t2, message: i3, opts: s2 } = e2;
      await this.publish(t2, i3, s2);
    });
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(import_heartbeat.HEARTBEAT_EVENTS.pulse, () => {
      if (this.needsTransportRestart) {
        this.needsTransportRestart = false, this.relayer.events.emit(D3.connection_stalled);
        return;
      }
      this.checkQueue();
    }), this.relayer.on(D3.message_ack, (e2) => {
      this.removeRequestFromQueue(e2.id.toString());
    });
  }
};
var Dr = class {
  constructor() {
    this.map = /* @__PURE__ */ new Map(), this.set = (e2, t2) => {
      const i3 = this.get(e2);
      this.exists(e2, t2) || this.map.set(e2, [...i3, t2]);
    }, this.get = (e2) => this.map.get(e2) || [], this.exists = (e2, t2) => this.get(e2).includes(t2), this.delete = (e2, t2) => {
      if (typeof t2 > "u") {
        this.map.delete(e2);
        return;
      }
      if (!this.map.has(e2))
        return;
      const i3 = this.get(e2);
      if (!this.exists(e2, t2))
        return;
      const s2 = i3.filter((n4) => n4 !== t2);
      if (!s2.length) {
        this.map.delete(e2);
        return;
      }
      this.map.set(e2, s2);
    }, this.clear = () => {
      this.map.clear();
    };
  }
  get topics() {
    return Array.from(this.map.keys());
  }
};
var yr = Object.defineProperty;
var br = Object.defineProperties;
var mr = Object.getOwnPropertyDescriptors;
var Tt = Object.getOwnPropertySymbols;
var fr = Object.prototype.hasOwnProperty;
var Er = Object.prototype.propertyIsEnumerable;
var St = (r3, e2, t2) => e2 in r3 ? yr(r3, e2, { enumerable: true, configurable: true, writable: true, value: t2 }) : r3[e2] = t2;
var B2 = (r3, e2) => {
  for (var t2 in e2 || (e2 = {}))
    fr.call(e2, t2) && St(r3, t2, e2[t2]);
  if (Tt)
    for (var t2 of Tt(e2))
      Er.call(e2, t2) && St(r3, t2, e2[t2]);
  return r3;
};
var pe = (r3, e2) => br(r3, mr(e2));
var Pt = class extends d2 {
  constructor(e2, t2) {
    super(e2, t2), this.relayer = e2, this.logger = t2, this.subscriptions = /* @__PURE__ */ new Map(), this.topicMap = new Dr(), this.events = new EventEmitter(), this.name = Dt2, this.version = yt2, this.pending = /* @__PURE__ */ new Map(), this.cached = [], this.initialized = false, this.pendingSubscriptionWatchLabel = "pending_sub_watch_label", this.pollingInterval = 20, this.storagePrefix = x3, this.subscribeTimeout = 1e4, this.restartInProgress = false, this.batchSubscribeTopicsLimit = 500, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), this.registerEventListeners(), this.clientId = await this.relayer.core.crypto.getClientId());
    }, this.subscribe = async (i3, s2) => {
      await this.restartToComplete(), this.isInitialized(), this.logger.debug("Subscribing Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: i3, opts: s2 } });
      try {
        const n4 = mt(s2), a4 = { topic: i3, relay: n4 };
        this.pending.set(i3, a4);
        const o3 = await this.rpcSubscribe(i3, n4);
        return this.onSubscribe(o3, a4), this.logger.debug("Successfully Subscribed Topic"), this.logger.trace({ type: "method", method: "subscribe", params: { topic: i3, opts: s2 } }), o3;
      } catch (n4) {
        throw this.logger.debug("Failed to Subscribe Topic"), this.logger.error(n4), n4;
      }
    }, this.unsubscribe = async (i3, s2) => {
      await this.restartToComplete(), this.isInitialized(), typeof s2?.id < "u" ? await this.unsubscribeById(i3, s2.id, s2) : await this.unsubscribeByTopic(i3, s2);
    }, this.isSubscribed = async (i3) => this.topics.includes(i3) ? true : await new Promise((s2, n4) => {
      const a4 = new import_time3.Watch();
      a4.start(this.pendingSubscriptionWatchLabel);
      const o3 = setInterval(() => {
        !this.pending.has(i3) && this.topics.includes(i3) && (clearInterval(o3), a4.stop(this.pendingSubscriptionWatchLabel), s2(true)), a4.elapsed(this.pendingSubscriptionWatchLabel) >= bt2 && (clearInterval(o3), a4.stop(this.pendingSubscriptionWatchLabel), n4(new Error("Subscription resolution timeout")));
      }, this.pollingInterval);
    }).catch(() => false), this.on = (i3, s2) => {
      this.events.on(i3, s2);
    }, this.once = (i3, s2) => {
      this.events.once(i3, s2);
    }, this.off = (i3, s2) => {
      this.events.off(i3, s2);
    }, this.removeListener = (i3, s2) => {
      this.events.removeListener(i3, s2);
    }, this.restart = async () => {
      this.restartInProgress = true, await this.restore(), await this.reset(), this.restartInProgress = false;
    }, this.relayer = e2, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.clientId = "";
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  get length() {
    return this.subscriptions.size;
  }
  get ids() {
    return Array.from(this.subscriptions.keys());
  }
  get values() {
    return Array.from(this.subscriptions.values());
  }
  get topics() {
    return this.topicMap.topics;
  }
  hasSubscription(e2, t2) {
    let i3 = false;
    try {
      i3 = this.getSubscription(e2).topic === t2;
    } catch {
    }
    return i3;
  }
  onEnable() {
    this.cached = [], this.initialized = true;
  }
  onDisable() {
    this.cached = this.values, this.subscriptions.clear(), this.topicMap.clear();
  }
  async unsubscribeByTopic(e2, t2) {
    const i3 = this.topicMap.get(e2);
    await Promise.all(i3.map(async (s2) => await this.unsubscribeById(e2, s2, t2)));
  }
  async unsubscribeById(e2, t2, i3) {
    this.logger.debug("Unsubscribing Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e2, id: t2, opts: i3 } });
    try {
      const s2 = mt(i3);
      await this.rpcUnsubscribe(e2, t2, s2);
      const n4 = U("USER_DISCONNECTED", `${this.name}, ${e2}`);
      await this.onUnsubscribe(e2, t2, n4), this.logger.debug("Successfully Unsubscribed Topic"), this.logger.trace({ type: "method", method: "unsubscribe", params: { topic: e2, id: t2, opts: i3 } });
    } catch (s2) {
      throw this.logger.debug("Failed to Unsubscribe Topic"), this.logger.error(s2), s2;
    }
  }
  async rpcSubscribe(e2, t2) {
    const i3 = { method: yt(t2.protocol).subscribe, params: { topic: e2 } };
    this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i3 });
    try {
      await await it(this.relayer.request(i3), this.subscribeTimeout);
    } catch {
      this.logger.debug("Outgoing Relay Subscribe Payload stalled"), this.relayer.events.emit(D3.connection_stalled);
    }
    return Mn(e2 + this.clientId);
  }
  async rpcBatchSubscribe(e2) {
    if (!e2.length)
      return;
    const t2 = e2[0].relay, i3 = { method: yt(t2.protocol).batchSubscribe, params: { topics: e2.map((s2) => s2.topic) } };
    this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: i3 });
    try {
      return await await it(this.relayer.request(i3), this.subscribeTimeout);
    } catch {
      this.logger.debug("Outgoing Relay Payload stalled"), this.relayer.events.emit(D3.connection_stalled);
    }
  }
  rpcUnsubscribe(e2, t2, i3) {
    const s2 = { method: yt(i3.protocol).unsubscribe, params: { topic: e2, id: t2 } };
    return this.logger.debug("Outgoing Relay Payload"), this.logger.trace({ type: "payload", direction: "outgoing", request: s2 }), this.relayer.request(s2);
  }
  onSubscribe(e2, t2) {
    this.setSubscription(e2, pe(B2({}, t2), { id: e2 })), this.pending.delete(t2.topic);
  }
  onBatchSubscribe(e2) {
    e2.length && e2.forEach((t2) => {
      this.setSubscription(t2.id, B2({}, t2)), this.pending.delete(t2.topic);
    });
  }
  async onUnsubscribe(e2, t2, i3) {
    this.events.removeAllListeners(t2), this.hasSubscription(t2, e2) && this.deleteSubscription(t2, i3), await this.relayer.messages.del(e2);
  }
  async setRelayerSubscriptions(e2) {
    await this.relayer.core.storage.setItem(this.storageKey, e2);
  }
  async getRelayerSubscriptions() {
    return await this.relayer.core.storage.getItem(this.storageKey);
  }
  setSubscription(e2, t2) {
    this.subscriptions.has(e2) || (this.logger.debug("Setting subscription"), this.logger.trace({ type: "method", method: "setSubscription", id: e2, subscription: t2 }), this.addSubscription(e2, t2));
  }
  addSubscription(e2, t2) {
    this.subscriptions.set(e2, B2({}, t2)), this.topicMap.set(t2.topic, e2), this.events.emit(C.created, t2);
  }
  getSubscription(e2) {
    this.logger.debug("Getting subscription"), this.logger.trace({ type: "method", method: "getSubscription", id: e2 });
    const t2 = this.subscriptions.get(e2);
    if (!t2) {
      const { message: i3 } = N10("NO_MATCHING_KEY", `${this.name}: ${e2}`);
      throw new Error(i3);
    }
    return t2;
  }
  deleteSubscription(e2, t2) {
    this.logger.debug("Deleting subscription"), this.logger.trace({ type: "method", method: "deleteSubscription", id: e2, reason: t2 });
    const i3 = this.getSubscription(e2);
    this.subscriptions.delete(e2), this.topicMap.delete(i3.topic, e2), this.events.emit(C.deleted, pe(B2({}, i3), { reason: t2 }));
  }
  async persist() {
    await this.setRelayerSubscriptions(this.values), this.events.emit(C.sync);
  }
  async reset() {
    if (this.cached.length) {
      const e2 = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);
      for (let t2 = 0; t2 < e2; t2++) {
        const i3 = this.cached.splice(0, this.batchSubscribeTopicsLimit);
        await this.batchSubscribe(i3);
      }
    }
    this.events.emit(C.resubscribed);
  }
  async restore() {
    try {
      const e2 = await this.getRelayerSubscriptions();
      if (typeof e2 > "u" || !e2.length)
        return;
      if (this.subscriptions.size) {
        const { message: t2 } = N10("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(t2), this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`), new Error(t2);
      }
      this.cached = e2, this.logger.debug(`Successfully Restored subscriptions for ${this.name}`), this.logger.trace({ type: "method", method: "restore", subscriptions: this.values });
    } catch (e2) {
      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`), this.logger.error(e2);
    }
  }
  async batchSubscribe(e2) {
    if (!e2.length)
      return;
    const t2 = await this.rpcBatchSubscribe(e2);
    j2(t2) && this.onBatchSubscribe(t2.map((i3, s2) => pe(B2({}, e2[s2]), { id: i3 })));
  }
  async onConnect() {
    this.restartInProgress || (await this.restart(), this.onEnable());
  }
  onDisconnect() {
    this.onDisable();
  }
  async checkPending() {
    if (!this.initialized || this.relayer.transportExplicitlyClosed)
      return;
    const e2 = [];
    this.pending.forEach((t2) => {
      e2.push(t2);
    }), await this.batchSubscribe(e2);
  }
  registerEventListeners() {
    this.relayer.core.heartbeat.on(import_heartbeat.HEARTBEAT_EVENTS.pulse, async () => {
      await this.checkPending();
    }), this.relayer.on(D3.connect, async () => {
      await this.onConnect();
    }), this.relayer.on(D3.disconnect, () => {
      this.onDisconnect();
    }), this.events.on(C.created, async (e2) => {
      const t2 = C.created;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, data: e2 }), await this.persist();
    }), this.events.on(C.deleted, async (e2) => {
      const t2 = C.deleted;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, data: e2 }), await this.persist();
    });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
  async restartToComplete() {
    this.restartInProgress && await new Promise((e2) => {
      const t2 = setInterval(() => {
        this.restartInProgress || (clearInterval(t2), e2());
      }, this.pollingInterval);
    });
  }
};
var wr = Object.defineProperty;
var Ot = Object.getOwnPropertySymbols;
var vr = Object.prototype.hasOwnProperty;
var Ir = Object.prototype.propertyIsEnumerable;
var xt2 = (r3, e2, t2) => e2 in r3 ? wr(r3, e2, { enumerable: true, configurable: true, writable: true, value: t2 }) : r3[e2] = t2;
var Cr = (r3, e2) => {
  for (var t2 in e2 || (e2 = {}))
    vr.call(e2, t2) && xt2(r3, t2, e2[t2]);
  if (Ot)
    for (var t2 of Ot(e2))
      Ir.call(e2, t2) && xt2(r3, t2, e2[t2]);
  return r3;
};
var At2 = class extends g {
  constructor(e2) {
    super(e2), this.protocol = "wc", this.version = 2, this.events = new EventEmitter(), this.name = ht2, this.transportExplicitlyClosed = false, this.initialized = false, this.connectionAttemptInProgress = false, this.connectionStatusPollingInterval = 20, this.staleConnectionErrors = ["socket hang up", "socket stalled"], this.hasExperiencedNetworkDisruption = false, this.request = async (t2) => {
      this.logger.debug("Publishing Request Payload");
      try {
        return await this.toEstablishConnection(), await this.provider.request(t2);
      } catch (i3) {
        throw this.logger.debug("Failed to Publish Request"), this.logger.error(i3), i3;
      }
    }, this.onPayloadHandler = (t2) => {
      this.onProviderPayload(t2);
    }, this.onConnectHandler = () => {
      this.events.emit(D3.connect);
    }, this.onDisconnectHandler = () => {
      this.onProviderDisconnect();
    }, this.onProviderErrorHandler = (t2) => {
      this.logger.error(t2), this.events.emit(D3.error, t2);
    }, this.registerProviderListeners = () => {
      this.provider.on(P.payload, this.onPayloadHandler), this.provider.on(P.connect, this.onConnectHandler), this.provider.on(P.disconnect, this.onDisconnectHandler), this.provider.on(P.error, this.onProviderErrorHandler);
    }, this.core = e2.core, this.logger = typeof e2.logger < "u" && typeof e2.logger != "string" ? (0, import_logger.generateChildLogger)(e2.logger, this.name) : (0, import_logger.pino)((0, import_logger.getDefaultLoggerOptions)({ level: e2.logger || ot })), this.messages = new _t2(this.logger, e2.core), this.subscriber = new Pt(this, this.logger), this.publisher = new pr(this, this.logger), this.relayUrl = e2?.relayUrl || le2, this.projectId = e2.projectId, this.provider = {};
  }
  async init() {
    this.logger.trace("Initialized"), this.registerEventListeners(), await this.createProvider(), await Promise.all([this.messages.init(), this.subscriber.init()]);
    try {
      await this.transportOpen();
    } catch {
      this.logger.warn(`Connection via ${this.relayUrl} failed, attempting to connect via failover domain ${de2}...`), await this.restartTransport(de2);
    }
    this.initialized = true, setTimeout(async () => {
      this.subscriber.topics.length === 0 && (this.logger.info("No topics subscribed to after init, closing transport"), await this.transportClose(), this.transportExplicitlyClosed = false);
    }, dt2);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get connected() {
    return this.provider.connection.connected;
  }
  get connecting() {
    return this.provider.connection.connecting;
  }
  async publish(e2, t2, i3) {
    this.isInitialized(), await this.publisher.publish(e2, t2, i3), await this.recordMessageEvent({ topic: e2, message: t2, publishedAt: Date.now() });
  }
  async subscribe(e2, t2) {
    var i3;
    this.isInitialized();
    let s2 = ((i3 = this.subscriber.topicMap.get(e2)) == null ? void 0 : i3[0]) || "";
    return s2 || (await Promise.all([new Promise((n4) => {
      this.subscriber.once(C.created, (a4) => {
        a4.topic === e2 && n4();
      });
    }), new Promise(async (n4) => {
      s2 = await this.subscriber.subscribe(e2, t2), n4();
    })]), s2);
  }
  async unsubscribe(e2, t2) {
    this.isInitialized(), await this.subscriber.unsubscribe(e2, t2);
  }
  on(e2, t2) {
    this.events.on(e2, t2);
  }
  once(e2, t2) {
    this.events.once(e2, t2);
  }
  off(e2, t2) {
    this.events.off(e2, t2);
  }
  removeListener(e2, t2) {
    this.events.removeListener(e2, t2);
  }
  async transportClose() {
    this.transportExplicitlyClosed = true, this.hasExperiencedNetworkDisruption && this.connected ? await it(this.provider.disconnect(), 1e3, "provider.disconnect()").catch(() => this.onProviderDisconnect()) : this.connected && await this.provider.disconnect();
  }
  async transportOpen(e2) {
    if (this.transportExplicitlyClosed = false, await this.confirmOnlineStateOrThrow(), !this.connectionAttemptInProgress) {
      e2 && e2 !== this.relayUrl && (this.relayUrl = e2, await this.transportClose(), await this.createProvider()), this.connectionAttemptInProgress = true;
      try {
        await Promise.all([new Promise((t2) => {
          if (!this.initialized)
            return t2();
          this.subscriber.once(C.resubscribed, () => {
            t2();
          });
        }), new Promise(async (t2, i3) => {
          try {
            await it(this.provider.connect(), 1e4, `Socket stalled when trying to connect to ${this.relayUrl}`);
          } catch (s2) {
            i3(s2);
            return;
          }
          t2();
        })]);
      } catch (t2) {
        this.logger.error(t2);
        const i3 = t2;
        if (!this.isConnectionStalled(i3.message))
          throw t2;
        this.provider.events.emit(P.disconnect);
      } finally {
        this.connectionAttemptInProgress = false, this.hasExperiencedNetworkDisruption = false;
      }
    }
  }
  async restartTransport(e2) {
    await this.confirmOnlineStateOrThrow(), !this.connectionAttemptInProgress && (this.relayUrl = e2 || this.relayUrl, await this.transportClose(), await this.createProvider(), await this.transportOpen());
  }
  async confirmOnlineStateOrThrow() {
    if (!await Zt())
      throw new Error("No internet connection detected. Please restart your network and try again.");
  }
  isConnectionStalled(e2) {
    return this.staleConnectionErrors.some((t2) => e2.includes(t2));
  }
  async createProvider() {
    this.provider.connection && this.unregisterProviderListeners();
    const e2 = await this.core.crypto.signJWT(this.relayUrl);
    this.provider = new JsonRpcProvider(new esm_default5(Jn({ sdkVersion: lt2, protocol: this.protocol, version: this.version, relayUrl: this.relayUrl, projectId: this.projectId, auth: e2, useOnCloseEvent: true }))), this.registerProviderListeners();
  }
  async recordMessageEvent(e2) {
    const { topic: t2, message: i3 } = e2;
    await this.messages.set(t2, i3);
  }
  async shouldIgnoreMessageEvent(e2) {
    const { topic: t2, message: i3 } = e2;
    if (!i3 || i3.length === 0)
      return this.logger.debug(`Ignoring invalid/empty message: ${i3}`), true;
    if (!await this.subscriber.isSubscribed(t2))
      return this.logger.debug(`Ignoring message for non-subscribed topic ${t2}`), true;
    const s2 = this.messages.has(t2, i3);
    return s2 && this.logger.debug(`Ignoring duplicate message: ${i3}`), s2;
  }
  async onProviderPayload(e2) {
    if (this.logger.debug("Incoming Relay Payload"), this.logger.trace({ type: "payload", direction: "incoming", payload: e2 }), isJsonRpcRequest(e2)) {
      if (!e2.method.endsWith(ct2))
        return;
      const t2 = e2.params, { topic: i3, message: s2, publishedAt: n4 } = t2.data, a4 = { topic: i3, message: s2, publishedAt: n4 };
      this.logger.debug("Emitting Relayer Payload"), this.logger.trace(Cr({ type: "event", event: t2.id }, a4)), this.events.emit(t2.id, a4), await this.acknowledgePayload(e2), await this.onMessageEvent(a4);
    } else
      isJsonRpcResponse(e2) && this.events.emit(D3.message_ack, e2);
  }
  async onMessageEvent(e2) {
    await this.shouldIgnoreMessageEvent(e2) || (this.events.emit(D3.message, e2), await this.recordMessageEvent(e2));
  }
  async acknowledgePayload(e2) {
    const t2 = formatJsonRpcResult(e2.id, true);
    await this.provider.connection.send(t2);
  }
  unregisterProviderListeners() {
    this.provider.off(P.payload, this.onPayloadHandler), this.provider.off(P.connect, this.onConnectHandler), this.provider.off(P.disconnect, this.onDisconnectHandler), this.provider.off(P.error, this.onProviderErrorHandler);
  }
  async registerEventListeners() {
    this.events.on(D3.connection_stalled, () => {
      this.restartTransport().catch((t2) => this.logger.error(t2));
    });
    let e2 = await Zt();
    Xt(async (t2) => {
      this.initialized && e2 !== t2 && (e2 = t2, t2 ? await this.restartTransport().catch((i3) => this.logger.error(i3)) : (this.hasExperiencedNetworkDisruption = true, await this.transportClose().catch((i3) => this.logger.error(i3))));
    });
  }
  onProviderDisconnect() {
    this.events.emit(D3.disconnect), this.attemptToReconnect();
  }
  attemptToReconnect() {
    this.transportExplicitlyClosed || (this.logger.info("attemptToReconnect called. Connecting..."), setTimeout(async () => {
      await this.restartTransport().catch((e2) => this.logger.error(e2));
    }, (0, import_time3.toMiliseconds)(ut2)));
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
  async toEstablishConnection() {
    if (await this.confirmOnlineStateOrThrow(), !this.connected) {
      if (this.connectionAttemptInProgress)
        return await new Promise((e2) => {
          const t2 = setInterval(() => {
            this.connected && (clearInterval(t2), e2());
          }, this.connectionStatusPollingInterval);
        });
      await this.restartTransport();
    }
  }
};
var Rr = Object.defineProperty;
var zt2 = Object.getOwnPropertySymbols;
var _r = Object.prototype.hasOwnProperty;
var Tr = Object.prototype.propertyIsEnumerable;
var Nt2 = (r3, e2, t2) => e2 in r3 ? Rr(r3, e2, { enumerable: true, configurable: true, writable: true, value: t2 }) : r3[e2] = t2;
var Lt2 = (r3, e2) => {
  for (var t2 in e2 || (e2 = {}))
    _r.call(e2, t2) && Nt2(r3, t2, e2[t2]);
  if (zt2)
    for (var t2 of zt2(e2))
      Tr.call(e2, t2) && Nt2(r3, t2, e2[t2]);
  return r3;
};
var Ut = class extends p3 {
  constructor(e2, t2, i3, s2 = x3, n4 = void 0) {
    super(e2, t2, i3, s2), this.core = e2, this.logger = t2, this.name = i3, this.map = /* @__PURE__ */ new Map(), this.version = gt2, this.cached = [], this.initialized = false, this.storagePrefix = x3, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((a4) => {
        this.getKey && a4 !== null && !w(a4) ? this.map.set(this.getKey(a4), a4) : Dt(a4) ? this.map.set(a4.id, a4) : kt(a4) && this.map.set(a4.topic, a4);
      }), this.cached = [], this.initialized = true);
    }, this.set = async (a4, o3) => {
      this.isInitialized(), this.map.has(a4) ? await this.update(a4, o3) : (this.logger.debug("Setting value"), this.logger.trace({ type: "method", method: "set", key: a4, value: o3 }), this.map.set(a4, o3), await this.persist());
    }, this.get = (a4) => (this.isInitialized(), this.logger.debug("Getting value"), this.logger.trace({ type: "method", method: "get", key: a4 }), this.getData(a4)), this.getAll = (a4) => (this.isInitialized(), a4 ? this.values.filter((o3) => Object.keys(a4).every((h6) => (0, import_lodash.default)(o3[h6], a4[h6]))) : this.values), this.update = async (a4, o3) => {
      this.isInitialized(), this.logger.debug("Updating value"), this.logger.trace({ type: "method", method: "update", key: a4, update: o3 });
      const h6 = Lt2(Lt2({}, this.getData(a4)), o3);
      this.map.set(a4, h6), await this.persist();
    }, this.delete = async (a4, o3) => {
      this.isInitialized(), this.map.has(a4) && (this.logger.debug("Deleting value"), this.logger.trace({ type: "method", method: "delete", key: a4, reason: o3 }), this.map.delete(a4), await this.persist());
    }, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.storagePrefix = s2, this.getKey = n4;
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  get length() {
    return this.map.size;
  }
  get keys() {
    return Array.from(this.map.keys());
  }
  get values() {
    return Array.from(this.map.values());
  }
  async setDataStore(e2) {
    await this.core.storage.setItem(this.storageKey, e2);
  }
  async getDataStore() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getData(e2) {
    const t2 = this.map.get(e2);
    if (!t2) {
      const { message: i3 } = N10("NO_MATCHING_KEY", `${this.name}: ${e2}`);
      throw this.logger.error(i3), new Error(i3);
    }
    return t2;
  }
  async persist() {
    await this.setDataStore(this.values);
  }
  async restore() {
    try {
      const e2 = await this.getDataStore();
      if (typeof e2 > "u" || !e2.length)
        return;
      if (this.map.size) {
        const { message: t2 } = N10("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(t2), new Error(t2);
      }
      this.cached = e2, this.logger.debug(`Successfully Restored value for ${this.name}`), this.logger.trace({ type: "method", method: "restore", value: this.values });
    } catch (e2) {
      this.logger.debug(`Failed to Restore value for ${this.name}`), this.logger.error(e2);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var Ft2 = class {
  constructor(e2, t2) {
    this.core = e2, this.logger = t2, this.name = mt2, this.version = ft2, this.events = new y2(), this.initialized = false, this.storagePrefix = x3, this.ignoredPayloadTypes = [_2], this.registeredMethods = [], this.init = async () => {
      this.initialized || (await this.pairings.init(), await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.initialized = true, this.logger.trace("Initialized"));
    }, this.register = ({ methods: i3 }) => {
      this.isInitialized(), this.registeredMethods = [.../* @__PURE__ */ new Set([...this.registeredMethods, ...i3])];
    }, this.create = async () => {
      this.isInitialized();
      const i3 = Dn(), s2 = await this.core.crypto.setSymKey(i3), n4 = lt(import_time3.FIVE_MINUTES), a4 = { protocol: at2 }, o3 = { topic: s2, expiry: n4, relay: a4, active: false }, h6 = Nt({ protocol: this.core.protocol, version: this.core.version, topic: s2, symKey: i3, relay: a4 });
      return await this.pairings.set(s2, o3), await this.core.relayer.subscribe(s2), this.core.expirer.set(s2, n4), { topic: s2, uri: h6 };
    }, this.pair = async (i3) => {
      this.isInitialized(), this.isValidPair(i3);
      const { topic: s2, symKey: n4, relay: a4 } = bt(i3.uri);
      if (this.pairings.keys.includes(s2))
        throw new Error(`Pairing already exists: ${s2}`);
      if (this.core.crypto.hasKeys(s2))
        throw new Error(`Keychain already exists: ${s2}`);
      const o3 = lt(import_time3.FIVE_MINUTES), h6 = { topic: s2, relay: a4, expiry: o3, active: false };
      return await this.pairings.set(s2, h6), await this.core.crypto.setSymKey(n4, s2), await this.core.relayer.subscribe(s2, { relay: a4 }), this.core.expirer.set(s2, o3), i3.activatePairing && await this.activate({ topic: s2 }), h6;
    }, this.activate = async ({ topic: i3 }) => {
      this.isInitialized();
      const s2 = lt(import_time3.THIRTY_DAYS);
      await this.pairings.update(i3, { active: true, expiry: s2 }), this.core.expirer.set(i3, s2);
    }, this.ping = async (i3) => {
      this.isInitialized(), await this.isValidPing(i3);
      const { topic: s2 } = i3;
      if (this.pairings.keys.includes(s2)) {
        const n4 = await this.sendRequest(s2, "wc_pairingPing", {}), { done: a4, resolve: o3, reject: h6 } = st();
        this.events.once(ft("pairing_ping", n4), ({ error: l4 }) => {
          l4 ? h6(l4) : o3();
        }), await a4();
      }
    }, this.updateExpiry = async ({ topic: i3, expiry: s2 }) => {
      this.isInitialized(), await this.pairings.update(i3, { expiry: s2 });
    }, this.updateMetadata = async ({ topic: i3, metadata: s2 }) => {
      this.isInitialized(), await this.pairings.update(i3, { peerMetadata: s2 });
    }, this.getPairings = () => (this.isInitialized(), this.pairings.values), this.disconnect = async (i3) => {
      this.isInitialized(), await this.isValidDisconnect(i3);
      const { topic: s2 } = i3;
      this.pairings.keys.includes(s2) && (await this.sendRequest(s2, "wc_pairingDelete", U("USER_DISCONNECTED")), await this.deletePairing(s2));
    }, this.sendRequest = async (i3, s2, n4) => {
      const a4 = formatJsonRpcRequest(s2, n4), o3 = await this.core.crypto.encode(i3, a4), h6 = F[s2].req;
      return this.core.history.set(i3, a4), this.core.relayer.publish(i3, o3, h6), a4.id;
    }, this.sendResult = async (i3, s2, n4) => {
      const a4 = formatJsonRpcResult(i3, n4), o3 = await this.core.crypto.encode(s2, a4), h6 = await this.core.history.get(s2, i3), l4 = F[h6.request.method].res;
      await this.core.relayer.publish(s2, o3, l4), await this.core.history.resolve(a4);
    }, this.sendError = async (i3, s2, n4) => {
      const a4 = formatJsonRpcError(i3, n4), o3 = await this.core.crypto.encode(s2, a4), h6 = await this.core.history.get(s2, i3), l4 = F[h6.request.method] ? F[h6.request.method].res : F.unregistered_method.res;
      await this.core.relayer.publish(s2, o3, l4), await this.core.history.resolve(a4);
    }, this.deletePairing = async (i3, s2) => {
      await this.core.relayer.unsubscribe(i3), await Promise.all([this.pairings.delete(i3, U("USER_DISCONNECTED")), this.core.crypto.deleteSymKey(i3), s2 ? Promise.resolve() : this.core.expirer.del(i3)]);
    }, this.cleanup = async () => {
      const i3 = this.pairings.getAll().filter((s2) => dt(s2.expiry));
      await Promise.all(i3.map((s2) => this.deletePairing(s2.topic)));
    }, this.onRelayEventRequest = (i3) => {
      const { topic: s2, payload: n4 } = i3;
      switch (n4.method) {
        case "wc_pairingPing":
          return this.onPairingPingRequest(s2, n4);
        case "wc_pairingDelete":
          return this.onPairingDeleteRequest(s2, n4);
        default:
          return this.onUnknownRpcMethodRequest(s2, n4);
      }
    }, this.onRelayEventResponse = async (i3) => {
      const { topic: s2, payload: n4 } = i3, a4 = (await this.core.history.get(s2, n4.id)).request.method;
      switch (a4) {
        case "wc_pairingPing":
          return this.onPairingPingResponse(s2, n4);
        default:
          return this.onUnknownRpcMethodResponse(a4);
      }
    }, this.onPairingPingRequest = async (i3, s2) => {
      const { id: n4 } = s2;
      try {
        this.isValidPing({ topic: i3 }), await this.sendResult(n4, i3, true), this.events.emit("pairing_ping", { id: n4, topic: i3 });
      } catch (a4) {
        await this.sendError(n4, i3, a4), this.logger.error(a4);
      }
    }, this.onPairingPingResponse = (i3, s2) => {
      const { id: n4 } = s2;
      setTimeout(() => {
        isJsonRpcResult(s2) ? this.events.emit(ft("pairing_ping", n4), {}) : isJsonRpcError(s2) && this.events.emit(ft("pairing_ping", n4), { error: s2.error });
      }, 500);
    }, this.onPairingDeleteRequest = async (i3, s2) => {
      const { id: n4 } = s2;
      try {
        this.isValidDisconnect({ topic: i3 }), await this.deletePairing(i3), this.events.emit("pairing_delete", { id: n4, topic: i3 });
      } catch (a4) {
        await this.sendError(n4, i3, a4), this.logger.error(a4);
      }
    }, this.onUnknownRpcMethodRequest = async (i3, s2) => {
      const { id: n4, method: a4 } = s2;
      try {
        if (this.registeredMethods.includes(a4))
          return;
        const o3 = U("WC_METHOD_UNSUPPORTED", a4);
        await this.sendError(n4, i3, o3), this.logger.error(o3);
      } catch (o3) {
        await this.sendError(n4, i3, o3), this.logger.error(o3);
      }
    }, this.onUnknownRpcMethodResponse = (i3) => {
      this.registeredMethods.includes(i3) || this.logger.error(U("WC_METHOD_UNSUPPORTED", i3));
    }, this.isValidPair = (i3) => {
      if (!xt(i3)) {
        const { message: s2 } = N10("MISSING_OR_INVALID", `pair() params: ${i3}`);
        throw new Error(s2);
      }
      if (!jt(i3.uri)) {
        const { message: s2 } = N10("MISSING_OR_INVALID", `pair() uri: ${i3.uri}`);
        throw new Error(s2);
      }
    }, this.isValidPing = async (i3) => {
      if (!xt(i3)) {
        const { message: n4 } = N10("MISSING_OR_INVALID", `ping() params: ${i3}`);
        throw new Error(n4);
      }
      const { topic: s2 } = i3;
      await this.isValidPairingTopic(s2);
    }, this.isValidDisconnect = async (i3) => {
      if (!xt(i3)) {
        const { message: n4 } = N10("MISSING_OR_INVALID", `disconnect() params: ${i3}`);
        throw new Error(n4);
      }
      const { topic: s2 } = i3;
      await this.isValidPairingTopic(s2);
    }, this.isValidPairingTopic = async (i3) => {
      if (!h4(i3, false)) {
        const { message: s2 } = N10("MISSING_OR_INVALID", `pairing topic should be a string: ${i3}`);
        throw new Error(s2);
      }
      if (!this.pairings.keys.includes(i3)) {
        const { message: s2 } = N10("NO_MATCHING_KEY", `pairing topic doesn't exist: ${i3}`);
        throw new Error(s2);
      }
      if (dt(this.pairings.get(i3).expiry)) {
        await this.deletePairing(i3);
        const { message: s2 } = N10("EXPIRED", `pairing topic: ${i3}`);
        throw new Error(s2);
      }
    }, this.core = e2, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.pairings = new Ut(this.core, this.logger, this.name, this.storagePrefix);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
  registerRelayerEvents() {
    this.core.relayer.on(D3.message, async (e2) => {
      const { topic: t2, message: i3 } = e2;
      if (!this.pairings.keys.includes(t2) || this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i3)))
        return;
      const s2 = await this.core.crypto.decode(t2, i3);
      try {
        isJsonRpcRequest(s2) ? (this.core.history.set(t2, s2), this.onRelayEventRequest({ topic: t2, payload: s2 })) : isJsonRpcResponse(s2) && (await this.core.history.resolve(s2), await this.onRelayEventResponse({ topic: t2, payload: s2 }), this.core.history.delete(t2, s2.id));
      } catch (n4) {
        this.logger.error(n4);
      }
    });
  }
  registerExpirerEvents() {
    this.core.expirer.on(w2.expired, async (e2) => {
      const { topic: t2 } = ut(e2.target);
      t2 && this.pairings.keys.includes(t2) && (await this.deletePairing(t2, true), this.events.emit("pairing_expire", { topic: t2 }));
    });
  }
};
var $t2 = class extends h3 {
  constructor(e2, t2) {
    super(e2, t2), this.core = e2, this.logger = t2, this.records = /* @__PURE__ */ new Map(), this.events = new EventEmitter(), this.name = Et2, this.version = wt, this.cached = [], this.initialized = false, this.storagePrefix = x3, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((i3) => this.records.set(i3.id, i3)), this.cached = [], this.registerEventListeners(), this.initialized = true);
    }, this.set = (i3, s2, n4) => {
      if (this.isInitialized(), this.logger.debug("Setting JSON-RPC request history record"), this.logger.trace({ type: "method", method: "set", topic: i3, request: s2, chainId: n4 }), this.records.has(s2.id))
        return;
      const a4 = { id: s2.id, topic: i3, request: { method: s2.method, params: s2.params || null }, chainId: n4, expiry: lt(import_time3.THIRTY_DAYS) };
      this.records.set(a4.id, a4), this.events.emit(R2.created, a4);
    }, this.resolve = async (i3) => {
      if (this.isInitialized(), this.logger.debug("Updating JSON-RPC response history record"), this.logger.trace({ type: "method", method: "update", response: i3 }), !this.records.has(i3.id))
        return;
      const s2 = await this.getRecord(i3.id);
      typeof s2.response > "u" && (s2.response = isJsonRpcError(i3) ? { error: i3.error } : { result: i3.result }, this.records.set(s2.id, s2), this.events.emit(R2.updated, s2));
    }, this.get = async (i3, s2) => (this.isInitialized(), this.logger.debug("Getting record"), this.logger.trace({ type: "method", method: "get", topic: i3, id: s2 }), await this.getRecord(s2)), this.delete = (i3, s2) => {
      this.isInitialized(), this.logger.debug("Deleting record"), this.logger.trace({ type: "method", method: "delete", id: s2 }), this.values.forEach((n4) => {
        if (n4.topic === i3) {
          if (typeof s2 < "u" && n4.id !== s2)
            return;
          this.records.delete(n4.id), this.events.emit(R2.deleted, n4);
        }
      });
    }, this.exists = async (i3, s2) => (this.isInitialized(), this.records.has(s2) ? (await this.getRecord(s2)).topic === i3 : false), this.on = (i3, s2) => {
      this.events.on(i3, s2);
    }, this.once = (i3, s2) => {
      this.events.once(i3, s2);
    }, this.off = (i3, s2) => {
      this.events.off(i3, s2);
    }, this.removeListener = (i3, s2) => {
      this.events.removeListener(i3, s2);
    }, this.logger = (0, import_logger.generateChildLogger)(t2, this.name);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  get size() {
    return this.records.size;
  }
  get keys() {
    return Array.from(this.records.keys());
  }
  get values() {
    return Array.from(this.records.values());
  }
  get pending() {
    const e2 = [];
    return this.values.forEach((t2) => {
      if (typeof t2.response < "u")
        return;
      const i3 = { topic: t2.topic, request: formatJsonRpcRequest(t2.request.method, t2.request.params, t2.id), chainId: t2.chainId };
      return e2.push(i3);
    }), e2;
  }
  async setJsonRpcRecords(e2) {
    await this.core.storage.setItem(this.storageKey, e2);
  }
  async getJsonRpcRecords() {
    return await this.core.storage.getItem(this.storageKey);
  }
  getRecord(e2) {
    this.isInitialized();
    const t2 = this.records.get(e2);
    if (!t2) {
      const { message: i3 } = N10("NO_MATCHING_KEY", `${this.name}: ${e2}`);
      throw new Error(i3);
    }
    return t2;
  }
  async persist() {
    await this.setJsonRpcRecords(this.values), this.events.emit(R2.sync);
  }
  async restore() {
    try {
      const e2 = await this.getJsonRpcRecords();
      if (typeof e2 > "u" || !e2.length)
        return;
      if (this.records.size) {
        const { message: t2 } = N10("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(t2), new Error(t2);
      }
      this.cached = e2, this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: "method", method: "restore", records: this.values });
    } catch (e2) {
      this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(e2);
    }
  }
  registerEventListeners() {
    this.events.on(R2.created, (e2) => {
      const t2 = R2.created;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, record: e2 }), this.persist();
    }), this.events.on(R2.updated, (e2) => {
      const t2 = R2.updated;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, record: e2 }), this.persist();
    }), this.events.on(R2.deleted, (e2) => {
      const t2 = R2.deleted;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, record: e2 }), this.persist();
    }), this.core.heartbeat.on(import_heartbeat.HEARTBEAT_EVENTS.pulse, () => {
      this.cleanup();
    });
  }
  cleanup() {
    try {
      this.records.forEach((e2) => {
        (0, import_time3.toMiliseconds)(e2.expiry || 0) - Date.now() <= 0 && (this.logger.info(`Deleting expired history log: ${e2.id}`), this.delete(e2.topic, e2.id));
      });
    } catch (e2) {
      this.logger.warn(e2);
    }
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var Mt2 = class extends E2 {
  constructor(e2, t2) {
    super(e2, t2), this.core = e2, this.logger = t2, this.expirations = /* @__PURE__ */ new Map(), this.events = new EventEmitter(), this.name = vt2, this.version = It, this.cached = [], this.initialized = false, this.storagePrefix = x3, this.init = async () => {
      this.initialized || (this.logger.trace("Initialized"), await this.restore(), this.cached.forEach((i3) => this.expirations.set(i3.target, i3)), this.cached = [], this.registerEventListeners(), this.initialized = true);
    }, this.has = (i3) => {
      try {
        const s2 = this.formatTarget(i3);
        return typeof this.getExpiration(s2) < "u";
      } catch {
        return false;
      }
    }, this.set = (i3, s2) => {
      this.isInitialized();
      const n4 = this.formatTarget(i3), a4 = { target: n4, expiry: s2 };
      this.expirations.set(n4, a4), this.checkExpiry(n4, a4), this.events.emit(w2.created, { target: n4, expiration: a4 });
    }, this.get = (i3) => {
      this.isInitialized();
      const s2 = this.formatTarget(i3);
      return this.getExpiration(s2);
    }, this.del = (i3) => {
      if (this.isInitialized(), this.has(i3)) {
        const s2 = this.formatTarget(i3), n4 = this.getExpiration(s2);
        this.expirations.delete(s2), this.events.emit(w2.deleted, { target: s2, expiration: n4 });
      }
    }, this.on = (i3, s2) => {
      this.events.on(i3, s2);
    }, this.once = (i3, s2) => {
      this.events.once(i3, s2);
    }, this.off = (i3, s2) => {
      this.events.off(i3, s2);
    }, this.removeListener = (i3, s2) => {
      this.events.removeListener(i3, s2);
    }, this.logger = (0, import_logger.generateChildLogger)(t2, this.name);
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  get storageKey() {
    return this.storagePrefix + this.version + "//" + this.name;
  }
  get length() {
    return this.expirations.size;
  }
  get keys() {
    return Array.from(this.expirations.keys());
  }
  get values() {
    return Array.from(this.expirations.values());
  }
  formatTarget(e2) {
    if (typeof e2 == "string")
      return ct(e2);
    if (typeof e2 == "number")
      return at(e2);
    const { message: t2 } = N10("UNKNOWN_TYPE", `Target type: ${typeof e2}`);
    throw new Error(t2);
  }
  async setExpirations(e2) {
    await this.core.storage.setItem(this.storageKey, e2);
  }
  async getExpirations() {
    return await this.core.storage.getItem(this.storageKey);
  }
  async persist() {
    await this.setExpirations(this.values), this.events.emit(w2.sync);
  }
  async restore() {
    try {
      const e2 = await this.getExpirations();
      if (typeof e2 > "u" || !e2.length)
        return;
      if (this.expirations.size) {
        const { message: t2 } = N10("RESTORE_WILL_OVERRIDE", this.name);
        throw this.logger.error(t2), new Error(t2);
      }
      this.cached = e2, this.logger.debug(`Successfully Restored expirations for ${this.name}`), this.logger.trace({ type: "method", method: "restore", expirations: this.values });
    } catch (e2) {
      this.logger.debug(`Failed to Restore expirations for ${this.name}`), this.logger.error(e2);
    }
  }
  getExpiration(e2) {
    const t2 = this.expirations.get(e2);
    if (!t2) {
      const { message: i3 } = N10("NO_MATCHING_KEY", `${this.name}: ${e2}`);
      throw this.logger.error(i3), new Error(i3);
    }
    return t2;
  }
  checkExpiry(e2, t2) {
    const { expiry: i3 } = t2;
    (0, import_time3.toMiliseconds)(i3) - Date.now() <= 0 && this.expire(e2, t2);
  }
  expire(e2, t2) {
    this.expirations.delete(e2), this.events.emit(w2.expired, { target: e2, expiration: t2 });
  }
  checkExpirations() {
    this.core.relayer.connected && this.expirations.forEach((e2, t2) => this.checkExpiry(t2, e2));
  }
  registerEventListeners() {
    this.core.heartbeat.on(import_heartbeat.HEARTBEAT_EVENTS.pulse, () => this.checkExpirations()), this.events.on(w2.created, (e2) => {
      const t2 = w2.created;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, data: e2 }), this.persist();
    }), this.events.on(w2.expired, (e2) => {
      const t2 = w2.expired;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, data: e2 }), this.persist();
    }), this.events.on(w2.deleted, (e2) => {
      const t2 = w2.deleted;
      this.logger.info(`Emitting ${t2}`), this.logger.debug({ type: "event", event: t2, data: e2 }), this.persist();
    });
  }
  isInitialized() {
    if (!this.initialized) {
      const { message: e2 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(e2);
    }
  }
};
var kt2 = class extends y4 {
  constructor(e2, t2) {
    super(e2, t2), this.projectId = e2, this.logger = t2, this.name = X2, this.initialized = false, this.queue = [], this.verifyDisabled = false, this.init = async (i3) => {
      if (this.verifyDisabled || H() || !q())
        return;
      const s2 = i3?.verifyUrl || Q2;
      this.verifyUrl !== s2 && this.removeIframe(), this.verifyUrl = s2;
      try {
        await this.createIframe();
      } catch (n4) {
        this.logger.warn(`Verify iframe failed to load: ${this.verifyUrl}`), this.logger.warn(n4);
      }
      if (!this.initialized) {
        this.removeIframe(), this.verifyUrl = ge;
        try {
          await this.createIframe();
        } catch (n4) {
          this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`), this.logger.error(n4), this.verifyDisabled = true;
        }
      }
    }, this.register = async (i3) => {
      this.initialized ? this.sendPost(i3.attestationId) : (this.addToQueue(i3.attestationId), await this.init());
    }, this.resolve = async (i3) => {
      if (this.isDevEnv)
        return "";
      const s2 = i3?.verifyUrl || Q2;
      let n4 = "";
      try {
        n4 = await this.fetchAttestation(i3.attestationId, s2);
      } catch (a4) {
        this.logger.warn(`failed to resolve attestation: ${i3.attestationId} from url: ${s2}`), this.logger.warn(a4), n4 = await this.fetchAttestation(i3.attestationId, ge);
      }
      return n4;
    }, this.fetchAttestation = async (i3, s2) => {
      var n4;
      this.logger.info(`resolving attestation: ${i3} from url: ${s2}`);
      const a4 = this.startAbortTimer(import_time3.ONE_SECOND * 2), o3 = await fetch(`${s2}/attestation/${i3}`, { signal: this.abortController.signal });
      return clearTimeout(a4), o3.status === 200 ? (n4 = await o3.json()) == null ? void 0 : n4.origin : "";
    }, this.addToQueue = (i3) => {
      this.queue.push(i3);
    }, this.processQueue = () => {
      this.queue.length !== 0 && (this.queue.forEach((i3) => this.sendPost(i3)), this.queue = []);
    }, this.sendPost = (i3) => {
      var s2;
      try {
        if (!this.iframe)
          return;
        (s2 = this.iframe.contentWindow) == null || s2.postMessage(i3, "*"), this.logger.info(`postMessage sent: ${i3} ${this.verifyUrl}`);
      } catch {
      }
    }, this.createIframe = async () => {
      let i3;
      const s2 = (n4) => {
        n4.data === "verify_ready" && (this.initialized = true, this.processQueue(), window.removeEventListener("message", s2), i3());
      };
      await Promise.race([new Promise((n4) => {
        if (document.getElementById(X2))
          return n4();
        window.addEventListener("message", s2);
        const a4 = document.createElement("iframe");
        a4.id = X2, a4.src = `${this.verifyUrl}/${this.projectId}`, a4.style.display = "none", document.body.append(a4), this.iframe = a4, i3 = n4;
      }), new Promise((n4, a4) => setTimeout(() => {
        window.removeEventListener("message", s2), a4("verify iframe load timeout");
      }, (0, import_time3.toMiliseconds)(import_time3.FIVE_SECONDS)))]);
    }, this.removeIframe = () => {
      this.iframe && (this.iframe.remove(), this.iframe = void 0, this.initialized = false);
    }, this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.verifyUrl = Q2, this.abortController = new AbortController(), this.isDevEnv = te() && process.env.IS_VITEST;
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  startAbortTimer(e2) {
    return this.abortController = new AbortController(), setTimeout(() => this.abortController.abort(), (0, import_time3.toMiliseconds)(e2));
  }
};
var Sr = Object.defineProperty;
var Kt2 = Object.getOwnPropertySymbols;
var Pr = Object.prototype.hasOwnProperty;
var Or = Object.prototype.propertyIsEnumerable;
var Bt2 = (r3, e2, t2) => e2 in r3 ? Sr(r3, e2, { enumerable: true, configurable: true, writable: true, value: t2 }) : r3[e2] = t2;
var Vt2 = (r3, e2) => {
  for (var t2 in e2 || (e2 = {}))
    Pr.call(e2, t2) && Bt2(r3, t2, e2[t2]);
  if (Kt2)
    for (var t2 of Kt2(e2))
      Or.call(e2, t2) && Bt2(r3, t2, e2[t2]);
  return r3;
};
var Z2 = class extends n2 {
  constructor(e2) {
    super(e2), this.protocol = ce2, this.version = Je2, this.name = W2, this.events = new EventEmitter(), this.initialized = false, this.on = (i3, s2) => this.events.on(i3, s2), this.once = (i3, s2) => this.events.once(i3, s2), this.off = (i3, s2) => this.events.off(i3, s2), this.removeListener = (i3, s2) => this.events.removeListener(i3, s2), this.projectId = e2?.projectId, this.relayUrl = e2?.relayUrl || le2;
    const t2 = typeof e2?.logger < "u" && typeof e2?.logger != "string" ? e2.logger : (0, import_logger.pino)((0, import_logger.getDefaultLoggerOptions)({ level: e2?.logger || We2.logger }));
    this.logger = (0, import_logger.generateChildLogger)(t2, this.name), this.heartbeat = new import_heartbeat.HeartBeat(), this.crypto = new Rt(this, this.logger, e2?.keychain), this.history = new $t2(this, this.logger), this.expirer = new Mt2(this, this.logger), this.storage = e2 != null && e2.storage ? e2.storage : new h2(Vt2(Vt2({}, Xe), e2?.storageOptions)), this.relayer = new At2({ core: this, logger: this.logger, relayUrl: this.relayUrl, projectId: this.projectId }), this.pairing = new Ft2(this, this.logger), this.verify = new kt2(this.projectId || "", this.logger);
  }
  static async init(e2) {
    const t2 = new Z2(e2);
    await t2.initialize();
    const i3 = await t2.crypto.getClientId();
    return await t2.storage.setItem(pt2, i3), t2;
  }
  get context() {
    return (0, import_logger.getLoggerContext)(this.logger);
  }
  async start() {
    this.initialized || await this.initialize();
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.crypto.init(), await this.history.init(), await this.expirer.init(), await this.relayer.init(), await this.heartbeat.init(), await this.pairing.init(), this.initialized = true, this.logger.info("Core Initialization Success");
    } catch (e2) {
      throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`, e2), this.logger.error(e2.message), e2;
    }
  }
};
var xr = Z2;

// node_modules/.pnpm/@walletconnect+sign-client@2.10.0/node_modules/@walletconnect/sign-client/dist/index.es.js
var import_logger2 = __toESM(require_cjs6());
init_events2();
var import_time4 = __toESM(require_cjs4());
init_esm6();
var J3 = "wc";
var X3 = 2;
var F2 = "client";
var G2 = `${J3}@${X3}:${F2}:`;
var M2 = { name: F2, logger: "error", controller: false, relayUrl: "wss://relay.walletconnect.com" };
var H3 = "WALLETCONNECT_DEEPLINK_CHOICE";
var ne2 = "proposal";
var oe2 = "Proposal expired";
var ae3 = "session";
var C2 = import_time4.SEVEN_DAYS;
var ce3 = "engine";
var V = { wc_sessionPropose: { req: { ttl: import_time4.FIVE_MINUTES, prompt: true, tag: 1100 }, res: { ttl: import_time4.FIVE_MINUTES, prompt: false, tag: 1101 } }, wc_sessionSettle: { req: { ttl: import_time4.FIVE_MINUTES, prompt: false, tag: 1102 }, res: { ttl: import_time4.FIVE_MINUTES, prompt: false, tag: 1103 } }, wc_sessionUpdate: { req: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1104 }, res: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1105 } }, wc_sessionExtend: { req: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1106 }, res: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1107 } }, wc_sessionRequest: { req: { ttl: import_time4.FIVE_MINUTES, prompt: true, tag: 1108 }, res: { ttl: import_time4.FIVE_MINUTES, prompt: false, tag: 1109 } }, wc_sessionEvent: { req: { ttl: import_time4.FIVE_MINUTES, prompt: true, tag: 1110 }, res: { ttl: import_time4.FIVE_MINUTES, prompt: false, tag: 1111 } }, wc_sessionDelete: { req: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1112 }, res: { ttl: import_time4.ONE_DAY, prompt: false, tag: 1113 } }, wc_sessionPing: { req: { ttl: import_time4.THIRTY_SECONDS, prompt: false, tag: 1114 }, res: { ttl: import_time4.THIRTY_SECONDS, prompt: false, tag: 1115 } } };
var U3 = { min: import_time4.FIVE_MINUTES, max: import_time4.SEVEN_DAYS };
var E4 = { idle: "IDLE", active: "ACTIVE" };
var le3 = "request";
var pe2 = ["wc_sessionPropose", "wc_sessionRequest", "wc_authRequest"];
var rs2 = Object.defineProperty;
var ns2 = Object.defineProperties;
var os2 = Object.getOwnPropertyDescriptors;
var he3 = Object.getOwnPropertySymbols;
var as2 = Object.prototype.hasOwnProperty;
var cs2 = Object.prototype.propertyIsEnumerable;
var de3 = (m3, r3, e2) => r3 in m3 ? rs2(m3, r3, { enumerable: true, configurable: true, writable: true, value: e2 }) : m3[r3] = e2;
var g3 = (m3, r3) => {
  for (var e2 in r3 || (r3 = {}))
    as2.call(r3, e2) && de3(m3, e2, r3[e2]);
  if (he3)
    for (var e2 of he3(r3))
      cs2.call(r3, e2) && de3(m3, e2, r3[e2]);
  return m3;
};
var b2 = (m3, r3) => ns2(m3, os2(r3));
var ls2 = class extends S {
  constructor(r3) {
    super(r3), this.name = ce3, this.events = new y2(), this.initialized = false, this.ignoredPayloadTypes = [_2], this.requestQueue = { state: E4.idle, queue: [] }, this.sessionRequestQueue = { state: E4.idle, queue: [] }, this.requestQueueDelay = import_time4.ONE_SECOND, this.init = async () => {
      this.initialized || (await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.client.core.pairing.register({ methods: Object.keys(V) }), this.initialized = true, setTimeout(() => {
        this.sessionRequestQueue.queue = this.getPendingSessionRequests(), this.processSessionRequestQueue();
      }, (0, import_time4.toMiliseconds)(this.requestQueueDelay)));
    }, this.connect = async (e2) => {
      await this.isInitialized();
      const s2 = b2(g3({}, e2), { requiredNamespaces: e2.requiredNamespaces || {}, optionalNamespaces: e2.optionalNamespaces || {} });
      await this.isValidConnect(s2);
      const { pairingTopic: t2, requiredNamespaces: i3, optionalNamespaces: n4, sessionProperties: o3, relays: a4 } = s2;
      let l4 = t2, p6, d3 = false;
      if (l4 && (d3 = this.client.core.pairing.pairings.get(l4).active), !l4 || !d3) {
        const { topic: v2, uri: S3 } = await this.client.core.pairing.create();
        l4 = v2, p6 = S3;
      }
      const h6 = await this.client.core.crypto.generateKeyPair(), I = g3({ requiredNamespaces: i3, optionalNamespaces: n4, relays: a4 ?? [{ protocol: at2 }], proposer: { publicKey: h6, metadata: this.client.metadata } }, o3 && { sessionProperties: o3 }), { reject: w4, resolve: T2, done: K3 } = st(import_time4.FIVE_MINUTES, oe2);
      if (this.events.once(ft("session_connect"), async ({ error: v2, session: S3 }) => {
        if (v2)
          w4(v2);
        else if (S3) {
          S3.self.publicKey = h6;
          const W4 = b2(g3({}, S3), { requiredNamespaces: S3.requiredNamespaces, optionalNamespaces: S3.optionalNamespaces });
          await this.client.session.set(S3.topic, W4), await this.setExpiry(S3.topic, S3.expiry), l4 && await this.client.core.pairing.updateMetadata({ topic: l4, metadata: S3.peer.metadata }), T2(W4);
        }
      }), !l4) {
        const { message: v2 } = N10("NO_MATCHING_KEY", `connect() pairing topic: ${l4}`);
        throw new Error(v2);
      }
      const L3 = await this.sendRequest({ topic: l4, method: "wc_sessionPropose", params: I }), ue3 = lt(import_time4.FIVE_MINUTES);
      return await this.setProposal(L3, g3({ id: L3, expiry: ue3 }, I)), { uri: p6, approval: K3 };
    }, this.pair = async (e2) => (await this.isInitialized(), await this.client.core.pairing.pair(e2)), this.approve = async (e2) => {
      await this.isInitialized(), await this.isValidApprove(e2);
      const { id: s2, relayProtocol: t2, namespaces: i3, sessionProperties: n4 } = e2, o3 = this.client.proposal.get(s2);
      let { pairingTopic: a4, proposer: l4, requiredNamespaces: p6, optionalNamespaces: d3 } = o3;
      a4 = a4 || "", B(p6) || (p6 = At(i3, "approve()"));
      const h6 = await this.client.core.crypto.generateKeyPair(), I = l4.publicKey, w4 = await this.client.core.crypto.generateSharedKey(h6, I);
      a4 && s2 && (await this.client.core.pairing.updateMetadata({ topic: a4, metadata: l4.metadata }), await this.sendResult({ id: s2, topic: a4, result: { relay: { protocol: t2 ?? "irn" }, responderPublicKey: h6 } }), await this.client.proposal.delete(s2, U("USER_DISCONNECTED")), await this.client.core.pairing.activate({ topic: a4 }));
      const T2 = g3({ relay: { protocol: t2 ?? "irn" }, namespaces: i3, requiredNamespaces: p6, optionalNamespaces: d3, pairingTopic: a4, controller: { publicKey: h6, metadata: this.client.metadata }, expiry: lt(C2) }, n4 && { sessionProperties: n4 });
      await this.client.core.relayer.subscribe(w4), await this.sendRequest({ topic: w4, method: "wc_sessionSettle", params: T2, throwOnFailedPublish: true });
      const K3 = b2(g3({}, T2), { topic: w4, pairingTopic: a4, acknowledged: false, self: T2.controller, peer: { publicKey: l4.publicKey, metadata: l4.metadata }, controller: h6 });
      return await this.client.session.set(w4, K3), await this.setExpiry(w4, lt(C2)), { topic: w4, acknowledged: () => new Promise((L3) => setTimeout(() => L3(this.client.session.get(w4)), 500)) };
    }, this.reject = async (e2) => {
      await this.isInitialized(), await this.isValidReject(e2);
      const { id: s2, reason: t2 } = e2, { pairingTopic: i3 } = this.client.proposal.get(s2);
      i3 && (await this.sendError(s2, i3, t2), await this.client.proposal.delete(s2, U("USER_DISCONNECTED")));
    }, this.update = async (e2) => {
      await this.isInitialized(), await this.isValidUpdate(e2);
      const { topic: s2, namespaces: t2 } = e2, i3 = await this.sendRequest({ topic: s2, method: "wc_sessionUpdate", params: { namespaces: t2 } }), { done: n4, resolve: o3, reject: a4 } = st();
      return this.events.once(ft("session_update", i3), ({ error: l4 }) => {
        l4 ? a4(l4) : o3();
      }), await this.client.session.update(s2, { namespaces: t2 }), { acknowledged: n4 };
    }, this.extend = async (e2) => {
      await this.isInitialized(), await this.isValidExtend(e2);
      const { topic: s2 } = e2, t2 = await this.sendRequest({ topic: s2, method: "wc_sessionExtend", params: {} }), { done: i3, resolve: n4, reject: o3 } = st();
      return this.events.once(ft("session_extend", t2), ({ error: a4 }) => {
        a4 ? o3(a4) : n4();
      }), await this.setExpiry(s2, lt(C2)), { acknowledged: i3 };
    }, this.request = async (e2) => {
      await this.isInitialized(), await this.isValidRequest(e2);
      const { chainId: s2, request: t2, topic: i3, expiry: n4 } = e2, o3 = payloadId(), { done: a4, resolve: l4, reject: p6 } = st(n4);
      return this.events.once(ft("session_request", o3), ({ error: d3, result: h6 }) => {
        d3 ? p6(d3) : l4(h6);
      }), await Promise.all([new Promise(async (d3) => {
        await this.sendRequest({ clientRpcId: o3, topic: i3, method: "wc_sessionRequest", params: { request: t2, chainId: s2 }, expiry: n4, throwOnFailedPublish: true }).catch((h6) => p6(h6)), this.client.events.emit("session_request_sent", { topic: i3, request: t2, chainId: s2, id: o3 }), d3();
      }), new Promise(async (d3) => {
        const h6 = await this.client.core.storage.getItem(H3);
        pt({ id: o3, topic: i3, wcDeepLink: h6 }), d3();
      }), a4()]).then((d3) => d3[2]);
    }, this.respond = async (e2) => {
      await this.isInitialized(), await this.isValidRespond(e2);
      const { topic: s2, response: t2 } = e2, { id: i3 } = t2;
      isJsonRpcResult(t2) ? await this.sendResult({ id: i3, topic: s2, result: t2.result, throwOnFailedPublish: true }) : isJsonRpcError(t2) && await this.sendError(i3, s2, t2.error), this.cleanupAfterResponse(e2);
    }, this.ping = async (e2) => {
      await this.isInitialized(), await this.isValidPing(e2);
      const { topic: s2 } = e2;
      if (this.client.session.keys.includes(s2)) {
        const t2 = await this.sendRequest({ topic: s2, method: "wc_sessionPing", params: {} }), { done: i3, resolve: n4, reject: o3 } = st();
        this.events.once(ft("session_ping", t2), ({ error: a4 }) => {
          a4 ? o3(a4) : n4();
        }), await i3();
      } else
        this.client.core.pairing.pairings.keys.includes(s2) && await this.client.core.pairing.ping({ topic: s2 });
    }, this.emit = async (e2) => {
      await this.isInitialized(), await this.isValidEmit(e2);
      const { topic: s2, event: t2, chainId: i3 } = e2;
      await this.sendRequest({ topic: s2, method: "wc_sessionEvent", params: { event: t2, chainId: i3 } });
    }, this.disconnect = async (e2) => {
      await this.isInitialized(), await this.isValidDisconnect(e2);
      const { topic: s2 } = e2;
      this.client.session.keys.includes(s2) ? (await this.sendRequest({ topic: s2, method: "wc_sessionDelete", params: U("USER_DISCONNECTED"), throwOnFailedPublish: true }), await this.deleteSession(s2)) : await this.client.core.pairing.disconnect({ topic: s2 });
    }, this.find = (e2) => (this.isInitialized(), this.client.session.getAll().filter((s2) => $t(s2, e2))), this.getPendingSessionRequests = () => (this.isInitialized(), this.client.pendingRequest.getAll()), this.cleanupDuplicatePairings = async (e2) => {
      if (e2.pairingTopic)
        try {
          const s2 = this.client.core.pairing.pairings.get(e2.pairingTopic), t2 = this.client.core.pairing.pairings.getAll().filter((i3) => {
            var n4, o3;
            return ((n4 = i3.peerMetadata) == null ? void 0 : n4.url) && ((o3 = i3.peerMetadata) == null ? void 0 : o3.url) === e2.peer.metadata.url && i3.topic && i3.topic !== s2.topic;
          });
          if (t2.length === 0)
            return;
          this.client.logger.info(`Cleaning up ${t2.length} duplicate pairing(s)`), await Promise.all(t2.map((i3) => this.client.core.pairing.disconnect({ topic: i3.topic }))), this.client.logger.info("Duplicate pairings clean up finished");
        } catch (s2) {
          this.client.logger.error(s2);
        }
    }, this.deleteSession = async (e2, s2) => {
      const { self: t2 } = this.client.session.get(e2);
      await this.client.core.relayer.unsubscribe(e2), this.client.session.delete(e2, U("USER_DISCONNECTED")), this.client.core.crypto.keychain.has(t2.publicKey) && await this.client.core.crypto.deleteKeyPair(t2.publicKey), this.client.core.crypto.keychain.has(e2) && await this.client.core.crypto.deleteSymKey(e2), s2 || this.client.core.expirer.del(e2), this.client.core.storage.removeItem(H3).catch((i3) => this.client.logger.warn(i3));
    }, this.deleteProposal = async (e2, s2) => {
      await Promise.all([this.client.proposal.delete(e2, U("USER_DISCONNECTED")), s2 ? Promise.resolve() : this.client.core.expirer.del(e2)]);
    }, this.deletePendingSessionRequest = async (e2, s2, t2 = false) => {
      await Promise.all([this.client.pendingRequest.delete(e2, s2), t2 ? Promise.resolve() : this.client.core.expirer.del(e2)]), this.sessionRequestQueue.queue = this.sessionRequestQueue.queue.filter((i3) => i3.id !== e2), t2 && (this.sessionRequestQueue.state = E4.idle);
    }, this.setExpiry = async (e2, s2) => {
      this.client.session.keys.includes(e2) && await this.client.session.update(e2, { expiry: s2 }), this.client.core.expirer.set(e2, s2);
    }, this.setProposal = async (e2, s2) => {
      await this.client.proposal.set(e2, s2), this.client.core.expirer.set(e2, s2.expiry);
    }, this.setPendingSessionRequest = async (e2) => {
      const s2 = V.wc_sessionRequest.req.ttl, { id: t2, topic: i3, params: n4 } = e2;
      await this.client.pendingRequest.set(t2, { id: t2, topic: i3, params: n4 }), s2 && this.client.core.expirer.set(t2, lt(s2));
    }, this.sendRequest = async (e2) => {
      const { topic: s2, method: t2, params: i3, expiry: n4, relayRpcId: o3, clientRpcId: a4, throwOnFailedPublish: l4 } = e2, p6 = formatJsonRpcRequest(t2, i3, a4);
      if (q() && pe2.includes(t2)) {
        const I = Mn(JSON.stringify(p6));
        this.client.core.verify.register({ attestationId: I });
      }
      const d3 = await this.client.core.crypto.encode(s2, p6), h6 = V[t2].req;
      return n4 && (h6.ttl = n4), o3 && (h6.id = o3), this.client.core.history.set(s2, p6), l4 ? (h6.internal = b2(g3({}, h6.internal), { throwOnFailedPublish: true }), await this.client.core.relayer.publish(s2, d3, h6)) : this.client.core.relayer.publish(s2, d3, h6).catch((I) => this.client.logger.error(I)), p6.id;
    }, this.sendResult = async (e2) => {
      const { id: s2, topic: t2, result: i3, throwOnFailedPublish: n4 } = e2, o3 = formatJsonRpcResult(s2, i3), a4 = await this.client.core.crypto.encode(t2, o3), l4 = await this.client.core.history.get(t2, s2), p6 = V[l4.request.method].res;
      n4 ? (p6.internal = b2(g3({}, p6.internal), { throwOnFailedPublish: true }), await this.client.core.relayer.publish(t2, a4, p6)) : this.client.core.relayer.publish(t2, a4, p6).catch((d3) => this.client.logger.error(d3)), await this.client.core.history.resolve(o3);
    }, this.sendError = async (e2, s2, t2) => {
      const i3 = formatJsonRpcError(e2, t2), n4 = await this.client.core.crypto.encode(s2, i3), o3 = await this.client.core.history.get(s2, e2), a4 = V[o3.request.method].res;
      this.client.core.relayer.publish(s2, n4, a4), await this.client.core.history.resolve(i3);
    }, this.cleanup = async () => {
      const e2 = [], s2 = [];
      this.client.session.getAll().forEach((t2) => {
        dt(t2.expiry) && e2.push(t2.topic);
      }), this.client.proposal.getAll().forEach((t2) => {
        dt(t2.expiry) && s2.push(t2.id);
      }), await Promise.all([...e2.map((t2) => this.deleteSession(t2)), ...s2.map((t2) => this.deleteProposal(t2))]);
    }, this.onRelayEventRequest = async (e2) => {
      this.requestQueue.queue.push(e2), await this.processRequestsQueue();
    }, this.processRequestsQueue = async () => {
      if (this.requestQueue.state === E4.active) {
        this.client.logger.info("Request queue already active, skipping...");
        return;
      }
      for (this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`); this.requestQueue.queue.length > 0; ) {
        this.requestQueue.state = E4.active;
        const e2 = this.requestQueue.queue.shift();
        if (e2)
          try {
            this.processRequest(e2), await new Promise((s2) => setTimeout(s2, 300));
          } catch (s2) {
            this.client.logger.warn(s2);
          }
      }
      this.requestQueue.state = E4.idle;
    }, this.processRequest = (e2) => {
      const { topic: s2, payload: t2 } = e2, i3 = t2.method;
      switch (i3) {
        case "wc_sessionPropose":
          return this.onSessionProposeRequest(s2, t2);
        case "wc_sessionSettle":
          return this.onSessionSettleRequest(s2, t2);
        case "wc_sessionUpdate":
          return this.onSessionUpdateRequest(s2, t2);
        case "wc_sessionExtend":
          return this.onSessionExtendRequest(s2, t2);
        case "wc_sessionPing":
          return this.onSessionPingRequest(s2, t2);
        case "wc_sessionDelete":
          return this.onSessionDeleteRequest(s2, t2);
        case "wc_sessionRequest":
          return this.onSessionRequest(s2, t2);
        case "wc_sessionEvent":
          return this.onSessionEventRequest(s2, t2);
        default:
          return this.client.logger.info(`Unsupported request method ${i3}`);
      }
    }, this.onRelayEventResponse = async (e2) => {
      const { topic: s2, payload: t2 } = e2, i3 = (await this.client.core.history.get(s2, t2.id)).request.method;
      switch (i3) {
        case "wc_sessionPropose":
          return this.onSessionProposeResponse(s2, t2);
        case "wc_sessionSettle":
          return this.onSessionSettleResponse(s2, t2);
        case "wc_sessionUpdate":
          return this.onSessionUpdateResponse(s2, t2);
        case "wc_sessionExtend":
          return this.onSessionExtendResponse(s2, t2);
        case "wc_sessionPing":
          return this.onSessionPingResponse(s2, t2);
        case "wc_sessionRequest":
          return this.onSessionRequestResponse(s2, t2);
        default:
          return this.client.logger.info(`Unsupported response method ${i3}`);
      }
    }, this.onRelayEventUnknownPayload = (e2) => {
      const { topic: s2 } = e2, { message: t2 } = N10("MISSING_OR_INVALID", `Decoded payload on topic ${s2} is not identifiable as a JSON-RPC request or a response.`);
      throw new Error(t2);
    }, this.onSessionProposeRequest = async (e2, s2) => {
      const { params: t2, id: i3 } = s2;
      try {
        this.isValidConnect(g3({}, s2.params));
        const n4 = lt(import_time4.FIVE_MINUTES), o3 = g3({ id: i3, pairingTopic: e2, expiry: n4 }, t2);
        await this.setProposal(i3, o3);
        const a4 = Mn(JSON.stringify(s2)), l4 = await this.getVerifyContext(a4, o3.proposer.metadata);
        this.client.events.emit("session_proposal", { id: i3, params: o3, verifyContext: l4 });
      } catch (n4) {
        await this.sendError(i3, e2, n4), this.client.logger.error(n4);
      }
    }, this.onSessionProposeResponse = async (e2, s2) => {
      const { id: t2 } = s2;
      if (isJsonRpcResult(s2)) {
        const { result: i3 } = s2;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", result: i3 });
        const n4 = this.client.proposal.get(t2);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", proposal: n4 });
        const o3 = n4.proposer.publicKey;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", selfPublicKey: o3 });
        const a4 = i3.responderPublicKey;
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", peerPublicKey: a4 });
        const l4 = await this.client.core.crypto.generateSharedKey(o3, a4);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", sessionTopic: l4 });
        const p6 = await this.client.core.relayer.subscribe(l4);
        this.client.logger.trace({ type: "method", method: "onSessionProposeResponse", subscriptionId: p6 }), await this.client.core.pairing.activate({ topic: e2 });
      } else
        isJsonRpcError(s2) && (await this.client.proposal.delete(t2, U("USER_DISCONNECTED")), this.events.emit(ft("session_connect"), { error: s2.error }));
    }, this.onSessionSettleRequest = async (e2, s2) => {
      const { id: t2, params: i3 } = s2;
      try {
        this.isValidSessionSettleRequest(i3);
        const { relay: n4, controller: o3, expiry: a4, namespaces: l4, requiredNamespaces: p6, optionalNamespaces: d3, sessionProperties: h6, pairingTopic: I } = s2.params, w4 = g3({ topic: e2, relay: n4, expiry: a4, namespaces: l4, acknowledged: true, pairingTopic: I, requiredNamespaces: p6, optionalNamespaces: d3, controller: o3.publicKey, self: { publicKey: "", metadata: this.client.metadata }, peer: { publicKey: o3.publicKey, metadata: o3.metadata } }, h6 && { sessionProperties: h6 });
        await this.sendResult({ id: s2.id, topic: e2, result: true }), this.events.emit(ft("session_connect"), { session: w4 }), this.cleanupDuplicatePairings(w4);
      } catch (n4) {
        await this.sendError(t2, e2, n4), this.client.logger.error(n4);
      }
    }, this.onSessionSettleResponse = async (e2, s2) => {
      const { id: t2 } = s2;
      isJsonRpcResult(s2) ? (await this.client.session.update(e2, { acknowledged: true }), this.events.emit(ft("session_approve", t2), {})) : isJsonRpcError(s2) && (await this.client.session.delete(e2, U("USER_DISCONNECTED")), this.events.emit(ft("session_approve", t2), { error: s2.error }));
    }, this.onSessionUpdateRequest = async (e2, s2) => {
      const { params: t2, id: i3 } = s2;
      try {
        const n4 = `${e2}_session_update`, o3 = er.get(n4);
        if (o3 && this.isRequestOutOfSync(o3, i3)) {
          this.client.logger.info(`Discarding out of sync request - ${i3}`);
          return;
        }
        this.isValidUpdate(g3({ topic: e2 }, t2)), await this.client.session.update(e2, { namespaces: t2.namespaces }), await this.sendResult({ id: i3, topic: e2, result: true }), this.client.events.emit("session_update", { id: i3, topic: e2, params: t2 }), er.set(n4, i3);
      } catch (n4) {
        await this.sendError(i3, e2, n4), this.client.logger.error(n4);
      }
    }, this.isRequestOutOfSync = (e2, s2) => parseInt(s2.toString().slice(0, -3)) <= parseInt(e2.toString().slice(0, -3)), this.onSessionUpdateResponse = (e2, s2) => {
      const { id: t2 } = s2;
      isJsonRpcResult(s2) ? this.events.emit(ft("session_update", t2), {}) : isJsonRpcError(s2) && this.events.emit(ft("session_update", t2), { error: s2.error });
    }, this.onSessionExtendRequest = async (e2, s2) => {
      const { id: t2 } = s2;
      try {
        this.isValidExtend({ topic: e2 }), await this.setExpiry(e2, lt(C2)), await this.sendResult({ id: t2, topic: e2, result: true }), this.client.events.emit("session_extend", { id: t2, topic: e2 });
      } catch (i3) {
        await this.sendError(t2, e2, i3), this.client.logger.error(i3);
      }
    }, this.onSessionExtendResponse = (e2, s2) => {
      const { id: t2 } = s2;
      isJsonRpcResult(s2) ? this.events.emit(ft("session_extend", t2), {}) : isJsonRpcError(s2) && this.events.emit(ft("session_extend", t2), { error: s2.error });
    }, this.onSessionPingRequest = async (e2, s2) => {
      const { id: t2 } = s2;
      try {
        this.isValidPing({ topic: e2 }), await this.sendResult({ id: t2, topic: e2, result: true }), this.client.events.emit("session_ping", { id: t2, topic: e2 });
      } catch (i3) {
        await this.sendError(t2, e2, i3), this.client.logger.error(i3);
      }
    }, this.onSessionPingResponse = (e2, s2) => {
      const { id: t2 } = s2;
      setTimeout(() => {
        isJsonRpcResult(s2) ? this.events.emit(ft("session_ping", t2), {}) : isJsonRpcError(s2) && this.events.emit(ft("session_ping", t2), { error: s2.error });
      }, 500);
    }, this.onSessionDeleteRequest = async (e2, s2) => {
      const { id: t2 } = s2;
      try {
        this.isValidDisconnect({ topic: e2, reason: s2.params }), await Promise.all([new Promise((i3) => {
          this.client.core.relayer.once(D3.publish, async () => {
            i3(await this.deleteSession(e2));
          });
        }), this.sendResult({ id: t2, topic: e2, result: true })]), this.client.events.emit("session_delete", { id: t2, topic: e2 });
      } catch (i3) {
        this.client.logger.error(i3);
      }
    }, this.onSessionRequest = async (e2, s2) => {
      const { id: t2, params: i3 } = s2;
      try {
        this.isValidRequest(g3({ topic: e2 }, i3)), await this.setPendingSessionRequest({ id: t2, topic: e2, params: i3 }), this.addSessionRequestToSessionRequestQueue({ id: t2, topic: e2, params: i3 }), await this.processSessionRequestQueue();
      } catch (n4) {
        await this.sendError(t2, e2, n4), this.client.logger.error(n4);
      }
    }, this.onSessionRequestResponse = (e2, s2) => {
      const { id: t2 } = s2;
      isJsonRpcResult(s2) ? this.events.emit(ft("session_request", t2), { result: s2.result }) : isJsonRpcError(s2) && this.events.emit(ft("session_request", t2), { error: s2.error });
    }, this.onSessionEventRequest = async (e2, s2) => {
      const { id: t2, params: i3 } = s2;
      try {
        const n4 = `${e2}_session_event_${i3.event.name}`, o3 = er.get(n4);
        if (o3 && this.isRequestOutOfSync(o3, t2)) {
          this.client.logger.info(`Discarding out of sync request - ${t2}`);
          return;
        }
        this.isValidEmit(g3({ topic: e2 }, i3)), this.client.events.emit("session_event", { id: t2, topic: e2, params: i3 }), er.set(n4, t2);
      } catch (n4) {
        await this.sendError(t2, e2, n4), this.client.logger.error(n4);
      }
    }, this.addSessionRequestToSessionRequestQueue = (e2) => {
      this.sessionRequestQueue.queue.push(e2);
    }, this.cleanupAfterResponse = (e2) => {
      this.deletePendingSessionRequest(e2.response.id, { message: "fulfilled", code: 0 }), setTimeout(() => {
        this.sessionRequestQueue.state = E4.idle, this.processSessionRequestQueue();
      }, (0, import_time4.toMiliseconds)(this.requestQueueDelay));
    }, this.processSessionRequestQueue = async () => {
      if (this.sessionRequestQueue.state === E4.active) {
        this.client.logger.info("session request queue is already active.");
        return;
      }
      const e2 = this.sessionRequestQueue.queue[0];
      if (!e2) {
        this.client.logger.info("session request queue is empty.");
        return;
      }
      try {
        const { id: s2, topic: t2, params: i3 } = e2, n4 = Mn(JSON.stringify(formatJsonRpcRequest("wc_sessionRequest", i3, s2))), o3 = this.client.session.get(t2), a4 = await this.getVerifyContext(n4, o3.peer.metadata);
        this.sessionRequestQueue.state = E4.active, this.client.events.emit("session_request", { id: s2, topic: t2, params: i3, verifyContext: a4 });
      } catch (s2) {
        this.client.logger.error(s2);
      }
    }, this.isValidConnect = async (e2) => {
      if (!xt(e2)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `connect() params: ${JSON.stringify(e2)}`);
        throw new Error(a4);
      }
      const { pairingTopic: s2, requiredNamespaces: t2, optionalNamespaces: i3, sessionProperties: n4, relays: o3 } = e2;
      if (w(s2) || await this.isValidPairingTopic(s2), !Kt(o3, true)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `connect() relays: ${o3}`);
        throw new Error(a4);
      }
      !w(t2) && B(t2) !== 0 && this.validateNamespaces(t2, "requiredNamespaces"), !w(i3) && B(i3) !== 0 && this.validateNamespaces(i3, "optionalNamespaces"), w(n4) || this.validateSessionProps(n4, "sessionProperties");
    }, this.validateNamespaces = (e2, s2) => {
      const t2 = Mt(e2, "connect()", s2);
      if (t2)
        throw new Error(t2.message);
    }, this.isValidApprove = async (e2) => {
      if (!xt(e2))
        throw new Error(N10("MISSING_OR_INVALID", `approve() params: ${e2}`).message);
      const { id: s2, namespaces: t2, relayProtocol: i3, sessionProperties: n4 } = e2;
      await this.isValidProposalId(s2);
      const o3 = this.client.proposal.get(s2), a4 = cn(t2, "approve()");
      if (a4)
        throw new Error(a4.message);
      const l4 = un(o3.requiredNamespaces, t2, "approve()");
      if (l4)
        throw new Error(l4.message);
      if (!h4(i3, true)) {
        const { message: p6 } = N10("MISSING_OR_INVALID", `approve() relayProtocol: ${i3}`);
        throw new Error(p6);
      }
      w(n4) || this.validateSessionProps(n4, "sessionProperties");
    }, this.isValidReject = async (e2) => {
      if (!xt(e2)) {
        const { message: i3 } = N10("MISSING_OR_INVALID", `reject() params: ${e2}`);
        throw new Error(i3);
      }
      const { id: s2, reason: t2 } = e2;
      if (await this.isValidProposalId(s2), !Ft(t2)) {
        const { message: i3 } = N10("MISSING_OR_INVALID", `reject() reason: ${JSON.stringify(t2)}`);
        throw new Error(i3);
      }
    }, this.isValidSessionSettleRequest = (e2) => {
      if (!xt(e2)) {
        const { message: l4 } = N10("MISSING_OR_INVALID", `onSessionSettleRequest() params: ${e2}`);
        throw new Error(l4);
      }
      const { relay: s2, controller: t2, namespaces: i3, expiry: n4 } = e2;
      if (!an(s2)) {
        const { message: l4 } = N10("MISSING_OR_INVALID", "onSessionSettleRequest() relay protocol should be a string");
        throw new Error(l4);
      }
      const o3 = Vt(t2, "onSessionSettleRequest()");
      if (o3)
        throw new Error(o3.message);
      const a4 = cn(i3, "onSessionSettleRequest()");
      if (a4)
        throw new Error(a4.message);
      if (dt(n4)) {
        const { message: l4 } = N10("EXPIRED", "onSessionSettleRequest()");
        throw new Error(l4);
      }
    }, this.isValidUpdate = async (e2) => {
      if (!xt(e2)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `update() params: ${e2}`);
        throw new Error(a4);
      }
      const { topic: s2, namespaces: t2 } = e2;
      await this.isValidSessionTopic(s2);
      const i3 = this.client.session.get(s2), n4 = cn(t2, "update()");
      if (n4)
        throw new Error(n4.message);
      const o3 = un(i3.requiredNamespaces, t2, "update()");
      if (o3)
        throw new Error(o3.message);
    }, this.isValidExtend = async (e2) => {
      if (!xt(e2)) {
        const { message: t2 } = N10("MISSING_OR_INVALID", `extend() params: ${e2}`);
        throw new Error(t2);
      }
      const { topic: s2 } = e2;
      await this.isValidSessionTopic(s2);
    }, this.isValidRequest = async (e2) => {
      if (!xt(e2)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `request() params: ${e2}`);
        throw new Error(a4);
      }
      const { topic: s2, request: t2, chainId: i3, expiry: n4 } = e2;
      await this.isValidSessionTopic(s2);
      const { namespaces: o3 } = this.client.session.get(s2);
      if (!Gt(o3, i3)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `request() chainId: ${i3}`);
        throw new Error(a4);
      }
      if (!Ht(t2)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `request() ${JSON.stringify(t2)}`);
        throw new Error(a4);
      }
      if (!Wt(o3, i3, t2.method)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `request() method: ${t2.method}`);
        throw new Error(a4);
      }
      if (n4 && !Qt(n4, U3)) {
        const { message: a4 } = N10("MISSING_OR_INVALID", `request() expiry: ${n4}. Expiry must be a number (in seconds) between ${U3.min} and ${U3.max}`);
        throw new Error(a4);
      }
    }, this.isValidRespond = async (e2) => {
      if (!xt(e2)) {
        const { message: i3 } = N10("MISSING_OR_INVALID", `respond() params: ${e2}`);
        throw new Error(i3);
      }
      const { topic: s2, response: t2 } = e2;
      if (await this.isValidSessionTopic(s2), !qt(t2)) {
        const { message: i3 } = N10("MISSING_OR_INVALID", `respond() response: ${JSON.stringify(t2)}`);
        throw new Error(i3);
      }
    }, this.isValidPing = async (e2) => {
      if (!xt(e2)) {
        const { message: t2 } = N10("MISSING_OR_INVALID", `ping() params: ${e2}`);
        throw new Error(t2);
      }
      const { topic: s2 } = e2;
      await this.isValidSessionOrPairingTopic(s2);
    }, this.isValidEmit = async (e2) => {
      if (!xt(e2)) {
        const { message: o3 } = N10("MISSING_OR_INVALID", `emit() params: ${e2}`);
        throw new Error(o3);
      }
      const { topic: s2, event: t2, chainId: i3 } = e2;
      await this.isValidSessionTopic(s2);
      const { namespaces: n4 } = this.client.session.get(s2);
      if (!Gt(n4, i3)) {
        const { message: o3 } = N10("MISSING_OR_INVALID", `emit() chainId: ${i3}`);
        throw new Error(o3);
      }
      if (!Bt(t2)) {
        const { message: o3 } = N10("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(t2)}`);
        throw new Error(o3);
      }
      if (!zt(n4, i3, t2.name)) {
        const { message: o3 } = N10("MISSING_OR_INVALID", `emit() event: ${JSON.stringify(t2)}`);
        throw new Error(o3);
      }
    }, this.isValidDisconnect = async (e2) => {
      if (!xt(e2)) {
        const { message: t2 } = N10("MISSING_OR_INVALID", `disconnect() params: ${e2}`);
        throw new Error(t2);
      }
      const { topic: s2 } = e2;
      await this.isValidSessionOrPairingTopic(s2);
    }, this.getVerifyContext = async (e2, s2) => {
      const t2 = { verified: { verifyUrl: s2.verifyUrl || Q2, validation: "UNKNOWN", origin: s2.url || "" } };
      try {
        const i3 = await this.client.core.verify.resolve({ attestationId: e2, verifyUrl: s2.verifyUrl });
        i3 && (t2.verified.origin = i3, t2.verified.validation = i3 === new URL(s2.url).origin ? "VALID" : "INVALID");
      } catch (i3) {
        this.client.logger.error(i3);
      }
      return this.client.logger.info(`Verify context: ${JSON.stringify(t2)}`), t2;
    }, this.validateSessionProps = (e2, s2) => {
      Object.values(e2).forEach((t2) => {
        if (!h4(t2, false)) {
          const { message: i3 } = N10("MISSING_OR_INVALID", `${s2} must be in Record<string, string> format. Received: ${JSON.stringify(t2)}`);
          throw new Error(i3);
        }
      });
    };
  }
  async isInitialized() {
    if (!this.initialized) {
      const { message: r3 } = N10("NOT_INITIALIZED", this.name);
      throw new Error(r3);
    }
    await this.client.core.relayer.confirmOnlineStateOrThrow();
  }
  registerRelayerEvents() {
    this.client.core.relayer.on(D3.message, async (r3) => {
      const { topic: e2, message: s2 } = r3;
      if (this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(s2)))
        return;
      const t2 = await this.client.core.crypto.decode(e2, s2);
      try {
        isJsonRpcRequest(t2) ? (this.client.core.history.set(e2, t2), this.onRelayEventRequest({ topic: e2, payload: t2 })) : isJsonRpcResponse(t2) ? (await this.client.core.history.resolve(t2), await this.onRelayEventResponse({ topic: e2, payload: t2 }), this.client.core.history.delete(e2, t2.id)) : this.onRelayEventUnknownPayload({ topic: e2, payload: t2 });
      } catch (i3) {
        this.client.logger.error(i3);
      }
    });
  }
  registerExpirerEvents() {
    this.client.core.expirer.on(w2.expired, async (r3) => {
      const { topic: e2, id: s2 } = ut(r3.target);
      if (s2 && this.client.pendingRequest.keys.includes(s2))
        return await this.deletePendingSessionRequest(s2, N10("EXPIRED"), true);
      e2 ? this.client.session.keys.includes(e2) && (await this.deleteSession(e2, true), this.client.events.emit("session_expire", { topic: e2 })) : s2 && (await this.deleteProposal(s2, true), this.client.events.emit("proposal_expire", { id: s2 }));
    });
  }
  isValidPairingTopic(r3) {
    if (!h4(r3, false)) {
      const { message: e2 } = N10("MISSING_OR_INVALID", `pairing topic should be a string: ${r3}`);
      throw new Error(e2);
    }
    if (!this.client.core.pairing.pairings.keys.includes(r3)) {
      const { message: e2 } = N10("NO_MATCHING_KEY", `pairing topic doesn't exist: ${r3}`);
      throw new Error(e2);
    }
    if (dt(this.client.core.pairing.pairings.get(r3).expiry)) {
      const { message: e2 } = N10("EXPIRED", `pairing topic: ${r3}`);
      throw new Error(e2);
    }
  }
  async isValidSessionTopic(r3) {
    if (!h4(r3, false)) {
      const { message: e2 } = N10("MISSING_OR_INVALID", `session topic should be a string: ${r3}`);
      throw new Error(e2);
    }
    if (!this.client.session.keys.includes(r3)) {
      const { message: e2 } = N10("NO_MATCHING_KEY", `session topic doesn't exist: ${r3}`);
      throw new Error(e2);
    }
    if (dt(this.client.session.get(r3).expiry)) {
      await this.deleteSession(r3);
      const { message: e2 } = N10("EXPIRED", `session topic: ${r3}`);
      throw new Error(e2);
    }
  }
  async isValidSessionOrPairingTopic(r3) {
    if (this.client.session.keys.includes(r3))
      await this.isValidSessionTopic(r3);
    else if (this.client.core.pairing.pairings.keys.includes(r3))
      this.isValidPairingTopic(r3);
    else if (h4(r3, false)) {
      const { message: e2 } = N10("NO_MATCHING_KEY", `session or pairing topic doesn't exist: ${r3}`);
      throw new Error(e2);
    } else {
      const { message: e2 } = N10("MISSING_OR_INVALID", `session or pairing topic should be a string: ${r3}`);
      throw new Error(e2);
    }
  }
  async isValidProposalId(r3) {
    if (!Lt(r3)) {
      const { message: e2 } = N10("MISSING_OR_INVALID", `proposal id should be a number: ${r3}`);
      throw new Error(e2);
    }
    if (!this.client.proposal.keys.includes(r3)) {
      const { message: e2 } = N10("NO_MATCHING_KEY", `proposal id doesn't exist: ${r3}`);
      throw new Error(e2);
    }
    if (dt(this.client.proposal.get(r3).expiry)) {
      await this.deleteProposal(r3);
      const { message: e2 } = N10("EXPIRED", `proposal id: ${r3}`);
      throw new Error(e2);
    }
  }
};
var ps2 = class extends Ut {
  constructor(r3, e2) {
    super(r3, e2, ne2, G2), this.core = r3, this.logger = e2;
  }
};
var hs2 = class extends Ut {
  constructor(r3, e2) {
    super(r3, e2, ae3, G2), this.core = r3, this.logger = e2;
  }
};
var ds2 = class extends Ut {
  constructor(r3, e2) {
    super(r3, e2, le3, G2, (s2) => s2.id), this.core = r3, this.logger = e2;
  }
};
var Q3 = class extends b {
  constructor(r3) {
    super(r3), this.protocol = J3, this.version = X3, this.name = M2.name, this.events = new EventEmitter(), this.on = (s2, t2) => this.events.on(s2, t2), this.once = (s2, t2) => this.events.once(s2, t2), this.off = (s2, t2) => this.events.off(s2, t2), this.removeListener = (s2, t2) => this.events.removeListener(s2, t2), this.removeAllListeners = (s2) => this.events.removeAllListeners(s2), this.connect = async (s2) => {
      try {
        return await this.engine.connect(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.pair = async (s2) => {
      try {
        return await this.engine.pair(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.approve = async (s2) => {
      try {
        return await this.engine.approve(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.reject = async (s2) => {
      try {
        return await this.engine.reject(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.update = async (s2) => {
      try {
        return await this.engine.update(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.extend = async (s2) => {
      try {
        return await this.engine.extend(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.request = async (s2) => {
      try {
        return await this.engine.request(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.respond = async (s2) => {
      try {
        return await this.engine.respond(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.ping = async (s2) => {
      try {
        return await this.engine.ping(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.emit = async (s2) => {
      try {
        return await this.engine.emit(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.disconnect = async (s2) => {
      try {
        return await this.engine.disconnect(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.find = (s2) => {
      try {
        return this.engine.find(s2);
      } catch (t2) {
        throw this.logger.error(t2.message), t2;
      }
    }, this.getPendingSessionRequests = () => {
      try {
        return this.engine.getPendingSessionRequests();
      } catch (s2) {
        throw this.logger.error(s2.message), s2;
      }
    }, this.name = r3?.name || M2.name, this.metadata = r3?.metadata || zn();
    const e2 = typeof r3?.logger < "u" && typeof r3?.logger != "string" ? r3.logger : (0, import_logger2.pino)((0, import_logger2.getDefaultLoggerOptions)({ level: r3?.logger || M2.logger }));
    this.core = r3?.core || new xr(r3), this.logger = (0, import_logger2.generateChildLogger)(e2, this.name), this.session = new hs2(this.core, this.logger), this.proposal = new ps2(this.core, this.logger), this.pendingRequest = new ds2(this.core, this.logger), this.engine = new ls2(this);
  }
  static async init(r3) {
    const e2 = new Q3(r3);
    return await e2.initialize(), e2;
  }
  get context() {
    return (0, import_logger2.getLoggerContext)(this.logger);
  }
  get pairing() {
    return this.core.pairing.pairings;
  }
  async initialize() {
    this.logger.trace("Initialized");
    try {
      await this.core.start(), await this.session.init(), await this.proposal.init(), await this.pendingRequest.init(), await this.engine.init(), this.core.verify.init({ verifyUrl: this.metadata.verifyUrl }), this.logger.info("SignClient Initialization Success");
    } catch (r3) {
      throw this.logger.info("SignClient Initialization Failure"), this.logger.error(r3.message), r3;
    }
  }
};

// node_modules/.pnpm/@walletconnect+modal-sign-html@2.6.2_@types+react@18.2.48_react@18.2.0/node_modules/@walletconnect/modal-sign-html/dist/index.js
var P2 = Object.defineProperty;
var x4 = Object.defineProperties;
var N11 = Object.getOwnPropertyDescriptors;
var j3 = Object.getOwnPropertySymbols;
var U4 = Object.prototype.hasOwnProperty;
var T = Object.prototype.propertyIsEnumerable;
var W3 = (e2, t2, s2) => t2 in e2 ? P2(e2, t2, { enumerable: true, configurable: true, writable: true, value: s2 }) : e2[t2] = s2;
var q3 = (e2, t2) => {
  for (var s2 in t2 || (t2 = {}))
    U4.call(t2, s2) && W3(e2, s2, t2[s2]);
  if (j3)
    for (var s2 of j3(t2))
      T.call(t2, s2) && W3(e2, s2, t2[s2]);
  return e2;
};
var A2 = (e2, t2) => x4(e2, N11(t2));
var S2 = (e2, t2, s2) => {
  if (!t2.has(e2))
    throw TypeError("Cannot " + s2);
};
var a3 = (e2, t2, s2) => (S2(e2, t2, "read from private field"), s2 ? s2.call(e2) : t2.get(e2));
var l3 = (e2, t2, s2) => {
  if (t2.has(e2))
    throw TypeError("Cannot add the same private member more than once");
  t2 instanceof WeakSet ? t2.add(e2) : t2.set(e2, s2);
};
var y6 = (e2, t2, s2, d3) => (S2(e2, t2, "write to private field"), d3 ? d3.call(e2, s2) : t2.set(e2, s2), s2);
var o2 = (e2, t2, s2) => (S2(e2, t2, "access private method"), s2);
var h5;
var p5;
var w3;
var i2;
var u3;
var _3;
var n3;
var r2;
var m2;
var g4;
var z2 = class {
  constructor(t2) {
    l3(this, u3), l3(this, n3), l3(this, m2), l3(this, h5, void 0), l3(this, p5, void 0), l3(this, w3, void 0), l3(this, i2, void 0), y6(this, h5, t2), y6(this, p5, o2(this, u3, _3).call(this)), o2(this, n3, r2).call(this);
  }
  async connect(t2) {
    const { requiredNamespaces: s2, optionalNamespaces: d3 } = t2;
    return new Promise(async (C3, b3) => {
      await o2(this, n3, r2).call(this);
      const E5 = a3(this, p5).subscribeModal((c3) => {
        c3.open || (E5(), b3(new Error("Modal closed")));
      }), { uri: O4, approval: I } = await a3(this, i2).connect(t2);
      if (O4) {
        const c3 = /* @__PURE__ */ new Set();
        s2 && Object.values(s2).forEach(({ chains: f3 }) => {
          f3 && f3.forEach((v2) => c3.add(v2));
        }), d3 && Object.values(d3).forEach(({ chains: f3 }) => {
          f3 && f3.forEach((v2) => c3.add(v2));
        }), await a3(this, p5).openModal({ uri: O4, chains: Array.from(c3) });
      }
      try {
        const c3 = await I();
        C3(c3);
      } catch (c3) {
        b3(c3);
      } finally {
        E5(), a3(this, p5).closeModal();
      }
    });
  }
  async disconnect(t2) {
    await o2(this, n3, r2).call(this), await a3(this, i2).disconnect(t2);
  }
  async request(t2) {
    return await o2(this, n3, r2).call(this), await a3(this, i2).request(t2);
  }
  async getSessions() {
    return await o2(this, n3, r2).call(this), a3(this, i2).session.getAll();
  }
  async getSession() {
    return await o2(this, n3, r2).call(this), a3(this, i2).session.getAll().at(-1);
  }
  async onSessionEvent(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).on("session_event", t2);
  }
  async offSessionEvent(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).off("session_event", t2);
  }
  async onSessionUpdate(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).on("session_update", t2);
  }
  async offSessionUpdate(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).off("session_update", t2);
  }
  async onSessionDelete(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).on("session_delete", t2);
  }
  async offSessionDelete(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).off("session_delete", t2);
  }
  async onSessionExpire(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).on("session_expire", t2);
  }
  async offSessionExpire(t2) {
    await o2(this, n3, r2).call(this), a3(this, i2).off("session_expire", t2);
  }
};
h5 = /* @__PURE__ */ new WeakMap(), p5 = /* @__PURE__ */ new WeakMap(), w3 = /* @__PURE__ */ new WeakMap(), i2 = /* @__PURE__ */ new WeakMap(), u3 = /* @__PURE__ */ new WeakSet(), _3 = function() {
  const { modalOptions: e2, projectId: t2 } = a3(this, h5);
  return new d(A2(q3({}, e2), { projectId: t2 }));
}, n3 = /* @__PURE__ */ new WeakSet(), r2 = async function() {
  return a3(this, i2) ? true : (!a3(this, w3) && typeof window < "u" && y6(this, w3, o2(this, m2, g4).call(this)), a3(this, w3));
}, m2 = /* @__PURE__ */ new WeakSet(), g4 = async function() {
  y6(this, i2, await Q3.init({ metadata: a3(this, h5).metadata, projectId: a3(this, h5).projectId, relayUrl: a3(this, h5).relayUrl }));
  const e2 = await a3(this, i2).core.crypto.getClientId();
  try {
    localStorage.setItem("WCM_WALLETCONNECT_CLIENT_ID", e2);
  } catch {
    console.info("Unable to set client id");
  }
};

// app/providers/wallet/index.tsx
var import_jsx_dev_runtime = __toESM(require_jsx_dev_runtime(), 1);
if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {
  console.warn("remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.");
} else {
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = (type, id) => {
    window.$RefreshRuntime$.register(type, '"app/providers/wallet/index.tsx"' + id);
  };
  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;
}
var prevRefreshReg;
var prevRefreshSig;
var _s2 = $RefreshSig$();
if (import.meta) {
  import.meta.hot = createHotContext(
    //@ts-expect-error
    "app/providers/wallet/index.tsx"
  );
  import.meta.hot.lastModified = "1705943922577.6465";
}
var Provider = ({
  children
}) => {
  _s2();
  const env3 = getEnv();
  const algoConfig = getAlgodConfigFromEnvironment();
  const providers = useInitializeProviders({
    providers: env3?.ALGORAND_ALGOD_NETWORK === "" ? [{
      id: PROVIDER_ID.KMD
    }] : [{
      id: PROVIDER_ID.DEFLY,
      clientStatic: import_defly_connect.DeflyWalletConnect
    }, {
      id: PROVIDER_ID.PERA,
      clientStatic: import_connect.PeraWalletConnect
    }, {
      id: PROVIDER_ID.DAFFI,
      clientStatic: import_connect2.DaffiWalletConnect
    }, {
      id: PROVIDER_ID.WALLETCONNECT,
      clientStatic: z2,
      clientOptions: {
        projectId: env3?.WALLET_CONNECT_PROJECT_ID ?? "",
        metadata: {
          name: env3?.WALLET_CONNECT_PROJECT_NAME ?? "",
          description: env3?.WALLET_CONNECT_PROJECT_DESCRIPTION ?? "",
          url: env3?.WALLET_CONNECT_PROJECT_URL ?? "",
          icons: [env3?.WALLET_CONNECT_PROJECT_ICON_URL ?? ""]
        },
        modalOptions: env3?.WALLET_CONNECT_PROJECT_THEME ?? "light"
      }
    }, {
      id: PROVIDER_ID.EXODUS
    }],
    nodeConfig: algoConfig,
    algosdkStatic: esm_default
  });
  return /* @__PURE__ */ (0, import_jsx_dev_runtime.jsxDEV)(WalletProvider, { value: providers, children }, void 0, false, {
    fileName: "app/providers/wallet/index.tsx",
    lineNumber: 67,
    columnNumber: 10
  }, this);
};
_s2(Provider, "8wXGl67RlRxgCBFVEBfQc83MG5I=", false, function() {
  return [useInitializeProviders];
});
_c = Provider;
var wallet_default = Provider;
var _c;
$RefreshReg$(_c, "Provider");
window.$RefreshReg$ = prevRefreshReg;
window.$RefreshSig$ = prevRefreshSig;

// app/root.tsx
var import_jsx_dev_runtime2 = __toESM(require_jsx_dev_runtime(), 1);
if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {
  console.warn("remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.");
} else {
  prevRefreshReg = window.$RefreshReg$;
  prevRefreshSig = window.$RefreshSig$;
  window.$RefreshReg$ = (type, id) => {
    window.$RefreshRuntime$.register(type, '"app/root.tsx"' + id);
  };
  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;
}
var prevRefreshReg;
var prevRefreshSig;
var _s3 = $RefreshSig$();
if (import.meta) {
  import.meta.hot = createHotContext(
    //@ts-expect-error
    "app/root.tsx"
  );
}
var links = () => [{
  rel: "stylesheet",
  href: tailwind_default
}, ...cssBundleHref ? [{
  rel: "stylesheet",
  href: cssBundleHref
}] : []];
function App() {
  _s3();
  const data2 = useLoaderData();
  return /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("html", { lang: "en", children: [
    /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("head", { children: [
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("meta", { charSet: "utf-8" }, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 60,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("meta", { name: "viewport", content: "width=device-width, initial-scale=1" }, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 61,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(Meta, {}, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 62,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(Links, {}, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 63,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "app/root.tsx",
      lineNumber: 59,
      columnNumber: 7
    }, this),
    /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("body", { className: "font-inter", children: [
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(Recoil_index_5, { children: /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(wallet_default, { children: [
        /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)("script", { dangerouslySetInnerHTML: {
          __html: `window.ENV= ${JSON.stringify(data2.ENV)}`
        } }, void 0, false, {
          fileName: "app/root.tsx",
          lineNumber: 68,
          columnNumber: 13
        }, this),
        /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(Outlet, {}, void 0, false, {
          fileName: "app/root.tsx",
          lineNumber: 72,
          columnNumber: 13
        }, this)
      ] }, void 0, true, {
        fileName: "app/root.tsx",
        lineNumber: 67,
        columnNumber: 11
      }, this) }, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 66,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(ScrollRestoration, {}, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 75,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(Scripts, {}, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 76,
        columnNumber: 9
      }, this),
      /* @__PURE__ */ (0, import_jsx_dev_runtime2.jsxDEV)(LiveReload, {}, void 0, false, {
        fileName: "app/root.tsx",
        lineNumber: 77,
        columnNumber: 9
      }, this)
    ] }, void 0, true, {
      fileName: "app/root.tsx",
      lineNumber: 65,
      columnNumber: 7
    }, this)
  ] }, void 0, true, {
    fileName: "app/root.tsx",
    lineNumber: 58,
    columnNumber: 10
  }, this);
}
_s3(App, "5thj+e1edPyRpKif1JmVRC6KArE=", false, function() {
  return [useLoaderData];
});
_c2 = App;
var _c2;
$RefreshReg$(_c2, "App");
window.$RefreshReg$ = prevRefreshReg;
window.$RefreshSig$ = prevRefreshSig;
export {
  App as default,
  links
};
/*! Bundled license information:

js-sha3/src/sha3.js:
  (**
   * [js-sha3]{@link https://github.com/emn178/js-sha3}
   *
   * @version 0.8.0
   * @author Chen, Yi-Cyuan [emn178@gmail.com]
   * @copyright Chen, Yi-Cyuan 2015-2018
   * @license MIT
   *)

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

lottie-web/build/player/lottie.js:
  (*!
   Transformation Matrix v2.0
   (c) Epistemex 2014-2015
   www.epistemex.com
   By Ken Fyrstenberg
   Contributions by leeoniya.
   License: MIT, header required.
   *)

@evanhahn/lottie-web-light/index.js:
  (*!
   Transformation Matrix v2.0
   (c) Epistemex 2014-2015
   www.epistemex.com
   By Ken Fyrstenberg
   Contributions by leeoniya.
   License: MIT, header required.
   *)
*/
//# sourceMappingURL=/build/root-TPRZLJGG.js.map
